/* ====================================================================
   |
   |   Amber Smalltalk
   |   http://amber-lang.net
   |
   ======================================================================

   ======================================================================
   |
   | Copyright (c) 2010-2013
   | Nicolas Petton <petton.nicolas@gmail.com>
   |
   | Copyright (c) 2012-2013
   | The Amber team https://github.com/amber-smalltalk?tab=members
   | Amber contributors https://github.com/amber-smalltalk/amber/graphs/contributors
   |
   | Amber is released under the MIT license
   |
   | Permission is hereby granted, free of charge, to any person obtaining
   | a copy of this software and associated documentation files (the
   | 'Software'), to deal in the Software without restriction, including
   | without limitation the rights to use, copy, modify, merge, publish,
   | distribute, sublicense, and/or sell copies of the Software, and to
   | permit persons to whom the Software is furnished to do so, subject to
   | the following conditions:
   |
   | The above copyright notice and this permission notice shall be
   | included in all copies or substantial portions of the Software.
   |
   | THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
   | EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   | MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   | IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
   | CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
   | TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
   | SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   |
   ==================================================================== */

/*! jQuery v1.8.3 jquery.com | jquery.org/license */

"undefined"==typeof console&&(this.console={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}}),define("amber_vm/ensure-console",function(){}),function(e){"function"==typeof define?define("amber_lib/es5-shim/es5-shim.min",e):"function"==typeof YUI?YUI.add("es5",e):e()}(function(){function e(){}function t(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function n(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}function r(e){var t,r,a;if(n(e))return e;if(r=e.valueOf,"function"==typeof r&&(t=r.call(e),n(t)))return t;if(a=e.toString,"function"==typeof a&&(t=a.call(e),n(t)))return t;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=f.call(arguments,1),a=function(){if(this instanceof a){var e=n.apply(this,r.concat(f.call(arguments)));return Object(e)===e?e:this}return n.apply(t,r.concat(f.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,a.prototype=new e,e.prototype=null),a});var a,s,o,i,l,c=Function.prototype.call,u=Array.prototype,d=Object.prototype,f=u.slice,h=c.bind(d.toString),g=c.bind(d.hasOwnProperty);if((l=g(d,"__defineGetter__"))&&(a=c.bind(d.__defineGetter__),s=c.bind(d.__defineSetter__),o=c.bind(d.__lookupGetter__),i=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length){var m=Array.prototype.splice;Array.prototype.splice=function(){function e(e){for(var t=[];e--;)t.unshift(e);return t}var t,n=[];return n.splice.bind(n,0,0).apply(null,e(20)),n.splice.bind(n,0,0).apply(null,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length?!0:void 0}()?function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}:function(e,t){var n,r=f.call(arguments,2),a=r.length;if(!arguments.length)return[];if(void 0===e&&(e=0),void 0===t&&(t=this.length-e),a>0){if(0>=t){if(e==this.length)return this.push.apply(this,r),[];if(0==e)return this.unshift.apply(this,r),[]}return n=f.call(this,e,e+t),r.push.apply(r,f.call(this,e+t,this.length)),r.unshift.apply(r,f.call(this,0,e)),r.unshift(0,this.length),m.apply(this,r),n}return m.call(this,e,t)}}if(1!=[].unshift(0)){var p=Array.prototype.unshift;Array.prototype.unshift=function(){return p.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var C=Object("a"),v="a"!=C[0]||!(0 in C);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=arguments[1],a=-1,s=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;++a<s;)a in n&&e.call(r,n[a],a,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,a=Array(r),s=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)o in n&&(a[o]=e.call(s,n[o],o,t));return a}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=T(this),r=v&&"[object String]"==h(this)?this.split(""):n,a=r.length>>>0,s=[],o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var i=0;a>i;i++)i in r&&(t=r[i],e.call(o,t,i,n)&&s.push(t));return s}),Array.prototype.every||(Array.prototype.every=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,a=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;r>s;s++)if(s in n&&!e.call(a,n[s],s,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0,a=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var s=0;r>s;s++)if(s in n&&e.call(a,n[s],s,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,s=0;if(arguments.length>=2)a=arguments[1];else for(;;){if(s in n){a=n[s++];break}if(++s>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>s;s++)s in n&&(a=e.call(void 0,a,n[s],s,t));return a}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=T(this),n=v&&"[object String]"==h(this)?this.split(""):t,r=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a,s=r-1;if(arguments.length>=2)a=arguments[1];else for(;;){if(s in n){a=n[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return a;do s in this&&(a=e.call(void 0,a,n[s],s,t));while(s--);return a}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var n=v&&"[object String]"==h(this)?this.split(""):T(this),r=n.length>>>0;if(!r)return-1;var a=0;for(arguments.length>1&&(a=t(arguments[1])),a=a>=0?a:Math.max(0,r+a);r>a;a++)if(a in n&&n[a]===e)return a;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var n=v&&"[object String]"==h(this)?this.split(""):T(this),r=n.length>>>0;if(!r)return-1;var a=r-1;for(arguments.length>1&&(a=Math.min(a,t(arguments[1]))),a=a>=0?a:r-Math.abs(a);a>=0;a--)if(a in n&&e===n[a])return a;return-1}),!Object.keys){var y=!0,_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=_.length;for(var b in{toString:null})y=!1;Object.keys=function P(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var P=[];for(var t in e)g(e,t)&&P.push(t);if(y)for(var n=0,r=S;r>n;n++){var a=_[n];g(e,a)&&P.push(a)}return P}}var x=-621987552e5,k="-000001";Date.prototype.toISOString&&-1!==new Date(x).toISOString().indexOf(k)||(Date.prototype.toISOString=function(){var e,t,n,r,a;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),a=this.getUTCMonth(),r+=Math.floor(a/12),a=(a%12+12)%12,e=[a+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var w=!1;try{w=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(x).toJSON().indexOf(k)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(M){}w||(Date.prototype.toJSON=function(){var e,t=Object(this),n=r(t);if("number"==typeof n&&!isFinite(n))return null;if(e=t.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(t)}),Date=function(e){function t(n,r,a,s,o,i,l){var c=arguments.length;if(this instanceof e){var u=1==c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,a,s,o,i,l):c>=6?new e(n,r,a,s,o,i):c>=5?new e(n,r,a,s,o):c>=4?new e(n,r,a,s):c>=3?new e(n,r,a):c>=2?new e(n,r):c>=1?new e(n):new e;return u.constructor=t,u}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return a[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}var r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),a=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var s in e)t[s]=e[s];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var a=r.exec(t);if(a){var s,o=Number(a[1]),i=Number(a[2]||1)-1,l=Number(a[3]||1)-1,c=Number(a[4]||0),u=Number(a[5]||0),d=Number(a[6]||0),f=Math.floor(1e3*Number(a[7]||0)),h=!a[4]||a[8]?0:Number(new e(1970,0)),g="-"===a[9]?1:-1,m=Number(a[10]||0),p=Number(a[11]||0);return(u>0||d>0||f>0?24:25)>c&&60>u&&60>d&&1e3>f&&i>-1&&12>i&&24>m&&60>p&&l>-1&&l<n(o,i+1)-n(o,i)&&(s=60*(24*(n(o,i)+l)+c+m*g),s=1e3*(60*(s+u+p*g)+d)+f+h,s>=-864e13&&864e13>=s)?s:0/0}return e.parse.apply(this,arguments)},t}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function e(e,t){for(var n=-1;++n<o;)t+=e*i[n],i[n]=t%s,t=Math.floor(t/s)}function t(e){for(var t=o,n=0;--t>=0;)n+=i[t],i[t]=Math.floor(n/e),n=n%e*s}function n(){for(var e=o,t="";--e>=0;)if(""!==t||0===e||0!==i[e]){var n=String(i[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t}function r(e,t,n){return 0===t?n:1===t%2?r(e,t-1,n*e):r(e*e,t/2,n)}function a(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}var s,o,i;s=1e7,o=6,i=[0,0,0,0,0,0],Number.prototype.toFixed=function(s){var o,i,l,c,u,d,f,h;if(o=Number(s),o=o!==o?0:Math.floor(o),0>o||o>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(i=Number(this),i!==i)return"NaN";if(-1e21>=i||i>=1e21)return String(i);if(l="",0>i&&(l="-",i=-i),c="0",i>1e-21)if(u=a(i*r(2,69,1))-69,d=0>u?i*r(2,-u,1):i/r(2,u,1),d*=4503599627370496,u=52-u,u>0){for(e(0,d),f=o;f>=7;)e(1e7,0),f-=7;for(e(r(10,f,1),0),f=u-1;f>=23;)t(1<<23),f-=23;t(1<<f),e(1,1),t(2),c=n()}else e(0,d),e(1<<-u,0),c=n()+"0.00000000000000000000".slice(2,2+o);return o>0?(h=c.length,c=o>=h?l+"0.0000000000000000000".slice(0,o-h+2)+c:l+c.slice(0,h-o)+"."+c.slice(h-o)):c=l+c,c}}();var A=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];String.prototype.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==Object.prototype.toString.call(t))return A.apply(this,arguments);var a,s,o,i,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),u=0,t=new RegExp(t.source,c+"g");for(r+="",e||(a=new RegExp("^"+t.source+"$(?!\\s)",c)),n=void 0===n?-1>>>0:n>>>0;(s=t.exec(r))&&(o=s.index+s[0].length,!(o>u&&(l.push(r.slice(u,s.index)),!e&&s.length>1&&s[0].replace(a,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)}),s.length>1&&s.index<r.length&&Array.prototype.push.apply(l,s.slice(1)),i=s[0].length,u=o,l.length>=n)));)t.lastIndex===s.index&&t.lastIndex++;return u===r.length?(i||!t.test(""))&&l.push(""):l.push(r.slice(u)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(String.prototype.split=function(e,t){return void 0===e&&0===t?[]:A.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var B=String.prototype.substr;String.prototype.substr=function(e,t){return B.call(this,0>e?(e=this.length+e)<0?0:e:e,t)}}var O="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||O.trim()){O="["+O+"]";var N=new RegExp("^"+O+O+"*"),j=new RegExp(O+O+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(N,"").replace(j,"")}}var T=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),function(e){"function"==typeof define?define("amber_lib/es5-shim/es5-sham.min",e):"function"==typeof YUI?YUI.add("es5-sham",e):e()}(function(){function e(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){}}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}var n,r,a,s,o,i=Function.prototype.call,l=Object.prototype,c=i.bind(l.hasOwnProperty);if((o=c(l,"__defineGetter__"))&&(n=i.bind(l.__defineGetter__),r=i.bind(l.__defineSetter__),a=i.bind(l.__lookupGetter__),s=i.bind(l.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:l)}),Object.defineProperty){var u=e({}),d="undefined"==typeof document||e(document.createElement("div"));if(!d||!u)var f=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||f){var h="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(h+e);if(f)try{return f.call(Object,e,t)}catch(n){}if(c(e,t)){var r={enumerable:!0,configurable:!0};if(o){var i=e.__proto__;e.__proto__=l;var u=a(e,t),d=s(e,t);if(e.__proto__=i,u||d)return u&&(r.get=u),d&&(r.set=d),r}return r.value=e[t],r.writable=!0,r}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var g,m=null===Object.prototype.__proto__;g=m||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function e(){}var t=document.createElement("iframe"),n=document.body||document.documentElement;t.style.display="none",n.appendChild(t),t.src="javascript:";var r=t.contentWindow.Object.prototype;return n.removeChild(t),t=null,delete r.constructor,delete r.hasOwnProperty,delete r.propertyIsEnumerable,delete r.isPrototypeOf,delete r.toLocaleString,delete r.toString,delete r.valueOf,r.__proto__=null,e.prototype=r,g=function(){return new e},new e},Object.create=function(e,t){function n(){}var r;if(null===e)r=g();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");n.prototype=e,r=new n,r.__proto__=e}return void 0!==t&&Object.defineProperties(r,t),r}}if(Object.defineProperty){var p=t({}),C="undefined"==typeof document||t(document.createElement("div"));if(!p||!C)var v=Object.defineProperty,y=Object.defineProperties}if(!Object.defineProperty||v){var _="Property description must be an object: ",S="Object.defineProperty called on non-object: ",b="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(S+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(_+i);if(v)try{return v.call(Object,e,t,i)}catch(u){}if(c(i,"value"))if(o&&(a(e,t)||s(e,t))){var d=e.__proto__;e.__proto__=l,delete e[t],e[t]=i.value,e.__proto__=d}else e[t]=i.value;else{if(!o)throw new TypeError(b);c(i,"get")&&n(e,t,i.get),c(i,"set")&&r(e,t,i.set)}return e}}(!Object.defineProperties||y)&&(Object.defineProperties=function(e,t){if(y)try{return y.call(Object,e,t)}catch(n){}for(var r in t)c(t,r)&&"__proto__"!=r&&Object.defineProperty(e,r,t[r]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(x){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)!==e)throw new TypeError;for(var t="";c(e,t);)t+="?";e[t]=!0;var n=c(e,t);return delete e[t],n})}),define("amber_vm/browser-compatibility",["./ensure-console","amber_lib/es5-shim/es5-shim.min","amber_lib/es5-shim/es5-sham.min"],{}),define("amber_vm/boot",["./browser-compatibility"],function(){function e(e,t,n){function r(e,t,n){for(var r=Object.keys(n||e),a=r.length,s=0;a>s;++s){var o=e[r[s]];"undefined"!=typeof o&&(t[r[s]]=o)}return t}var a=this,s={};t=t||"exports",n=n||"__init__";var o={value:null,enumerable:!1,configurable:!0,writable:!0};Object.defineProperties(this,{ensure:o,rebuild:o}),this.rebuild=function(){Object.keys(s).forEach(function(n){r({},e,(s[n]||0)[t])});var o=r(e,{}),i=[],l={};a.ensure=function(n){var o=a[n],c=s[n];for(r({},e,e);"function"==typeof o;)o=new o(a,e,c);return o&&!l[n]&&(l[n]=!0,i.push(o)),o&&!o[t]&&(o[t]=r(e,{})),a[n]=o},Object.keys(a).forEach(function(e){a.ensure(e)}),a.ensure=null,r(o,r({},e,e)),i.forEach(function(n){r(n[t]||{},e)}),i.forEach(function(e){e[n]&&e[n]()}),s=r(a,{})}}function t(e,t){return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,configurable:!0,writable:!0}}),e}function n(){}function r(){}function a(e,a){function s(){}t(s,n),this.nil=new s,this.__init__=function(){a.addPackage("Kernel-Objects"),a.addPackage("Kernel-Infrastructure"),a.wrapClassName("Object","Kernel-Objects",n,void 0,!1),a.wrapClassName("Smalltalk","Kernel-Infrastructure",r,a.Object,!1),a.wrapClassName("UndefinedObject","Kernel-Objects",s,a.Object,!1)}}function s(e,r){function a(){}function s(){this.elements=[]}function o(){this.elements=[]}e.ensure("augments"),e.ensure("root"),t(a,n),t(s,a),t(o,a),this.__init__=function(){r.wrapClassName("Organizer","Kernel-Infrastructure",a,r.Object,!1),r.wrapClassName("PackageOrganizer","Kernel-Infrastructure",s,r.Organizer,!1),r.wrapClassName("ClassOrganizer","Kernel-Infrastructure",o,r.Organizer,!1)},this.setupClassOrganization=function(e){e.organization=new o,e.organization.theClass=e},this.setupPackageOrganization=function(e){e.organization=new s},this.addOrganizationElement=function(e,t){e.organization.elements.addElement(t)},this.removeOrganizationElement=function(e,t){e.organization.elements.removeElement(t)}}function o(e,t){function n(t){return function(){var n=Array.prototype.slice.call(arguments);return e.messageSend.messageNotUnderstood(this,t,n)}}e.ensure("selectorConversion"),e.ensure("messageSend");var r=e.ensure("manipulation"),a=[],s=Object.create(null);this.selectors=[],this.get=function(e){var r=this.selectors.indexOf(e);if(-1!==r)return a[r];this.selectors.push(e);var o=t.selector(e);s[o]=!0;var i={jsSelector:o,fn:n(o)};return a.push(i),i},this.isSelector=function(e){return s[e]},this.installHandlers=function(e){for(var t=0;t<a.length;t++)r.installMethodIfAbsent(a[t],e)}}function i(e,t){function n(e,t){function n(t){var n=t.selector;e.methods[n]||a[n]||(s.installMethod(t,e),a[t.selector]=!0)}var a=Object.create(null);for(r(e),t=t||e.superclass;t&&t!==o;t=t.superclass)for(var i=Object.keys(t.methods),l=0;l<i.length;l++)n(t.methods[i[l]]);s.reinstallMethods(e)}function r(e){for(var t=e.fn.prototype,n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var s=n[r];a.isSelector(s)&&(t[s]=null)}}var a=e.ensure("dnu"),s=e.ensure("manipulation"),o=e.ensure("root").nil;t.init=function(e){t.initClass(e),e.klass&&!e.meta&&t.initClass(e.klass)},t.initClass=function(e){e.wrapped&&n(e),(e===t.Object||e.wrapped)&&a.installHandlers(e)}}function l(){function e(e,t){Object.defineProperty(t.fn.prototype,e.jsSelector,{value:e.fn,enumerable:!1,configurable:!0,writable:!0})}this.installMethodIfAbsent=function(t,n){n.fn.prototype[t.jsSelector]||e(t,n)},this.installMethod=e,this.reinstallMethods=function(t){for(var n=t.methods,r=Object.keys(n),a=0;a<r.length;a++)e(n[r[a]],t)}}function c(e,r){function a(){}function s(){}function o(){}function i(){}function l(e){var t=new a;return t.pkgName=e.pkgName,m.setupPackageOrganization(t),t.properties=e.properties||{},t}function c(e){e=e||{};var n=u(e),r=n.instanceClass;return r.fn=e.fn||t(function(){},e.superclass.fn),r.subclasses=[],d(r,e),r.className=e.className,r.wrapped=e.wrapped||!1,n.className=e.className+" class",e.superclass&&(r.superclass=e.superclass,n.superclass=e.superclass.klass),r}function u(e){e=e||{};var n=new i;return n.fn=t(function(){},e.superclass?e.superclass.klass.fn:o),n.instanceClass=new n.fn,d(n),n}function d(e,t){t=t||{},e.iVarNames=t.iVarNames||[],e.pkg=t.pkg,m.setupClassOrganization(e),Object.defineProperty(e,"methods",{value:Object.create(null),enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(e.fn.prototype,"klass",{value:e,enumerable:!1,configurable:!0,writable:!0})}function f(e,t,n,a,s,o){var i=r.packages[e];if(!i)throw new Error("Missing package "+e);r[t]&&r[t].superclass==n?(r[t].iVarNames=a||[],i&&(r[t].pkg=i),o&&(o.prototype=r[t].fn.prototype,r[t].fn=o,o.prototype.constructor=o)):(r[t]&&r.removeClass(r[t]),r[t]=c({className:t,superclass:n,pkg:i,iVarNames:a,fn:o,wrapped:s}),h(r[t])),C.addElement(r[t]),m.addOrganizationElement(i,r[t])}function h(e){e.superclass&&e.superclass.subclasses.addElement(e)}function g(e){e.superclass&&e.superclass.subclasses.removeElement(e)}var m=e.ensure("organize"),p=e.ensure("root").nil;t(a,n),t(s,n),t(o,s),t(i,s),i.prototype.meta=!0,this.__init__=function(){r.addPackage("Kernel-Classes"),r.wrapClassName("Behavior","Kernel-Classes",s,r.Object,!1),r.wrapClassName("Metaclass","Kernel-Classes",i,r.Behavior,!1),r.wrapClassName("Class","Kernel-Classes",o,r.Behavior,!1),r.Object.klass.superclass=r.Class,h(r.Object.klass),r.wrapClassName("Package","Kernel-Infrastructure",a,r.Object,!1)};var C=[],v=[];r.packages={},s.prototype.toString=function(){return"Smalltalk "+this.className},r.addPackage=function(e,t){return e?(r.packages[e]?t&&(r.packages[e].properties=t):r.packages[e]=l({pkgName:e,properties:t}),r.packages[e]):p},a.prototype.withDefaultTransport=function(){var e=r.getDefaultTransportType();if(this.transport)throw new Error("Cannot set default transport; transport already set");return e&&(this.transport={type:e}),this},r.addClass=function(e,t,n,r){t==p&&(t=null),f(r,e,t,n,!1,null)},r.removeClass=function(e){m.removeOrganizationElement(e.pkg,e),C.removeElement(e),g(e),delete r[e.className]},r.wrapClassName=function(e,t,n,a,s){s=s!==!1,f(t,e,a,r[e]&&r[e].iVarNames,s,n),s&&v.addElement(r[e])},r.setClassConstructor=function(e,t){v.addElement(e),e.wrapped=!0,e.fn=t,Object.defineProperty(e.fn.prototype,"klass",{value:e,enumerable:!1,configurable:!0,writable:!0}),r.initClass(e)},r.alias=function(e,t){r[t]=e},r.classes=function(){return C},r.wrappedClasses=function(){return v},r.allSubclasses=function(e){return e._allSubclasses()}}function u(e,r){function a(){}function s(e){i.installMethodIfAbsent(e,r.Object);for(var t=r.wrappedClasses(),n=0;n<t.length;n++)i.installMethodIfAbsent(e,t[n])}function o(e){c.initialized()&&r.allSubclasses(e).forEach(function(e){r.initClass(e)})}var i=e.ensure("manipulation"),l=e.ensure("organize"),c=e.ensure("stInit"),u=e.ensure("dnu");e.ensure("selectorConversion"),e.ensure("classes"),e.ensure("classInit"),t(a,n),this.__init__=function(){r.addPackage("Kernel-Methods"),r.wrapClassName("CompiledMethod","Kernel-Methods",a,r.Object,!1)},r.method=function(e){var t=new a;return t.selector=e.selector,t.jsSelector=e.jsSelector,t.args=e.args||{},t.category=e.category,t.source=e.source,t.messageSends=e.messageSends||[],t.referencedClasses=e.referencedClasses||[],t.fn=e.fn,t},r.addMethod=function(e,t){e.jsSelector||(e.jsSelector=r.selector(e.selector)),i.installMethod(e,t),t.methods[e.selector]=e,e.methodClass=t,l.addOrganizationElement(t,e.category),o(t);for(var n=0;n<e.messageSends.length;n++){var a=u.get(e.messageSends[n]);c.initialized()&&s(a)}},r.removeMethod=function(e,t){if(t!==e.methodClass)throw new Error("Refusing to remove method "+e.methodClass.className+">>"+e.selector+" from different class "+t.className);delete t.fn.prototype[r.selector(e.selector)],delete t.methods[e.selector],r.initClass(t),o(t)},r.allSelectors=function(){return u.selectors}}function d(){"undefined"==typeof console&&(this.console={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}}),Array.prototype.addElement=function(e){"undefined"!=typeof e&&-1==this.indexOf(e)&&this.push(e)},Array.prototype.removeElement=function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)}}function f(e,t){e.ensure("classInit"),e.ensure("classes"),e.ensure("root").nil;var n=!1;t.initialize=function(){n||(t.classes().forEach(function(e){t.init(e)}),v(),t.classes().forEach(function(e){e._initialize()}),n=!0)},this.initialized=function(){return n},this.__init__=function(){t.addPackage("Kernel-Methods"),t.wrapClassName("Number","Kernel-Objects",Number,t.Object),t.wrapClassName("BlockClosure","Kernel-Methods",Function,t.Object),t.wrapClassName("Boolean","Kernel-Objects",Boolean,t.Object),t.wrapClassName("Date","Kernel-Objects",Date,t.Object),t.addPackage("Kernel-Collections"),t.addClass("Collection",t.Object,null,"Kernel-Collections"),t.addClass("IndexableCollection",t.Collection,null,"Kernel-Collections"),t.addClass("SequenceableCollection",t.IndexableCollection,null,"Kernel-Collections"),t.addClass("CharacterArray",t.SequenceableCollection,null,"Kernel-Collections"),t.wrapClassName("String","Kernel-Collections",String,t.CharacterArray),t.wrapClassName("Array","Kernel-Collections",Array,t.SequenceableCollection),t.wrapClassName("RegularExpression","Kernel-Collections",RegExp,t.Object),t.addPackage("Kernel-Exceptions"),t.wrapClassName("Error","Kernel-Exceptions",Error,t.Object),t.alias(t.Array,"OrderedCollection"),t.alias(t.Date,"Time")}}function h(e,t){var n=0;t.nextId=function(){return n+=1},t.readJSObject=function(e){var n=e,r=e.constructor===Object,a=e.constructor===Array;r&&(n=t.Dictionary._new());for(var s in e)r&&n._at_put_(s,t.readJSObject(e[s])),a&&(n[s]=t.readJSObject(e[s]));return n},t.assert=function(e){return void 0!==e&&e.klass===t.Boolean?1==e:(t.NonBooleanReceiver._new()._object_(e)._signal(),void 0)},t.reservedWords=["break","case","catch","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","class","const","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield"],t.globalJsVariables=["jQuery","window","document","process","global"]}function g(e,r){function a(e,t){this.sendIdx={},this.homeContext=e,this.setup=t||function(){}}function s(e,t){var n=l(t),r=e(n);return c(n),r}function o(e){var t=r.JavaScriptException._on_(e);try{t._signal()}catch(n){}return t._context_(r.getThisContext()),t}function i(e){e.smalltalkError||(e=o(e)),r.ErrorHandler._current()._handleError_(e)}function l(e){return r.thisContext=new a(r.thisContext,e)}function c(e){r.thisContext=e.homeContext}e.ensure("selectorConversion");var u=e.ensure("root").nil;t(a,n),this.__init__=function(){r.addPackage("Kernel-Methods"),r.wrapClassName("MethodContext","Kernel-Methods",a,r.Object,!1),a.prototype.locals={},a.prototype.receiver=null,a.prototype.selector=null,a.prototype.lookupClass=null,a.prototype.fill=function(e,t,n,r){this.receiver=e,this.selector=t,this.locals=n||{},this.lookupClass=r,this.homeContext&&(this.homeContext.evaluatedSelector=t)},a.prototype.fillBlock=function(e,t,n){this.locals=e||{},this.outerContext=t,this.index=n||0},a.prototype.init=function(){var e=this.homeContext;e&&e.init(),this.setup(this)},a.prototype.method=function(){for(var e,t=this.lookupClass||this.receiver.klass;!e&&t;)e=t.methods[r.convertSelector(this.selector)],t=t.superclass;return e}},r.thisContext=void 0,r.withContext=function(e,t){if(r.thisContext)return s(e,t);try{return s(e,t)}catch(n){i(n),r.thisContext=null}},r.getThisContext=function(){return r.thisContext?(r.thisContext.init(),r.thisContext):u}}function m(e,t){function n(e,n,a){return void 0===e.klass||e.allowJavaScriptCalls?r(e,n,a):e._doesNotUnderstand_(t.Message._new()._selector_(t.convertSelector(n))._arguments_(a))}function r(e,n,r){var s=n._asJavaScriptSelector(),o=e[s];return"function"!=typeof o||/^[A-Z]/.test(s)?void 0!==o?r[0]?(e[s]=r[0],a):o:t.send(t.JSObjectProxy._on_(e),n,r):o.apply(e,r)}e.ensure("selectorConversion");var a=e.ensure("root").nil;t.send=function(e,t,r,s){var o;return null===e&&(e=a),o=s?s.fn.prototype[t]:e.klass&&e[t],o?o.apply(e,r):n(e,t,r)},"undefined"!=typeof jQuery&&(jQuery.allowJavaScriptCalls=!0),this.messageNotUnderstood=n}function p(e,t){function n(e){return e.replace(/^_/,"").replace(/_/g,":")}function r(e){return e.replace(/^_/,"").replace(/_and/g,"&").replace(/_or/g,"|").replace(/_plus/g,"+").replace(/_minus/g,"-").replace(/_star/g,"*").replace(/_slash/g,"/").replace(/_backslash/g,"\\").replace(/_tild/g,"~").replace(/_gt/g,">").replace(/_lt/g,"<").replace(/_eq/g,"=").replace(/_comma/g,",").replace(/_at/g,"@")}t.selector=function(e){var t="_"+e;return t=t.replace(/:/g,"_"),t=t.replace(/[\&]/g,"_and"),t=t.replace(/[\|]/g,"_or"),t=t.replace(/[+]/g,"_plus"),t=t.replace(/-/g,"_minus"),t=t.replace(/[*]/g,"_star"),t=t.replace(/[\/]/g,"_slash"),t=t.replace(/[\\]/g,"_backslash"),t=t.replace(/[\~]/g,"_tild"),t=t.replace(/>/g,"_gt"),t=t.replace(/</g,"_lt"),t=t.replace(/=/g,"_eq"),t=t.replace(/,/g,"_comma"),t=t.replace(/[@]/g,"_at")},t.convertSelector=function(e){return e.match(/__/)?r(e):n(e)}}function C(e,t){this.__init__=function(){t.amdRequire=t.amdRequire||null,t.defaultTransportType=t.defaultTransportType||"amd",t.defaultAmdNamespace=t.defaultAmdNamespace||"amber_core"}}function v(){_.messageSend=m,_.runtime=g,_.primitives=h,_.rebuild()}t(r,n);var y=new r,_=new e(y);return _.root=a,_.dnu=o,_.organize=s,_.selectorConversion=p,_.classInit=i,_.manipulation=l,_.classes=c,_.methods=u,_.stInit=f,_.augments=d,_.amdBrik=C,_.rebuild(),{smalltalk:y,nil:_.root.nil}}),define("amber_vm/smalltalk",["require","module","./boot"],function(e,t,n){var r=n.smalltalk;return r.amdRequire=e,r}),define("amber/helpers",["amber_vm/smalltalk","require"],function(e,t){return{popupHelios:function(){window.open(t.toUrl("amber_html/helios.html"),"Helios","menubar=no, status=no, scrollbars=no, menubar=no, width=1000, height=600")},get smalltalk(){return e}}}),function(e,t){function n(e){var t=gt[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var a="data-"+n.replace(pt,"-$1").toLowerCase();if(r=e.getAttribute(a),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:mt.test(r)?Y.parseJSON(r):r}catch(s){}Y.data(e,n,r)}else r=t}return r}function a(e){var t;for(t in e)if(("data"!==t||!Y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function s(){return!1}function o(){return!0}function i(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,Y.isFunction(t))return Y.grep(e,function(e,r){var a=!!t.call(e,r,e);return a===n});if(t.nodeType)return Y.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=Y.grep(e,function(e){return 1===e.nodeType});if(Ht.test(t))return Y.filter(t,r,!n);t=Y.filter(t,r)}return Y.grep(e,function(e){return Y.inArray(e,t)>=0===n})}function u(e){var t=Lt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(1===t.nodeType&&Y.hasData(e)){var n,r,a,s=Y._data(e),o=Y._data(t,s),i=s.events;if(i){delete o.handle,o.events={};for(n in i)for(r=0,a=i[n].length;a>r;r++)Y.event.add(t,n,i[n][r])}o.data&&(o.data=Y.extend({},o.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&$t.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando))}function g(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){$t.test(e.type)&&(e.defaultChecked=e.checked)
}function p(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,a=vn.length;a--;)if(t=vn[a]+n,t in e)return t;return r}function C(e,t){return e=t||e,"none"===Y.css(e,"display")||!Y.contains(e.ownerDocument,e)}function v(e,t){for(var n,r,a=[],s=0,o=e.length;o>s;s++)n=e[s],n.style&&(a[s]=Y._data(n,"olddisplay"),t?(!a[s]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&C(n)&&(a[s]=Y._data(n,"olddisplay",b(n.nodeName)))):(r=nn(n,"display"),!a[s]&&"none"!==r&&Y._data(n,"olddisplay",r)));for(s=0;o>s;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?a[s]||"":"none"));return e}function y(e,t,n){var r=dn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function _(e,t,n,r){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>a;a+=2)"margin"===n&&(s+=Y.css(e,n+Cn[a],!0)),r?("content"===n&&(s-=parseFloat(nn(e,"padding"+Cn[a]))||0),"margin"!==n&&(s-=parseFloat(nn(e,"border"+Cn[a]+"Width"))||0)):(s+=parseFloat(nn(e,"padding"+Cn[a]))||0,"padding"!==n&&(s+=parseFloat(nn(e,"border"+Cn[a]+"Width"))||0));return s}function S(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,a=!0,s=Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),fn.test(r))return r;a=s&&(Y.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+_(e,t,n||(s?"border":"content"),a)+"px"}function b(e){if(gn[e])return gn[e];var t=Y("<"+e+">").appendTo(J.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=J.body.appendChild(rn||Y.extend(J.createElement("iframe"),{frameBorder:0,width:0,height:0})),an&&rn.createElement||(an=(rn.contentWindow||rn.contentDocument).document,an.write("<!doctype html><html><body>"),an.close()),t=an.body.appendChild(an.createElement(e)),n=nn(t,"display"),J.body.removeChild(rn)),gn[e]=n,n}function x(e,t,n,r){var a;if(Y.isArray(t))Y.each(t,function(t,a){n||Sn.test(e)?r(e,a):x(e+"["+("object"==typeof a?t:"")+"]",a,n,r)});else if(n||"object"!==Y.type(t))r(e,t);else for(a in t)x(e+"["+a+"]",t[a],n,r)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,a,s,o=t.toLowerCase().split(tt),i=0,l=o.length;if(Y.isFunction(n))for(;l>i;i++)r=o[i],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),a=e[r]=e[r]||[],a[s?"unshift":"push"](n)}}function w(e,n,r,a,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;for(var i,l=e[s],c=0,u=l?l.length:0,d=e===Dn;u>c&&(d||!i);c++)i=l[c](n,r,a),"string"==typeof i&&(!d||o[i]?i=t:(n.dataTypes.unshift(i),i=w(e,n,r,a,i,o)));return(d||!i)&&!o["*"]&&(i=w(e,n,r,a,"*",o)),i}function M(e,n){var r,a,s=Y.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:a||(a={}))[r]=n[r]);a&&Y.extend(!0,e,a)}function A(e,n,r){var a,s,o,i,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in r&&(n[u[s]]=r[s]);for(;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("content-type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in r)o=c[0];else{for(s in r){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==c[0]&&c.unshift(o),r[o]):void 0}function B(e,t){var n,r,a,s,o=e.dataTypes.slice(),i=o[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;a=o[++c];)if("*"!==a){if("*"!==i&&i!==a){if(n=l[i+" "+a]||l["* "+a],!n)for(r in l)if(s=r.split(" "),s[1]===a&&(n=l[i+" "+s[0]]||l["* "+s[0]])){n===!0?n=l[r]:l[r]!==!0&&(a=s[0],o.splice(c--,0,a));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+i+" to "+a}}}i=a}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Un=t},0),Un=Y.now()}function T(e,t){Y.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),a=0,s=r.length;s>a;a++)if(r[a].call(e,t,n))return})}function P(e,t,n){var r,a=0,s=Zn.length,o=Y.Deferred().always(function(){delete i.elem}),i=function(){for(var t=Un||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,a=1-r,s=0,i=l.tweens.length;i>s;s++)l.tweens[s].run(a);return o.notifyWith(e,[l,a,n]),1>a&&i?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Un||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Y.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,r=t?l.tweens.length:0;r>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),c=l.props;for(I(c,l.opts.specialEasing);s>a;a++)if(r=Zn[a].call(l,e,c,l.opts))return r;return T(l,c),Y.isFunction(l.opts.start)&&l.opts.start.call(e,l),Y.fx.timer(Y.extend(i,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e,t){var n,r,a,s,o;for(n in e)if(r=Y.camelCase(n),a=t[r],s=e[n],Y.isArray(s)&&(a=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=Y.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=a)}else t[r]=a}function E(e,t,n){var r,a,s,o,i,l,c,u,d,f=this,h=e.style,g={},m=[],p=e.nodeType&&C(e);n.queue||(u=Y._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,Y.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Y.css(e,"display")&&"none"===Y.css(e,"float")&&(Y.support.inlineBlockNeedsLayout&&"inline"!==b(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Y.support.shrinkWrapBlocks||f.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t)if(s=t[r],Xn.exec(s)){if(delete t[r],l=l||"toggle"===s,s===(p?"hide":"show"))continue;m.push(r)}if(o=m.length){i=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),"hidden"in i&&(p=i.hidden),l&&(i.hidden=!p),p?Y(e).show():f.done(function(){Y(e).hide()}),f.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in g)Y.style(e,t,g[t])});for(r=0;o>r;r++)a=m[r],c=f.createTween(a,p?i[a]:0),g[a]=i[a]||Y.style(e,a),a in i||(i[a]=c.start,p&&(c.end=c.start,c.start="width"===a||"height"===a?1:0))}}function H(e,t,n,r,a){return new H.prototype.init(e,t,n,r,a)}function D(e,t){var n,r={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)n=Cn[a],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function F(e){return Y.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var L,z,J=e.document,R=e.location,V=e.navigator,q=e.jQuery,K=e.$,Q=Array.prototype.push,W=Array.prototype.slice,U=Array.prototype.indexOf,$=Object.prototype.toString,X=Object.prototype.hasOwnProperty,G=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,L)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,it=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ft=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",ft,!1),Y.ready()):"complete"===J.readyState&&(J.detachEvent("onreadystatechange",ft),Y.ready())},ht={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,r){var a,s,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),a&&(a[1]||!n)){if(a[1])return n=n instanceof Y?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:J,e=Y.parseHTML(a[1],o,!0),at.test(a[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);if(s=J.getElementById(a[2]),s&&s.parentNode){if(s.id!==a[2])return r.find(e);this.length=1,this[0]=s}return this.context=J,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return Y.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return W.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Y.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(W.apply(this,arguments),"slice",W.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,r,a,s,o,i=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof i&&(u=i,i=arguments[1]||{},l=2),"object"!=typeof i&&!Y.isFunction(i)&&(i={}),c===l&&(i=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)r=i[n],a=e[n],i!==a&&(u&&a&&(Y.isPlainObject(a)||(s=Y.isArray(a)))?(s?(s=!1,o=r&&Y.isArray(r)?r:[]):o=r&&Y.isPlainObject(r)?r:{},i[n]=Y.extend(u,o,a)):a!==t&&(i[n]=a));return i},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=K),t&&e.jQuery===Y&&(e.jQuery=q),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?!--Y.readyWait:!Y.isReady){if(!J.body)return setTimeout(Y.ready,1);Y.isReady=!0,e!==!0&&--Y.readyWait>0||(z.resolveWith(J,[Y]),Y.fn.trigger&&Y(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Y.type(e)},isArray:Array.isArray||function(e){return"array"===Y.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ht[$.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Y.type(e)||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!X.call(e,"constructor")&&!X.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||X.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||J,(r=at.exec(e))?[t.createElement(r[1])]:(r=Y.buildFragment([e],t,n?null:[]),Y.merge([],(r.cacheable?Y.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Y.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):st.test(t.replace(it,"@").replace(lt,"]").replace(ot,""))?new Function("return "+t)():(Y.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var r,a;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(a=new DOMParser,r=a.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&Y.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var a,s=0,o=e.length,i=o===t||Y.isFunction(e);if(r)if(i){for(a in e)if(n.apply(e[a],r)===!1)break}else for(;o>s&&n.apply(e[s++],r)!==!1;);else if(i){for(a in e)if(n.call(e[a],a,e[a])===!1)break}else for(;o>s&&n.call(e[s],s,e[s++])!==!1;);return e},trim:G&&!G.call("﻿ ")?function(e){return null==e?"":G.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=Y.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Y.isWindow(e)?Q.call(r,e):Y.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(U)return U.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,a=e.length,s=0;if("number"==typeof r)for(;r>s;s++)e[a++]=n[s];else for(;n[s]!==t;)e[a++]=n[s++];return e.length=a,e},grep:function(e,t,n){var r,a=[],s=0,o=e.length;for(n=!!n;o>s;s++)r=!!t(e[s],s),n!==r&&a.push(e[s]);return a},map:function(e,n,r){var a,s,o=[],i=0,l=e.length,c=e instanceof Y||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Y.isArray(e));if(c)for(;l>i;i++)a=n(e[i],i,r),null!=a&&(o[o.length]=a);else for(s in e)a=n(e[s],s,r),null!=a&&(o[o.length]=a);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,a,s;return"string"==typeof n&&(r=e[n],n=e,e=r),Y.isFunction(e)?(a=W.call(arguments,2),s=function(){return e.apply(n,a.concat(W.call(arguments)))},s.guid=e.guid=e.guid||Y.guid++,s):t},access:function(e,n,r,a,s,o,i){var l,c=null==r,u=0,d=e.length;if(r&&"object"==typeof r){for(u in r)Y.access(e,n,u,r[u],1,o,a);s=1}else if(a!==t){if(l=i===t&&Y.isFunction(a),c&&(l?(l=n,n=function(e,t,n){return l.call(Y(e),n)}):(n.call(e,a),n=null)),n)for(;d>u;u++)n(e[u],r,l?a.call(e[u],u,n(e[u],r)):a,i);s=1}return s?e:c?n.call(e):d?n(e[0],r):o},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!z)if(z=Y.Deferred(),"complete"===J.readyState)setTimeout(Y.ready,1);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",Y.ready,!1);else{J.attachEvent("onreadystatechange",ft),e.attachEvent("onload",Y.ready);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(r){}n&&n.doScroll&&function a(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(a,50)}Y.ready()}}()}return z.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ht["[object "+t+"]"]=t.toLowerCase()}),L=Y(J);var gt={};Y.Callbacks=function(e){e="string"==typeof e?gt[e]||n(e):Y.extend({},e);var r,a,s,o,i,l,c=[],u=!e.once&&[],d=function(t){for(r=e.memory&&t,a=!0,l=o||0,o=0,i=c.length,s=!0;c&&i>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}s=!1,c&&(u?u.length&&d(u.shift()):r?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function n(t){Y.each(t,function(t,r){var a=Y.type(r);"function"===a?(!e.unique||!f.has(r))&&c.push(r):r&&r.length&&"string"!==a&&n(r)})}(arguments),s?i=c.length:r&&(o=t,d(r))}return this},remove:function(){return c&&Y.each(arguments,function(e,t){for(var n;(n=Y.inArray(t,c,n))>-1;)c.splice(n,1),s&&(i>=n&&i--,l>=n&&l--)}),this},has:function(e){return Y.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],c&&(!a||u)&&(s?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,r){var s=r[0],o=e[t];a[r[1]](Y.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===a?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return null!=e?Y.extend(e,r):r}},a={};return r.pipe=r.then,Y.each(t,function(e,s){var o=s[2],i=s[3];r[s[1]]=o.add,i&&o.add(function(){n=i},t[1^e][2].disable,t[2][2].lock),a[s[0]]=o.fire,a[s[0]+"With"]=o.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t,n,r,a=0,s=W.call(arguments),o=s.length,i=1!==o||e&&Y.isFunction(e.promise)?o:0,l=1===i?e:Y.Deferred(),c=function(e,n,r){return function(a){n[e]=this,r[e]=arguments.length>1?W.call(arguments):a,r===t?l.notifyWith(n,r):--i||l.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>a;a++)s[a]&&Y.isFunction(s[a].promise)?s[a].promise().done(c(a,r,s)).fail(l.reject).progress(c(a,n,t)):--i;return i||l.resolveWith(r,s),l.promise()}}),Y.support=function(){var t,n,r,a,s,o,i,l,c,u,d,f=J.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),r=f.getElementsByTagName("a")[0],!n||!r||!n.length)return{};a=J.createElement("select"),s=a.appendChild(J.createElement("option")),o=f.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===o.value,optSelected:s.selected,getSetAttribute:"t"!==f.className,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete f.test}catch(h){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),o=J.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),f.appendChild(o),i=J.createDocumentFragment(),i.appendChild(f.lastChild),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,i.removeChild(o),i.appendChild(f),f.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in f,u||(f.setAttribute(l,"return;"),u="function"==typeof f[l]),t[c+"Bubbles"]=u;return Y(function(){var n,r,a,s,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=J.getElementsByTagName("body")[0];i&&(n=J.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(n,i.firstChild),r=J.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=r.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=u&&0===a[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,s=J.createElement("div"),s.style.cssText=r.style.cssText=o,s.style.marginRight=s.style.width="0",r.style.width="1px",r.appendChild(s),t.reliableMarginRight=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),i.removeChild(n),n=r=a=s=null)}),i.removeChild(f),n=r=a=s=o=i=f=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,pt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!a(e)},data:function(e,n,r,a){if(Y.acceptData(e)){var s,o,i=Y.expando,l="string"==typeof n,c=e.nodeType,u=c?Y.cache:e,d=c?e[i]:e[i]&&i;if(d&&u[d]&&(a||u[d].data)||!l||r!==t)return d||(c?e[i]=d=Y.deletedIds.pop()||Y.guid++:d=i),u[d]||(u[d]={},c||(u[d].toJSON=Y.noop)),("object"==typeof n||"function"==typeof n)&&(a?u[d]=Y.extend(u[d],n):u[d].data=Y.extend(u[d].data,n)),s=u[d],a||(s.data||(s.data={}),s=s.data),r!==t&&(s[Y.camelCase(n)]=r),l?(o=s[n],null==o&&(o=s[Y.camelCase(n)])):o=s,o}},removeData:function(e,t,n){if(Y.acceptData(e)){var r,s,o,i=e.nodeType,l=i?Y.cache:e,c=i?e[Y.expando]:Y.expando;if(l[c]){if(t&&(r=n?l[c]:l[c].data)){Y.isArray(t)||(t in r?t=[t]:(t=Y.camelCase(t),t=t in r?[t]:t.split(" ")));for(s=0,o=t.length;o>s;s++)delete r[t[s]];if(!(n?a:Y.isEmptyObject)(r))return}(n||(delete l[c].data,a(l[c])))&&(i?Y.cleanData([e],!0):Y.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var a,s,o,i,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=Y.data(c),1===c.nodeType&&!Y._data(c,"parsedAttrs"))){for(o=c.attributes,l=o.length;l>u;u++)i=o[u].name,i.indexOf("data-")||(i=Y.camelCase(i.substring(5)),r(c,i,d[i]));Y._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Y.data(this,e)}):(a=e.split(".",2),a[1]=a[1]?"."+a[1]:"",s=a[1]+"!",Y.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+s,[a[0]]),d===t&&c&&(d=Y.data(c,e),d=r(c,e,d)),d===t&&a[1]?this.data(a[0]):d):(a[1]=n,this.each(function(){var t=Y(this);t.triggerHandler("setData"+s,a),Y.data(this,e,n),t.triggerHandler("changeData"+s,a)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Y._data(e,t),n&&(!r||Y.isArray(n)?r=Y._data(e,t,Y.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),r=n.length,a=n.shift(),s=Y._queueHooks(e,t),o=function(){Y.dequeue(e,t)};"inprogress"===a&&(a=n.shift(),r--),a&&("fx"===t&&n.unshift("inprogress"),delete s.stop,a.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,a=1,s=Y.Deferred(),o=this,i=this.length,l=function(){--a||s.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";i--;)r=Y._data(o[i],e+"queueHooks"),r&&r.empty&&(a++,r.empty.add(l));return l(),s.promise(n)}});var Ct,vt,yt,_t=/[\t\r\n]/g,St=/\r/g,bt=/^(?:button|input)$/i,xt=/^(?:button|input|object|select|textarea)$/i,kt=/^a(?:rea|)$/i,wt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Mt=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,a,s,o,i;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(a=this[n],1===a.nodeType)if(a.className||1!==t.length){for(s=" "+a.className+" ",o=0,i=t.length;i>o;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");a.className=Y.trim(s)}else a.className=e;return this},removeClass:function(e){var n,r,a,s,o,i,l;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),i=0,l=this.length;l>i;i++)if(a=this[i],1===a.nodeType&&a.className){for(r=(" "+a.className+" ").replace(_t," "),s=0,o=n.length;o>s;s++)for(;r.indexOf(" "+n[s]+" ")>=0;)r=r.replace(" "+n[s]+" "," ");a.className=e?Y.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return Y.isFunction(e)?this.each(function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var a,s=0,o=Y(this),i=t,l=e.split(tt);a=l[s++];)i=r?i:!o.hasClass(a),o[i?"addClass":"removeClass"](a);else("undefined"===n||"boolean"===n)&&(this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(_t," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,a,s=this[0];{if(arguments.length)return a=Y.isFunction(e),this.each(function(r){var s,o=Y(this);1===this.nodeType&&(s=a?e.call(this,r,o.val()):e,null==s?s="":"number"==typeof s?s+="":Y.isArray(s)&&(s=Y.map(s,function(e){return null==e?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==t||(this.value=s))});if(s)return n=Y.valHooks[s.type]||Y.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,"string"==typeof r?r.replace(St,""):null==r?"":r)}}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,r=e.options,a=e.selectedIndex,s="select-one"===e.type||0>a,o=s?null:[],i=s?a+1:r.length,l=0>a?i:s?a:0;i>l;l++)if(n=r[l],!(!n.selected&&l!==a||(Y.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Y.nodeName(n.parentNode,"optgroup"))){if(t=Y(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,a){var s,o,i,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return a&&Y.isFunction(Y.fn[n])?Y(e)[n](r):"undefined"==typeof e.getAttribute?Y.prop(e,n,r):(i=1!==l||!Y.isXMLDoc(e),i&&(n=n.toLowerCase(),o=Y.attrHooks[n]||(wt.test(n)?vt:Ct)),r!==t?null===r?(Y.removeAttr(e,n),void 0):o&&"set"in o&&i&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):o&&"get"in o&&i&&null!==(s=o.get(e,n))?s:(s=e.getAttribute(n),null===s?t:s))},removeAttr:function(e,t){var n,r,a,s,o=0;if(t&&1===e.nodeType)for(r=t.split(tt);o<r.length;o++)a=r[o],a&&(n=Y.propFix[a]||a,s=wt.test(a),s||Y.attr(e,a,""),e.removeAttribute(Mt?a:n),s&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(bt.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&"radio"===t&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return Ct&&Y.nodeName(e,"button")?Ct.get(e,t):t in e?e.value:null},set:function(e,t,n){return Ct&&Y.nodeName(e,"button")?Ct.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var a,s,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return o=1!==i||!Y.isXMLDoc(e),o&&(n=Y.propFix[n]||n,s=Y.propHooks[n]),r!==t?s&&"set"in s&&(a=s.set(e,r,n))!==t?a:e[n]=r:s&&"get"in s&&null!==(a=s.get(e,n))?a:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):xt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var r,a=Y.prop(e,n);return a===!0||"boolean"!=typeof a&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Y.removeAttr(e,n):(r=Y.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Mt||(yt={name:!0,id:!0,coords:!0},Ct=Y.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(yt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=J.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Y.attrHooks.contenteditable={get:Ct.get,set:function(e,t,n){""===t&&(t="false"),Ct.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){return Y.isArray(t)?e.checked=Y.inArray(Y(e).val(),t)>=0:void 0}})});var At=/^(?:textarea|input|select)$/i,Bt=/^([^\.]*|)(?:\.(.+)|)$/,Ot=/(?:^|\s)hover(\.\S+|)\b/,Nt=/^key/,jt=/^(?:mouse|contextmenu)|click/,Tt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){return Y.event.special.hover?e:e.replace(Ot,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,r,a,s){var o,i,l,c,u,d,f,h,g,m,p;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(o=Y._data(e))){for(r.handler&&(g=r,r=g.handler,s=g.selector),r.guid||(r.guid=Y.guid++),l=o.events,l||(o.events=l={}),i=o.handle,i||(o.handle=i=function(e){return"undefined"==typeof Y||e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(i.elem,arguments)},i.elem=e),n=Y.trim(Pt(n)).split(" "),c=0;c<n.length;c++)u=Bt.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),p=Y.event.special[d]||{},d=(s?p.delegateType:p.bindType)||d,p=Y.event.special[d]||{},h=Y.extend({type:d,origType:u[1],data:a,handler:r,guid:r.guid,selector:s,needsContext:s&&Y.expr.match.needsContext.test(s),namespace:f.join(".")},g),m=l[d],m||(m=l[d]=[],m.delegateCount=0,p.setup&&p.setup.call(e,a,f,i)!==!1||(e.addEventListener?e.addEventListener(d,i,!1):e.attachEvent&&e.attachEvent("on"+d,i))),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,h):m.push(h),Y.event.global[d]=!0;
e=null}},global:{},remove:function(e,t,n,r,a){var s,o,i,l,c,u,d,f,h,g,m,p=Y.hasData(e)&&Y._data(e);if(p&&(f=p.events)){for(t=Y.trim(Pt(t||"")).split(" "),s=0;s<t.length;s++)if(o=Bt.exec(t[s])||[],i=l=o[1],c=o[2],i){for(h=Y.event.special[i]||{},i=(r?h.delegateType:h.bindType)||i,g=f[i]||[],u=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<g.length;d++)m=g[d],!(!a&&l!==m.origType||n&&n.guid!==m.guid||c&&!c.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(g.splice(d--,1),m.selector&&g.delegateCount--,!h.remove||!h.remove.call(e,m)));0===g.length&&u!==g.length&&((!h.teardown||h.teardown.call(e,c,p.handle)===!1)&&Y.removeEvent(e,i,p.handle),delete f[i])}else for(i in f)Y.event.remove(e,i+t[s],n,r,!0);Y.isEmptyObject(f)&&(delete p.handle,Y.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,a,s){if(!a||3!==a.nodeType&&8!==a.nodeType){var o,i,l,c,u,d,f,h,g,m,p=n.type||n,C=[];if(Tt.test(p+Y.event.triggered))return;if(p.indexOf("!")>=0&&(p=p.slice(0,-1),i=!0),p.indexOf(".")>=0&&(C=p.split("."),p=C.shift(),C.sort()),(!a||Y.event.customEvent[p])&&!Y.event.global[p])return;if(n="object"==typeof n?n[Y.expando]?n:new Y.Event(p,n):new Y.Event(p),n.type=p,n.isTrigger=!0,n.exclusive=i,n.namespace=C.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=p.indexOf(":")<0?"on"+p:"",!a){o=Y.cache;for(l in o)o[l].events&&o[l].events[p]&&Y.event.trigger(n,r,o[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=a),r=null!=r?Y.makeArray(r):[],r.unshift(n),f=Y.event.special[p]||{},f.trigger&&f.trigger.apply(a,r)===!1)return;if(g=[[a,f.bindType||p]],!s&&!f.noBubble&&!Y.isWindow(a)){for(m=f.delegateType||p,c=Tt.test(m+p)?a:a.parentNode,u=a;c;c=c.parentNode)g.push([c,m]),u=c;u===(a.ownerDocument||J)&&g.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<g.length&&!n.isPropagationStopped();l++)c=g[l][0],n.type=g[l][1],h=(Y._data(c,"events")||{})[n.type]&&Y._data(c,"handle"),h&&h.apply(c,r),h=d&&c[d],h&&Y.acceptData(c)&&h.apply&&h.apply(c,r)===!1&&n.preventDefault();return n.type=p,!(s||n.isDefaultPrevented()||f._default&&f._default.apply(a.ownerDocument,r)!==!1||"click"===p&&Y.nodeName(a,"a")||!Y.acceptData(a)||!d||!a[p]||("focus"===p||"blur"===p)&&0===n.target.offsetWidth||Y.isWindow(a)||(u=a[d],u&&(a[d]=null),Y.event.triggered=p,a[p](),Y.event.triggered=t,!u||!(a[d]=u))),n.result}},dispatch:function(n){n=Y.event.fix(n||e.event);var r,a,s,o,i,l,c,u,d,f=(Y._data(this,"events")||{})[n.type]||[],h=f.delegateCount,g=W.call(arguments),m=!n.exclusive&&!n.namespace,p=Y.event.special[n.type]||{},C=[];if(g[0]=n,n.delegateTarget=this,!p.preDispatch||p.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||"click"!==n.type){for(i={},c=[],r=0;h>r;r++)u=f[r],d=u.selector,i[d]===t&&(i[d]=u.needsContext?Y(d,this).index(s)>=0:Y.find(d,this,null,[s]).length),i[d]&&c.push(u);c.length&&C.push({elem:s,matches:c})}for(f.length>h&&C.push({elem:this,matches:f.slice(h)}),r=0;r<C.length&&!n.isPropagationStopped();r++)for(l=C[r],n.currentTarget=l.elem,a=0;a<l.matches.length&&!n.isImmediatePropagationStopped();a++)u=l.matches[a],(m||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,o=((Y.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return p.postDispatch&&p.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,a,s,o=n.button,i=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||J,a=r.documentElement,s=r.body,e.pageX=n.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?n.toElement:i),!e.which&&o!==t&&(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,r=e,a=Y.event.fixHooks[e.type]||{},s=a.props?this.props.concat(a.props):this.props;for(e=Y.Event(r),t=s.length;t;)n=s[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var a=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Y.event.trigger(a,null,t):Y.event.dispatch.call(t,a),a.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},Y.Event=function(e,t){return this instanceof Y.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:s):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),this[Y.expando]=!0,void 0):new Y.Event(e,t)},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:s,isPropagationStopped:s,isImmediatePropagationStopped:s},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,a=e.relatedTarget,s=e.handleObj;return s.selector,(!a||a!==r&&!Y.contains(r,a))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){return Y.nodeName(this,"form")?!1:(Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;r&&!Y._data(r,"_submit_attached")&&(Y.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(r,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Y.nodeName(this,"form")?!1:(Y.event.remove(this,"._submit"),void 0)}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){return At.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Y.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)})),!1):(Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;At.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Y.event.remove(this,"._change"),!At.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,r,!0)},teardown:function(){0===--n&&J.removeEventListener(e,r,!0)}}}),Y.fn.extend({on:function(e,n,r,a,o){var i,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==a?(a=n,r=n=t):null==a&&("string"==typeof n?(a=r,r=t):(a=r,r=n,n=t)),a===!1)a=s;else if(!a)return this;return 1===o&&(i=a,a=function(e){return Y().off(e),i.apply(this,arguments)},a.guid=i.guid||(i.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,a,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var a,o;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,Y(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=s),this.each(function(){Y.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Y.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,r=0,a=function(n){var a=(Y._data(this,"lastToggle"+e.guid)||0)%r;return Y._data(this,"lastToggle"+e.guid,a+1),n.preventDefault(),t[a].apply(this,arguments)||!1};for(a.guid=n;r<t.length;)t[r++].guid=n;return this.click(a)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Nt.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),jt.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||j;var a,s,o,i,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(o=S(t),!o&&!r&&(a=nt.exec(e)))if(i=a[1]){if(9===l){if(s=t.getElementById(i),!s||!s.parentNode)return n;if(s.id===i)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(i))&&b(t,s)&&s.id===i)return n.push(s),n}else{if(a[2])return H.apply(n,D.call(t.getElementsByTagName(e),0)),n;if((i=a[3])&&ft&&t.getElementsByClassName)return H.apply(n,D.call(t.getElementsByClassName(i),0)),n}return m(e.replace(G,"$1"),t,n,r,o)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function s(e){return L(function(t){return t=+t,L(function(n,r){for(var a,s=e([],n.length,t),o=s.length;o--;)n[a=s[o]]&&(n[a]=!(r[a]=n[a]))})})}function o(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function i(e,t){var r,a,s,o,i,l,c,u=R[O][e+" "];if(u)return t?0:u.slice(0);for(i=e,l=[],c=y.preFilter;i;){(!r||(a=Z.exec(i)))&&(a&&(i=i.slice(a[0].length)||i),l.push(s=[])),r=!1,(a=et.exec(i))&&(s.push(r=new N(a.shift())),i=i.slice(r.length),r.type=a[0].replace(G," "));for(o in y.filter)(a=it[o].exec(i))&&(!c[o]||(a=c[o](a)))&&(s.push(r=new N(a.shift())),i=i.slice(r.length),r.type=o,r.matches=a);if(!r)break}return t?i.length:i?n.error(e):R(e,l).slice(0)}function l(e,t,n){var r=t.dir,a=n&&"parentNode"===t.dir,s=I++;return t.first?function(t,n,s){for(;t=t[r];)if(a||1===t.nodeType)return e(t,n,s)}:function(t,n,o){if(o){for(;t=t[r];)if((a||1===t.nodeType)&&e(t,n,o))return t}else for(var i,l=P+" "+s+" ",c=l+C;t=t[r];)if(a||1===t.nodeType){if((i=t[O])===c)return t.sizset;if("string"==typeof i&&0===i.indexOf(l)){if(t.sizset)return t}else{if(t[O]=c,e(t,n,o))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,n,r){for(var a=e.length;a--;)if(!e[a](t,n,r))return!1;return!0}:e[0]}function u(e,t,n,r,a){for(var s,o=[],i=0,l=e.length,c=null!=t;l>i;i++)(s=e[i])&&(!n||n(s,r,a))&&(o.push(s),c&&t.push(i));return o}function d(e,t,n,r,a,s){return r&&!r[O]&&(r=d(r)),a&&!a[O]&&(a=d(a,s)),L(function(s,o,i,l){var c,d,f,h=[],m=[],p=o.length,C=s||g(t||"*",i.nodeType?[i]:i,[]),v=!e||!s&&t?C:u(C,h,e,i,l),y=n?a||(s?e:p||r)?[]:o:v;if(n&&n(v,y,i,l),r)for(c=u(y,m),r(c,[],i,l),d=c.length;d--;)(f=c[d])&&(y[m[d]]=!(v[m[d]]=f));if(s){if(a||e){if(a){for(c=[],d=y.length;d--;)(f=y[d])&&c.push(v[d]=f);a(null,y=[],c,l)}for(d=y.length;d--;)(f=y[d])&&(c=a?F.call(s,f):h[d])>-1&&(s[c]=!(o[c]=f))}}else y=u(y===o?y.splice(p,y.length):y),a?a(null,o,y,l):H.apply(o,y)})}function f(e){for(var t,n,r,a=e.length,s=y.relative[e[0].type],o=s||y.relative[" "],i=s?1:0,u=l(function(e){return e===t},o,!0),h=l(function(e){return F.call(t,e)>-1},o,!0),g=[function(e,n,r){return!s&&(r||n!==M)||((t=n).nodeType?u(e,n,r):h(e,n,r))}];a>i;i++)if(n=y.relative[e[i].type])g=[l(c(g),n)];else{if(n=y.filter[e[i].type].apply(null,e[i].matches),n[O]){for(r=++i;a>r&&!y.relative[e[r].type];r++);return d(i>1&&c(g),i>1&&e.slice(0,i-1).join("").replace(G,"$1"),n,r>i&&f(e.slice(i,r)),a>r&&f(e=e.slice(r)),a>r&&e.join(""))}g.push(n)}return c(g)}function h(e,t){var r=t.length>0,a=e.length>0,s=function(o,i,l,c,d){var f,h,g,m=[],p=0,v="0",_=o&&[],S=null!=d,b=M,x=o||a&&y.find.TAG("*",d&&i.parentNode||i),k=P+=null==b?1:Math.E;for(S&&(M=i!==j&&i,C=s.el);null!=(f=x[v]);v++){if(a&&f){for(h=0;g=e[h];h++)if(g(f,i,l)){c.push(f);break}S&&(P=k,C=++s.el)}r&&((f=!g&&f)&&p--,o&&_.push(f))}if(p+=v,r&&v!==p){for(h=0;g=t[h];h++)g(_,m,i,l);if(o){if(p>0)for(;v--;)!_[v]&&!m[v]&&(m[v]=E.call(c));m=u(m)}H.apply(c,m),S&&!o&&m.length>0&&p+t.length>1&&n.uniqueSort(c)}return S&&(P=k,M=b),_};return s.el=0,r?L(s):s}function g(e,t,r){for(var a=0,s=t.length;s>a;a++)n(e,t[a],r);return r}function m(e,t,n,r,a){var s,o,l,c,u,d=i(e);if(d.length,!r&&1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(l=o[0]).type&&9===t.nodeType&&!a&&y.relative[o[1].type]){if(t=y.find.ID(l.matches[0].replace(ot,""),t,a)[0],!t)return n;e=e.slice(o.shift().length)}for(s=it.POS.test(e)?-1:o.length-1;s>=0&&(l=o[s],!y.relative[c=l.type]);s--)if((u=y.find[c])&&(r=u(l.matches[0].replace(ot,""),rt.test(o[0].type)&&t.parentNode||t,a))){if(o.splice(s,1),e=r.length&&o.join(""),!e)return H.apply(n,D.call(r,0)),n;break}}return x(e,d)(r,t,a,n,rt.test(e)),n}function p(){}var C,v,y,_,S,b,x,k,w,M,A=!0,B="undefined",O=("sizcache"+Math.random()).replace(".",""),N=String,j=e.document,T=j.documentElement,P=0,I=0,E=[].pop,H=[].push,D=[].slice,F=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},L=function(e,t){return e[O]=null==t||t,e},z=function(){var e={},t=[];return L(function(n,r){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n+" "]=r},e)},J=z(),R=z(),V=z(),q="[\\x20\\t\\r\\n\\f]",K="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Q=K.replace("w","w#"),W="([*^$|!~]?=)",U="\\["+q+"*("+K+")"+q+"*(?:"+W+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Q+")|)|)"+q+"*\\]",$=":("+K+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+U+")|[^:]|\\\\.)*|.*))\\)|)",X=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)",G=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),Z=new RegExp("^"+q+"*,"+q+"*"),et=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),tt=new RegExp($),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rt=/[\x20\t\r\n\f]*[+~]/,at=/h\d/i,st=/input|select|textarea|button/i,ot=/\\(?!\\)/g,it={ID:new RegExp("^#("+K+")"),CLASS:new RegExp("^\\.("+K+")"),NAME:new RegExp("^\\[name=['\"]?("+K+")['\"]?\\]"),TAG:new RegExp("^("+K.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+$),POS:new RegExp(X,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),needsContext:new RegExp("^"+q+"*[>+~]|"+X,"i")},lt=function(e){var t=j.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),ut=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==B&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ft=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),ht=lt(function(e){e.id=O+0,e.innerHTML="<a name='"+O+"'></a><div name='"+O+"'></div>",T.insertBefore(e,T.firstChild);var t=j.getElementsByName&&j.getElementsByName(O).length===2+j.getElementsByName(O+0).length;return v=!j.getElementById(O),T.removeChild(e),t});try{D.call(T.childNodes,0)[0].nodeType}catch(gt){D=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},_=n.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r];r++)n+=_(t);return n},S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},b=n.contains=T.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:T.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=S(e);return r||(t=t.toLowerCase()),(n=y.attrHandle[t])?n(e):r||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:L,match:it,attrHandle:ut?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==B&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==B&&!r){var a=n.getElementById(e);return a?a.id===e||typeof a.getAttributeNode!==B&&a.getAttributeNode("id").value===e?[a]:t:[]}},TAG:ct?function(e,t){return typeof t.getElementsByTagName!==B?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,a=[],s=0;r=n[s];s++)1===r.nodeType&&a.push(r);return a}return n},NAME:ht&&function(e,t){return typeof t.getElementsByName!==B?t.getElementsByName(name):void 0},CLASS:ft&&function(e,t,n){return typeof t.getElementsByClassName===B||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ot,""),e[3]=(e[4]||e[5]||"").replace(ot,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return it.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=i(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(ot,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ot,""),function(t){var n=typeof t.getAttributeNode!==B&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ot,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=J[O][e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&J(e,function(e){return t.test(e.className||typeof e.getAttribute!==B&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(a){var s=n.attr(a,e);return null==s?"!="===t:t?(s+="","="===t?s===r:"!="===t?s!==r:"^="===t?r&&0===s.indexOf(r):"*="===t?r&&s.indexOf(r)>-1:"$="===t?r&&s.substr(s.length-r.length)===r:"~="===t?(" "+s+" ").indexOf(r)>-1:"|="===t?s===r||s.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r){return"nth"===e?function(e){var t,a,s=e.parentNode;if(1===n&&0===r)return!0;if(s)for(a=0,t=s.firstChild;t&&(1!==t.nodeType||(a++,e!==t));t=t.nextSibling);return a-=r,a===n||0===a%n&&a/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,a=y.pseudos[e]||y.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return a[O]?a(t):a.length>1?(r=[e,e,"",t],y.setFilters.hasOwnProperty(e.toLowerCase())?L(function(e,n){for(var r,s=a(e,t),o=s.length;o--;)r=F.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:L(function(e){var t=[],n=[],r=x(e.replace(G,"$1"));return r[O]?L(function(e,t,n,a){for(var s,o=r(e,null,a,[]),i=e.length;i--;)(s=o[i])&&(e[i]=!(t[i]=s))}):function(e,a,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:L(function(e){return function(t){return n(e,t).length>0}}),contains:L(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return at.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:a("submit"),reset:a("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return st.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[0>n?n+t:n]}),even:s(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},k=T.compareDocumentPosition?function(e,t){return e===t?(w=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return w=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,a=[],s=[],i=e.parentNode,l=t.parentNode,c=i;if(i===l)return o(e,t);if(!i)return-1;if(!l)return 1;for(;c;)a.unshift(c),c=c.parentNode;for(c=l;c;)s.unshift(c),c=c.parentNode;n=a.length,r=s.length;for(var u=0;n>u&&r>u;u++)if(a[u]!==s[u])return o(a[u],s[u]);return u===n?o(e,s[u],-1):o(a[u],t,1)},[0,0].sort(k),A=!w,n.uniqueSort=function(e){var t,n=[],r=1,a=0;if(w=A,e.sort(k),w){for(;t=e[r];r++)t===e[r-1]&&(a=n.push(r));for(;a--;)e.splice(n[a],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},x=n.compile=function(e,t){var n,r=[],a=[],s=V[O][e+" "];if(!s){for(t||(t=i(e)),n=t.length;n--;)s=f(t[n]),s[O]?r.push(s):a.push(s);s=V(e,h(a,r))}return s},j.querySelectorAll&&function(){var e,t=m,r=/'|\\/g,a=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,s=[":focus"],o=[":active"],l=T.matchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector||T.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||s.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||s.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&s.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||s.push(":enabled",":disabled")}),s=new RegExp(s.join("|")),m=function(e,n,a,o,l){if(!o&&!l&&!s.test(e)){var c,u,d=!0,f=O,h=n,g=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(c=i(e),(d=n.getAttribute("id"))?f=d.replace(r,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+c[u].join("");h=rt.test(e)&&n.parentNode||n,g=c.join(",")}if(g)try{return H.apply(a,D.call(h.querySelectorAll(g),0)),a}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,a,o,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),o.push("!=",$)}catch(n){}}),o=new RegExp(o.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(a,"='$1']"),!S(t)&&!o.test(r)&&!s.test(r))try{var i=l.call(t,r);if(i||e||t.document&&11!==t.document.nodeType)return i}catch(c){}return n(r,null,null,[t]).length>0})}(),y.pseudos.nth=y.pseudos.eq,y.filters=p.prototype=y.pseudos,y.setFilters=new p,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var It=/Until$/,Et=/^(?:parents|prev(?:Until|All))/,Ht=/^.[^:#\[\.,]*$/,Dt=Y.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,r,a,s,o,i=this;if("string"!=typeof e)return Y(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(Y.contains(i[t],this))return!0});for(o=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=o.length,Y.find(e,this[t],o),t>0)for(a=r;a<o.length;a++)for(s=0;r>s;s++)if(o[s]===o[a]){o.splice(a--,1);break}return o},has:function(e){var t,n=Y(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Dt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,a=this.length,s=[],o=Dt.test(e)||"string"!=typeof e?Y(e,t||this.context):0;a>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:Y.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}return s=s.length>1?Y.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?"string"==typeof e?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),r=Y.merge(this.get(),n);return this.pushStack(i(n[0])||i(r[0])?r:Y.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,r){var a=Y.map(this,t,n);return It.test(e)||(r=n),r&&"string"==typeof r&&(a=Y.filter(r,a)),a=this.length>1&&!Ft[e]?Y.unique(a):a,this.length>1&&Et.test(e)&&(a=a.reverse()),this.pushStack(a,e,W.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,r){for(var a=[],s=e[n];s&&9!==s.nodeType&&(r===t||1!==s.nodeType||!Y(s).is(r));)1===s.nodeType&&a.push(s),s=s[n];return a},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",zt=/ jQuery\d+="(?:null|\d+)"/g,Jt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vt=/<([\w:]+)/,qt=/<tbody/i,Kt=/<|&#?\w+;/,Qt=/<(?:script|style|link)/i,Wt=/<(?:script|object|embed|option|style)/i,Ut=new RegExp("<(?:"+Lt+")[\\s/>]","i"),$t=/^(?:checkbox|radio)$/,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=u(J),tn=en.appendChild(J.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Y.isFunction(e)?this.each(function(t){Y(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)
});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||Y.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Y.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},r=0,a=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(zt,""):t;if(!("string"!=typeof e||Qt.test(e)||!Y.support.htmlSerialize&&Ut.test(e)||!Y.support.leadingWhitespace&&Jt.test(e)||Zt[(Vt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;a>r;r++)n=this[r]||{},1===n.nodeType&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return i(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var a,s,o,i,l=0,c=e[0],u=[],f=this.length;if(!Y.support.checkClone&&f>1&&"string"==typeof c&&Xt.test(c))return this.each(function(){Y(this).domManip(e,n,r)});if(Y.isFunction(c))return this.each(function(a){var s=Y(this);e[0]=c.call(this,a,n?s.html():t),s.domManip(e,n,r)});if(this[0]){if(a=Y.buildFragment(e,this,u),o=a.fragment,s=o.firstChild,1===o.childNodes.length&&(o=s),s)for(n=n&&Y.nodeName(s,"tr"),i=a.cacheable||f-1;f>l;l++)r.call(n&&Y.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===i?o:Y.clone(o,!0,!0));o=s=null,u.length&&Y.each(u,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,r){var a,s,o,i=e[0];return n=n||J,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,1===e.length&&"string"==typeof i&&i.length<512&&n===J&&"<"===i.charAt(0)&&!Wt.test(i)&&(Y.support.checkClone||!Xt.test(i))&&(Y.support.html5Clone||!Ut.test(i))&&(s=!0,a=Y.fragments[i],o=a!==t),a||(a=n.createDocumentFragment(),Y.clean(e,n,a,r),s&&(Y.fragments[i]=o&&a)),{fragment:a,cacheable:s}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var r,a=0,s=[],o=Y(n),i=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===i)return o[t](this[0]),this;for(;i>a;a++)r=(a>0?this.clone(!0):this).get(),Y(o[a])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),Y.extend({clone:function(e,t,n){var r,a,s,o;if(Y.support.html5Clone||Y.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild)),!(Y.support.noCloneEvent&&Y.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Y.isXMLDoc(e)))for(h(e,o),r=g(e),a=g(o),s=0;r[s];++s)a[s]&&h(r[s],a[s]);if(t&&(f(e,o),n))for(r=g(e),a=g(o),s=0;r[s];++s)f(r[s],a[s]);return r=a=null,o},clean:function(e,t,n,r){var a,s,o,i,l,c,d,f,h,g,p,C=t===J&&en,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=J),a=0;null!=(o=e[a]);a++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Kt.test(o)){for(C=C||u(t),d=t.createElement("div"),C.appendChild(d),o=o.replace(Rt,"<$1></$2>"),i=(Vt.exec(o)||["",""])[1].toLowerCase(),l=Zt[i]||Zt._default,c=l[0],d.innerHTML=l[1]+o+l[2];c--;)d=d.lastChild;if(!Y.support.tbody)for(f=qt.test(o),h="table"!==i||f?"<table>"!==l[1]||f?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,s=h.length-1;s>=0;--s)Y.nodeName(h[s],"tbody")&&!h[s].childNodes.length&&h[s].parentNode.removeChild(h[s]);!Y.support.leadingWhitespace&&Jt.test(o)&&d.insertBefore(t.createTextNode(Jt.exec(o)[0]),d.firstChild),o=d.childNodes,d.parentNode.removeChild(d)}else o=t.createTextNode(o);o.nodeType?v.push(o):Y.merge(v,o)}if(d&&(o=d=C=null),!Y.support.appendChecked)for(a=0;null!=(o=v[a]);a++)Y.nodeName(o,"input")?m(o):"undefined"!=typeof o.getElementsByTagName&&Y.grep(o.getElementsByTagName("input"),m);if(n)for(g=function(e){return!e.type||Gt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},a=0;null!=(o=v[a]);a++)Y.nodeName(o,"script")&&g(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(p=Y.grep(Y.merge([],o.getElementsByTagName("script")),g),v.splice.apply(v,[a+1,0].concat(p)),a+=p.length));return v},cleanData:function(e,t){for(var n,r,a,s,o=0,i=Y.expando,l=Y.cache,c=Y.support.deleteExpando,u=Y.event.special;null!=(a=e[o]);o++)if((t||Y.acceptData(a))&&(r=a[i],n=r&&l[r])){if(n.events)for(s in n.events)u[s]?Y.event.remove(a,s):Y.removeEvent(a,s,n.handle);l[r]&&(delete l[r],c?delete a[i]:a.removeAttribute?a.removeAttribute(i):a[i]=null,Y.deletedIds.push(r))}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(V.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof Y&&!(r instanceof e)&&(r=e(r)),Y.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(J);return e}}();var nn,rn,an,sn=/alpha\([^)]*\)/i,on=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,dn=new RegExp("^("+Z+")(.*)$","i"),fn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),hn=new RegExp("^([-+])=("+Z+")","i"),gn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],yn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,r){return r!==t?Y.style(e,n,r):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return Y.isFunction(e)&&Y.isFunction(t)?yn.apply(this,arguments):this.each(function(){(n?e:C(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,i,l=Y.camelCase(n),c=e.style;if(n=Y.cssProps[l]||(Y.cssProps[l]=p(c,l)),i=Y.cssHooks[n]||Y.cssHooks[l],r===t)return i&&"get"in i&&(s=i.get(e,!1,a))!==t?s:c[n];if(o=typeof r,"string"===o&&(s=hn.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(Y.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"===o&&!Y.cssNumber[l]&&(r+="px"),i&&"set"in i&&(r=i.set(e,r,a))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,a){var s,o,i,l=Y.camelCase(n);return n=Y.cssProps[l]||(Y.cssProps[l]=p(e.style,l)),i=Y.cssHooks[n]||Y.cssHooks[l],i&&"get"in i&&(s=i.get(e,!0,a)),s===t&&(s=nn(e,n)),"normal"===s&&n in pn&&(s=pn[n]),r||a!==t?(o=parseFloat(s),r||Y.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,a,s={};for(a in t)s[a]=e.style[a],e.style[a]=t[a];r=n.call(e);for(a in t)e.style[a]=s[a];return r}}),e.getComputedStyle?nn=function(t,n){var r,a,s,o,i=e.getComputedStyle(t,null),l=t.style;return i&&(r=i.getPropertyValue(n)||i[n],""===r&&!Y.contains(t.ownerDocument,t)&&(r=Y.style(t,n)),fn.test(r)&&un.test(n)&&(a=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=i.width,l.width=a,l.minWidth=s,l.maxWidth=o)),r}:J.documentElement.currentStyle&&(nn=function(e,t){var n,r,a=e.currentStyle&&e.currentStyle[t],s=e.style;return null==a&&s&&s[t]&&(a=s[t]),fn.test(a)&&!ln.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),""===a?"auto":a}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&cn.test(nn(e,"display"))?Y.swap(e,mn,function(){return S(e,t,r)}):S(e,t,r):void 0},set:function(e,n,r){return y(e,n,r?_(e,t,r,Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing")):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return on.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,a=Y.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===Y.trim(s.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=sn.test(s)?s.replace(sn,a):s+" "+a)}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return fn.test(r)?Y(e).position()[t]+"px":r}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Y.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var r,a="string"==typeof n?n.split(" "):[n],s={};for(r=0;4>r;r++)s[e+Cn[r]+t]=a[r]||a[r-2]||a[0];return s}},un.test(e)||(Y.cssHooks[e+t].set=y)});var _n=/%20/g,Sn=/\[\]$/,bn=/\r?\n/g,xn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,kn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||kn.test(this.nodeName)||xn.test(this.type))}).map(function(e,t){var n=Y(this).val();return null==n?null:Y.isArray(n)?Y.map(n,function(e){return{name:t.name,value:e.replace(bn,"\r\n")}}):{name:t.name,value:n.replace(bn,"\r\n")}}).get()}}),Y.param=function(e,n){var r,a=[],s=function(e,t){t=Y.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional),Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){s(this.name,this.value)});else for(r in e)x(r,e[r],n,s);return a.join("&").replace(_n,"+")};var wn,Mn,An=/#.*$/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,jn=/^\/\//,Tn=/\?/,Pn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,In=/([?&])_=[^&]*/,En=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hn=Y.fn.load,Dn={},Fn={},Ln=["*/"]+["*"];try{Mn=R.href}catch(zn){Mn=J.createElement("a"),Mn.href="",Mn=Mn.href}wn=En.exec(Mn.toLowerCase())||[],Y.fn.load=function(e,n,r){if("string"!=typeof e&&Hn)return Hn.apply(this,arguments);if(!this.length)return this;var a,s,o,i=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),Y.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(s="POST"),Y.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&i.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,i.html(a?Y("<div>").append(e.replace(Pn,"")).find(a):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,r,a,s){return Y.isFunction(r)&&(s=s||a,a=r,r=t),Y.ajax({type:n,url:e,data:r,success:a,dataType:s})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?M(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),M(e,t),e},ajaxSettings:{url:Mn,isLocal:On.test(wn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ln},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:k(Dn),ajaxTransport:k(Fn),ajax:function(e,n){function r(e,n,r,o){var c,d,v,y,S,x=n;2!==_&&(_=2,l&&clearTimeout(l),i=t,s=o||"",b.readyState=e>0?4:0,r&&(y=A(f,b,r)),e>=200&&300>e||304===e?(f.ifModified&&(S=b.getResponseHeader("Last-Modified"),S&&(Y.lastModified[a]=S),S=b.getResponseHeader("Etag"),S&&(Y.etag[a]=S)),304===e?(x="notmodified",c=!0):(c=B(f,y),x=c.state,d=c.data,v=c.error,c=!v)):(v=x,(!x||e)&&(x="error",0>e&&(e=0))),b.status=e,b.statusText=(n||x)+"",c?m.resolveWith(h,[d,x,b]):m.rejectWith(h,[b,x,v]),b.statusCode(C),C=t,u&&g.trigger("ajax"+(c?"Success":"Error"),[b,f,c?d:v]),p.fireWith(h,[b,x]),u&&(g.trigger("ajaxComplete",[b,f]),--Y.active||Y.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var a,s,o,i,l,c,u,d,f=Y.ajaxSetup({},n),h=f.context||f,g=h!==f&&(h.nodeType||h instanceof Y)?Y(h):Y.event,m=Y.Deferred(),p=Y.Callbacks("once memory"),C=f.statusCode||{},v={},y={},_=0,S="canceled",b={readyState:0,setRequestHeader:function(e,t){if(!_){var n=e.toLowerCase();e=y[n]=y[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===_?s:null},getResponseHeader:function(e){var n;if(2===_){if(!o)for(o={};n=Bn.exec(s);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return _||(f.mimeType=e),this},abort:function(e){return e=e||S,i&&i.abort(e),r(0,e),this}};if(m.promise(b),b.success=b.done,b.error=b.fail,b.complete=p.add,b.statusCode=function(e){if(e){var t;if(2>_)for(t in e)C[t]=[C[t],e[t]];else t=e[b.status],b.always(t)}return this},f.url=((e||f.url)+"").replace(An,"").replace(jn,wn[1]+"//"),f.dataTypes=Y.trim(f.dataType||"*").toLowerCase().split(tt),null==f.crossDomain&&(c=En.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===wn[1]&&c[2]===wn[2]&&(c[3]||("http:"===c[1]?80:443))==(wn[3]||("http:"===wn[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Y.param(f.data,f.traditional)),w(Dn,f,n,b),2===_)return b;if(u=f.global,f.type=f.type.toUpperCase(),f.hasContent=!Nn.test(f.type),u&&0===Y.active++&&Y.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(Tn.test(f.url)?"&":"?")+f.data,delete f.data),a=f.url,f.cache===!1)){var x=Y.now(),k=f.url.replace(In,"$1_="+x);f.url=k+(k===f.url?(Tn.test(f.url)?"&":"?")+"_="+x:"")}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&b.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(a=a||f.url,Y.lastModified[a]&&b.setRequestHeader("If-Modified-Since",Y.lastModified[a]),Y.etag[a]&&b.setRequestHeader("If-None-Match",Y.etag[a])),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ln+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)b.setRequestHeader(d,f.headers[d]);if(!f.beforeSend||f.beforeSend.call(h,b,f)!==!1&&2!==_){S="abort";for(d in{success:1,error:1,complete:1})b[d](f[d]);if(i=w(Fn,f,n,b)){b.readyState=1,u&&g.trigger("ajaxSend",[b,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){b.abort("timeout")},f.timeout));try{_=1,i.send(v,r)}catch(M){if(!(2>_))throw M;r(-1,M)}}else r(-1,"No Transport");return b}return b.abort()},active:0,lastModified:{},etag:{}});var Jn=[],Rn=/\?/,Vn=/(=)\?(?=&|$)|\?\?/,qn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jn.pop()||Y.expando+"_"+qn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,r,a){var s,o,i,l=n.data,c=n.url,u=n.jsonp!==!1,d=u&&Vn.test(c),f=u&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(l);return"jsonp"===n.dataTypes[0]||d||f?(s=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],d?n.url=c.replace(Vn,"$1"+s):f?n.data=l.replace(Vn,"$1"+s):u&&(n.url+=(Rn.test(c)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return i||Y.error(s+" was not called"),i[0]},n.dataTypes[0]="json",e[s]=function(){i=arguments},a.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Jn.push(s)),i&&Y.isFunction(o)&&o(i[0]),i=o=t}),"script"):void 0}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=J.head||J.getElementsByTagName("head")[0]||J.documentElement;return{send:function(a,s){n=J.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,a){(a||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,a||s(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Kn,Qn=e.ActiveXObject?function(){for(var e in Kn)Kn[e](0,1)}:!1,Wn=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||N()}:O,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var r;return{send:function(a,s){var o,i,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(i in n.xhrFields)l[i]=n.xhrFields[i];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");try{for(i in a)l.setRequestHeader(i,a[i])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,a){var i,c,u,d,f;try{if(r&&(a||4===l.readyState))if(r=t,o&&(l.onreadystatechange=Y.noop,Qn&&delete Kn[o]),a)4!==l.readyState&&l.abort();else{i=l.status,u=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(h){}try{c=l.statusText}catch(h){c=""}i||!n.isLocal||n.crossDomain?1223===i&&(i=204):i=d.text?200:404}}catch(g){a||s(-1,g)}d&&s(i,c,d,u)},n.async?4===l.readyState?setTimeout(r,0):(o=++Wn,Qn&&(Kn||(Kn={},Y(e).unload(Qn)),Kn[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Un,$n,Xn=/^(?:toggle|show|hide)$/,Gn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[E],er={"*":[function(e,t){var n,r,a=this.createTween(e,t),s=Gn.exec(t),o=a.cur(),i=+o||0,l=1,c=20;if(s){if(n=+s[2],r=s[3]||(Y.cssNumber[e]?"":"px"),"px"!==r&&i){i=Y.css(a.elem,e,!0)||n||1;do l=l||".5",i/=l,Y.style(a.elem,e,i+r);while(l!==(l=a.cur()/o)&&1!==l&&--c)}a.unit=r,a.start=i,a.end=s[1]?i+(s[1]+1)*n:n}return a}]};Y.Animation=Y.extend(P,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,a=e.length;a>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,a,s){this.elem=e,this.prop=n,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(Y.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Y.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Y.cssProps[e.prop]]||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(r,a,s){return null==r||"boolean"==typeof r||!e&&Y.isFunction(r)&&Y.isFunction(a)?n.apply(this,arguments):this.animate(D(t,!0),r,a,s)}}),Y.fn.extend({fadeTo:function(e,t,n,r){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var a=Y.isEmptyObject(e),s=Y.speed(t,n,r),o=function(){var t=P(this,Y.extend({},e),s);a&&t.stop(!0)};return a||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var a=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=Y.timers,o=Y._data(this);if(n)o[n]&&o[n].stop&&a(o[n]);else for(n in o)o[n]&&o[n].stop&&Yn.test(n)&&a(o[n]);for(n=s.length;n--;)s[n].elem===this&&(null==e||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&Y.dequeue(this,e)})}}),Y.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Y.speed=function(e,t,n){var r=e&&"object"==typeof e?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};return r.duration=Y.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Y.fx.speeds?Y.fx.speeds[r.duration]:Y.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Y.isFunction(r.old)&&r.old.call(this),r.queue&&Y.dequeue(this,r.queue)},r},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=H.prototype.init,Y.fx.tick=function(){var e,n=Y.timers,r=0;for(Un=Y.now();r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||Y.fx.stop(),Un=t},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!$n&&($n=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval($n),$n=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,r,a,s,o,i,l,c={top:0,left:0},u=this[0],d=u&&u.ownerDocument;if(d)return(r=d.body)===u?Y.offset.bodyOffset(u):(n=d.documentElement,Y.contains(n,u)?("undefined"!=typeof u.getBoundingClientRect&&(c=u.getBoundingClientRect()),a=F(d),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,i=a.pageYOffset||n.scrollTop,l=a.pageXOffset||n.scrollLeft,{top:c.top+i-s,left:c.left+l-o}):c)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Y.css(e,"position");"static"===r&&(e.style.position="relative");var a,s,o=Y(e),i=o.offset(),l=Y.css(e,"top"),c=Y.css(e,"left"),u=("absolute"===r||"fixed"===r)&&Y.inArray("auto",[l,c])>-1,d={},f={};u?(f=o.position(),a=f.top,s=f.left):(a=parseFloat(l)||0,s=parseFloat(c)||0),Y.isFunction(t)&&(t=t.call(e,n,i)),null!=t.top&&(d.top=t.top-i.top+a),null!=t.left&&(d.left=t.left-i.left+s),"using"in t?t.using.call(e,d):o.css(d)}},Y.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,r.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.body;e&&!tr.test(e.nodeName)&&"static"===Y.css(e,"position");)e=e.offsetParent;return e||J.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Y.fn[e]=function(a){return Y.access(this,function(e,a,s){var o=F(e);return s===t?o?n in o?o[n]:o.document.documentElement[a]:e[a]:(o?o.scrollTo(r?Y(o).scrollLeft():s,r?s:Y(o).scrollTop()):e[a]=s,void 0)},e,a,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,a){Y.fn[a]=function(a,s){var o=arguments.length&&(r||"boolean"!=typeof a),i=r||(a===!0||s===!0?"margin":"border");return Y.access(this,function(n,r,a){var s;return Y.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):a===t?Y.css(n,r,a,i):Y.style(n,r,a,i)},n,o?a:t,o,null)}})}),e.jQuery=e.$=Y,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Y})}(window),define("amber_vm/nil",["./boot"],function(e){return e.nil}),define("amber_vm/_st",["./smalltalk","./nil"],function(e,t){return function(n){return null==n?t:n.klass?n:e.JSObjectProxy._on_(n)}}),define("amber_core/Kernel-Objects",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st"],function(e,t,n){e.addPackage("Kernel-Objects"),e.packages["Kernel-Objects"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Object",e.nil,[],"Kernel-Objects"),e.Object.comment="**I am the root of the Smalltalk class system**. All classes in the system are subclasses of me.\n\nI provide default behavior common to all normal objects, such as:\n\n- accessing\n- copying\n- comparison\n- error handling\n- message sending\n- reflection\n\nAlso utility messages that all objects should respond to are defined here.\n\nI have no instance variable.\n\n##Access\n\nInstance variables can be accessed with `#instVarAt:` and `#instVarAt:put:`. `#instanceVariableNames` answers a collection of all instance variable names.\nAccessing JavaScript properties of an object is done through `#basicAt:`, `#basicAt:put:` and `basicDelete:`.\n\n##Copying\n\nCopying an object is handled by `#copy` and `#deepCopy`. The first one performs a shallow copy of the receiver, while the second one performs a deep copy.\nThe hook method `#postCopy` can be overriden in subclasses to copy fields as necessary to complete the full copy. It will be sent by the copy of the receiver.\n\n##Comparison\n\nI understand equality `#=` and identity `#==` comparison.\n\n##Error handling\n\n- `#halt` is the typical message to use for inserting breakpoints during debugging.\n- `#error:` throws a generic error exception\n- `#doesNotUnderstand:` handles the fact that there was an attempt to send the given message to the receiver but the receiver does not understand this message.\n	Overriding this message can be useful to implement proxies for example.",e.addMethod(e.method({selector:"->",category:"converting",fn:function(r){function a(){return e.Association||("undefined"==typeof Association?t:Association)}var s=this;return e.withContext(function(){var e;return e=n(a())._key_value_(s,r)},function(t){t.fill(s,"->",{anObject:r},e.Object)})},args:["anObject"],source:"-> anObject\n	^ Association key: self value: anObject",messageSends:["key:value:"],referencedClasses:["Association"]}),e.Object),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq_eq(t)},function(r){r.fill(n,"=",{anObject:t},e.Object)})},args:["anObject"],source:"= anObject\n	^ self == anObject",messageSends:["=="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var r=this;return e.withContext(function(e){var a,s;return a=r._identityHash(),e.sendIdx.identityHash=1,s=n(a).__eq(n(t)._identityHash())},function(n){n.fill(r,"==",{anObject:t},e.Object)})},args:["anObject"],source:"== anObject\n	^ self identityHash = anObject identityHash",messageSends:["=","identityHash"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){function r(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var a,s=this;return e.withContext(function(t){var o;return a=n(r())._new(),n(n(s._class())._allInstanceVariableNames())._do_(function(r){return e.withContext(function(){return n(a)._at_put_(r,n(s._instVarAt_(r))._asJSON())},function(e){e.fillBlock({each:r},t,1)})}),o=a},function(t){t.fill(s,"asJSON",{variables:a},e.Object)})},args:[],source:"asJSON\n	| variables |\n	variables := HashedCollection new.\n	self class allInstanceVariableNames do: [ :each |\n		variables at: each put: (self instVarAt: each) asJSON ].\n	^ variables",messageSends:["new","do:","allInstanceVariableNames","class","at:put:","asJSON","instVarAt:"],referencedClasses:["HashedCollection"]}),e.Object),e.addMethod(e.method({selector:"asJSONString",category:"converting",fn:function(){function r(){return e.JSON||("undefined"==typeof JSON?t:JSON)}var a=this;return e.withContext(function(){var e;return e=n(r())._stringify_(a._asJSON())},function(t){t.fill(a,"asJSONString",{},e.Object)})},args:[],source:"asJSONString\n	^ JSON stringify: self asJSON",messageSends:["stringify:","asJSON"],referencedClasses:["JSON"]}),e.Object),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asString()},function(n){n.fill(t,"asJavascript",{},e.Object)})},args:[],source:"asJavascript\n	^ self asString",messageSends:["asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._printString()},function(n){n.fill(t,"asString",{},e.Object)})},args:[],source:"asString\n	^ self printString",messageSends:["printString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n[t]},function(r){r.fill(n,"basicAt:",{aString:t},e.Object)})},args:["aString"],source:"basicAt: aString\n	<return self[aString]>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicAt:put:",category:"accessing",fn:function(t,n){var r=this;
return e.withContext(function(){return r[t]=n},function(a){a.fill(r,"basicAt:put:",{aString:t,anObject:n},e.Object)})},args:["aString","anObject"],source:"basicAt: aString put: anObject\n	<return self[aString] = anObject>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicDelete:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return delete n[t],t},function(r){r.fill(n,"basicDelete:",{aString:t},e.Object)})},args:["aString"],source:"basicDelete: aString\n	<delete self[aString]; return aString>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicPerform:",category:"message handling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._basicPerform_withArguments_(t,[])},function(r){r.fill(n,"basicPerform:",{aString:t},e.Object)})},args:["aString"],source:"basicPerform: aString\n	^ self basicPerform: aString withArguments: #()",messageSends:["basicPerform:withArguments:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicPerform:withArguments:",category:"message handling",fn:function(t,n){var r=this;return e.withContext(function(){return r[t].apply(r,n)},function(a){a.fill(r,"basicPerform:withArguments:",{aString:t,aCollection:n},e.Object)})},args:["aString","aCollection"],source:"basicPerform: aString withArguments: aCollection\n	<return self[aString].apply(self, aCollection);>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"class",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.klass},function(n){n.fill(t,"class",{},e.Object)})},args:[],source:"class\n	<return self.klass>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"copy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._shallowCopy())._postCopy()},function(n){n.fill(t,"copy",{},e.Object)})},args:[],source:"copy\n	^ self shallowCopy postCopy",messageSends:["postCopy","shallowCopy"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e=t.klass._new();for(var n in t)/^@.+/.test(n)&&(e[n]=t[n]._deepCopy());return e},function(n){n.fill(t,"deepCopy",{},e.Object)})},args:[],source:"deepCopy\n	<\n		var copy = self.klass._new();\n		for(var i in self) {\n		if(/^@.+/.test(i)) {\n			copy[i] = self[i]._deepCopy();\n		}\n		}\n		return copy;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"deprecatedAPI",category:"error handling",fn:function(){var t=this;return e.withContext(function(r){var a,s,o,i,l,c,u,d;return a=console,s=e.getThisContext()._home(),r.sendIdx.home=1,o=n(s)._asString(),r.sendIdx.asString=1,i=n(o).__comma(" is deprecated! (in "),l=n(e.getThisContext()._home())._home(),r.sendIdx.home=2,c=n(l)._asString(),u=n(i).__comma(c),r.sendIdx[","]=2,d=n(u).__comma(")"),r.sendIdx[","]=1,n(a)._warn_(d),t},function(n){n.fill(t,"deprecatedAPI",{},e.Object)})},args:[],source:"deprecatedAPI\n	\"Just a simple way to deprecate methods.\n	#deprecatedAPI is in the 'error handling' protocol even if it doesn't throw an error,\n	but it could in the future.\"\n	console warn: thisContext home asString, ' is deprecated! (in ', thisContext home home asString, ')'",messageSends:["warn:",",","asString","home"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"doesNotUnderstand:",category:"error handling",fn:function(r){function a(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var s=this;return e.withContext(function(){var e,t;return e=n(a())._new(),n(e)._receiver_(s),n(e)._message_(r),t=n(e)._signal(),s},function(t){t.fill(s,"doesNotUnderstand:",{aMessage:r},e.Object)})},args:["aMessage"],source:"doesNotUnderstand: aMessage\n	MessageNotUnderstood new\n		receiver: self;\n		message: aMessage;\n		signal",messageSends:["receiver:","new","message:","signal"],referencedClasses:["MessageNotUnderstood"]}),e.Object),e.addMethod(e.method({selector:"error:",category:"error handling",fn:function(r){function a(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(){return n(a())._signal_(r),s},function(t){t.fill(s,"error:",{aString:r},e.Object)})},args:["aString"],source:"error: aString\n	Error signal: aString",messageSends:["signal:"],referencedClasses:["Error"]}),e.Object),e.addMethod(e.method({selector:"halt",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Halt encountered"),t},function(n){n.fill(t,"halt",{},e.Object)})},args:[],source:"halt\n	self error: 'Halt encountered'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var n=t.identityHash;return n?n:(n=e.nextId(),Object.defineProperty(t,"identityHash",{value:n}),n)},function(n){n.fill(t,"identityHash",{},e.Object)})},args:[],source:"identityHash\n	<\n	var hash=self.identityHash;\n	if (hash) return hash;\n	hash=smalltalk.nextId();\n	Object.defineProperty(self, 'identityHash', {value:hash});\n	return hash;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n},function(r){r.fill(n,"ifNil:",{aBlock:t},e.Object)})},args:["aBlock"],source:'ifNil: aBlock\n	"inlined in the Compiler"\n	^ self',messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNil:ifNotNil:",category:"testing",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(r)._value_(a)},function(n){n.fill(a,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:r},e.Object)})},args:["aBlock","anotherBlock"],source:'ifNil: aBlock ifNotNil: anotherBlock\n	"inlined in the Compiler"\n	^ anotherBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNotNil:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(t)._value_(r)},function(n){n.fill(r,"ifNotNil:",{aBlock:t},e.Object)})},args:["aBlock"],source:'ifNotNil: aBlock\n	"inlined in the Compiler"\n	^ aBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNotNil:ifNil:",category:"testing",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(t)._value_(a)},function(n){n.fill(a,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:r},e.Object)})},args:["aBlock","anotherBlock"],source:'ifNotNil: aBlock ifNil: anotherBlock\n	"inlined in the Compiler"\n	^ aBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"initialize",{},e.Object)})},args:[],source:"initialize",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"inspect",category:"inspecting",fn:function(){function r(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var a=this;return e.withContext(function(){return n(r())._inspect_(a),a},function(t){t.fill(a,"inspect",{},e.Object)})},args:[],source:"inspect\n	InspectorHandler inspect: self",messageSends:["inspect:"],referencedClasses:["InspectorHandler"]}),e.Object),e.addMethod(e.method({selector:"inspectOn:",category:"inspecting",fn:function(r){function a(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var s,o=this;return e.withContext(function(t){var i;return s=n(a())._new(),n(s)._at_put_("#self",o),t.sendIdx["at:put:"]=1,n(n(o._class())._allInstanceVariableNames())._do_(function(r){return e.withContext(function(){return n(s)._at_put_(r,o._instVarAt_(r))},function(e){e.fillBlock({each:r},t,1)})}),n(r)._setLabel_(o._printString()),i=n(r)._setVariables_(s),o},function(t){t.fill(o,"inspectOn:",{anInspector:r,variables:s},e.Object)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	self class allInstanceVariableNames do: [ :each |\n		variables at: each put: (self instVarAt: each) ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","do:","allInstanceVariableNames","class","instVarAt:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.Object),e.addMethod(e.method({selector:"instVarAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@"+t]},function(r){r.fill(n,"instVarAt:",{aString:t},e.Object)})},args:["aString"],source:"instVarAt: aString\n	< return self['@'+aString] >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"instVarAt:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r["@"+t]=n,r},function(a){a.fill(r,"instVarAt:put:",{aString:t,anObject:n},e.Object)})},args:["aString","anObject"],source:"instVarAt: aString put: anObject\n	< self['@' + aString] = anObject >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isBehavior",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBehavior",{},e.Object)})},args:[],source:"isBehavior\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isBoolean",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBoolean",{},e.Object)})},args:[],source:"isBoolean\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isClass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isClass",{},e.Object)})},args:[],source:"isClass\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isCompiledMethod",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isCompiledMethod",{},e.Object)})},args:[],source:"isCompiledMethod\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isImmutable",{},e.Object)})},args:[],source:"isImmutable\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isKindOf:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var a,s;return a=r._isMemberOf_(t),s=e.assert(a)?!0:n(r._class())._inheritsFrom_(t)},function(n){n.fill(r,"isKindOf:",{aClass:t},e.Object)})},args:["aClass"],source:"isKindOf: aClass\n	^ (self isMemberOf: aClass)\n		ifTrue: [ true ]\n		ifFalse: [ self class inheritsFrom: aClass ]",messageSends:["ifTrue:ifFalse:","isMemberOf:","inheritsFrom:","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isMemberOf:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._class()).__eq(t)},function(n){n.fill(r,"isMemberOf:",{aClass:t},e.Object)})},args:["aClass"],source:"isMemberOf: aClass\n	^ self class = aClass",messageSends:["=","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isMetaclass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isMetaclass",{},e.Object)})},args:[],source:"isMetaclass\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isNil",{},e.Object)})},args:[],source:"isNil\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isNumber",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isNumber",{},e.Object)})},args:[],source:"isNumber\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isPackage",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isPackage",{},e.Object)})},args:[],source:"isPackage\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isParseFailure",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isParseFailure",{},e.Object)})},args:[],source:"isParseFailure\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isString",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isString",{},e.Object)})},args:[],source:"isString\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isSymbol",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSymbol",{},e.Object)})},args:[],source:"isSymbol\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"notNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._isNil())._not()},function(n){n.fill(t,"notNil",{},e.Object)})},args:[],source:"notNil\n	^ self isNil not",messageSends:["not","isNil"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"perform:",category:"message handling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._perform_withArguments_(t,[])},function(r){r.fill(n,"perform:",{aString:t},e.Object)})},args:["aString"],source:"perform: aString\n	^ self perform: aString withArguments: #()",messageSends:["perform:withArguments:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"perform:withArguments:",category:"message handling",fn:function(t,n){var r=this;return e.withContext(function(){return e.send(r,t._asSelector(),n)},function(a){a.fill(r,"perform:withArguments:",{aString:t,aCollection:n},e.Object)})},args:["aString","aCollection"],source:"perform: aString withArguments: aCollection\n	<return smalltalk.send(self, aString._asSelector(), aCollection)>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"postCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"postCopy",{},e.Object)})},args:[],source:"postCopy",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c;return s=r._class(),a.sendIdx["class"]=1,o=n(s)._name(),a.sendIdx.name=1,i=n(o)._first(),l=n(i)._isVowel(),c=e.assert(l)?"an ":"a ",n(t)._nextPutAll_(c),a.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(n(r._class())._name()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Object)})},args:["aStream"],source:"printOn: aStream\n	\"Append to the aStream, a string representing the receiver.\"\n	\n	aStream nextPutAll: (self class name first isVowel\n		ifTrue: [ 'an ' ]\n		ifFalse: [ 'a ' ]).\n	aStream nextPutAll: self class name",messageSends:["nextPutAll:","ifTrue:ifFalse:","isVowel","first","name","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"printString",category:"printing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var s;return s=n(r())._streamContents_(function(n){return e.withContext(function(){return a._printOn_(n)},function(e){e.fillBlock({stream:n},t,1)})})},function(t){t.fill(a,"printString",{},e.Object)})},args:[],source:'printString\n	"Answer a String representation of the receiver."\n\n	^ String streamContents: [ :stream | self printOn: stream ]',messageSends:["streamContents:","printOn:"],referencedClasses:["String"]}),e.Object),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPut_(r),r},function(n){n.fill(r,"putOn:",{aStream:t},e.Object)})},args:["aStream"],source:"putOn: aStream\n	aStream nextPut: self",messageSends:["nextPut:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"respondsTo:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._class())._canUnderstand_(t)},function(n){n.fill(r,"respondsTo:",{aSelector:t},e.Object)})},args:["aSelector"],source:"respondsTo: aSelector\n	^ self class canUnderstand: aSelector",messageSends:["canUnderstand:","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e=t.klass._new();for(var n in t)/^@.+/.test(n)&&(e[n]=t[n]);return e},function(n){n.fill(t,"shallowCopy",{},e.Object)})},args:[],source:"shallowCopy\n	<\n		var copy = self.klass._new();\n		for(var i in self) {\n		if(/^@.+/.test(i)) {\n			copy[i] = self[i];\n		}\n		}\n		return copy;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"shouldNotImplement",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("This method should not be implemented in ".__comma(n(t._class())._name())),t},function(n){n.fill(t,"shouldNotImplement",{},e.Object)})},args:[],source:"shouldNotImplement\n	self error: 'This method should not be implemented in ', self class name",messageSends:["error:",",","name","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object not indexable"),t},function(n){n.fill(t,"size",{},e.Object)})},args:[],source:"size\n	self error: 'Object not indexable'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"subclassResponsibility",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("This method is a responsibility of a subclass"),t},function(n){n.fill(t,"subclassResponsibility",{},e.Object)})},args:[],source:"subclassResponsibility\n	self error: 'This method is a responsibility of a subclass'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"test",category:"converting",fn:function(){var t,n=this;return e.withContext(function(){return t=1,n._halt(),n},function(r){r.fill(n,"test",{a:t},e.Object)})},args:[],source:"test\n	| a |\n	a := 1.\n	self halt",messageSends:["halt"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"throw:",category:"error handling",fn:function(t){var n=this;return e.withContext(function(){throw t},function(r){r.fill(n,"throw:",{anObject:t},e.Object)})},args:["anObject"],source:"throw: anObject\n	< throw anObject >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"try:catch:",category:"error handling",fn:function(t,n){var r=this;return e.withContext(function(){try{return t._value()}catch(e){return n._value_(e)}return r},function(a){a.fill(r,"try:catch:",{aBlock:t,anotherBlock:n},e.Object)})},args:["aBlock","anotherBlock"],source:"try: aBlock catch: anotherBlock\n	<try{return aBlock._value()} catch(e) {return anotherBlock._value_(e)}>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.valueOf()},function(n){n.fill(t,"value",{},e.Object)})},args:[],source:"value\n	<return self.valueOf()>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"yourself",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"yourself",{},e.Object)})},args:[],source:"yourself\n	^ self",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"~=",category:"comparing",fn:function(t){var r=this;return e.withContext(function(e){var a;return a=n(r.__eq(t)).__eq(!1),e.sendIdx["="]=1,a},function(n){n.fill(r,"~=",{anObject:t},e.Object)})},args:["anObject"],source:"~= anObject\n	^ (self = anObject) = false",messageSends:["="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"~~",category:"comparing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r.__eq_eq(t)).__eq(!1)},function(n){n.fill(r,"~~",{anObject:t},e.Object)})},args:["anObject"],source:"~~ anObject\n	^ (self == anObject) = false",messageSends:["=","=="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"class"},function(n){n.fill(t,"heliosClass",{},e.Object.klass)})},args:[],source:"heliosClass\n	\"Should be an Helios extension. Unfortunately, since helios can browse remote\n	environments, we can't extend base classes\"\n	\n	^ 'class'",messageSends:[],referencedClasses:[]}),e.Object.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"initialize",{},e.Object.klass)})},args:[],source:'initialize\n	"no op"',messageSends:[],referencedClasses:[]}),e.Object.klass),e.addClass("Boolean",e.Object,[],"Kernel-Objects"),e.Boolean.comment="I define the protocol for logic testing operations and conditional control structures for the logical values (see the `controlling` protocol).\n\nI have two instances, `true` and `false`.\n\nI am directly mapped to JavaScript Boolean. The `true` and `false` objects are the JavaScript boolean objects.\n\n## Usage Example:\n\n    aBoolean not ifTrue: [ ... ] ifFalse: [ ... ]",e.addMethod(e.method({selector:"&",category:"controlling",fn:function(t){var n=this;return e.withContext(function(){return 1==n?t:!1},function(r){r.fill(n,"&",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"& aBoolean\n	<\n		if(self == true) {\n		return aBoolean;\n		} else {\n		return false;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t._isBoolean&&t._isBoolean()?Boolean(1==n)==t:!1},function(r){r.fill(n,"=",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"= aBoolean\n	<\n		if(! aBoolean._isBoolean || ! aBoolean._isBoolean()) {\n			return false;\n		}\n		return Boolean(self == true) == aBoolean\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq(t)},function(r){r.fill(n,"==",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"== aBoolean\n	^ self = aBoolean",messageSends:["="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"and:",category:"controlling",fn:function(t){var r=this;return e.withContext(function(a){var s,o;return s=r.__eq(!0),o=n(s)._ifTrue_ifFalse_(t,function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},a,1)})})},function(n){n.fill(r,"and:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:"and: aBlock\n	^ self = true\n		ifTrue: aBlock\n		ifFalse: [ false ]",messageSends:["ifTrue:ifFalse:","="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asBit",category:"converting",fn:function(){var t=this;return e.withContext(function(){var n;return n=e.assert(t)?1:0},function(n){n.fill(t,"asBit",{},e.Boolean)})},args:[],source:"asBit\n	^ self ifTrue: [ 1 ] ifFalse: [ 0 ]",messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.Boolean)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toString()},function(n){n.fill(t,"asString",{},e.Boolean)})},args:[],source:"asString\n	< return self.toString() >",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"deepCopy",{},e.Boolean)})},args:[],source:"deepCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifFalse:",category:"controlling",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._ifTrue_ifFalse_(function(){return e.withContext(function(){},function(e){e.fillBlock({},r,1)})},t)},function(r){r.fill(n,"ifFalse:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:'ifFalse: aBlock\n	"inlined in the Compiler"\n	^ self ifTrue: [] ifFalse: aBlock',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifFalse:ifTrue:",category:"controlling",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._ifTrue_ifFalse_(n,t)},function(a){a.fill(r,"ifFalse:ifTrue:",{aBlock:t,anotherBlock:n},e.Boolean)})},args:["aBlock","anotherBlock"],source:'ifFalse: aBlock ifTrue: anotherBlock\n	"inlined in the Compiler"\n	^ self ifTrue: anotherBlock ifFalse: aBlock',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifTrue:",category:"controlling",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._ifTrue_ifFalse_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"ifTrue:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:'ifTrue: aBlock\n	"inlined in the Compiler"\n	^ self ifTrue: aBlock ifFalse: []',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifTrue:ifFalse:",category:"controlling",fn:function(t,n){var r=this;return e.withContext(function(){return 1==r?t._value():n._value()},function(a){a.fill(r,"ifTrue:ifFalse:",{aBlock:t,anotherBlock:n},e.Boolean)})},args:["aBlock","anotherBlock"],source:'ifTrue: aBlock ifFalse: anotherBlock\n	"inlined in the Compiler"\n	<\n		if(self == true) {\n		return aBlock._value();\n		} else {\n		return anotherBlock._value();\n		}\n	>',messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"isBoolean",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBoolean",{},e.Boolean)})},args:[],source:"isBoolean\n	^ true",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.Boolean)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"not",category:"controlling",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__eq(!1)},function(n){n.fill(t,"not",{},e.Boolean)})},args:[],source:"not\n	^ self = false",messageSends:["="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"or:",category:"controlling",fn:function(t){var r=this;return e.withContext(function(a){var s,o;return s=r.__eq(!0),o=n(s)._ifTrue_ifFalse_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},a,1)})},t)},function(n){n.fill(r,"or:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:"or: aBlock\n	^ self = true\n		ifTrue: [ true ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_(r._asString()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Boolean)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"shallowCopy",{},e.Boolean)})},args:[],source:"shallowCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"|",category:"controlling",fn:function(t){var n=this;return e.withContext(function(){return 1==n?!0:t},function(r){r.fill(n,"|",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"| aBoolean\n	<\n		if(self == true) {\n		return true;\n		} else {\n		return aBoolean;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addClass("Date",e.Object,[],"Kernel-Objects"),e.Date.comment="I am used to work with both dates and times. Therefore `Date today` and `Date now` are both valid in\nAmber and answer the same date object.\n\nDate directly maps to the `Date()` JavaScript constructor, and Amber date objects are JavaScript date objects.\n\n## API\n\nThe class-side `instance creation` protocol contains some convenience methods for creating date/time objects such as `#fromSeconds:`.\n\nArithmetic and comparison is supported (see the `comparing` and `arithmetic` protocols).\n\nThe `converting` protocol provides convenience methods for various convertions (to numbers, strings, etc.).",e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(r){r.fill(n,"+",{aDate:t},e.Date)})},args:["aDate"],source:"+ aDate\n	<return self + aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n-t},function(r){r.fill(n,"-",{aDate:t},e.Date)})},args:["aDate"],source:"- aDate\n	<return self - aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>n},function(r){r.fill(n,"<",{aDate:t},e.Date)})},args:["aDate"],source:"< aDate\n	<return self < aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>=n},function(r){r.fill(n,"<=",{aDate:t},e.Date)})},args:["aDate"],source:"<= aDate\n	<return self <= aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>t},function(r){r.fill(n,">",{aDate:t},e.Date)})},args:["aDate"],source:"> aDate\n	<return self >> aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>=t},function(r){r.fill(n,">=",{aDate:t},e.Date)})},args:["aDate"],source:">= aDate\n	<return self >>= aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asDateString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toDateString()},function(n){n.fill(t,"asDateString",{},e.Date)})},args:[],source:"asDateString\n	<return self.toDateString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asLocaleString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toLocaleString()},function(n){n.fill(t,"asLocaleString",{},e.Date)})},args:[],source:"asLocaleString\n	<return self.toLocaleString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asMilliseconds",category:"converting",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t._time()},function(n){n.fill(t,"asMilliseconds",{},e.Date)})},args:[],source:"asMilliseconds\n	^ self time",messageSends:["time"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asMilliseconds()},function(n){n.fill(t,"asNumber",{},e.Date)})},args:[],source:"asNumber\n	^ self asMilliseconds",messageSends:["asMilliseconds"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toString()},function(n){n.fill(t,"asString",{},e.Date)})},args:[],source:"asString\n	<return self.toString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asTimeString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toTimeString()},function(n){n.fill(t,"asTimeString",{},e.Date)})},args:[],source:"asTimeString\n	<return self.toTimeString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"day",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._dayOfWeek()},function(n){n.fill(t,"day",{},e.Date)})},args:[],source:"day\n	^ self dayOfWeek",messageSends:["dayOfWeek"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"day:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._dayOfWeek_(t),n},function(r){r.fill(n,"day:",{aNumber:t},e.Date)})},args:["aNumber"],source:"day: aNumber\n	self dayOfWeek: aNumber",messageSends:["dayOfWeek:"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfMonth",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getDate()},function(n){n.fill(t,"dayOfMonth",{},e.Date)})},args:[],source:"dayOfMonth\n	<return self.getDate()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfMonth:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setDate(t),n},function(r){r.fill(n,"dayOfMonth:",{aNumber:t},e.Date)})},args:["aNumber"],source:"dayOfMonth: aNumber\n	<self.setDate(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfWeek",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getDay()+1},function(n){n.fill(t,"dayOfWeek",{},e.Date)})},args:[],source:"dayOfWeek\n	<return self.getDay() + 1>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfWeek:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setDay(t-1)},function(r){r.fill(n,"dayOfWeek:",{aNumber:t},e.Date)})},args:["aNumber"],source:"dayOfWeek: aNumber\n	<return self.setDay(aNumber - 1)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"hours",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getHours()},function(n){n.fill(t,"hours",{},e.Date)})},args:[],source:"hours\n	<return self.getHours()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"hours:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setHours(t),n},function(r){r.fill(n,"hours:",{aNumber:t},e.Date)})},args:["aNumber"],source:"hours: aNumber\n	<self.setHours(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"milliseconds",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMilliseconds()},function(n){n.fill(t,"milliseconds",{},e.Date)})},args:[],source:"milliseconds\n	<return self.getMilliseconds()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"milliseconds:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMilliseconds(t),n},function(r){r.fill(n,"milliseconds:",{aNumber:t},e.Date)})},args:["aNumber"],source:"milliseconds: aNumber\n	<self.setMilliseconds(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"minutes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMinutes()},function(n){n.fill(t,"minutes",{},e.Date)})},args:[],source:"minutes\n	<return self.getMinutes()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"minutes:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMinutes(t),n},function(r){r.fill(n,"minutes:",{aNumber:t},e.Date)})},args:["aNumber"],source:"minutes: aNumber\n	<self.setMinutes(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"month",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMonth()+1},function(n){n.fill(t,"month",{},e.Date)})},args:[],source:"month\n	<return self.getMonth() + 1>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"month:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMonth(t-1),n},function(r){r.fill(n,"month:",{aNumber:t},e.Date)})},args:["aNumber"],source:"month: aNumber\n	<self.setMonth(aNumber - 1)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_(r._asString()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Date)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"seconds",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getSeconds()},function(n){n.fill(t,"seconds",{},e.Date)})},args:[],source:"seconds\n	<return self.getSeconds()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"seconds:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setSeconds(t),n},function(r){r.fill(n,"seconds:",{aNumber:t},e.Date)})},args:["aNumber"],source:"seconds: aNumber\n	<self.setSeconds(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"time",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getTime()},function(n){n.fill(t,"time",{},e.Date)})},args:[],source:"time\n	<return self.getTime()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"time:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setTime(t),n},function(r){r.fill(n,"time:",{aNumber:t},e.Date)})},args:["aNumber"],source:"time: aNumber\n	<self.setTime(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"year",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getFullYear()},function(n){n.fill(t,"year",{},e.Date)})},args:[],source:"year\n	<return self.getFullYear()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"year:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setFullYear(t),n},function(r){r.fill(n,"year:",{aNumber:t},e.Date)})},args:["aNumber"],source:"year: aNumber\n	<self.setFullYear(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"fromMilliseconds:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new_(t)},function(r){r.fill(n,"fromMilliseconds:",{aNumber:t},e.Date.klass)})},args:["aNumber"],source:"fromMilliseconds: aNumber\n	^ self new: aNumber",messageSends:["new:"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"fromSeconds:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e;return e=r._fromMilliseconds_(n(t).__star(1e3))},function(n){n.fill(r,"fromSeconds:",{aNumber:t},e.Date.klass)})},args:["aNumber"],source:"fromSeconds: aNumber\n	^ self fromMilliseconds: aNumber * 1000",messageSends:["fromMilliseconds:","*"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new_(t)},function(r){r.fill(n,"fromString:",{aString:t},e.Date.klass)})},args:["aString"],source:"fromString: aString\n	\"Example: Date fromString('2011/04/15 00:00:00')\"\n	^ self new: aString",messageSends:["new:"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Date.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"millisecondsToRun:",category:"instance creation",fn:function(r){function a(){return e.Date||("undefined"==typeof Date?t:Date)}var s,o=this;return e.withContext(function(e){var t;return s=n(a())._now(),e.sendIdx.now=1,n(r)._value(),t=n(n(a())._now()).__minus(s)},function(t){t.fill(o,"millisecondsToRun:",{aBlock:r,t:s},e.Date.klass)})},args:["aBlock"],source:"millisecondsToRun: aBlock\n	| t |\n	t := Date now.\n	aBlock value.\n	^ Date now - t",messageSends:["now","value","-"],referencedClasses:["Date"]}),e.Date.klass),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return new Date(t)},function(r){r.fill(n,"new:",{anObject:t},e.Date.klass)})},args:["anObject"],source:"new: anObject\n	<return new Date(anObject)>",messageSends:[],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"now",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._today()},function(n){n.fill(t,"now",{},e.Date.klass)})},args:[],source:"now\n	^ self today",messageSends:["today"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"today",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._new()},function(n){n.fill(t,"today",{},e.Date.klass)})},args:[],source:"today\n	^ self new",messageSends:["new"],referencedClasses:[]}),e.Date.klass),e.addClass("Number",e.Object,[],"Kernel-Objects"),e.Number.comment="I am the Amber representation for all numbers.\nI am directly mapped to JavaScript Number.\n\n## API\n\nI provide all necessary methods for arithmetic operations, comparison, conversion and so on with numbers.\n\nMy instances can also be used to evaluate a block a fixed number of times:\n\n	5 timesRepeat: [ Transcript show: 'This will be printed 5 times'; cr ].\n	\n	1 to: 5 do: [ :aNumber| Transcript show: aNumber asString; cr ].\n	\n	1 to: 10 by: 2 do: [ :aNumber| Transcript show: aNumber asString; cr ].",e.addMethod(e.method({selector:"&",category:"converting",fn:function(t){var n=this;return e.withContext(function(){return n&t},function(r){r.fill(n,"&",{aNumber:t},e.Number)})},args:["aNumber"],source:"& aNumber\n	<return self & aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"*",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n*t},function(r){r.fill(n,"*",{aNumber:t},e.Number)})},args:["aNumber"],source:'* aNumber\n	"Inlined in the Compiler"\n	<return self * aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"**",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._raisedTo_(t)},function(r){r.fill(n,"**",{exponent:t},e.Number)})},args:["exponent"],source:"** exponent\n	^ self raisedTo: exponent",messageSends:["raisedTo:"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(r){r.fill(n,"+",{aNumber:t},e.Number)})},args:["aNumber"],source:'+ aNumber\n	"Inlined in the Compiler"\n	<return self + aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n-t},function(r){r.fill(n,"-",{aNumber:t},e.Number)})},args:["aNumber"],source:'- aNumber\n	"Inlined in the Compiler"\n	<return self - aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"/",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n/t},function(r){r.fill(n,"/",{aNumber:t},e.Number)})},args:["aNumber"],source:'/ aNumber\n	"Inlined in the Compiler"\n	<return self / aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"//",category:"arithmetic",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r.__slash(t))._floor()},function(n){n.fill(r,"//",{aNumber:t},e.Number)})},args:["aNumber"],source:"// aNumber\n	^ (self / aNumber) floor",messageSends:["floor","/"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>n},function(r){r.fill(n,"<",{aNumber:t},e.Number)})},args:["aNumber"],source:'< aNumber\n	"Inlined in the Compiler"\n	<return self < aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>=n},function(r){r.fill(n,"<=",{aNumber:t},e.Number)})},args:["aNumber"],source:'<= aNumber\n	"Inlined in the Compiler"\n	<return self <= aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t._isNumber&&t._isNumber()?Number(n)==t:!1},function(r){r.fill(n,"=",{aNumber:t},e.Number)})},args:["aNumber"],source:"= aNumber\n	<\n		if(! aNumber._isNumber || ! aNumber._isNumber()) {\n			return false;\n		}\n		return Number(self) == aNumber\n	>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>t},function(r){r.fill(n,">",{aNumber:t},e.Number)})},args:["aNumber"],source:'> aNumber\n	"Inlined in the Compiler"\n	<return self >> aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>=t},function(r){r.fill(n,">=",{aNumber:t},e.Number)})},args:["aNumber"],source:'>= aNumber\n	"Inlined in the Compiler"\n	<return self >>= aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"@",category:"converting",fn:function(r){function a(){return e.Point||("undefined"==typeof Point?t:Point)}var s=this;return e.withContext(function(){var e;return e=n(a())._x_y_(s,r)},function(t){t.fill(s,"@",{aNumber:r},e.Number)})},args:["aNumber"],source:"@ aNumber\n	^ Point x: self y: aNumber",messageSends:["x:y:"],referencedClasses:["Point"]}),e.Number),e.addMethod(e.method({selector:"\\\\",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n%t},function(r){r.fill(n,"\\\\",{aNumber:t},e.Number)})},args:["aNumber"],source:"\\\\ aNumber\n	<return self % aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"abs",category:"arithmetic",fn:function(){var t=this;return e.withContext(function(){return Math.abs(t)},function(n){n.fill(t,"abs",{},e.Number)})},args:[],source:"abs\n	<return Math.abs(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcCos",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.acos(t)},function(n){n.fill(t,"arcCos",{},e.Number)})},args:[],source:"arcCos\n	<return Math.acos(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcSin",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.asin(t)},function(n){n.fill(t,"arcSin",{},e.Number)})},args:[],source:"arcSin\n	<return Math.asin(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcTan",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.atan(t)},function(n){n.fill(t,"arcTan",{},e.Number)})},args:[],source:"arcTan\n	<return Math.atan(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.Number)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(e){var r;return r=n("(".__comma(t._printString())).__comma(")"),e.sendIdx[","]=1,r},function(n){n.fill(t,"asJavascript",{},e.Number)})},args:[],source:"asJavascript\n	^ '(', self printString, ')'",messageSends:[",","printString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asNumber",{},e.Number)})},args:[],source:"asNumber\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asPoint",category:"converting",fn:function(){function r(){return e.Point||("undefined"==typeof Point?t:Point)}var a=this;return e.withContext(function(){var e;return e=n(r())._x_y_(a,a)},function(t){t.fill(a,"asPoint",{},e.Number)})},args:[],source:"asPoint\n	^ Point x: self y: self",messageSends:["x:y:"],referencedClasses:["Point"]}),e.Number),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return String(t)},function(n){n.fill(t,"asString",{},e.Number)})},args:[],source:"asString\n	< return String(self) >",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"atRandom",category:"converting",fn:function(){function r(){return e.Random||("undefined"==typeof Random?t:Random)}var a=this;return e.withContext(function(){var e;return e=n(n(n(n(n(r())._new())._next()).__star(a))._truncated()).__plus(1)},function(t){t.fill(a,"atRandom",{},e.Number)})},args:[],source:"atRandom\n	^ (Random new next * self) truncated + 1",messageSends:["+","truncated","*","next","new"],referencedClasses:["Random"]}),e.Number),e.addMethod(e.method({selector:"ceiling",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.ceil(t)},function(n){n.fill(t,"ceiling",{},e.Number)})},args:[],source:"ceiling\n	<return Math.ceil(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"copy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"copy",{},e.Number)})},args:[],source:"copy\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"cos",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.cos(t)},function(n){n.fill(t,"cos",{},e.Number)})},args:[],source:"cos\n	<return Math.cos(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copy()},function(n){n.fill(t,"deepCopy",{},e.Number)})},args:[],source:"deepCopy\n	^ self copy",messageSends:["copy"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"even",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=0..__eq(t.__backslash_backslash(2))},function(n){n.fill(t,"even",{},e.Number)})},args:[],source:"even\n	^ 0 = (self \\\\ 2)",messageSends:["=","\\\\"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"floor",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.floor(t)},function(n){n.fill(t,"floor",{},e.Number)})},args:[],source:"floor\n	<return Math.floor(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asString()).__comma("n")},function(n){n.fill(t,"identityHash",{},e.Number)})},args:[],source:"identityHash\n	^ self asString, 'n'",messageSends:[",","asString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.Number)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isNumber",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isNumber",{},e.Number)})},args:[],source:"isNumber\n	^ true",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isZero",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__eq(0)},function(n){n.fill(t,"isZero",{},e.Number)})},args:[],source:"isZero\n	^ self = 0",messageSends:["="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"ln",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.log(t)},function(n){n.fill(t,"ln",{},e.Number)})},args:[],source:"ln\n	<return Math.log(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"log",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.log(t)/Math.LN10},function(n){n.fill(t,"log",{},e.Number)})},args:[],source:"log\n	<return Math.log(self) / Math.LN10;>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"log:",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){return Math.log(n)/Math.log(t)},function(r){r.fill(n,"log:",{aNumber:t},e.Number)})},args:["aNumber"],source:"log: aNumber\n	<return Math.log(self) / Math.log(aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"max:",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return Math.max(n,t)},function(r){r.fill(n,"max:",{aNumber:t},e.Number)})},args:["aNumber"],source:"max: aNumber\n	<return Math.max(self, aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"min:",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return Math.min(n,t)},function(r){r.fill(n,"min:",{aNumber:t},e.Number)})},args:["aNumber"],source:"min: aNumber\n	<return Math.min(self, aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"negated",category:"arithmetic",fn:function(){var t=this;return e.withContext(function(){var e;return e=0..__minus(t)},function(n){n.fill(t,"negated",{},e.Number)})},args:[],source:"negated\n	^ 0 - self",messageSends:["-"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"negative",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__lt(0)},function(n){n.fill(t,"negative",{},e.Number)})},args:[],source:'negative\n	"Answer whether the receiver is mathematically negative."\n\n	^ self < 0',messageSends:["<"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"odd",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._even())._not()},function(n){n.fill(t,"odd",{},e.Number)})},args:[],source:"odd\n	^ self even not",messageSends:["not","even"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"positive",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__gt_eq(0)},function(n){n.fill(t,"positive",{},e.Number)})},args:[],source:'positive\n	"Answer whether the receiver is positive or equal to 0. (ST-80 protocol)."\n\n	^ self >= 0',messageSends:[">="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_(r._asString()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Number)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"printShowingDecimalPlaces:",category:"printing",fn:function(t){var n=this;return e.withContext(function(){return n.toFixed(t)},function(r){r.fill(n,"printShowingDecimalPlaces:",{placesDesired:t},e.Number)})},args:["placesDesired"],source:"printShowingDecimalPlaces: placesDesired\n	<return self.toFixed(placesDesired)>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"raisedTo:",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){return Math.pow(n,t)},function(r){r.fill(n,"raisedTo:",{exponent:t},e.Number)})},args:["exponent"],source:"raisedTo: exponent\n	<return Math.pow(self, exponent);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"rounded",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.round(t)},function(n){n.fill(t,"rounded",{},e.Number)})},args:[],source:"rounded\n	<return Math.round(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sign",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){var n,r;return n=t._isZero(),e.assert(n)?0:(r=t._positive(),e.assert(r)?1:-1)},function(n){n.fill(t,"sign",{},e.Number)})},args:[],source:"sign\n	self isZero \n		ifTrue: [ ^ 0 ].\n	self positive\n		ifTrue: [ ^ 1 ]\n		ifFalse: [ ^ -1 ].",messageSends:["ifTrue:","isZero","ifTrue:ifFalse:","positive"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sin",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.sin(t)},function(n){n.fill(t,"sin",{},e.Number)})},args:[],source:"sin\n	<return Math.sin(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sqrt",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.sqrt(t)},function(n){n.fill(t,"sqrt",{},e.Number)})},args:[],source:"sqrt\n	<return Math.sqrt(self)>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"squared",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__star(t)},function(n){n.fill(t,"squared",{},e.Number)})},args:[],source:"squared\n	^ self * self",messageSends:["*"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"tan",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.tan(t)},function(n){n.fill(t,"tan",{},e.Number)})},args:[],source:"tan\n	<return Math.tan(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"timesRepeat:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){return r=1,n(function(){return e.withContext(function(){return n(r).__gt(a)},function(e){e.fillBlock({},s,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._value(),r=n(r).__plus(1)},function(e){e.fillBlock({},s,2)})}),a},function(n){n.fill(a,"timesRepeat:",{aBlock:t,count:r},e.Number)})},args:["aBlock"],source:"timesRepeat: aBlock\n	| count |\n	count := 1.\n	[ count > self ] whileFalse: [\n		aBlock value.\n		count := count + 1 ]",messageSends:["whileFalse:",">","value","+"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"to:",category:"converting",fn:function(r){function a(){return e.Array||("undefined"==typeof Array?t:Array)}var s,o,i,l,c=this;return e.withContext(function(t){var u;return o=c._truncated(),t.sendIdx.truncated=1,i=n(n(r)._truncated()).__plus(1),t.sendIdx["+"]=1,l=1,s=n(a())._new(),n(n(i).__minus(o))._timesRepeat_(function(){return e.withContext(function(e){return n(s)._at_put_(l,o),l=n(l).__plus(1),e.sendIdx["+"]=2,o=n(o).__plus(1)},function(e){e.fillBlock({},t,1)})}),u=s},function(t){t.fill(c,"to:",{aNumber:r,array:s,first:o,last:i,count:l},e.Number)})},args:["aNumber"],source:"to: aNumber\n	| array first last count |\n	first := self truncated.\n	last := aNumber truncated + 1.\n	count := 1.\n	array := Array new.\n	(last - first) timesRepeat: [\n		array at: count put: first.\n		count := count + 1.\n		first := first + 1 ].\n	^ array",messageSends:["truncated","+","new","timesRepeat:","-","at:put:"],referencedClasses:["Array"]}),e.Number),e.addMethod(e.method({selector:"to:by:",category:"converting",fn:function(r,a){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i,l,c=this;return e.withContext(function(t){var u,d,f;return i=c,o=n(s())._new(),l=1,u=n(a).__eq(0),e.assert(u)&&c._error_("step must be non-zero"),d=n(a).__lt(0),e.assert(d)?(n(function(){return e.withContext(function(){return n(i).__gt_eq(r)},function(e){e.fillBlock({},t,3)})})._whileTrue_(function(){return e.withContext(function(e){return n(o)._at_put_(l,i),e.sendIdx["at:put:"]=1,l=n(l).__plus(1),e.sendIdx["+"]=1,i=n(i).__plus(a),e.sendIdx["+"]=2,i},function(e){e.fillBlock({},t,4)})}),t.sendIdx["whileTrue:"]=1):n(function(){return e.withContext(function(){return n(i).__lt_eq(r)},function(e){e.fillBlock({},t,6)})})._whileTrue_(function(){return e.withContext(function(e){return n(o)._at_put_(l,i),l=n(l).__plus(1),e.sendIdx["+"]=3,i=n(i).__plus(a)},function(e){e.fillBlock({},t,7)})}),f=o},function(t){t.fill(c,"to:by:",{stop:r,step:a,array:o,value:i,pos:l},e.Number)})},args:["stop","step"],source:"to: stop by: step\n	| array value pos |\n	value := self.\n	array := Array new.\n	pos := 1.\n	step = 0 ifTrue: [ self error: 'step must be non-zero' ].\n	step < 0\n		ifTrue: [ [ value >= stop ] whileTrue: [\n					array at: pos put: value.\n					pos := pos + 1.\n					value := value + step ]]\n		ifFalse: [ [ value <= stop ] whileTrue: [\n					array at: pos put: value.\n				pos := pos + 1.\n					value := value + step ]].\n	^ array",messageSends:["new","ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","at:put:","+","<="],referencedClasses:["Array"]}),e.Number),e.addMethod(e.method({selector:"to:by:do:",category:"enumerating",fn:function(t,r,a){var s,o=this;return e.withContext(function(i){var l,c;return s=o,l=n(r).__eq(0),e.assert(l)&&o._error_("step must be non-zero"),c=n(r).__lt(0),e.assert(c)?(n(function(){return e.withContext(function(){return n(s).__gt_eq(t)},function(e){e.fillBlock({},i,3)})})._whileTrue_(function(){return e.withContext(function(e){return n(a)._value_(s),e.sendIdx["value:"]=1,s=n(s).__plus(r),e.sendIdx["+"]=1,s},function(e){e.fillBlock({},i,4)})}),i.sendIdx["whileTrue:"]=1):n(function(){return e.withContext(function(){return n(s).__lt_eq(t)},function(e){e.fillBlock({},i,6)})})._whileTrue_(function(){return e.withContext(function(){return n(a)._value_(s),s=n(s).__plus(r)},function(e){e.fillBlock({},i,7)})}),o},function(n){n.fill(o,"to:by:do:",{stop:t,step:r,aBlock:a,value:s},e.Number)})},args:["stop","step","aBlock"],source:"to: stop by: step do: aBlock\n	| value |\n	value := self.\n	step = 0 ifTrue: [ self error: 'step must be non-zero' ].\n	step < 0\n		ifTrue: [ [ value >= stop ] whileTrue: [\n					aBlock value: value.\n					value := value + step ]]\n		ifFalse: [ [ value <= stop ] whileTrue: [\n					aBlock value: value.\n					value := value + step ]]",messageSends:["ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","value:","+","<="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"to:do:",category:"enumerating",fn:function(t,r){var a,s=this;
return e.withContext(function(o){return a=s,n(function(){return e.withContext(function(){return n(a).__lt_eq(t)},function(e){e.fillBlock({},o,1)})})._whileTrue_(function(){return e.withContext(function(){return n(r)._value_(a),a=n(a).__plus(1)},function(e){e.fillBlock({},o,2)})}),s},function(n){n.fill(s,"to:do:",{stop:t,aBlock:r,nextValue:a},e.Number)})},args:["stop","aBlock"],source:'to: stop do: aBlock\n	"Evaluate aBlock for each number from self to aNumber."\n	| nextValue |\n	nextValue := self.\n	[ nextValue <= stop ]\n		whileTrue:\n			[ aBlock value: nextValue.\n			nextValue := nextValue + 1 ]',messageSends:["whileTrue:","<=","value:","+"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"truncated",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t>=0?Math.floor(t):-1*Math.floor(-1*t)},function(n){n.fill(t,"truncated",{},e.Number)})},args:[],source:"truncated\n	<\n		if(self >>= 0) {\n			return Math.floor(self);\n		} else {\n			return Math.floor(self * (-1)) * (-1);\n		};\n	>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"|",category:"converting",fn:function(t){var n=this;return e.withContext(function(){return n|t},function(r){r.fill(n,"|",{aNumber:t},e.Number)})},args:["aNumber"],source:"| aNumber\n	<return self | aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"e",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return Math.E},function(n){n.fill(t,"e",{},e.Number.klass)})},args:[],source:"e\n	<return Math.E;>",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Number.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addMethod(e.method({selector:"pi",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return Math.PI},function(n){n.fill(t,"pi",{},e.Number.klass)})},args:[],source:"pi\n	<return Math.PI>",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addClass("Point",e.Object,["x","y"],"Kernel-Objects"),e.Point.comment='I represent an x-y pair of numbers usually designating a geometric coordinate.\n\n## API\n\nInstances are traditionally created using the binary `#@` message to a number:\n\n	100@120\n\nPoints can then be arithmetically manipulated:\n\n	100@100 + (10@10)\n\n...or for example:\n\n	(100@100) * 2\n\n**NOTE:** Creating a point with a negative y-value will need a space after `@` in order to avoid a parsing error:\n\n	100@ -100 "but 100@-100 would not parse"',e.addMethod(e.method({selector:"*",category:"arithmetic",fn:function(r){function a(){return e.Point||("undefined"==typeof Point?t:Point)}var s=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=s._x(),e.sendIdx.x=1,o=n(r)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__star(i),e.sendIdx["*"]=1,c=s._y(),e.sendIdx.y=1,u=n(c).__star(n(n(r)._asPoint())._y()),d=n(a())._x_y_(l,u)},function(t){t.fill(s,"*",{aPoint:r},e.Point)})},args:["aPoint"],source:"* aPoint\n	^ Point x: self x * aPoint asPoint x y: self y * aPoint asPoint y",messageSends:["x:y:","*","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(r){function a(){return e.Point||("undefined"==typeof Point?t:Point)}var s=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=s._x(),e.sendIdx.x=1,o=n(r)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__plus(i),e.sendIdx["+"]=1,c=s._y(),e.sendIdx.y=1,u=n(c).__plus(n(n(r)._asPoint())._y()),d=n(a())._x_y_(l,u)},function(t){t.fill(s,"+",{aPoint:r},e.Point)})},args:["aPoint"],source:"+ aPoint\n	^ Point x: self x + aPoint asPoint x y: self y + aPoint asPoint y",messageSends:["x:y:","+","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(r){function a(){return e.Point||("undefined"==typeof Point?t:Point)}var s=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=s._x(),e.sendIdx.x=1,o=n(r)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__minus(i),e.sendIdx["-"]=1,c=s._y(),e.sendIdx.y=1,u=n(c).__minus(n(n(r)._asPoint())._y()),d=n(a())._x_y_(l,u)},function(t){t.fill(s,"-",{aPoint:r},e.Point)})},args:["aPoint"],source:"- aPoint\n	^ Point x: self x - aPoint asPoint x y: self y - aPoint asPoint y",messageSends:["x:y:","-","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"/",category:"arithmetic",fn:function(r){function a(){return e.Point||("undefined"==typeof Point?t:Point)}var s=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=s._x(),e.sendIdx.x=1,o=n(r)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__slash(i),e.sendIdx["/"]=1,c=s._y(),e.sendIdx.y=1,u=n(c).__slash(n(n(r)._asPoint())._y()),d=n(a())._x_y_(l,u)},function(t){t.fill(s,"/",{aPoint:r},e.Point)})},args:["aPoint"],source:"/ aPoint\n	^ Point x: self x / aPoint asPoint x y: self y / aPoint asPoint y",messageSends:["x:y:","/","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"=",category:"arithmetic",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c,u,d;return s=n(t)._class(),a.sendIdx["class"]=1,o=n(s).__eq(r._class()),a.sendIdx["="]=1,d=n(o)._and_(function(){return e.withContext(function(e){return i=n(t)._x(),e.sendIdx.x=1,l=n(i).__eq(r._x()),e.sendIdx["="]=2,c=n(t)._y(),e.sendIdx.y=1,u=n(c).__eq(r._y()),n(l).__and(u)},function(e){e.fillBlock({},a,1)})})},function(n){n.fill(r,"=",{aPoint:t},e.Point)})},args:["aPoint"],source:"= aPoint\n	^ aPoint class = self class and: [\n		(aPoint x = self x) & (aPoint y = self y) ]",messageSends:["and:","=","class","&","x","y"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"asPoint",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asPoint",{},e.Point)})},args:[],source:"asPoint\n	^ self",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){var s;return n(r["@x"])._printOn_(t),a.sendIdx["printOn:"]=1,n(t)._nextPutAll_("@"),s=n(n(r["@y"])._notNil())._and_(function(){return e.withContext(function(){return n(r["@y"])._negative()},function(e){e.fillBlock({},a,1)})}),e.assert(s)&&n(t)._space(),n(r["@y"])._printOn_(t),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Point)})},args:["aStream"],source:'printOn: aStream\n	"Print receiver in classic x@y notation."\n\n	x printOn: aStream.\n	\n	aStream nextPutAll: \'@\'.\n	(y notNil and: [ y negative ]) ifTrue: [\n			"Avoid ambiguous @- construct"\n			aStream space ].\n	\n	y printOn: aStream',messageSends:["printOn:","nextPutAll:","ifTrue:","and:","notNil","negative","space"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"translateBy:",category:"transforming",fn:function(t){var r=this;return e.withContext(function(e){var a,s;return a=n(n(t)._x()).__plus(r["@x"]),e.sendIdx["+"]=1,s=n(a).__at(n(n(t)._y()).__plus(r["@y"]))},function(n){n.fill(r,"translateBy:",{delta:t},e.Point)})},args:["delta"],source:'translateBy: delta\n	"Answer a Point translated by delta (an instance of Point)."\n	^ (delta x + x) @ (delta y + y)',messageSends:["@","+","x","y"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"x",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@x"]},function(n){n.fill(t,"x",{},e.Point)})},args:[],source:"x\n	^ x",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"x:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@x"]=t,n},function(r){r.fill(n,"x:",{aNumber:t},e.Point)})},args:["aNumber"],source:"x: aNumber\n	x := aNumber",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"y",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@y"]},function(n){n.fill(t,"y",{},e.Point)})},args:[],source:"y\n	^ y",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"y:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@y"]=t,n},function(r){r.fill(n,"y:",{aNumber:t},e.Point)})},args:["aNumber"],source:"y: aNumber\n	y := aNumber",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Point.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Point.klass),e.addMethod(e.method({selector:"x:y:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(){var e,s,o;return e=a._new(),n(e)._x_(t),n(e)._y_(r),s=n(e)._yourself(),o=s},function(n){n.fill(a,"x:y:",{aNumber:t,anotherNumber:r},e.Point.klass)})},args:["aNumber","anotherNumber"],source:"x: aNumber y: anotherNumber\n	^ self new\n		x: aNumber;\n		y: anotherNumber;\n		yourself",messageSends:["x:","new","y:","yourself"],referencedClasses:[]}),e.Point.klass),e.addClass("Random",e.Object,[],"Kernel-Objects"),e.Random.comment="I an used to generate a random number and I am implemented as a trivial wrapper around javascript `Math.random()`.\n\n## API\n\nThe typical use case it to use the `#next` method like the following:\n\n	Random new next\n\nThis will return a float x where x < 1 and x > 0. If you want a random integer from 1 to 10 you can use `#atRandom`\n\n	10 atRandom\n\nA random number in a specific interval can be obtained with the following:\n\n	(3 to: 7) atRandom\n\nBe aware that `#to:` does not create an Interval as in other Smalltalk implementations but in fact an `Array` of numbers, so it's better to use:\n\n	5 atRandom + 2\n\nSince `#atRandom` is implemented in `SequencableCollection` you can easy pick an element at random:\n\n	#('a' 'b' 'c') atRandom\n\nAs well as letter from a `String`:\n\n	'abc' atRandom\n\nSince Amber does not have Characters this will return a `String` of length 1 like for example `'b'`.",e.addMethod(e.method({selector:"next",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return Math.random()},function(n){n.fill(t,"next",{},e.Random)})},args:[],source:"next\n	<return Math.random()>",messageSends:[],referencedClasses:[]}),e.Random),e.addMethod(e.method({selector:"next:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(a){var s;return s=n(1.._to_(t))._collect_(function(t){return e.withContext(function(){return r._next()},function(e){e.fillBlock({each:t},a,1)})})},function(n){n.fill(r,"next:",{anInteger:t},e.Random)})},args:["anInteger"],source:"next: anInteger\n	^ (1 to: anInteger) collect: [ :each | self next ]",messageSends:["collect:","to:","next"],referencedClasses:[]}),e.Random),e.addClass("UndefinedObject",e.Object,[],"Kernel-Objects"),e.UndefinedObject.comment="I describe the behavior of my sole instance, `nil`. `nil` represents a prior value for variables that have not been initialized, or for results which are meaningless.\n\n`nil` is the Smalltalk equivalent of the `undefined` JavaScript object.\n\n__note:__ When sending messages to the `undefined` JavaScript object, it will be replaced by `nil`.",e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=null},function(n){n.fill(t,"asJSON",{},e.UndefinedObject)})},args:[],source:"asJSON\n	^ null",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"deepCopy",{},e.UndefinedObject)})},args:[],source:"deepCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._ifNil_ifNotNil_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"ifNil:",{aBlock:t},e.UndefinedObject)})},args:["aBlock"],source:'ifNil: aBlock\n	"inlined in the Compiler"\n	^ self ifNil: aBlock ifNotNil: []',messageSends:["ifNil:ifNotNil:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNil:ifNotNil:",category:"testing",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(t)._value()},function(n){n.fill(a,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:r},e.UndefinedObject)})},args:["aBlock","anotherBlock"],source:'ifNil: aBlock ifNotNil: anotherBlock\n	"inlined in the Compiler"\n	^ aBlock value',messageSends:["value"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNotNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n},function(r){r.fill(n,"ifNotNil:",{aBlock:t},e.UndefinedObject)})},args:["aBlock"],source:'ifNotNil: aBlock\n	"inlined in the Compiler"\n	^ self',messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNotNil:ifNil:",category:"testing",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(r)._value()},function(n){n.fill(a,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:r},e.UndefinedObject)})},args:["aBlock","anotherBlock"],source:'ifNotNil: aBlock ifNil: anotherBlock\n	"inlined in the Compiler"\n	^ anotherBlock value',messageSends:["value"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.UndefinedObject)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"isNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isNil",{},e.UndefinedObject)})},args:[],source:"isNil\n	^ true",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"notNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"notNil",{},e.UndefinedObject)})},args:[],source:"notNil\n	^ false",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_("nil"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.UndefinedObject)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: 'nil'",messageSends:["nextPutAll:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"shallowCopy",{},e.UndefinedObject)})},args:[],source:"shallowCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:",category:"class creation",fn:function(n,r){var a=this;return e.withContext(function(){var e;return e=a._subclass_instanceVariableNames_package_(n,r,t)},function(t){t.fill(a,"subclass:instanceVariableNames:",{aString:n,anotherString:r},e.UndefinedObject)})},args:["aString","anotherString"],source:"subclass: aString instanceVariableNames: anotherString\n	^ self subclass: aString instanceVariableNames: anotherString package: nil",messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:category:",category:"class creation",fn:function(t,n,r){var a=this;return e.withContext(function(){var e;return a._deprecatedAPI(),e=a._subclass_instanceVariableNames_package_(t,n,r)},function(s){s.fill(a,"subclass:instanceVariableNames:category:",{aString:t,aString2:n,aString3:r},e.UndefinedObject)})},args:["aString","aString2","aString3"],source:'subclass: aString instanceVariableNames: aString2 category: aString3\n	"Kept for compatibility."\n	self deprecatedAPI.\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:package:",category:"class creation",fn:function(r,a,s){function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(){var e;return e=n(n(o())._new())._superclass_subclass_instanceVariableNames_package_(i,n(r)._asString(),a,s)},function(t){t.fill(i,"subclass:instanceVariableNames:package:",{aString:r,aString2:a,aString3:s},e.UndefinedObject)})},args:["aString","aString2","aString3"],source:"subclass: aString instanceVariableNames: aString2 package: aString3\n	^ ClassBuilder new\n		superclass: self subclass: aString asString instanceVariableNames: aString2 package: aString3",messageSends:["superclass:subclass:instanceVariableNames:package:","new","asString"],referencedClasses:["ClassBuilder"]}),e.UndefinedObject),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._error_("You cannot create new instances of UndefinedObject. Use nil"),t},function(n){n.fill(t,"new",{},e.UndefinedObject.klass)})},args:[],source:"new\n		self error: 'You cannot create new instances of UndefinedObject. Use nil'",messageSends:["error:"],referencedClasses:[]}),e.UndefinedObject.klass)}),define("amber_core/Kernel-Classes",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Classes"),e.packages["Kernel-Classes"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Behavior",e.Object,[],"Kernel-Classes"),e.Behavior.comment="I am the superclass of all class objects.\n\nI define the protocol for creating instances of a class with `#basicNew` and `#new` (see `boot.js` for class constructors details).\n\nMy instances know about the subclass/superclass relationships between classes, contain the description that instances are created from,\nand hold the method dictionary that's associated with each class.\n\nI also provides methods for compiling methods, examining the method dictionary, and iterating over the class hierarchy.",e.addMethod(e.method({selector:">>",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._methodAt_(t)},function(r){r.fill(n,">>",{aString:t},e.Behavior)})},args:["aString"],source:">> aString\n	^ self methodAt: aString",messageSends:["methodAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"addCompiledMethod:",category:"compiling",fn:function(r){function a(){return e.MethodAdded||("undefined"==typeof MethodAdded?t:MethodAdded)}function s(){return e.MethodModified||("undefined"==typeof MethodModified?t:MethodModified)}function o(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}var i,l,c=this;return e.withContext(function(u){var d,f,h,g,m,p,C,v;return i=n(c._methodDictionary())._at_ifAbsent_(n(r)._selector(),function(){return e.withContext(function(){return t},function(e){e.fillBlock({},u,1)})}),d=c._protocols(),f=n(r)._protocol(),u.sendIdx.protocol=1,h=n(d)._includes_(f),e.assert(h)||n(c._organization())._addElement_(n(r)._protocol()),c._basicAddCompiledMethod_(r),g=i,($receiver=g)==t||null==$receiver?(m=n(a())._new(),u.sendIdx["new"]=1,n(m)._method_(r),u.sendIdx["method:"]=1,p=n(m)._yourself(),u.sendIdx.yourself=1,l=p):(C=n(s())._new(),n(C)._oldMethod_(i),n(C)._method_(r),v=n(C)._yourself(),l=v),n(n(o())._current())._announce_(l),c},function(t){t.fill(c,"addCompiledMethod:",{aMethod:r,oldMethod:i,announcement:l},e.Behavior)})},args:["aMethod"],source:"addCompiledMethod: aMethod\n	| oldMethod announcement |\n	\n	oldMethod := self methodDictionary\n		at: aMethod selector\n		ifAbsent: [ nil ].\n	\n	(self protocols includes: aMethod protocol)\n		ifFalse: [ self organization addElement: aMethod protocol ].\n\n	self basicAddCompiledMethod: aMethod.\n	\n	announcement := oldMethod\n		ifNil: [\n			MethodAdded new\n					method: aMethod;\n					yourself ]\n		ifNotNil: [\n			MethodModified new\n					oldMethod: oldMethod;\n					method: aMethod;\n					yourself ].\n					\n					\n	SystemAnnouncer current\n				announce: announcement",messageSends:["at:ifAbsent:","methodDictionary","selector","ifFalse:","includes:","protocols","protocol","addElement:","organization","basicAddCompiledMethod:","ifNil:ifNotNil:","method:","new","yourself","oldMethod:","announce:","current"],referencedClasses:["MethodAdded","MethodModified","SystemAnnouncer"]}),e.Behavior),e.addMethod(e.method({selector:"allInstanceVariableNames",category:"accessing",fn:function(){var r,a=this;return e.withContext(function(e){var s,o;return r=n(a._instanceVariableNames())._copy(),s=a._superclass(),e.sendIdx.superclass=1,($receiver=s)==t||null==$receiver||n(r)._addAll_(n(a._superclass())._allInstanceVariableNames()),o=r},function(t){t.fill(a,"allInstanceVariableNames",{result:r},e.Behavior)})},args:[],source:"allInstanceVariableNames\n	| result |\n	result := self instanceVariableNames copy.\n	self superclass ifNotNil: [\n		result addAll: self superclass allInstanceVariableNames ].\n	^ result",messageSends:["copy","instanceVariableNames","ifNotNil:","superclass","addAll:","allInstanceVariableNames"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSelectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(r){var a,s,o,i;return a=t._allSuperclasses(),s=t._selectors(),r.sendIdx.selectors=1,i=n(a)._inject_into_(s,function(t,a){return e.withContext(function(){return n(t)._addAll_(n(a)._selectors()),o=n(t)._yourself()},function(e){e.fillBlock({acc:t,each:a},r,1)})})},function(n){n.fill(t,"allSelectors",{},e.Behavior)})},args:[],source:"allSelectors\n	^ self allSuperclasses\n		inject: self selectors\n		into: [ :acc :each | acc addAll: each selectors; yourself ]",messageSends:["inject:into:","allSuperclasses","selectors","addAll:","yourself"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSubclasses",category:"accessing",fn:function(){var t,r,a=this;return e.withContext(function(s){var o;return t=a._subclasses(),s.sendIdx.subclasses=1,r=1,n(function(){return e.withContext(function(){return n(r).__gt(n(t)._size())},function(e){e.fillBlock({},s,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._addAll_(n(n(t)._at_(r))._subclasses()),r=n(r).__plus(1)},function(e){e.fillBlock({},s,2)})}),o=t},function(n){n.fill(a,"allSubclasses",{subclasses:t,index:r},e.Behavior)})},args:[],source:"allSubclasses\n	\"Answer an collection of the receiver's and the receiver's descendent's subclasses. \"\n\n	| subclasses index |\n	\n	subclasses := self subclasses.\n	index := 1.\n	[ index > subclasses size ]\n		whileFalse: [ subclasses addAll: (subclasses at: index) subclasses.\n			index := index + 1 ].\n\n	^ subclasses",messageSends:["subclasses","whileFalse:",">","size","addAll:","at:","+"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSubclassesDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){return n(r._allSubclasses())._do_(function(r){return e.withContext(function(){return n(t)._value_(r)},function(e){e.fillBlock({each:r},a,1)})}),r},function(n){n.fill(r,"allSubclassesDo:",{aBlock:t},e.Behavior)})},args:["aBlock"],source:'allSubclassesDo: aBlock\n	"Evaluate the argument, aBlock, for each of the receiver\'s subclasses."\n\n	self allSubclasses do: [ :each |\n    	aBlock value: each ]',messageSends:["do:","allSubclasses","value:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSuperclasses",category:"accessing",fn:function(){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a=this;return e.withContext(function(e){var s,o,i,l,c,u;return s=a._superclass(),e.sendIdx.superclass=1,($receiver=s)==t||null==$receiver?o=[]:(i=a._superclass(),e.sendIdx.superclass=2,l=n(r())._with_(i),n(l)._addAll_(n(a._superclass())._allSuperclasses()),c=n(l)._yourself(),u=c)},function(t){t.fill(a,"allSuperclasses",{},e.Behavior)})},args:[],source:"allSuperclasses\n	\n	self superclass ifNil: [ ^ #() ].\n	\n	^ (OrderedCollection with: self superclass)\n		addAll: self superclass allSuperclasses;\n		yourself",messageSends:["ifNil:","superclass","addAll:","with:","allSuperclasses","yourself"],referencedClasses:["OrderedCollection"]}),e.Behavior),e.addMethod(e.method({selector:"basicAddCompiledMethod:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.addMethod(t,n),n},function(r){r.fill(n,"basicAddCompiledMethod:",{aMethod:t},e.Behavior)})},args:["aMethod"],source:"basicAddCompiledMethod: aMethod\n	<smalltalk.addMethod(aMethod, self)>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"basicNew",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return new t.fn},function(n){n.fill(t,"basicNew",{},e.Behavior)})},args:[],source:"basicNew\n	<return new self.fn()>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"basicRemoveCompiledMethod:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.removeMethod(t,n),n},function(r){r.fill(n,"basicRemoveCompiledMethod:",{aMethod:t},e.Behavior)})},args:["aMethod"],source:"basicRemoveCompiledMethod: aMethod\n	<smalltalk.removeMethod(aMethod,self)>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"canUnderstand:",category:"testing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i;return i=n(n(n(r._methodDictionary())._keys())._includes_(n(t)._asString()))._or_(function(){return e.withContext(function(a){return s=r._superclass(),a.sendIdx.superclass=1,o=n(s)._notNil(),n(o)._and_(function(){return e.withContext(function(){return n(r._superclass())._canUnderstand_(t)},function(e){e.fillBlock({},a,2)})})},function(e){e.fillBlock({},a,1)})})},function(n){n.fill(r,"canUnderstand:",{aSelector:t},e.Behavior)})},args:["aSelector"],source:"canUnderstand: aSelector\n	^ (self methodDictionary keys includes: aSelector asString) or: [\n		self superclass notNil and: [ self superclass canUnderstand: aSelector ]]",messageSends:["or:","includes:","keys","methodDictionary","asString","and:","notNil","superclass","canUnderstand:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"comment",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,r;return e=n._basicAt_("comment"),r=($receiver=e)==t||null==$receiver?"":e},function(t){t.fill(n,"comment",{},e.Behavior)})},args:[],source:"comment\n	^ (self basicAt: 'comment') ifNil: [ '' ]",messageSends:["ifNil:","basicAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"comment:",category:"accessing",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.ClassCommentChanged||("undefined"==typeof ClassCommentChanged?t:ClassCommentChanged)}var o=this;return e.withContext(function(){var e,t;return o._basicAt_put_("comment",r),e=n(s())._new(),n(e)._theClass_(o),t=n(e)._yourself(),n(n(a())._current())._announce_(t),o},function(t){t.fill(o,"comment:",{aString:r},e.Behavior)})},args:["aString"],source:"comment: aString\n	self basicAt: 'comment' put: aString.\n	SystemAnnouncer current\n		announce: (ClassCommentChanged new\n			theClass: self;\n			yourself)",messageSends:["basicAt:put:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassCommentChanged"]}),e.Behavior),e.addMethod(e.method({selector:"commentStamp",category:"accessing",fn:function(){function r(){return e.ClassCommentReader||("undefined"==typeof ClassCommentReader?t:ClassCommentReader)}var a=this;return e.withContext(function(){var e,t,s;return e=n(r())._new(),n(e)._class_(a),t=n(e)._yourself(),s=t},function(t){t.fill(a,"commentStamp",{},e.Behavior)})},args:[],source:"commentStamp\n	^ ClassCommentReader new\n	class: self;\n	yourself",messageSends:["class:","new","yourself"],referencedClasses:["ClassCommentReader"]}),e.Behavior),e.addMethod(e.method({selector:"commentStamp:prior:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._commentStamp()},function(a){a.fill(r,"commentStamp:prior:",{aStamp:t,prior:n},e.Behavior)})},args:["aStamp","prior"],source:"commentStamp: aStamp prior: prior\n		^ self commentStamp",messageSends:["commentStamp"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"compile:",category:"compiling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._compile_category_(t,"")},function(r){r.fill(n,"compile:",{aString:t},e.Behavior)})},args:["aString"],source:"compile: aString\n	^ self compile: aString category: ''",messageSends:["compile:category:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"compile:category:",category:"compiling",fn:function(r,a){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o=this;return e.withContext(function(){var e;return e=n(n(s())._new())._install_forClass_category_(r,o,a)},function(t){t.fill(o,"compile:category:",{aString:r,anotherString:a},e.Behavior)})},args:["aString","anotherString"],source:"compile: aString category: anotherString\n	^ Compiler new\n		install: aString\n		forClass: self\n		category: anotherString",messageSends:["install:forClass:category:","new"],referencedClasses:["Compiler"]}),e.Behavior),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return""},function(n){n.fill(t,"definition",{},e.Behavior)})},args:[],source:"definition\n	^ ''",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"includesBehavior:",category:"testing",fn:function(t){var r=this;return e.withContext(function(a){var s;return s=n(r.__eq_eq(t))._or_(function(){return e.withContext(function(){return r._inheritsFrom_(t)},function(e){e.fillBlock({},a,1)})})},function(n){n.fill(r,"includesBehavior:",{aClass:t},e.Behavior)})},args:["aClass"],source:"includesBehavior: aClass\n	^ self == aClass or: [\n			self inheritsFrom: aClass ]",messageSends:["or:","==","inheritsFrom:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"includesSelector:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._methodDictionary())._includesKey_(t)},function(n){n.fill(r,"includesSelector:",{aString:t},e.Behavior)})},args:["aString"],source:"includesSelector: aString\n	^ self methodDictionary includesKey: aString",messageSends:["includesKey:","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"inheritsFrom:",category:"testing",fn:function(r){var a=this;return e.withContext(function(s){var o,i,l,c;return o=a._superclass(),s.sendIdx.superclass=1,($receiver=o)==t||null==$receiver?!1:(i=a._superclass(),s.sendIdx.superclass=2,l=n(r).__eq_eq(i),c=n(l)._or_(function(){return e.withContext(function(){return n(a._superclass())._inheritsFrom_(r)},function(e){e.fillBlock({},s,2)})}))},function(t){t.fill(a,"inheritsFrom:",{aClass:r},e.Behavior)})},args:["aClass"],source:"inheritsFrom: aClass\n	self superclass ifNil: [ ^ false ].\n\n	^ aClass == self superclass or: [ \n		self superclass inheritsFrom: aClass ]",messageSends:["ifNil:","superclass","or:","==","inheritsFrom:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"instanceVariableNames",category:"accessing",fn:function(){var t=this;
return e.withContext(function(){return t.iVarNames},function(n){n.fill(t,"instanceVariableNames",{},e.Behavior)})},args:[],source:"instanceVariableNames\n	<return self.iVarNames>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"isBehavior",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBehavior",{},e.Behavior)})},args:[],source:"isBehavior\n	^ true",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"javascriptConstructor",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.fn},function(n){n.fill(t,"javascriptConstructor",{},e.Behavior)})},args:[],source:'javascriptConstructor\n	"Answer the JS constructor used to instantiate. See boot.js"\n	\n	<return self.fn>',messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"javascriptConstructor:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return e.setClassConstructor(n,t),n},function(r){r.fill(n,"javascriptConstructor:",{aJavaScriptFunction:t},e.Behavior)})},args:["aJavaScriptFunction"],source:'javascriptConstructor: aJavaScriptFunction\n	"Set the JS constructor used to instantiate.\n	See the JS counter-part in boot.js `smalltalk.setClassConstructor\'"\n	\n	<smalltalk.setClassConstructor(self, aJavaScriptFunction);>',messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"lookupSelector:",category:"accessing",fn:function(r){var a,s=this;return e.withContext(function(o){var i,l,c={};try{return a=s,n(function(){return e.withContext(function(){return n(a).__eq(t)},function(e){e.fillBlock({},o,1)})})._whileFalse_(function(){return e.withContext(function(){if(i=n(a)._includesSelector_(r),e.assert(i))throw l=n(a)._methodAt_(r),c=[l];return a=n(a)._superclass()},function(e){e.fillBlock({},o,2)})}),t}catch(u){if(u===c)return u[0];throw u}},function(t){t.fill(s,"lookupSelector:",{selector:r,lookupClass:a},e.Behavior)})},args:["selector"],source:'lookupSelector: selector\n	"Look up the given selector in my methodDictionary.\n	Return the corresponding method if found.\n	Otherwise chase the superclass chain and try again.\n	Return nil if no method is found."\n	\n	| lookupClass |\n	\n	lookupClass := self.\n	[ lookupClass = nil ] whileFalse: [\n		(lookupClass includesSelector: selector)\n				ifTrue: [ ^ lookupClass methodAt: selector ].\n			lookupClass := lookupClass superclass ].\n	^ nil',messageSends:["whileFalse:","=","ifTrue:","includesSelector:","methodAt:","superclass"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodAt:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._methodDictionary())._at_(t)},function(n){n.fill(r,"methodAt:",{aString:t},e.Behavior)})},args:["aString"],source:"methodAt: aString\n	^ self methodDictionary at: aString",messageSends:["at:","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodDictionary",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var n=e.HashedCollection._new(),r=t.methods;for(var a in r)r[a].selector&&n._at_put_(r[a].selector,r[a]);return n},function(n){n.fill(t,"methodDictionary",{},e.Behavior)})},args:[],source:"methodDictionary\n	<var dict = smalltalk.HashedCollection._new();\n	var methods = self.methods;\n	for(var i in methods) {\n		if(methods[i].selector) {\n			dict._at_put_(methods[i].selector, methods[i]);\n		}\n	};\n	return dict>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methods",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._methodDictionary())._values()},function(n){n.fill(t,"methods",{},e.Behavior)})},args:[],source:"methods\n	^ self methodDictionary values",messageSends:["values","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodsFor:",category:"accessing",fn:function(r){function a(){return e.ClassCategoryReader||("undefined"==typeof ClassCategoryReader?t:ClassCategoryReader)}var s=this;return e.withContext(function(){var e,t,o;return e=n(a())._new(),n(e)._class_category_(s,r),t=n(e)._yourself(),o=t},function(t){t.fill(s,"methodsFor:",{aString:r},e.Behavior)})},args:["aString"],source:"methodsFor: aString\n	^ ClassCategoryReader new\n		class: self category: aString;\n		yourself",messageSends:["class:category:","new","yourself"],referencedClasses:["ClassCategoryReader"]}),e.Behavior),e.addMethod(e.method({selector:"methodsFor:stamp:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._methodsFor_(t)},function(a){a.fill(r,"methodsFor:stamp:",{aString:t,aStamp:n},e.Behavior)})},args:["aString","aStamp"],source:'methodsFor: aString stamp: aStamp\n	"Added for compatibility, right now ignores stamp."\n	^ self methodsFor: aString',messageSends:["methodsFor:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodsInProtocol:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(a){var s;return s=n(n(r._methodDictionary())._values())._select_(function(r){return e.withContext(function(){return n(n(r)._protocol()).__eq(t)},function(e){e.fillBlock({each:r},a,1)})})},function(n){n.fill(r,"methodsInProtocol:",{aString:t},e.Behavior)})},args:["aString"],source:"methodsInProtocol: aString\n	^ self methodDictionary values select: [ :each | each protocol = aString ]",messageSends:["select:","values","methodDictionary","=","protocol"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return n.className||t},function(t){t.fill(n,"name",{},e.Behavior)})},args:[],source:"name\n	<return self.className || nil>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._basicNew())._initialize()},function(n){n.fill(t,"new",{},e.Behavior)})},args:[],source:"new\n	^ self basicNew initialize",messageSends:["initialize","basicNew"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"organization",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("organization")},function(n){n.fill(t,"organization",{},e.Behavior)})},args:[],source:"organization\n	^ self basicAt: 'organization'",messageSends:["basicAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"ownMethods",category:"accessing",fn:function(){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a=this;return e.withContext(function(t){var s,o;return o=n(n(a._ownProtocols())._inject_into_(n(r())._new(),function(r,s){return e.withContext(function(){return n(r).__comma(a._methodsInProtocol_(s))},function(e){e.fillBlock({acc:r,each:s},t,1)})}))._sorted_(function(r,a){return e.withContext(function(e){return s=n(r)._selector(),e.sendIdx.selector=1,n(s).__lt_eq(n(a)._selector())},function(e){e.fillBlock({a:r,b:a},t,2)})})},function(t){t.fill(a,"ownMethods",{},e.Behavior)})},args:[],source:'ownMethods\n	"Answer the methods of the receiver that are not package extensions"\n\n	^ (self ownProtocols \n		inject: OrderedCollection new\n		into: [ :acc :each | acc, (self methodsInProtocol: each) ])\n			sorted: [ :a :b | a selector <= b selector ]',messageSends:["sorted:","inject:into:","ownProtocols","new",",","methodsInProtocol:","<=","selector"],referencedClasses:["OrderedCollection"]}),e.Behavior),e.addMethod(e.method({selector:"ownProtocols",category:"accessing",fn:function(){var t=this;return e.withContext(function(r){var a;return a=n(t._protocols())._reject_(function(t){return e.withContext(function(){return n(t)._match_("^\\*")},function(e){e.fillBlock({each:t},r,1)})})},function(n){n.fill(t,"ownProtocols",{},e.Behavior)})},args:[],source:"ownProtocols\n	\"Answer the protocols of the receiver that are not package extensions\"\n\n	^ self protocols reject: [ :each |\n		each match: '^\\*' ]",messageSends:["reject:","protocols","match:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"protocols",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t._organization())._elements())._sorted()},function(n){n.fill(t,"protocols",{},e.Behavior)})},args:[],source:"protocols\n	^ self organization elements sorted",messageSends:["sorted","elements","organization"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"protocolsDo:",category:"enumerating",fn:function(r){function a(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}function s(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i=this;return e.withContext(function(t){return o=n(a())._new(),t.sendIdx["new"]=1,n(n(i._methodDictionary())._values())._do_(function(r){return e.withContext(function(t){return n(n(o)._at_ifAbsentPut_(n(r)._category(),function(){return e.withContext(function(){return n(s())._new()},function(e){e.fillBlock({},t,2)})}))._add_(r)},function(e){e.fillBlock({m:r},t,1)})}),t.sendIdx["do:"]=1,n(i._protocols())._do_(function(a){return e.withContext(function(){return n(r)._value_value_(a,n(o)._at_(a))},function(e){e.fillBlock({category:a},t,3)})}),i},function(t){t.fill(i,"protocolsDo:",{aBlock:r,methodsByCategory:o},e.Behavior)})},args:["aBlock"],source:'protocolsDo: aBlock\n	"Execute aBlock for each method category with\n	its collection of methods in the sort order of category name."\n\n	| methodsByCategory |\n	methodsByCategory := HashedCollection new.\n	self methodDictionary values do: [ :m |\n		(methodsByCategory at: m category ifAbsentPut: [ Array new ])\n			add: m ].\n	self protocols do: [ :category |\n		aBlock value: category value: (methodsByCategory at: category) ]',messageSends:["new","do:","values","methodDictionary","add:","at:ifAbsentPut:","category","protocols","value:value:","at:"],referencedClasses:["HashedCollection","Array"]}),e.Behavior),e.addMethod(e.method({selector:"prototype",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.fn.prototype},function(n){n.fill(t,"prototype",{},e.Behavior)})},args:[],source:"prototype\n	<return self.fn.prototype>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"recompile",category:"compiling",fn:function(){function r(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._new())._recompile_(a)},function(t){t.fill(a,"recompile",{},e.Behavior)})},args:[],source:"recompile\n	^ Compiler new recompile: self",messageSends:["recompile:","new"],referencedClasses:["Compiler"]}),e.Behavior),e.addMethod(e.method({selector:"removeCompiledMethod:",category:"compiling",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.MethodRemoved||("undefined"==typeof MethodRemoved?t:MethodRemoved)}var o=this;return e.withContext(function(t){var i,l,c,u;return o._basicRemoveCompiledMethod_(r),n(o._methods())._detect_ifNone_(function(a){return e.withContext(function(e){return i=n(a)._protocol(),e.sendIdx.protocol=1,l=n(r)._protocol(),e.sendIdx.protocol=2,n(i).__eq(l)},function(e){e.fillBlock({each:a},t,1)})},function(){return e.withContext(function(){return n(o._organization())._removeElement_(n(r)._protocol())},function(e){e.fillBlock({},t,2)})}),c=n(s())._new(),n(c)._method_(r),u=n(c)._yourself(),n(n(a())._current())._announce_(u),o},function(t){t.fill(o,"removeCompiledMethod:",{aMethod:r},e.Behavior)})},args:["aMethod"],source:"removeCompiledMethod: aMethod\n	self basicRemoveCompiledMethod: aMethod.\n	\n	self methods\n		detect: [ :each | each protocol = aMethod protocol ]\n		ifNone: [ self organization removeElement: aMethod protocol ].\n	\n	SystemAnnouncer current\n		announce: (MethodRemoved new\n			method: aMethod;\n			yourself)",messageSends:["basicRemoveCompiledMethod:","detect:ifNone:","methods","=","protocol","removeElement:","organization","announce:","current","method:","new","yourself"],referencedClasses:["SystemAnnouncer","MethodRemoved"]}),e.Behavior),e.addMethod(e.method({selector:"selectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._methodDictionary())._keys()},function(n){n.fill(t,"selectors",{},e.Behavior)})},args:[],source:"selectors\n	^ self methodDictionary keys",messageSends:["keys","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"subclasses",{},e.Behavior)})},args:[],source:"subclasses\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"superclass",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return n.superclass||t},function(t){t.fill(n,"superclass",{},e.Behavior)})},args:[],source:"superclass\n	<return self.superclass || nil>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"theMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._class()},function(n){n.fill(t,"theMetaClass",{},e.Behavior)})},args:[],source:"theMetaClass\n	^ self class",messageSends:["class"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"theNonMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"theNonMetaClass",{},e.Behavior)})},args:[],source:"theNonMetaClass\n	^ self",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"withAllSubclasses",category:"accessing",fn:function(){function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a=this;return e.withContext(function(){var e,t,s;return e=n(r())._with_(a),n(e)._addAll_(a._allSubclasses()),t=n(e)._yourself(),s=t},function(t){t.fill(a,"withAllSubclasses",{},e.Behavior)})},args:[],source:"withAllSubclasses\n	^ (Array with: self) addAll: self allSubclasses; yourself",messageSends:["addAll:","with:","allSubclasses","yourself"],referencedClasses:["Array"]}),e.Behavior),e.addClass("Class",e.Behavior,[],"Kernel-Classes"),e.Class.comment="I am __the__ class object.\n\nMy instances are the classes of the system.\nClass creation is done throught a `ClassBuilder` instance.",e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e="smalltalk.".__comma(t._name())},function(n){n.fill(t,"asJavascript",{},e.Class)})},args:[],source:"asJavascript\n	^ 'smalltalk.', self name",messageSends:[",","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"category",category:"accessing",fn:function(){var r=this;return e.withContext(function(e){var a,s;return a=r._package(),e.sendIdx["package"]=1,s=($receiver=a)==t||null==$receiver?"Unclassified":n(r._package())._name()},function(t){t.fill(r,"category",{},e.Class)})},args:[],source:"category\n	^ self package ifNil: [ 'Unclassified' ] ifNotNil: [ self package name ]",messageSends:["ifNil:ifNotNil:","package","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var s,o,i,l,c,u,d;return d=n(r())._streamContents_(function(d){return e.withContext(function(t){return n(d)._nextPutAll_(n(a._superclass())._asString()),t.sendIdx["nextPutAll:"]=1,n(d)._nextPutAll_(" subclass: #"),t.sendIdx["nextPutAll:"]=2,n(d)._nextPutAll_(a._name()),t.sendIdx["nextPutAll:"]=3,s=n(r())._lf(),t.sendIdx.lf=1,o=n(r())._tab(),t.sendIdx.tab=1,i=n(s).__comma(o),t.sendIdx[","]=1,n(d)._nextPutAll_(i),t.sendIdx["nextPutAll:"]=4,l=n(d)._nextPutAll_("instanceVariableNames: '"),t.sendIdx["nextPutAll:"]=5,n(a._instanceVariableNames())._do_separatedBy_(function(r){return e.withContext(function(e){return n(d)._nextPutAll_(r)},function(e){e.fillBlock({each:r},t,2)})},function(){return e.withContext(function(e){return n(d)._nextPutAll_(" ")},function(e){e.fillBlock({},t,3)})}),c=n("'".__comma(n(r())._lf())).__comma(n(r())._tab()),t.sendIdx[","]=2,n(d)._nextPutAll_(c),t.sendIdx["nextPutAll:"]=8,n(d)._nextPutAll_("package: '"),t.sendIdx["nextPutAll:"]=9,n(d)._nextPutAll_(a._category()),t.sendIdx["nextPutAll:"]=10,u=n(d)._nextPutAll_("'")},function(e){e.fillBlock({stream:d},t,1)})})},function(t){t.fill(a,"definition",{},e.Class)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream\n			nextPutAll: self superclass asString;\n			nextPutAll: ' subclass: #';\n			nextPutAll: self name;\n			nextPutAll: String lf, String tab;\n			nextPutAll: 'instanceVariableNames: '''.\n		self instanceVariableNames\n			do: [ :each | stream nextPutAll: each ]\n			separatedBy: [ stream nextPutAll: ' ' ].\n		stream\n			nextPutAll: '''', String lf, String tab;\n			nextPutAll: 'package: ''';\n			nextPutAll: self category;\n			nextPutAll: '''' ]",messageSends:["streamContents:","nextPutAll:","asString","superclass","name",",","lf","tab","do:separatedBy:","instanceVariableNames","category"],referencedClasses:["String"]}),e.Class),e.addMethod(e.method({selector:"isClass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isClass",{},e.Class)})},args:[],source:"isClass\n	^ true",messageSends:[],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"package",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("pkg")},function(n){n.fill(t,"package",{},e.Class)})},args:[],source:"package\n	^ self basicAt: 'pkg'",messageSends:["basicAt:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"package:",category:"accessing",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.ClassMoved||("undefined"==typeof ClassMoved?t:ClassMoved)}var o,i=this;return e.withContext(function(t){var l,c,u,d,f;return l=i._package(),t.sendIdx["package"]=1,c=n(l).__eq(r),e.assert(c)?i:(o=i._package(),i._basicAt_put_("pkg",r),u=n(o)._organization(),t.sendIdx.organization=1,n(u)._removeElement_(i),n(n(r)._organization())._addElement_(i),d=n(s())._new(),n(d)._theClass_(i),n(d)._oldPackage_(o),f=n(d)._yourself(),n(n(a())._current())._announce_(f),i)},function(t){t.fill(i,"package:",{aPackage:r,oldPackage:o},e.Class)})},args:["aPackage"],source:"package: aPackage\n	| oldPackage |\n	\n	self package = aPackage ifTrue: [ ^ self ].\n	\n	oldPackage := self package.\n	\n	self basicAt: 'pkg' put: aPackage.\n	oldPackage organization removeElement: self.\n	aPackage organization addElement: self.\n\n	SystemAnnouncer current announce: (ClassMoved new\n		theClass: self;\n		oldPackage: oldPackage;\n		yourself)",messageSends:["ifTrue:","=","package","basicAt:put:","removeElement:","organization","addElement:","announce:","current","theClass:","new","oldPackage:","yourself"],referencedClasses:["SystemAnnouncer","ClassMoved"]}),e.Class),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_(r._name()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Class)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self name",messageSends:["nextPutAll:","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"rename:",category:"accessing",fn:function(r){function a(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var s=this;return e.withContext(function(){return n(n(a())._new())._renameClass_to_(s,r),s},function(t){t.fill(s,"rename:",{aString:r},e.Class)})},args:["aString"],source:"rename: aString\n	ClassBuilder new renameClass: self to: aString",messageSends:["renameClass:to:","new"],referencedClasses:["ClassBuilder"]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:",category:"class creation",fn:function(n,r){var a=this;return e.withContext(function(){var e;return e=a._subclass_instanceVariableNames_package_(n,r,t)},function(t){t.fill(a,"subclass:instanceVariableNames:",{aString:n,anotherString:r},e.Class)})},args:["aString","anotherString"],source:'subclass: aString instanceVariableNames: anotherString\n	"Kept for compatibility."\n	^ self subclass: aString instanceVariableNames: anotherString package: nil',messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:category:",category:"class creation",fn:function(t,n,r){var a=this;return e.withContext(function(){var e;return a._deprecatedAPI(),e=a._subclass_instanceVariableNames_package_(t,n,r)},function(s){s.fill(a,"subclass:instanceVariableNames:category:",{aString:t,aString2:n,aString3:r},e.Class)})},args:["aString","aString2","aString3"],source:'subclass: aString instanceVariableNames: aString2 category: aString3\n	"Kept for compatibility."\n	self deprecatedAPI.\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",category:"class creation",fn:function(t,n,r,a,s){var o=this;return e.withContext(function(){var e;return e=o._subclass_instanceVariableNames_package_(t,n,s)},function(i){i.fill(o,"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",{aString:t,aString2:n,classVars:r,pools:a,aString3:s},e.Class)})},args:["aString","aString2","classVars","pools","aString3"],source:'subclass: aString instanceVariableNames: aString2 classVariableNames: classVars poolDictionaries: pools category: aString3\n	"Just ignore class variables and pools. Added for compatibility."\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:package:",category:"class creation",fn:function(r,a,s){function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(){var e;return e=n(n(o())._new())._superclass_subclass_instanceVariableNames_package_(i,n(r)._asString(),a,s)},function(t){t.fill(i,"subclass:instanceVariableNames:package:",{aString:r,aString2:a,aString3:s},e.Class)})},args:["aString","aString2","aString3"],source:"subclass: aString instanceVariableNames: aString2 package: aString3\n	^ ClassBuilder new\n		superclass: self subclass: aString asString instanceVariableNames: aString2 package: aString3",messageSends:["superclass:subclass:instanceVariableNames:package:","new","asString"],referencedClasses:["ClassBuilder"]}),e.Class),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.subclasses._copy()},function(n){n.fill(t,"subclasses",{},e.Class)})},args:[],source:"subclasses\n	<return self.subclasses._copy()>",messageSends:[],referencedClasses:[]}),e.Class),e.addClass("Metaclass",e.Behavior,[],"Kernel-Classes"),e.Metaclass.comment="I am the root of the class hierarchy.\n\nMy instances are metaclasses, one for each real class, and have a single instance, which they hold onto: the class that they are the metaclass of.",e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(e){var r;return r=n("smalltalk.".__comma(n(t._instanceClass())._name())).__comma(".klass"),e.sendIdx[","]=1,r},function(n){n.fill(t,"asJavascript",{},e.Metaclass)})},args:[],source:"asJavascript\n	^ 'smalltalk.', self instanceClass name, '.klass'",messageSends:[",","name","instanceClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var s,o;return o=n(r())._streamContents_(function(r){return e.withContext(function(t){return n(r)._nextPutAll_(a._asString()),t.sendIdx["nextPutAll:"]=1,s=n(r)._nextPutAll_(" instanceVariableNames: '"),t.sendIdx["nextPutAll:"]=2,n(a._instanceVariableNames())._do_separatedBy_(function(a){return e.withContext(function(e){return n(r)._nextPutAll_(a)},function(e){e.fillBlock({each:a},t,2)})},function(){return e.withContext(function(e){return n(r)._nextPutAll_(" ")},function(e){e.fillBlock({},t,3)})}),n(r)._nextPutAll_("'")},function(e){e.fillBlock({stream:r},t,1)})})},function(t){t.fill(a,"definition",{},e.Metaclass)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream\n			nextPutAll: self asString;\n			nextPutAll: ' instanceVariableNames: '''.\n		self instanceVariableNames\n			do: [ :each | stream nextPutAll: each ]\n			separatedBy: [ stream nextPutAll: ' ' ].\n		stream nextPutAll: '''' ]",messageSends:["streamContents:","nextPutAll:","asString","do:separatedBy:","instanceVariableNames"],referencedClasses:["String"]}),e.Metaclass),e.addMethod(e.method({selector:"instanceClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.instanceClass},function(n){n.fill(t,"instanceClass",{},e.Metaclass)})},args:[],source:"instanceClass\n	<return self.instanceClass>",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"instanceVariableNames:",category:"accessing",fn:function(r){function a(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var s=this;return e.withContext(function(){return n(n(a())._new())._class_instanceVariableNames_(s,r),s},function(t){t.fill(s,"instanceVariableNames:",{aCollection:r},e.Metaclass)})},args:["aCollection"],source:"instanceVariableNames: aCollection\n	ClassBuilder new\n		class: self instanceVariableNames: aCollection",messageSends:["class:instanceVariableNames:","new"],referencedClasses:["ClassBuilder"]}),e.Metaclass),e.addMethod(e.method({selector:"isMetaclass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isMetaclass",{},e.Metaclass)})},args:[],source:"isMetaclass\n	^ true",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(e){var a;return n(t)._nextPutAll_(n(r._instanceClass())._name()),e.sendIdx["nextPutAll:"]=1,a=n(t)._nextPutAll_(" class"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Metaclass)})},args:["aStream"],source:"printOn: aStream\n	aStream\n		nextPutAll: self instanceClass name;\n		nextPutAll: ' class'",messageSends:["nextPutAll:","name","instanceClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(r){var a;return a=n(n(n(t._instanceClass())._subclasses())._select_(function(t){return e.withContext(function(){return n(n(t)._isMetaclass())._not()},function(e){e.fillBlock({each:t},r,1)})}))._collect_(function(t){return e.withContext(function(){return n(t)._theMetaClass()},function(e){e.fillBlock({each:t},r,2)})})},function(n){n.fill(t,"subclasses",{},e.Metaclass)})},args:[],source:"subclasses\n	^ (self instanceClass subclasses \n		select: [ :each | each isMetaclass not ])\n		collect: [ :each | each theMetaClass ]",messageSends:["collect:","select:","subclasses","instanceClass","not","isMetaclass","theMetaClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"theMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"theMetaClass",{},e.Metaclass)})},args:[],source:"theMetaClass\n	^ self",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"theNonMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._instanceClass()},function(n){n.fill(t,"theNonMetaClass",{},e.Metaclass)})},args:[],source:"theNonMetaClass\n	^ self instanceClass",messageSends:["instanceClass"],referencedClasses:[]}),e.Metaclass),e.addClass("ClassBuilder",e.Object,[],"Kernel-Classes"),e.ClassBuilder.comment="I am responsible for compiling new classes or modifying existing classes in the system.\n\nRather than using me directly to compile a class, use `Class >> subclass:instanceVariableNames:package:`.",e.addMethod(e.method({selector:"addSubclassOf:named:instanceVariableNames:package:",category:"class definition",fn:function(r,a,s,o){function i(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var l,c,u=this;return e.withContext(function(){var d,f,h,g;if(l=n(n(i())._current())._at_(a),c=u._createPackageNamed_(o),d=l,($receiver=d)==t||null==$receiver);else if(n(l)._package_(c),f=n(n(l)._superclass()).__eq_eq(r),!e.assert(f))return h=u._migrateClassNamed_superclass_instanceVariableNames_package_(a,r,s,o);return g=u._basicAddSubclassOf_named_instanceVariableNames_package_(r,a,s,o)},function(t){t.fill(u,"addSubclassOf:named:instanceVariableNames:package:",{aClass:r,className:a,aCollection:s,packageName:o,theClass:l,thePackage:c},e.ClassBuilder)})},args:["aClass","className","aCollection","packageName"],source:"addSubclassOf: aClass named: className instanceVariableNames: aCollection package: packageName\n	| theClass thePackage |\n	\n	theClass := Smalltalk current at: className.\n	thePackage := self createPackageNamed: packageName.\n	\n	theClass ifNotNil: [\n		theClass package: thePackage.\n		theClass superclass == aClass ifFalse: [\n			^ self\n				migrateClassNamed: className\n				superclass: aClass\n				instanceVariableNames: aCollection\n				package: packageName ] ].\n		\n	^ self\n		basicAddSubclassOf: aClass\n		named: className\n		instanceVariableNames: aCollection\n		package: packageName",messageSends:["at:","current","createPackageNamed:","ifNotNil:","package:","ifFalse:","==","superclass","migrateClassNamed:superclass:instanceVariableNames:package:","basicAddSubclassOf:named:instanceVariableNames:package:"],referencedClasses:["Smalltalk"]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicAddSubclassOf:named:instanceVariableNames:package:",category:"private",fn:function(t,n,r,a){var s=this;return e.withContext(function(){return e.addClass(n,t,r,a),e[n]},function(o){o.fill(s,"basicAddSubclassOf:named:instanceVariableNames:package:",{aClass:t,aString:n,aCollection:r,packageName:a},e.ClassBuilder)})},args:["aClass","aString","aCollection","packageName"],source:"basicAddSubclassOf: aClass named: aString instanceVariableNames: aCollection package: packageName\n	<\n		smalltalk.addClass(aString, aClass, aCollection, packageName);\n		return smalltalk[aString]\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicClass:instanceVariableNames:",category:"private",fn:function(t,n){var r=this;return e.withContext(function(){return r._basicClass_instanceVariables_(t,r._instanceVariableNamesFor_(n)),r},function(a){a.fill(r,"basicClass:instanceVariableNames:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"basicClass: aClass instanceVariableNames: aString\n	self basicClass: aClass instanceVariables: (self instanceVariableNamesFor: aString)",messageSends:["basicClass:instanceVariables:","instanceVariableNamesFor:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicClass:instanceVariables:",category:"private",fn:function(t,r){var a=this;
return e.withContext(function(){var s;return s=n(t)._isMetaclass(),e.assert(s)||a._error_(n(n(t)._name()).__comma(" is not a metaclass")),n(t)._basicAt_put_("iVarNames",r),a},function(n){n.fill(a,"basicClass:instanceVariables:",{aClass:t,aCollection:r},e.ClassBuilder)})},args:["aClass","aCollection"],source:"basicClass: aClass instanceVariables: aCollection\n\n	aClass isMetaclass ifFalse: [ self error: aClass name, ' is not a metaclass' ].\n	aClass basicAt: 'iVarNames' put: aCollection",messageSends:["ifFalse:","isMetaclass","error:",",","name","basicAt:put:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicRemoveClass:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.removeClass(t),n},function(r){r.fill(n,"basicRemoveClass:",{aClass:t},e.ClassBuilder)})},args:["aClass"],source:"basicRemoveClass: aClass\n	<smalltalk.removeClass(aClass)>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicRenameClass:to:",category:"private",fn:function(t,n){var r=this;return e.withContext(function(){return e[n]=t,delete e[t.className],t.className=n,r},function(a){a.fill(r,"basicRenameClass:to:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"basicRenameClass: aClass to: aString\n	<\n		smalltalk[aString] = aClass;\n		delete smalltalk[aClass.className];\n		aClass.className = aString;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicSwapClassNames:with:",category:"private",fn:function(t,n){var r=this;return e.withContext(function(){var e=t.className;return t.className=n.className,n.className=e,r},function(a){a.fill(r,"basicSwapClassNames:with:",{aClass:t,anotherClass:n},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"basicSwapClassNames: aClass with: anotherClass\n	<\n		var tmp = aClass.className;\n		aClass.className = anotherClass.className;\n		anotherClass.className = tmp;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"class:instanceVariableNames:",category:"class definition",fn:function(r,a){function s(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassDefinitionChanged||("undefined"==typeof ClassDefinitionChanged?t:ClassDefinitionChanged)}var i=this;return e.withContext(function(){var e,t;return i._basicClass_instanceVariableNames_(r,a),i._setupClass_(r),e=n(o())._new(),n(e)._theClass_(r),t=n(e)._yourself(),n(n(s())._current())._announce_(t),i},function(t){t.fill(i,"class:instanceVariableNames:",{aClass:r,ivarNames:a},e.ClassBuilder)})},args:["aClass","ivarNames"],source:"class: aClass instanceVariableNames: ivarNames\n	self basicClass: aClass instanceVariableNames: ivarNames.\n	self setupClass: aClass.\n	\n	SystemAnnouncer current\n		announce: (ClassDefinitionChanged new\n			theClass: aClass;\n			yourself)",messageSends:["basicClass:instanceVariableNames:","setupClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassDefinitionChanged"]}),e.ClassBuilder),e.addMethod(e.method({selector:"copyClass:named:",category:"copying",fn:function(r,a){function s(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassAdded||("undefined"==typeof ClassAdded?t:ClassAdded)}var i,l=this;return e.withContext(function(){var e,t,c;return i=l._addSubclassOf_named_instanceVariableNames_package_(n(r)._superclass(),a,n(r)._instanceVariableNames(),n(n(r)._package())._name()),l._copyClass_to_(r,i),e=n(o())._new(),n(e)._theClass_(i),t=n(e)._yourself(),n(n(s())._current())._announce_(t),c=i},function(t){t.fill(l,"copyClass:named:",{aClass:r,className:a,newClass:i},e.ClassBuilder)})},args:["aClass","className"],source:"copyClass: aClass named: className\n	| newClass |\n\n	newClass := self\n		addSubclassOf: aClass superclass\n		named: className\n		instanceVariableNames: aClass instanceVariableNames\n		package: aClass package name.\n\n	self copyClass: aClass to: newClass.\n	\n	SystemAnnouncer current\n		announce: (ClassAdded new\n			theClass: newClass;\n			yourself).\n	\n	^ newClass",messageSends:["addSubclassOf:named:instanceVariableNames:package:","superclass","instanceVariableNames","name","package","copyClass:to:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassAdded"]}),e.ClassBuilder),e.addMethod(e.method({selector:"copyClass:to:",category:"copying",fn:function(r,a){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,g,m,p,C;return n(a)._comment_(n(r)._comment()),i=n(r)._methodDictionary(),t.sendIdx.methodDictionary=1,l=n(i)._values(),t.sendIdx.values=1,n(l)._do_(function(r){return e.withContext(function(e){return c=n(s())._new(),e.sendIdx["new"]=1,u=n(r)._source(),e.sendIdx.source=1,d=n(r)._category(),e.sendIdx.category=1,n(c)._install_forClass_category_(u,a,d)},function(e){e.fillBlock({each:r},t,1)})}),t.sendIdx["do:"]=1,f=n(a)._class(),t.sendIdx["class"]=1,h=n(r)._class(),t.sendIdx["class"]=2,g=n(h)._instanceVariableNames(),o._basicClass_instanceVariables_(f,g),m=n(r)._class(),t.sendIdx["class"]=3,p=n(m)._methodDictionary(),C=n(p)._values(),n(C)._do_(function(r){return e.withContext(function(){return n(n(s())._new())._install_forClass_category_(n(r)._source(),n(a)._class(),n(r)._category())},function(e){e.fillBlock({each:r},t,2)})}),o._setupClass_(a),o},function(t){t.fill(o,"copyClass:to:",{aClass:r,anotherClass:a},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"copyClass: aClass to: anotherClass\n\n	anotherClass comment: aClass comment.\n\n	aClass methodDictionary values do: [ :each |\n		Compiler new install: each source forClass: anotherClass category: each category ].\n\n	self basicClass: anotherClass class instanceVariables: aClass class instanceVariableNames.\n\n	aClass class methodDictionary values do: [ :each |\n		Compiler new install: each source forClass: anotherClass class category: each category ].\n\n	self setupClass: anotherClass",messageSends:["comment:","comment","do:","values","methodDictionary","install:forClass:category:","new","source","category","basicClass:instanceVariables:","class","instanceVariableNames","setupClass:"],referencedClasses:["Compiler"]}),e.ClassBuilder),e.addMethod(e.method({selector:"createPackageNamed:",category:"private",fn:function(r){function a(){return e.Package||("undefined"==typeof Package?t:Package)}function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(t){var o;return o=n(a())._named_ifAbsent_(r,function(){return e.withContext(function(){return n(n(s())._current())._createPackage_(r)},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(o,"createPackageNamed:",{aString:r},e.ClassBuilder)})},args:["aString"],source:"createPackageNamed: aString\n	^ Package named: aString ifAbsent: [\n		Smalltalk current createPackage: aString ]",messageSends:["named:ifAbsent:","createPackage:","current"],referencedClasses:["Package","Smalltalk"]}),e.ClassBuilder),e.addMethod(e.method({selector:"installMethod:forClass:category:",category:"method definition",fn:function(t,r,a){var s=this;return e.withContext(function(){return n(t)._category_(a),n(r)._addCompiledMethod_(t),s._setupClass_(r),t},function(n){n.fill(s,"installMethod:forClass:category:",{aCompiledMethod:t,aBehavior:r,aString:a},e.ClassBuilder)})},args:["aCompiledMethod","aBehavior","aString"],source:"installMethod: aCompiledMethod forClass: aBehavior category: aString\n	aCompiledMethod category: aString.\n	aBehavior addCompiledMethod: aCompiledMethod.\n	self setupClass: aBehavior.\n	^ aCompiledMethod",messageSends:["category:","addCompiledMethod:","setupClass:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"instanceVariableNamesFor:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(r){var a;return a=n(n(t)._tokenize_(" "))._reject_(function(t){return e.withContext(function(){return n(t)._isEmpty()},function(e){e.fillBlock({each:t},r,1)})})},function(n){n.fill(r,"instanceVariableNamesFor:",{aString:t},e.ClassBuilder)})},args:["aString"],source:"instanceVariableNamesFor: aString\n	^ (aString tokenize: ' ') reject: [ :each | each isEmpty ]",messageSends:["reject:","tokenize:","isEmpty"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"migrateClass:superclass:",category:"class migration",fn:function(t,r){var a=this;return e.withContext(function(e){var s,o;return s=n(t)._name(),e.sendIdx.name=1,o=a._migrateClassNamed_superclass_instanceVariableNames_package_(s,r,n(t)._instanceVariableNames(),n(n(t)._package())._name())},function(n){n.fill(a,"migrateClass:superclass:",{aClass:t,anotherClass:r},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"migrateClass: aClass superclass: anotherClass\n	^ self\n		migrateClassNamed: aClass name\n		superclass: anotherClass\n		instanceVariableNames: aClass instanceVariableNames\n		package: aClass package name",messageSends:["migrateClassNamed:superclass:instanceVariableNames:package:","name","instanceVariableNames","package"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"migrateClassNamed:superclass:instanceVariableNames:package:",category:"class migration",fn:function(r,a,s,o){function i(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function l(){return e.Error||("undefined"==typeof Error?t:Error)}function c(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function u(){return e.ClassMigrated||("undefined"==typeof ClassMigrated?t:ClassMigrated)}var d,f,h,g=this;return e.withContext(function(t){var m,p,C,v,y,_,S,b,x;return h="new*".__comma(r),t.sendIdx[","]=1,m=n(i())._current(),t.sendIdx.current=1,d=n(m)._at_(r),f=g._addSubclassOf_named_instanceVariableNames_package_(a,h,s,o),g._basicSwapClassNames_with_(d,f),t.sendIdx["basicSwapClassNames:with:"]=1,n(function(){return e.withContext(function(){return g._copyClass_to_(d,f)},function(e){e.fillBlock({},t,1)})})._on_do_(l(),function(r){return e.withContext(function(e){return g._basicSwapClassNames_with_(d,f),p=g._basicRemoveClass_(f),e.sendIdx["basicRemoveClass:"]=1,n(r)._signal()},function(e){e.fillBlock({exception:r},t,2)})}),g._rawRenameClass_to_(d,h),t.sendIdx["rawRenameClass:to:"]=1,C=g._rawRenameClass_to_(f,r),v=n(d)._subclasses(),y=function(n){return e.withContext(function(){return g._migrateClass_superclass_(n,f)},function(e){e.fillBlock({each:n},t,3)})},_=n("Recompiling ".__comma(n(f)._name())).__comma("..."),t.sendIdx[","]=2,n(v)._do_displayingProgress_(y,_),g._basicRemoveClass_(d),S=n(u())._new(),n(S)._theClass_(f),n(S)._oldClass_(d),b=n(S)._yourself(),n(n(c())._current())._announce_(b),x=f},function(t){t.fill(g,"migrateClassNamed:superclass:instanceVariableNames:package:",{className:r,aClass:a,aCollection:s,packageName:o,oldClass:d,newClass:f,tmp:h},e.ClassBuilder)})},args:["className","aClass","aCollection","packageName"],source:"migrateClassNamed: className superclass: aClass instanceVariableNames: aCollection package: packageName\n	| oldClass newClass tmp |\n	\n	tmp := 'new*', className.\n	oldClass := Smalltalk current at: className.\n	\n	newClass := self\n		addSubclassOf: aClass\n		named: tmp\n		instanceVariableNames: aCollection\n		package: packageName.\n\n	self basicSwapClassNames: oldClass with: newClass.\n\n	[ self copyClass: oldClass to: newClass ]\n		on: Error\n		do: [ :exception |\n			self\n				basicSwapClassNames: oldClass with: newClass;\n				basicRemoveClass: newClass.\n			exception signal ].\n\n	self\n		rawRenameClass: oldClass to: tmp;\n		rawRenameClass: newClass to: className.\n\n	oldClass subclasses \n		do: [ :each | self migrateClass: each superclass: newClass ]\n		displayingProgress: 'Recompiling ', newClass name, '...'.\n\n	self basicRemoveClass: oldClass.\n	\n	SystemAnnouncer current announce: (ClassMigrated new\n		theClass: newClass;\n		oldClass: oldClass;\n		yourself).\n	\n	^ newClass",messageSends:[",","at:","current","addSubclassOf:named:instanceVariableNames:package:","basicSwapClassNames:with:","on:do:","copyClass:to:","basicRemoveClass:","signal","rawRenameClass:to:","do:displayingProgress:","subclasses","migrateClass:superclass:","name","announce:","theClass:","new","oldClass:","yourself"],referencedClasses:["Smalltalk","Error","SystemAnnouncer","ClassMigrated"]}),e.ClassBuilder),e.addMethod(e.method({selector:"rawRenameClass:to:",category:"private",fn:function(t,n){var r=this;return e.withContext(function(){return e[n]=t,r},function(a){a.fill(r,"rawRenameClass:to:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"rawRenameClass: aClass to: aString\n	<\n		smalltalk[aString] = aClass;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"renameClass:to:",category:"class migration",fn:function(r,a){function s(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassRenamed||("undefined"==typeof ClassRenamed?t:ClassRenamed)}var i=this;return e.withContext(function(){var e,t;return i._basicRenameClass_to_(r,a),n(r)._recompile(),e=n(o())._new(),n(e)._theClass_(r),t=n(e)._yourself(),n(n(s())._current())._announce_(t),i},function(t){t.fill(i,"renameClass:to:",{aClass:r,className:a},e.ClassBuilder)})},args:["aClass","className"],source:'renameClass: aClass to: className\n	self basicRenameClass: aClass to: className.\n	\n	"Recompile the class to fix potential issues with super sends"\n	aClass recompile.\n	\n	SystemAnnouncer current\n		announce: (ClassRenamed new\n			theClass: aClass;\n			yourself)',messageSends:["basicRenameClass:to:","recompile","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassRenamed"]}),e.ClassBuilder),e.addMethod(e.method({selector:"setupClass:",category:"public",fn:function(t){var n=this;return e.withContext(function(){return e.init(t),n},function(r){r.fill(n,"setupClass:",{aClass:t},e.ClassBuilder)})},args:["aClass"],source:"setupClass: aClass\n	<smalltalk.init(aClass);>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"superclass:subclass:",category:"class definition",fn:function(n,r){var a=this;return e.withContext(function(){var e;return e=a._superclass_subclass_instanceVariableNames_package_(n,r,"",t)},function(t){t.fill(a,"superclass:subclass:",{aClass:n,className:r},e.ClassBuilder)})},args:["aClass","className"],source:"superclass: aClass subclass: className\n	^ self superclass: aClass subclass: className instanceVariableNames: '' package: nil",messageSends:["superclass:subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"superclass:subclass:instanceVariableNames:package:",category:"class definition",fn:function(r,a,s,o){function i(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function l(){return e.ClassAdded||("undefined"==typeof ClassAdded?t:ClassAdded)}var c,u=this;return e.withContext(function(){var e,d,f,h,g;return e=u._instanceVariableNamesFor_(s),d=($receiver=o)==t||null==$receiver?"unclassified":o,c=u._addSubclassOf_named_instanceVariableNames_package_(r,a,e,d),u._setupClass_(c),f=n(l())._new(),n(f)._theClass_(c),h=n(f)._yourself(),n(n(i())._current())._announce_(h),g=c},function(t){t.fill(u,"superclass:subclass:instanceVariableNames:package:",{aClass:r,className:a,ivarNames:s,packageName:o,newClass:c},e.ClassBuilder)})},args:["aClass","className","ivarNames","packageName"],source:"superclass: aClass subclass: className instanceVariableNames: ivarNames package: packageName\n	| newClass |\n	\n	newClass := self addSubclassOf: aClass\n		named: className instanceVariableNames: (self instanceVariableNamesFor: ivarNames)\n		package: (packageName ifNil: [ 'unclassified' ]).\n	self setupClass: newClass.\n	\n	SystemAnnouncer current\n		announce: (ClassAdded new\n			theClass: newClass;\n			yourself).\n	\n	^ newClass",messageSends:["addSubclassOf:named:instanceVariableNames:package:","instanceVariableNamesFor:","ifNil:","setupClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassAdded"]}),e.ClassBuilder),e.addClass("ClassCategoryReader",e.Object,["class","category"],"Kernel-Classes"),e.ClassCategoryReader.comment="I provide a mechanism for retrieving class descriptions stored on a file in the Smalltalk chunk format.",e.addMethod(e.method({selector:"class:category:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r["@class"]=t,r["@category"]=n,r},function(a){a.fill(r,"class:category:",{aClass:t,aString:n},e.ClassCategoryReader)})},args:["aClass","aString"],source:"class: aClass category: aString\n	class := aClass.\n	category := aString",messageSends:[],referencedClasses:[]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"compileMethod:",category:"private",fn:function(r){function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var s=this;return e.withContext(function(){return n(n(a())._new())._install_forClass_category_(r,s["@class"],s["@category"]),s},function(t){t.fill(s,"compileMethod:",{aString:r},e.ClassCategoryReader)})},args:["aString"],source:"compileMethod: aString\n	Compiler new install: aString forClass: class category: category",messageSends:["install:forClass:category:","new"],referencedClasses:["Compiler"]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.ClassCategoryReader.superclass.fn.prototype._initialize.apply(n(t),[]),t},function(n){n.fill(t,"initialize",{},e.ClassCategoryReader)})},args:[],source:"initialize\n	super initialize.",messageSends:["initialize"],referencedClasses:[]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"scanFrom:",category:"fileIn",fn:function(r){function a(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var s,o=this;return e.withContext(function(t){return n(function(){return e.withContext(function(){return s=n(r)._nextChunk(),n(s)._isEmpty()},function(e){e.fillBlock({},t,1)})})._whileFalse_(function(){return e.withContext(function(){return o._compileMethod_(s)},function(e){e.fillBlock({},t,2)})}),n(n(a())._new())._setupClass_(o["@class"]),o},function(t){t.fill(o,"scanFrom:",{aChunkParser:r,chunk:s},e.ClassCategoryReader)})},args:["aChunkParser"],source:"scanFrom: aChunkParser\n	| chunk |\n	[ chunk := aChunkParser nextChunk.\n	chunk isEmpty ] whileFalse: [\n		self compileMethod: chunk ].\n	ClassBuilder new setupClass: class",messageSends:["whileFalse:","nextChunk","isEmpty","compileMethod:","setupClass:","new"],referencedClasses:["ClassBuilder"]}),e.ClassCategoryReader),e.addClass("ClassCommentReader",e.Object,["class"],"Kernel-Classes"),e.ClassCommentReader.comment="I provide a mechanism for retrieving class comments stored on a file.\n\nSee also `ClassCategoryReader`.",e.addMethod(e.method({selector:"class:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@class"]=t,n},function(r){r.fill(n,"class:",{aClass:t},e.ClassCommentReader)})},args:["aClass"],source:"class: aClass\n	class := aClass",messageSends:[],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.ClassCommentReader.superclass.fn.prototype._initialize.apply(n(t),[]),t},function(n){n.fill(t,"initialize",{},e.ClassCommentReader)})},args:[],source:"initialize\n	super initialize.",messageSends:["initialize"],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"scanFrom:",category:"fileIn",fn:function(t){var r,a=this;return e.withContext(function(){var s;return r=n(t)._nextChunk(),s=n(r)._isEmpty(),e.assert(s)||a._setComment_(r),a},function(n){n.fill(a,"scanFrom:",{aChunkParser:t,chunk:r},e.ClassCommentReader)})},args:["aChunkParser"],source:"scanFrom: aChunkParser\n	| chunk |\n	chunk := aChunkParser nextChunk.\n	chunk isEmpty ifFalse: [\n		self setComment: chunk ].",messageSends:["nextChunk","ifFalse:","isEmpty","setComment:"],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"setComment:",category:"private",fn:function(t){var r=this;return e.withContext(function(){return n(r["@class"])._comment_(t),r},function(n){n.fill(r,"setComment:",{aString:t},e.ClassCommentReader)})},args:["aString"],source:"setComment: aString\n	class comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.ClassCommentReader),e.addClass("ClassSorterNode",e.Object,["theClass","level","nodes"],"Kernel-Classes"),e.ClassSorterNode.comment="I provide an algorithm for sorting classes alphabetically.\n\nSee [Issue #143](https://github.com/amber-smalltalk/amber/issues/143) on GitHub.",e.addMethod(e.method({selector:"getNodesFrom:",category:"accessing",fn:function(r){function a(){return e.ClassSorterNode||("undefined"==typeof ClassSorterNode?t:ClassSorterNode)}var s,o,i=this;return e.withContext(function(t){var l;return s=[],o=[],n(r)._do_(function(r){return e.withContext(function(t){return l=n(n(r)._superclass()).__eq(i._theClass()),e.assert(l)?n(s)._add_(r):n(o)._add_(r)},function(e){e.fillBlock({each:r},t,1)})}),i["@nodes"]=n(s)._collect_(function(r){return e.withContext(function(){return n(a())._on_classes_level_(r,o,n(i._level()).__plus(1))},function(e){e.fillBlock({each:r},t,4)})}),i},function(t){t.fill(i,"getNodesFrom:",{aCollection:r,children:s,others:o},e.ClassSorterNode)})},args:["aCollection"],source:"getNodesFrom: aCollection\n	| children others |\n	children := #().\n	others := #().\n	aCollection do: [ :each |\n		(each superclass = self theClass)\n			ifTrue: [ children add: each ]\n			ifFalse: [ others add: each ]].\n	nodes:= children collect: [ :each |\n		ClassSorterNode on: each classes: others level: self level + 1 ]",messageSends:["do:","ifTrue:ifFalse:","=","superclass","theClass","add:","collect:","on:classes:level:","+","level"],referencedClasses:["ClassSorterNode"]}),e.ClassSorterNode),e.addMethod(e.method({selector:"level",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@level"]},function(n){n.fill(t,"level",{},e.ClassSorterNode)})},args:[],source:"level\n	^ level",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"level:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@level"]=t,n},function(r){r.fill(n,"level:",{anInteger:t},e.ClassSorterNode)})},args:["anInteger"],source:"level: anInteger\n	level := anInteger",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@nodes"]},function(n){n.fill(t,"nodes",{},e.ClassSorterNode)})},args:[],source:"nodes\n	^ nodes",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ClassSorterNode)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(r){r.fill(n,"theClass:",{aClass:t},e.ClassSorterNode)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"traverseClassesWith:",category:"visiting",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i;return s=r._theClass(),a.sendIdx.theClass=1,n(t)._add_(s),n(n(r._nodes())._sorted_(function(t,r){return e.withContext(function(e){return o=n(t)._theClass(),e.sendIdx.theClass=2,i=n(o)._name(),e.sendIdx.name=1,n(i).__lt_eq(n(n(r)._theClass())._name())},function(e){e.fillBlock({a:t,b:r},a,1)})}))._do_(function(r){return e.withContext(function(){return n(r)._traverseClassesWith_(t)},function(e){e.fillBlock({aNode:r},a,2)})}),r},function(n){n.fill(r,"traverseClassesWith:",{aCollection:t},e.ClassSorterNode)})},args:["aCollection"],source:'traverseClassesWith: aCollection\n	"sort classes alphabetically Issue #143"\n\n	aCollection add: self theClass.\n	(self nodes sorted: [ :a :b | a theClass name <= b theClass name ]) do: [ :aNode |\n		aNode traverseClassesWith: aCollection ].',messageSends:["add:","theClass","do:","sorted:","nodes","<=","name","traverseClassesWith:"],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"on:classes:level:",category:"instance creation",fn:function(t,r,a){var s=this;return e.withContext(function(){var e,o,i;return e=s._new(),n(e)._theClass_(t),n(e)._level_(a),n(e)._getNodesFrom_(r),o=n(e)._yourself(),i=o},function(n){n.fill(s,"on:classes:level:",{aClass:t,aCollection:r,anInteger:a},e.ClassSorterNode.klass)})},args:["aClass","aCollection","anInteger"],source:"on: aClass classes: aCollection level: anInteger\n	^ self new\n		theClass: aClass;\n		level: anInteger;\n		getNodesFrom: aCollection;\n		yourself",messageSends:["theClass:","new","level:","getNodesFrom:","yourself"],referencedClasses:[]}),e.ClassSorterNode.klass)}),define("amber_core/Kernel-Methods",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(smalltalk,nil,_st){smalltalk.addPackage("Kernel-Methods"),smalltalk.packages["Kernel-Methods"].transport={type:"amd",amdNamespace:"amber_core"},smalltalk.addClass("BlockClosure",smalltalk.Object,[],"Kernel-Methods"),smalltalk.BlockClosure.comment="I represent a lexical closure.\nI am is directly mapped to JavaScript Function.\n\n## API\n\n1. Evaluation\n\n    My instances get evaluated with the `#value*` methods in the 'evaluating' protocol.\n\n    Example: ` [ :x | x + 1 ] value: 3 \"Answers 4\" `\n\n2. Control structures\n\n    Blocks are used (together with `Boolean`) for control structures (methods in the `controlling` protocol).\n\n    Example: `aBlock whileTrue: [ ... ]`\n\n3. Error handling\n\n    I provide the `#on:do:` method for handling exceptions.\n\n    Example: ` aBlock on: MessageNotUnderstood do: [ :ex | ... ] `",smalltalk.addMethod(smalltalk.method({selector:"applyTo:arguments:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){return n.apply(e,t)},function(r){r.fill(n,"applyTo:arguments:",{anObject:e,aCollection:t},smalltalk.BlockClosure)})},args:["anObject","aCollection"],source:"applyTo: anObject arguments: aCollection\n	<return self.apply(anObject, aCollection)>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"asCompiledMethod:",category:"converting",fn:function(e){var t=this;return smalltalk.withContext(function(){return smalltalk.method({selector:e,fn:t})},function(n){n.fill(t,"asCompiledMethod:",{aString:e},smalltalk.BlockClosure)})},args:["aString"],source:"asCompiledMethod: aString\n	<return smalltalk.method({selector:aString, fn:self});>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"compiledSource",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.toString()},function(t){t.fill(e,"compiledSource",{},smalltalk.BlockClosure)})},args:[],source:"compiledSource\n	<return self.toString()>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"currySelf",category:"converting",fn:function(){var e=this;return smalltalk.withContext(function(){return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}},function(t){t.fill(e,"currySelf",{},smalltalk.BlockClosure)})},args:[],source:"currySelf\n	\"Transforms [ :selfarg :x :y | stcode ] block\n	which represents JS function (selfarg, x, y, ...) {jscode}\n	into function (x, y, ...) {jscode} that takes selfarg from 'this'.\n	IOW, it is usable as JS method and first arg takes the receiver.\"\n	\n	<\n		return function () {\n			var args = [ this ];\n			args.push.apply(args, arguments);\n			return self.apply(null, args);\n		}\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"ensure:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){try{return t._value()}finally{e._value()}return t},function(n){n.fill(t,"ensure:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"ensure: aBlock\n	<try{return self._value()}finally{aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"fork",category:"timeout/interval",fn:function(){function e(){return smalltalk.ForkPool||("undefined"==typeof ForkPool?nil:ForkPool)}var t=this;return smalltalk.withContext(function(){return _st(_st(e())._default())._fork_(t),t},function(e){e.fill(t,"fork",{},smalltalk.BlockClosure)})},args:[],source:"fork\n	ForkPool default fork: self",messageSends:["fork:","default"],referencedClasses:["ForkPool"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"new",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){return new e},function(t){t.fill(e,"new",{},smalltalk.BlockClosure)})},args:[],source:'new\n	"Use the receiver as a JS constructor.\n	*Do not* use this method to instanciate Smalltalk objects!"\n	<return new self()>',messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._newWithValues_([e])},function(n){n.fill(t,"newValue:",{anObject:e},smalltalk.BlockClosure)})},args:["anObject"],source:"newValue: anObject\n	^ self newWithValues: { anObject }",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var r;return r=n._newWithValues_([e,t])},function(r){r.fill(n,"newValue:value:",{anObject:e,anObject2:t},smalltalk.BlockClosure)})},args:["anObject","anObject2"],source:"newValue: anObject value: anObject2\n	^ self newWithValues: { anObject. anObject2 }.",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:value:value:",category:"evaluating",fn:function(e,t,n){var r=this;return smalltalk.withContext(function(){var a;return a=r._newWithValues_([e,t,n])},function(a){a.fill(r,"newValue:value:value:",{anObject:e,anObject2:t,anObject3:n},smalltalk.BlockClosure)})},args:["anObject","anObject2","anObject3"],source:"newValue: anObject value: anObject2 value: anObject3\n	^ self newWithValues: { anObject. anObject2. anObject3 }.",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newWithValues:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=function(){};n.prototype=t.prototype;var r=new n,a=t.apply(r,e);return"object"==typeof a?a:r},function(n){n.fill(t,"newWithValues:",{aCollection:e},smalltalk.BlockClosure)})},args:["aCollection"],source:"newWithValues: aCollection\n	\"Use the receiver as a JavaScript constructor with a variable number of arguments.\n	Answer the object created using the operator `new`.\n\n	This algorithm was inspired by http://stackoverflow.com/a/6069331.\n\n	Here's a general breakdown of what's going on:\n	1) Create a new, empty constructor function.\n	2) Set it's prototype to the receiver's prototype. Because the receiver is a `BlockClosure`, it is also a JavaScript function.\n	3) Instantiate a new object using the constructor function just created. \n		This forces the interpreter to set the internal [[prototype]] property to what was set on the function before. \n   		This has to be done, as we have no access to the [[prototype]] property externally.\n	4) Apply `self` to the object I just instantiated.\"\n\n	<\n		var constructor = function() {};\n		constructor.prototype = self.prototype;\n		var object = new constructor;\n		var result = self.apply(object, aCollection);\n		return typeof result === \"object\" ? result : object;\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"numArgs",category:"accessing",fn:function(){var e=this;
return smalltalk.withContext(function(){return e.length},function(t){t.fill(e,"numArgs",{},smalltalk.BlockClosure)})},args:[],source:"numArgs\n	<return self.length>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"on:do:",category:"error handling",fn:function(e,t){function n(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var r=this;return smalltalk.withContext(function(a){var s,o;return o=r._try_catch_(r,function(r){var o;return smalltalk.withContext(function(){return o=_st(_st(n())._current())._asSmalltalkException_(r),s=_st(o)._isKindOf_(e),smalltalk.assert(s)?_st(t)._value_(o):_st(o)._resignal()},function(e){e.fillBlock({error:r,smalltalkError:o},a,1)})})},function(n){n.fill(r,"on:do:",{anErrorClass:e,aBlock:t},smalltalk.BlockClosure)})},args:["anErrorClass","aBlock"],source:'on: anErrorClass do: aBlock\n	"All exceptions thrown in the Smalltalk stack are cought.\n	Convert all JS exceptions to JavaScriptException instances."\n	\n	^ self try: self catch: [ :error | | smalltalkError |\n		smalltalkError := Smalltalk current asSmalltalkException: error.\n		(smalltalkError isKindOf: anErrorClass)\n		ifTrue: [ aBlock value: smalltalkError ]\n		ifFalse: [ smalltalkError resignal ] ]',messageSends:["try:catch:","asSmalltalkException:","current","ifTrue:ifFalse:","isKindOf:","value:","resignal"],referencedClasses:["Smalltalk"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return nil},function(t){t.fill(e,"receiver",{},smalltalk.BlockClosure)})},args:[],source:"receiver\n	^ nil",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"timeToRun",category:"evaluating",fn:function(){function e(){return smalltalk.Date||("undefined"==typeof Date?nil:Date)}var t=this;return smalltalk.withContext(function(){var n;return n=_st(e())._millisecondsToRun_(t)},function(e){e.fill(t,"timeToRun",{},smalltalk.BlockClosure)})},args:[],source:'timeToRun\n	"Answer the number of milliseconds taken to execute this block."\n\n	^ Date millisecondsToRun: self',messageSends:["millisecondsToRun:"],referencedClasses:["Date"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){return e()},function(t){t.fill(e,"value",{},smalltalk.BlockClosure)})},args:[],source:"value\n	<return self();>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){return t(e)},function(n){n.fill(t,"value:",{anArg:e},smalltalk.BlockClosure)})},args:["anArg"],source:"value: anArg\n	<return self(anArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){return n(e,t)},function(r){r.fill(n,"value:value:",{firstArg:e,secondArg:t},smalltalk.BlockClosure)})},args:["firstArg","secondArg"],source:"value: firstArg value: secondArg\n	<return self(firstArg, secondArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:value:value:",category:"evaluating",fn:function(e,t,n){var r=this;return smalltalk.withContext(function(){return r(e,t,n)},function(a){a.fill(r,"value:value:value:",{firstArg:e,secondArg:t,thirdArg:n},smalltalk.BlockClosure)})},args:["firstArg","secondArg","thirdArg"],source:"value: firstArg value: secondArg value: thirdArg\n	<return self(firstArg, secondArg, thirdArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithInterval:",category:"timeout/interval",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=setInterval(t,e);return smalltalk.Timeout._on_(n)},function(n){n.fill(t,"valueWithInterval:",{aNumber:e},smalltalk.BlockClosure)})},args:["aNumber"],source:"valueWithInterval: aNumber\n	<\n		var interval = setInterval(self, aNumber);\n		return smalltalk.Timeout._on_(interval);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithPossibleArguments:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){return t.apply(null,e)},function(n){n.fill(t,"valueWithPossibleArguments:",{aCollection:e},smalltalk.BlockClosure)})},args:["aCollection"],source:"valueWithPossibleArguments: aCollection\n	<return self.apply(null, aCollection);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithTimeout:",category:"timeout/interval",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=setTimeout(t,e);return smalltalk.Timeout._on_(n)},function(n){n.fill(t,"valueWithTimeout:",{aNumber:e},smalltalk.BlockClosure)})},args:["aNumber"],source:"valueWithTimeout: aNumber\n	<\n		var timeout = setTimeout(self, aNumber);\n		return smalltalk.Timeout._on_(timeout);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileFalse",category:"controlling",fn:function(){var e=this;return smalltalk.withContext(function(t){return e._whileFalse_(function(){return smalltalk.withContext(function(){},function(e){e.fillBlock({},t,1)})}),e},function(t){t.fill(e,"whileFalse",{},smalltalk.BlockClosure)})},args:[],source:"whileFalse\n	self whileFalse: []",messageSends:["whileFalse:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileFalse:",category:"controlling",fn:function(e){var t=this;return smalltalk.withContext(function(){for(;!smalltalk.assert(t._value());)e._value();return t},function(n){n.fill(t,"whileFalse:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"whileFalse: aBlock\n	<while(!smalltalk.assert(self._value())) {aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileTrue",category:"controlling",fn:function(){var e=this;return smalltalk.withContext(function(t){return e._whileTrue_(function(){return smalltalk.withContext(function(){},function(e){e.fillBlock({},t,1)})}),e},function(t){t.fill(e,"whileTrue",{},smalltalk.BlockClosure)})},args:[],source:"whileTrue\n	self whileTrue: []",messageSends:["whileTrue:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileTrue:",category:"controlling",fn:function(e){var t=this;return smalltalk.withContext(function(){for(;smalltalk.assert(t._value());)e._value();return t},function(n){n.fill(t,"whileTrue:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"whileTrue: aBlock\n	<while(smalltalk.assert(self._value())) {aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addClass("CompiledMethod",smalltalk.Object,[],"Kernel-Methods"),smalltalk.CompiledMethod.comment="I represent a class method of the system. I hold the source and compiled code of a class method.\n\n## API\nMy instances can be accessed using `Behavior >> #methodAt:`\n\n    Object methodAt: 'asString'\n\nSource code access:\n\n	(String methodAt: 'lines') source\n\nReferenced classes:\n\n	(String methodAt: 'lines') referencedClasses\n\nMessages sent from an instance:\n	\n	(String methodAt: 'lines') messageSends",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.args||[]},function(t){t.fill(e,"arguments",{},smalltalk.CompiledMethod)})},args:[],source:"arguments\n	<return self.args || []>",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"category",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e._basicAt_("category"),n=($receiver=t)==nil||null==$receiver?e._defaultCategory():t},function(t){t.fill(e,"category",{},smalltalk.CompiledMethod)})},args:[],source:"category\n	^ (self basicAt: 'category') ifNil: [ self defaultCategory ]",messageSends:["ifNil:","basicAt:","defaultCategory"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"category:",category:"accessing",fn:function(e){function t(){return smalltalk.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?nil:SystemAnnouncer)}function n(){return smalltalk.MethodMoved||("undefined"==typeof MethodMoved?nil:MethodMoved)}var r,a=this;return smalltalk.withContext(function(s){var o,i,l,c,u,d,f,h;return r=a._protocol(),s.sendIdx.protocol=1,a._basicAt_put_("category",e),o=_st(n())._new(),_st(o)._method_(a),_st(o)._oldProtocol_(r),i=_st(o)._yourself(),_st(_st(t())._current())._announce_(i),l=a._methodClass(),s.sendIdx.methodClass=1,($receiver=l)==nil||null==$receiver||(c=a._methodClass(),s.sendIdx.methodClass=2,u=_st(c)._organization(),s.sendIdx.organization=1,_st(u)._addElement_(e),d=a._methodClass(),s.sendIdx.methodClass=3,f=_st(d)._methods(),h=_st(f)._select_(function(e){return smalltalk.withContext(function(){return _st(_st(e)._protocol()).__eq(r)},function(t){t.fillBlock({each:e},s,2)})}),_st(h)._ifEmpty_(function(){return smalltalk.withContext(function(){return _st(_st(a._methodClass())._organization())._removeElement_(r)},function(e){e.fillBlock({},s,3)})})),a},function(t){t.fill(a,"category:",{aString:e,oldProtocol:r},smalltalk.CompiledMethod)})},args:["aString"],source:"category: aString\n	| oldProtocol |\n	oldProtocol := self protocol.\n	self basicAt: 'category' put: aString.\n\n	SystemAnnouncer current announce: (MethodMoved new\n		method: self;\n		oldProtocol: oldProtocol;\n		yourself).\n\n	self methodClass ifNotNil: [\n		self methodClass organization addElement: aString.\n	\n		(self methodClass methods\n			select: [ :each | each protocol = oldProtocol ])\n			ifEmpty: [ self methodClass organization removeElement: oldProtocol ] ]",messageSends:["protocol","basicAt:put:","announce:","current","method:","new","oldProtocol:","yourself","ifNotNil:","methodClass","addElement:","organization","ifEmpty:","select:","methods","=","removeElement:"],referencedClasses:["SystemAnnouncer","MethodMoved"]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"defaultCategory",category:"defaults",fn:function(){var e=this;return smalltalk.withContext(function(){return"as yet unclassified"},function(t){t.fill(e,"defaultCategory",{},smalltalk.CompiledMethod)})},args:[],source:"defaultCategory\n	^ 'as yet unclassified'",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"fn",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("fn")},function(t){t.fill(e,"fn",{},smalltalk.CompiledMethod)})},args:[],source:"fn\n	^ self basicAt: 'fn'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"fn:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("fn",e),t},function(n){n.fill(t,"fn:",{aBlock:e},smalltalk.CompiledMethod)})},args:["aBlock"],source:"fn: aBlock\n	self basicAt: 'fn' put: aBlock",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isCompiledMethod",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isCompiledMethod",{},smalltalk.CompiledMethod)})},args:[],source:"isCompiledMethod\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isOverridden",category:"testing",fn:function(){var e,t=this;return smalltalk.withContext(function(n){var r,a={};try{return e=t._selector(),_st(t._methodClass())._allSubclassesDo_(function(t){return smalltalk.withContext(function(){if(r=_st(t)._includesSelector_(e),smalltalk.assert(r))throw a=[!0]},function(e){e.fillBlock({each:t},n,1)})}),!1}catch(s){if(s===a)return s[0];throw s}},function(n){n.fill(t,"isOverridden",{selector:e},smalltalk.CompiledMethod)})},args:[],source:"isOverridden\n	| selector |\n    \n    selector := self selector.\n    self methodClass allSubclassesDo: [ :each |\n	    (each includesSelector: selector)\n        	ifTrue: [ ^ true ] ].\n	^ false",messageSends:["selector","allSubclassesDo:","methodClass","ifTrue:","includesSelector:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isOverride",category:"testing",fn:function(){var e,t=this;return smalltalk.withContext(function(n){var r,a,s;return r=t._methodClass(),n.sendIdx.methodClass=1,e=_st(r)._superclass(),n.sendIdx.superclass=1,a=e,($receiver=a)==nil||null==$receiver?!1:s=_st(_st(_st(t._methodClass())._superclass())._lookupSelector_(t._selector()))._notNil()},function(n){n.fill(t,"isOverride",{superclass:e},smalltalk.CompiledMethod)})},args:[],source:"isOverride\n	| superclass |\n    \n    superclass := self methodClass superclass.\n	superclass ifNil: [ ^ false ].\n	\n    ^ (self methodClass superclass lookupSelector: self selector) notNil",messageSends:["superclass","methodClass","ifNil:","notNil","lookupSelector:","selector"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"messageSends",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("messageSends")},function(t){t.fill(e,"messageSends",{},smalltalk.CompiledMethod)})},args:[],source:"messageSends\n	^ self basicAt: 'messageSends'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"methodClass",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("methodClass")},function(t){t.fill(e,"methodClass",{},smalltalk.CompiledMethod)})},args:[],source:"methodClass\n	^ self basicAt: 'methodClass'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"protocol",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._category()},function(t){t.fill(e,"protocol",{},smalltalk.CompiledMethod)})},args:[],source:"protocol\n	^ self category",messageSends:["category"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"protocol:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._category_(e),t},function(n){n.fill(t,"protocol:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"protocol: aString\n	self category: aString",messageSends:["category:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"referencedClasses",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("referencedClasses")},function(t){t.fill(e,"referencedClasses",{},smalltalk.CompiledMethod)})},args:[],source:"referencedClasses\n	^ self basicAt: 'referencedClasses'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("selector")},function(t){t.fill(e,"selector",{},smalltalk.CompiledMethod)})},args:[],source:"selector\n	^ self basicAt: 'selector'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("selector",e),t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"selector: aString\n	self basicAt: 'selector' put: aString",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"sendTo:arguments:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var r;return r=_st(n._fn())._applyTo_arguments_(e,t)},function(r){r.fill(n,"sendTo:arguments:",{anObject:e,aCollection:t},smalltalk.CompiledMethod)})},args:["anObject","aCollection"],source:"sendTo: anObject arguments: aCollection\n	^ self fn applyTo: anObject arguments: aCollection",messageSends:["applyTo:arguments:","fn"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"source",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e._basicAt_("source"),n=($receiver=t)==nil||null==$receiver?"":t},function(t){t.fill(e,"source",{},smalltalk.CompiledMethod)})},args:[],source:"source\n	^ (self basicAt: 'source') ifNil: [ '' ]",messageSends:["ifNil:","basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"source:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("source",e),t},function(n){n.fill(t,"source:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"source: aString\n	self basicAt: 'source' put: aString",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addClass("ForkPool",smalltalk.Object,["poolSize","maxPoolSize","queue","worker"],"Kernel-Methods"),smalltalk.ForkPool.comment="I am responsible for handling forked blocks.\nThe pool size sets the maximum concurrent forked blocks.\n\n## API\n\nThe default instance is accessed with `#default`.\nThe maximum concurrent forked blocks can be set with `#maxPoolSize:`.\n\nForking is done via `BlockClosure >> #fork`",smalltalk.addMethod(smalltalk.method({selector:"addWorker",category:"private",fn:function(){var e=this;return smalltalk.withContext(function(){return _st(e["@worker"])._valueWithTimeout_(0),e["@poolSize"]=_st(e["@poolSize"]).__plus(1),e},function(t){t.fill(e,"addWorker",{},smalltalk.ForkPool)})},args:[],source:"addWorker\n	worker valueWithTimeout: 0.\n	poolSize := poolSize + 1",messageSends:["valueWithTimeout:","+"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",category:"defaults",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._class())._defaultMaxPoolSize()},function(t){t.fill(e,"defaultMaxPoolSize",{},smalltalk.ForkPool)})},args:[],source:"defaultMaxPoolSize\n	^ self class defaultMaxPoolSize",messageSends:["defaultMaxPoolSize","class"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"fork:",category:"actions",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(t["@poolSize"]).__lt(t._maxPoolSize()),smalltalk.assert(n)&&t._addWorker(),_st(t["@queue"])._nextPut_(e),t},function(n){n.fill(t,"fork:",{aBlock:e},smalltalk.ForkPool)})},args:["aBlock"],source:"fork: aBlock\n	poolSize < self maxPoolSize ifTrue: [ self addWorker ].\n	queue nextPut: aBlock",messageSends:["ifTrue:","<","maxPoolSize","addWorker","nextPut:"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"initialize",category:"initialization",fn:function(){function e(){return smalltalk.Queue||("undefined"==typeof Queue?nil:Queue)}var t=this;return smalltalk.withContext(function(){return smalltalk.ForkPool.superclass.fn.prototype._initialize.apply(_st(t),[]),t["@poolSize"]=0,t["@queue"]=_st(e())._new(),t["@worker"]=t._makeWorker(),t},function(e){e.fill(t,"initialize",{},smalltalk.ForkPool)})},args:[],source:"initialize\n	super initialize.\n	\n	poolSize := 0.\n	queue := Queue new.\n	worker := self makeWorker",messageSends:["initialize","new","makeWorker"],referencedClasses:["Queue"]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"makeWorker",category:"initialization",fn:function(){function e(){return smalltalk.Object||("undefined"==typeof Object?nil:Object)}var t,n=this;return smalltalk.withContext(function(r){var a,s;return t=_st(e())._new(),s=function(){var e;return smalltalk.withContext(function(r){return n["@poolSize"]=_st(n["@poolSize"]).__minus(1),n["@poolSize"],e=_st(n["@queue"])._nextIfAbsent_(function(){return smalltalk.withContext(function(){return t},function(e){e.fillBlock({},r,2)})}),a=_st(e).__eq_eq(t),smalltalk.assert(a)?void 0:_st(function(){return smalltalk.withContext(function(){return _st(e)._value()},function(e){e.fillBlock({},r,4)})})._ensure_(function(){return smalltalk.withContext(function(){return n._addWorker()},function(e){e.fillBlock({},r,5)})})},function(t){t.fillBlock({block:e},r,1)})}},function(e){e.fill(n,"makeWorker",{sentinel:t},smalltalk.ForkPool)})},args:[],source:"makeWorker\n	| sentinel |\n	sentinel := Object new.\n	^ [ | block |\n		poolSize := poolSize - 1.\n		block := queue nextIfAbsent: [ sentinel ].\n		block == sentinel ifFalse: [\n			[ block value ] ensure: [ self addWorker ] ]]",messageSends:["new","-","nextIfAbsent:","ifFalse:","==","ensure:","value","addWorker"],referencedClasses:["Object"]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@maxPoolSize"],n=($receiver=t)==nil||null==$receiver?e._defaultMaxPoolSize():t},function(t){t.fill(e,"maxPoolSize",{},smalltalk.ForkPool)})},args:[],source:"maxPoolSize\n	^ maxPoolSize ifNil: [ self defaultMaxPoolSize ]",messageSends:["ifNil:","defaultMaxPoolSize"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@maxPoolSize"]=e,t},function(n){n.fill(t,"maxPoolSize:",{anInteger:e},smalltalk.ForkPool)})},args:["anInteger"],source:"maxPoolSize: anInteger\n	maxPoolSize := anInteger",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.ForkPool.klass.iVarNames=["default"],smalltalk.addMethod(smalltalk.method({selector:"default",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@default"],($receiver=t)==nil||null==$receiver?(e["@default"]=e._new(),n=e["@default"]):n=t,n},function(t){t.fill(e,"default",{},smalltalk.ForkPool.klass)})},args:[],source:"default\n	^ default ifNil: [ default := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return 100},function(t){t.fill(e,"defaultMaxPoolSize",{},smalltalk.ForkPool.klass)})},args:[],source:"defaultMaxPoolSize\n	^ 100",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addMethod(smalltalk.method({selector:"resetDefault",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e["@default"]=nil,e},function(t){t.fill(e,"resetDefault",{},smalltalk.ForkPool.klass)})},args:[],source:"resetDefault\n	default := nil",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addClass("Message",smalltalk.Object,["selector","arguments"],"Kernel-Methods"),smalltalk.Message.comment="In general, the system does not use instances of me for efficiency reasons.\nHowever, when a message is not understood by its receiver, the interpreter will make up an instance of it in order to capture the information involved in an actual message transmission.\nThis instance is sent it as an argument with the message `#doesNotUnderstand:` to the receiver.\n\nSee boot.js, `messageNotUnderstood` and its counterpart `Object >> #doesNotUnderstand:`\n\n## API\n\nBesides accessing methods, `#sendTo:` provides a convenient way to send a message to an object.",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@arguments"]},function(t){t.fill(e,"arguments",{},smalltalk.Message)})},args:[],source:"arguments\n	^ arguments",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"arguments:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@arguments"]=e,t},function(n){n.fill(t,"arguments:",{anArray:e},smalltalk.Message)})},args:["anArray"],source:"arguments: anArray\n	arguments := anArray",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var r;return smalltalk.Message.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._selector()),n.sendIdx["nextPutAll:"]=2,r=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.Message)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream\n		nextPutAll: '(';\n		nextPutAll: self selector;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","selector"],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@selector"]},function(t){t.fill(e,"selector",{},smalltalk.Message)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@selector"]=e,t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.Message)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"sendTo:",category:"actions",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(e)._perform_withArguments_(t._selector(),t._arguments())},function(n){n.fill(t,"sendTo:",{anObject:e},smalltalk.Message)})},args:["anObject"],source:"sendTo: anObject\n	^ anObject perform: self selector withArguments: self arguments",messageSends:["perform:withArguments:","selector","arguments"],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector:arguments:",category:"instance creation",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var r,a,s;return r=n._new(),_st(r)._selector_(e),_st(r)._arguments_(t),a=_st(r)._yourself(),s=a},function(r){r.fill(n,"selector:arguments:",{aString:e,anArray:t},smalltalk.Message.klass)})},args:["aString","anArray"],source:"selector: aString arguments: anArray\n	^ self new\n		selector: aString;\n		arguments: anArray;\n		yourself",messageSends:["selector:","new","arguments:","yourself"],referencedClasses:[]}),smalltalk.Message.klass),smalltalk.addClass("MessageSend",smalltalk.Object,["receiver","message"],"Kernel-Methods"),smalltalk.MessageSend.comment="I encapsulate message sends to objects. Arguments can be either predefined or supplied when the message send is performed. \n\n## API\n\nUse `#value` to perform a message send with its predefined arguments and `#value:*` if additonal arguments have to supplied.",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._arguments()},function(t){t.fill(e,"arguments",{},smalltalk.MessageSend)})},args:[],source:"arguments\n	^ message arguments",messageSends:["arguments"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"arguments:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t["@message"])._arguments_(e),t},function(n){n.fill(t,"arguments:",{aCollection:e},smalltalk.MessageSend)})},args:["aCollection"],source:"arguments: aCollection\n	message arguments: aCollection",messageSends:["arguments:"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"initialize",category:"initialization",fn:function(){function e(){return smalltalk.Message||("undefined"==typeof Message?nil:Message)}var t=this;return smalltalk.withContext(function(){return smalltalk.MessageSend.superclass.fn.prototype._initialize.apply(_st(t),[]),t["@message"]=_st(e())._new(),t},function(e){e.fill(t,"initialize",{},smalltalk.MessageSend)})},args:[],source:"initialize\n	super initialize.\n	message := Message new",messageSends:["initialize","new"],referencedClasses:["Message"]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var r;return smalltalk.MessageSend.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._receiver()),n.sendIdx["nextPutAll:"]=2,_st(e)._nextPutAll_(" >> "),n.sendIdx["nextPutAll:"]=3,_st(e)._nextPutAll_(t._selector()),n.sendIdx["nextPutAll:"]=4,r=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.MessageSend)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream\n		nextPutAll: '(';\n		nextPutAll: self receiver;\n		nextPutAll: ' >> ';\n		nextPutAll: self selector;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","receiver","selector"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@receiver"]},function(t){t.fill(e,"receiver",{},smalltalk.MessageSend)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"receiver:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@receiver"]=e,t},function(n){n.fill(t,"receiver:",{anObject:e},smalltalk.MessageSend)})},args:["anObject"],source:"receiver: anObject\n	receiver := anObject",messageSends:[],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._selector()},function(t){t.fill(e,"selector",{},smalltalk.MessageSend)})},args:[],source:"selector\n	^ message selector",messageSends:["selector"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t["@message"])._selector_(e),t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.MessageSend)})},args:["aString"],source:"selector: aString\n	message selector: aString",messageSends:["selector:"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._sendTo_(e._receiver())},function(t){t.fill(e,"value",{},smalltalk.MessageSend)
})},args:[],source:"value\n	^ message sendTo: self receiver",messageSends:["sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,r,a;return n=t["@message"],_st(n)._arguments_([e]),r=_st(n)._sendTo_(t._receiver()),a=r},function(n){n.fill(t,"value:",{anObject:e},smalltalk.MessageSend)})},args:["anObject"],source:"value: anObject\n	^ message \n		arguments: { anObject };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var r,a,s;return r=n["@message"],_st(r)._arguments_([e,t]),a=_st(r)._sendTo_(n._receiver()),s=a},function(r){r.fill(n,"value:value:",{firstArgument:e,secondArgument:t},smalltalk.MessageSend)})},args:["firstArgument","secondArgument"],source:"value: firstArgument value: secondArgument\n	^ message \n		arguments: { firstArgument. secondArgument };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:value:value:",category:"evaluating",fn:function(e,t,n){var r=this;return smalltalk.withContext(function(){var a,s,o;return a=r["@message"],_st(a)._arguments_([e,t,n]),s=_st(a)._sendTo_(r._receiver()),o=s},function(a){a.fill(r,"value:value:value:",{firstArgument:e,secondArgument:t,thirdArgument:n},smalltalk.MessageSend)})},args:["firstArgument","secondArgument","thirdArgument"],source:"value: firstArgument value: secondArgument value: thirdArgument\n	^ message \n		arguments: { firstArgument. secondArgument. thirdArgument };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"valueWithPossibleArguments:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return t._arguments_(e),n=t._value()},function(n){n.fill(t,"valueWithPossibleArguments:",{aCollection:e},smalltalk.MessageSend)})},args:["aCollection"],source:"valueWithPossibleArguments: aCollection\n	self arguments: aCollection.\n	^ self value",messageSends:["arguments:","value"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addClass("MethodContext",smalltalk.Object,[],"Kernel-Methods"),smalltalk.MethodContext.comment="I hold all the dynamic state associated with the execution of either a method activation resulting from a message send. I am used to build the call stack while debugging.\n\nMy instances are JavaScript `SmalltalkMethodContext` objects defined in `boot.js`.",smalltalk.addMethod(smalltalk.method({selector:"asString",category:"converting",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,r,a;return n=e._isBlockContext(),smalltalk.assert(n)?(r="a block (in ".__comma(_st(e._methodContext())._asString()),t.sendIdx[","]=2,a=_st(r).__comma(")"),t.sendIdx[","]=1):(a=_st(_st(_st(_st(e._receiver())._class())._name()).__comma(" >> ")).__comma(e._selector()),t.sendIdx[","]=3),a},function(t){t.fill(e,"asString",{},smalltalk.MethodContext)})},args:[],source:"asString\n	^ self isBlockContext\n		ifTrue: [ 'a block (in ', self methodContext asString, ')' ]\n		ifFalse: [ self receiver class name, ' >> ', self selector ]",messageSends:["ifTrue:ifFalse:","isBlockContext",",","asString","methodContext","name","class","receiver","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"evaluatedSelector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.evaluatedSelector},function(t){t.fill(e,"evaluatedSelector",{},smalltalk.MethodContext)})},args:[],source:"evaluatedSelector\n	<return self.evaluatedSelector>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"home",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.homeContext},function(t){t.fill(e,"home",{},smalltalk.MethodContext)})},args:[],source:"home\n	<return self.homeContext>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"index",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.index||0},function(t){t.fill(e,"index",{},smalltalk.MethodContext)})},args:[],source:"index\n	<return self.index || 0>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"isBlockContext",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._selector())._isNil()},function(t){t.fill(e,"isBlockContext",{},smalltalk.MethodContext)})},args:[],source:'isBlockContext\n	"Block context do not have selectors."\n	\n	^ self selector isNil',messageSends:["isNil","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"locals",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.locals||{}},function(t){t.fill(e,"locals",{},smalltalk.MethodContext)})},args:[],source:"locals\n	<return self.locals || {}>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"method",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,r,a,s,o;return n=e._methodContext(),t.sendIdx.methodContext=1,($receiver=n)==nil||null==$receiver?o=n:(r=e._methodContext(),t.sendIdx.methodContext=2,a=_st(r)._receiver(),s=_st(a)._class(),o=_st(s)._lookupSelector_(_st(e._methodContext())._selector())),o},function(t){t.fill(e,"method",{},smalltalk.MethodContext)})},args:[],source:"method\n	^ self methodContext ifNotNil: [\n		self methodContext receiver class lookupSelector: self methodContext selector ]",messageSends:["ifNotNil:","methodContext","lookupSelector:","class","receiver","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"methodContext",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n,r;if(t=e._isBlockContext(),!smalltalk.assert(t))return e;if(n=e._outerContext(),($receiver=n)==nil||null==$receiver)r=n;else{var a;a=$receiver,r=_st(a)._methodContext()}return r},function(t){t.fill(e,"methodContext",{},smalltalk.MethodContext)})},args:[],source:"methodContext\n	self isBlockContext ifFalse: [ ^ self ].\n	\n	^ self outerContext ifNotNil: [ :outer |\n		outer methodContext ]",messageSends:["ifFalse:","isBlockContext","ifNotNil:","outerContext","methodContext"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"outerContext",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.outerContext||e.homeContext},function(t){t.fill(e,"outerContext",{},smalltalk.MethodContext)})},args:[],source:"outerContext\n	<return self.outerContext || self.homeContext>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var r;return smalltalk.MethodContext.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._asString()),n.sendIdx["nextPutAll:"]=2,r=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.MethodContext)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream \n		nextPutAll: '(';\n		nextPutAll: self asString;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","asString"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.receiver},function(t){t.fill(e,"receiver",{},smalltalk.MethodContext)})},args:[],source:"receiver\n	<return self.receiver>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.selector?smalltalk.convertSelector(e.selector):nil},function(t){t.fill(e,"selector",{},smalltalk.MethodContext)})},args:[],source:"selector\n	<\n		if(self.selector) {\n			return smalltalk.convertSelector(self.selector);\n		} else {\n			return nil;\n		}\n	>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"sendIndexAt:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t.sendIdx[e]||0},function(n){n.fill(t,"sendIndexAt:",{aSelector:e},smalltalk.MethodContext)})},args:["aSelector"],source:"sendIndexAt: aSelector\n	<return self.sendIdx[aSelector] || 0>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"sendIndexes",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.sendIdx},function(t){t.fill(e,"sendIndexes",{},smalltalk.MethodContext)})},args:[],source:"sendIndexes\n	<return self.sendIdx>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"temps",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return e._deprecatedAPI(),t=e._locals()},function(t){t.fill(e,"temps",{},smalltalk.MethodContext)})},args:[],source:"temps\n	self deprecatedAPI.\n	\n	^ self locals",messageSends:["deprecatedAPI","locals"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addClass("NativeFunction",smalltalk.Object,[],"Kernel-Methods"),smalltalk.NativeFunction.comment="I am a wrapper around native functions, such as `WebSocket`.\nFor 'normal' functions (whose constructor is the JavaScript `Function` object), use `BlockClosure`.\n\n## API\n\nSee the class-side `instance creation` methods for instance creation.\n\nCreated instances will most probably be instance of `JSObjectProxy`.\n\n## Usage example:\n\n	| ws |\n	ws := NativeFunction constructor: 'WebSocket' value: 'ws://localhost'.\n	ws at: 'onopen' put: [ ws send: 'hey there from Amber' ]",smalltalk.addMethod(smalltalk.method({selector:"constructor:",category:"instance creation",fn:function(aString){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native},function(e){e.fill(self,"constructor:",{aString:aString},smalltalk.NativeFunction.klass)})},args:["aString"],source:"constructor: aString\n	<\n		var native=eval(aString);\n		return new native();\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:",category:"instance creation",fn:function(aString,anObject){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject)},function(e){e.fill(self,"constructor:value:",{aString:aString,anObject:anObject},smalltalk.NativeFunction.klass)})},args:["aString","anObject"],source:"constructor: aString value:anObject\n	<\n		var native=eval(aString);\n		return new native(anObject);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:",category:"instance creation",fn:function(aString,anObject,anObject2){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2)},function(e){e.fill(self,"constructor:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2},smalltalk.NativeFunction.klass)})},args:["aString","anObject","anObject2"],source:"constructor: aString value:anObject value: anObject2\n	<\n		var native=eval(aString);\n		return new native(anObject,anObject2);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:value:",category:"instance creation",fn:function(aString,anObject,anObject2,anObject3){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2,anObject3)},function(e){e.fill(self,"constructor:value:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2,anObject3:anObject3},smalltalk.NativeFunction.klass)})},args:["aString","anObject","anObject2","anObject3"],source:"constructor: aString value:anObject value: anObject2 value:anObject3\n	<\n		var native=eval(aString);\n		return new native(anObject,anObject2, anObject3);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"exists:",category:"testing",fn:function(e){function t(){return smalltalk.PlatformInterface||("undefined"==typeof PlatformInterface?nil:PlatformInterface)}var n=this;return smalltalk.withContext(function(){var n;return n=_st(t())._existsGlobal_(e)},function(t){t.fill(n,"exists:",{aString:e},smalltalk.NativeFunction.klass)})},args:["aString"],source:"exists: aString\n	^ PlatformInterface existsGlobal: aString",messageSends:["existsGlobal:"],referencedClasses:["PlatformInterface"]}),smalltalk.NativeFunction.klass),smalltalk.addClass("Timeout",smalltalk.Object,["rawTimeout"],"Kernel-Methods"),smalltalk.Timeout.comment="I am wrapping the returns from `set{Timeout,Interval}`.\n\n## Motivation\n\nNumber suffices in browsers, but node.js returns an object.",smalltalk.addMethod(smalltalk.method({selector:"clearInterval",category:"timeout/interval",fn:function(){var e=this;return smalltalk.withContext(function(){var t=e["@rawTimeout"];return clearInterval(t),e},function(t){t.fill(e,"clearInterval",{},smalltalk.Timeout)})},args:[],source:'clearInterval\n	<\n		var interval = self["@rawTimeout"];\n		clearInterval(interval);\n	>',messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"clearTimeout",category:"timeout/interval",fn:function(){var e=this;return smalltalk.withContext(function(){var t=e["@rawTimeout"];return clearTimeout(t),e},function(t){t.fill(e,"clearTimeout",{},smalltalk.Timeout)})},args:[],source:'clearTimeout\n	<\n		var timeout = self["@rawTimeout"];\n		clearTimeout(timeout);\n	>',messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"rawTimeout:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@rawTimeout"]=e,t},function(n){n.fill(t,"rawTimeout:",{anObject:e},smalltalk.Timeout)})},args:["anObject"],source:"rawTimeout: anObject\n	rawTimeout := anObject",messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"on:",category:"instance creation",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,r,a;return n=t._new(),_st(n)._rawTimeout_(e),r=_st(n)._yourself(),a=r},function(n){n.fill(t,"on:",{anObject:e},smalltalk.Timeout.klass)})},args:["anObject"],source:"on: anObject\n	^ self new rawTimeout: anObject; yourself",messageSends:["rawTimeout:","new","yourself"],referencedClasses:[]}),smalltalk.Timeout.klass)}),define("amber_core/Kernel-Collections",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Collections"),e.packages["Kernel-Collections"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Association",e.Object,["key","value"],"Kernel-Collections"),e.Association.comment="I represent a pair of associated objects, a key and a value. My instances can serve as entries in a dictionary.\n\nInstances can be created with the class-side method `#key:value:`",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c,u;return s=r._class(),a.sendIdx["class"]=1,o=n(s).__eq(n(t)._class()),a.sendIdx["="]=1,u=n(o)._and_(function(){return e.withContext(function(a){return i=r._key(),a.sendIdx.key=1,l=n(i).__eq(n(t)._key()),a.sendIdx["="]=2,n(l)._and_(function(){return e.withContext(function(e){return c=r._value(),e.sendIdx.value=1,n(c).__eq(n(t)._value())},function(e){e.fillBlock({},a,2)})})},function(e){e.fillBlock({},a,1)})}),a.sendIdx["and:"]=1,u},function(n){n.fill(r,"=",{anAssociation:t},e.Association)})},args:["anAssociation"],source:"= anAssociation\n	^ self class = anAssociation class and: [\n		self key = anAssociation key and: [\n		self value = anAssociation value ]]",messageSends:["and:","=","class","key","value"],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@key"]},function(n){n.fill(t,"key",{},e.Association)})},args:[],source:"key\n	^ key",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@key"]=t,n},function(r){r.fill(n,"key:",{aKey:t},e.Association)})},args:["aKey"],source:"key: aKey\n	key := aKey",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(e){return n(r._key())._printOn_(t),e.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" -> "),n(r._value())._printOn_(t),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Association)})},args:["aStream"],source:"printOn: aStream\n	self key printOn: aStream.\n	aStream nextPutAll: ' -> '.\n	self value printOn: aStream",messageSends:["printOn:","key","nextPutAll:","value"],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@value"]},function(n){n.fill(t,"value",{},e.Association)})},args:[],source:"value\n	^ value",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"value:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@value"]=t,n},function(r){r.fill(n,"value:",{aValue:t},e.Association)})},args:["aValue"],source:"value: aValue\n	value := aValue",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key:value:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(){var e,s,o;return e=a._new(),n(e)._key_(t),n(e)._value_(r),s=n(e)._yourself(),o=s},function(n){n.fill(a,"key:value:",{aKey:t,aValue:r},e.Association.klass)})},args:["aKey","aValue"],source:"key: aKey value: aValue\n		^ self new\n		key: aKey;\n		value: aValue;\n		yourself",messageSends:["key:","new","value:","yourself"],referencedClasses:[]}),e.Association.klass),e.addClass("Collection",e.Object,[],"Kernel-Collections"),e.Collection.comment="I am the abstract superclass of all classes that represent a group of elements.\n\nI provide a set of useful methods to the Collection hierarchy such as enumerating and converting methods.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._copy(),n(e)._addAll_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,",",{aCollection:t},e.Collection)})},args:["aCollection"],source:", aCollection\n	^ self copy\n		addAll: aCollection;\n		yourself",messageSends:["addAll:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(r){r.fill(n,"add:",{anObject:t},e.Collection)})},args:["anObject"],source:"add: anObject\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"addAll:",category:"adding/removing",fn:function(t){var r=this;return e.withContext(function(a){return n(t)._do_(function(t){return e.withContext(function(){return r._add_(t)},function(e){e.fillBlock({each:t},a,1)})}),t},function(n){n.fill(r,"addAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:"addAll: aCollection\n	aCollection do: [ :each |\n		self add: each ].\n	^ aCollection",messageSends:["do:","add:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asArray",category:"converting",fn:function(){function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a=this;return e.withContext(function(){var e;return e=n(r())._withAll_(a)},function(t){t.fill(a,"asArray",{},e.Collection)})},args:[],source:"asArray\n	^ Array withAll: self",messageSends:["withAll:"],referencedClasses:["Array"]}),e.Collection),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(r){var a;return a=n(t._asArray())._collect_(function(t){return e.withContext(function(){return n(t)._asJSON()},function(e){e.fillBlock({each:t},r,1)})})},function(n){n.fill(t,"asJSON",{},e.Collection)})},args:[],source:"asJSON\n	^ self asArray collect: [ :each | each asJSON ]",messageSends:["collect:","asArray","asJSON"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asOrderedCollection",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asArray()},function(n){n.fill(t,"asOrderedCollection",{},e.Collection)})},args:[],source:"asOrderedCollection\n	^ self asArray",messageSends:["asArray"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asSet",category:"converting",fn:function(){function r(){return e.Set||("undefined"==typeof Set?t:Set)}var a=this;return e.withContext(function(){var e;return e=n(r())._withAll_(a)},function(t){t.fill(a,"asSet",{},e.Collection)})},args:[],source:"asSet\n	^ Set withAll: self",messageSends:["withAll:"],referencedClasses:["Set"]}),e.Collection),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){var o;return r=n(n(a._class())._new())._writeStream(),a._do_(function(a){return e.withContext(function(){return n(r)._nextPut_(n(t)._value_(a))},function(e){e.fillBlock({each:a},s,1)})}),o=n(r)._contents()},function(n){n.fill(a,"collect:",{aBlock:t,stream:r},e.Collection)})},args:["aBlock"],source:"collect: aBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		stream nextPut: (aBlock value: each) ].\n	^ stream contents",messageSends:["writeStream","new","class","do:","nextPut:","value:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"contains:",category:"testing",fn:function(t){var r=this;return e.withContext(function(a){var s,o={};try{return r._do_(function(r){return e.withContext(function(){if(s=n(t)._value_(r),e.assert(s))throw o=[!0]},function(e){e.fillBlock({each:r},a,1)})}),!1}catch(i){if(i===o)return i[0];throw i}},function(n){n.fill(r,"contains:",{aBlock:t},e.Collection)})},args:["aBlock"],source:'contains: aBlock\n	"Evaluate aBlock with the elements of the receiver.\n	If aBlock returns true for any element return true.\n	Otherwise return false."\n\n	self do: [ :each | (aBlock value: each) ifTrue: [ ^ true ] ].\n	^ false',messageSends:["do:","ifTrue:","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWith:",category:"copying",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._copy(),n(e)._add_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"copyWith:",{anObject:t},e.Collection)})},args:["anObject"],source:"copyWith: anObject\n	^ self copy add: anObject; yourself",messageSends:["add:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWithAll:",category:"copying",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._copy(),n(e)._addAll_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"copyWithAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:"copyWithAll: aCollection\n	^ self copy addAll: aCollection; yourself",messageSends:["addAll:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWithoutAll:",category:"copying",fn:function(t){var r=this;return e.withContext(function(a){var s;return s=r._reject_(function(r){return e.withContext(function(){return n(t)._includes_(r)},function(e){e.fillBlock({each:r},a,1)})})},function(n){n.fill(r,"copyWithoutAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:'copyWithoutAll: aCollection\n	"Answer a copy of the receiver that does not contain any elements\n	equal to those in aCollection."\n\n	^ self reject: [ :each | aCollection includes: each ]',messageSends:["reject:","includes:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"detect:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._detect_ifNone_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"detect:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"detect: aBlock\n	^ self detect: aBlock ifNone: [ self errorNotFound ]",messageSends:["detect:ifNone:","errorNotFound"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,n){var r=this;return e.withContext(function(){return r._subclassResponsibility(),r},function(a){a.fill(r,"detect:ifNone:",{aBlock:t,anotherBlock:n},e.Collection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(r){r.fill(n,"do:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"do: aBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"do:separatedBy:",category:"enumerating",fn:function(t,r){var a,s=this;return e.withContext(function(o){return a=function(){return e.withContext(function(){return a=r},function(e){e.fillBlock({},o,1)})},s._do_(function(r){return e.withContext(function(){return n(a)._value(),n(t)._value_(r)},function(e){e.fillBlock({each:r},o,2)})}),s},function(n){n.fill(s,"do:separatedBy:",{aBlock:t,anotherBlock:r,actionBeforeElement:a},e.Collection)})},args:["aBlock","anotherBlock"],source:"do: aBlock separatedBy: anotherBlock\n	| actionBeforeElement |\n	actionBeforeElement := [ actionBeforeElement := anotherBlock ].\n	self do: [ :each |\n		actionBeforeElement value.\n		aBlock value: each ]",messageSends:["do:","value","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"errorNotFound",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object is not in the collection"),t},function(n){n.fill(t,"errorNotFound",{},e.Collection)})},args:[],source:"errorNotFound\n	self error: 'Object is not in the collection'",messageSends:["error:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"ifEmpty:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var a,s;return a=r._isEmpty(),s=e.assert(a)?n(t)._value():r},function(n){n.fill(r,"ifEmpty:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"ifEmpty: aBlock\n	\"Evaluate the given block with the receiver as argument, answering its value if the receiver is empty, otherwise answer the receiver. Note that the fact that this method returns its argument in case the receiver is not empty allows one to write expressions like the following ones: self classifyMethodAs:\n		(myProtocol ifEmpty: ['As yet unclassified'])\"\n	^ self isEmpty\n		ifTrue: [ aBlock value ]\n		ifFalse: [ self ]",messageSends:["ifTrue:ifFalse:","isEmpty","value"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"ifNotEmpty:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=r._notEmpty(),n(e)._ifTrue_(t),r},function(n){n.fill(r,"ifNotEmpty:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"ifNotEmpty: aBlock\n	self notEmpty ifTrue: aBlock.",messageSends:["ifTrue:","notEmpty"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(r){function a(){return e.Object||("undefined"==typeof Object?t:Object)}var s,o=this;return e.withContext(function(t){var i;return s=n(a())._new(),i=n(o._detect_ifNone_(function(a){return e.withContext(function(){return n(a).__eq(r)},function(e){e.fillBlock({each:a},t,1)})},function(){return e.withContext(function(){return s},function(e){e.fillBlock({},t,2)})})).__tild_eq(s)},function(t){t.fill(o,"includes:",{anObject:r,sentinel:s},e.Collection)})},args:["anObject"],source:"includes: anObject\n	| sentinel |\n	sentinel := Object new.\n	^ (self detect: [ :each | each = anObject ] ifNone: [ sentinel ]) ~= sentinel",messageSends:["new","~=","detect:ifNone:","="],referencedClasses:["Object"]}),e.Collection),e.addMethod(e.method({selector:"inject:into:",category:"enumerating",fn:function(t,r){var a,s=this;return e.withContext(function(o){var i;return a=t,s._do_(function(t){return e.withContext(function(){return a=n(r)._value_value_(a,t)},function(e){e.fillBlock({each:t},o,1)})}),i=a},function(n){n.fill(s,"inject:into:",{anObject:t,aBlock:r,result:a},e.Collection)})},args:["anObject","aBlock"],source:"inject: anObject into: aBlock\n	| result |\n	result := anObject.\n	self do: [ :each |\n		result := aBlock value: result value: each ].\n	^ result",messageSends:["do:","value:value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"intersection:",category:"enumerating",fn:function(r){function a(){return e.Set||("undefined"==typeof Set?t:Set)}var s,o,i=this;return e.withContext(function(t){var l,c,u;return s=i._asSet(),o=n(a())._new(),n(r)._do_(function(r){return e.withContext(function(t){return l=n(s)._includes_(r),t.sendIdx["includes:"]=1,c=n(l)._and_(function(){return e.withContext(function(){return n(n(o)._includes_(r))._not()},function(e){e.fillBlock({},t,2)})}),e.assert(c)?n(o)._add_(r):void 0},function(e){e.fillBlock({each:r},t,1)})}),u=n(i._class())._withAll_(n(o)._asArray())},function(t){t.fill(i,"intersection:",{aCollection:r,set:s,outputSet:o},e.Collection)})},args:["aCollection"],source:'intersection: aCollection\n	"Answer the set theoretic intersection of two collections."\n\n	| set outputSet |\n	\n	set := self asSet.\n	outputSet := Set new.\n	\n	aCollection do: [ :each |\n		((set includes: each) and: [ (outputSet includes: each) not ])\n			ifTrue: [\n				outputSet add: each ]].\n		\n	^ self class withAll: outputSet asArray',messageSends:["asSet","new","do:","ifTrue:","and:","includes:","not","add:","withAll:","class","asArray"],referencedClasses:["Set"]}),e.Collection),e.addMethod(e.method({selector:"isEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._size()).__eq(0)},function(n){n.fill(t,"isEmpty",{},e.Collection)})},args:[],source:"isEmpty\n	^ self size = 0",messageSends:["=","size"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"notEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._isEmpty())._not()},function(n){n.fill(t,"notEmpty",{},e.Collection)})},args:[],source:"notEmpty\n	^ self isEmpty not",messageSends:["not","isEmpty"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"occurrencesOf:",category:"accessing",fn:function(t){var r,a=this;
return e.withContext(function(s){var o,i;return r=0,a._do_(function(a){return e.withContext(function(){return o=n(t).__eq(a),e.assert(o)?r=n(r).__plus(1):void 0},function(e){e.fillBlock({each:a},s,1)})}),i=r},function(n){n.fill(a,"occurrencesOf:",{anObject:t,tally:r},e.Collection)})},args:["anObject"],source:'occurrencesOf: anObject\n	"Answer how many of the receiver\'s elements are equal to anObject."\n\n	| tally |\n	tally := 0.\n	self do: [ :each | anObject = each ifTrue: [ tally := tally + 1 ]].\n	^ tally',messageSends:["do:","ifTrue:","=","+"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var r=this;return e.withContext(function(a){return r._do_(function(r){return e.withContext(function(){return n(r)._putOn_(t)},function(e){e.fillBlock({each:r},a,1)})}),r},function(n){n.fill(r,"putOn:",{aStream:t},e.Collection)})},args:["aStream"],source:"putOn: aStream\n	self do: [ :each | each putOn: aStream ]",messageSends:["do:","putOn:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"reject:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){var s;return s=r._select_(function(r){return e.withContext(function(){return n(n(t)._value_(r)).__eq(!1)},function(e){e.fillBlock({each:r},a,1)})})},function(n){n.fill(r,"reject:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"reject: aBlock\n	^ self select: [ :each | (aBlock value: each) = false ]",messageSends:["select:","=","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._remove_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"remove:",{anObject:t},e.Collection)})},args:["anObject"],source:"remove: anObject\n	^ self remove: anObject ifAbsent: [ self errorNotFound ]",messageSends:["remove:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,n){var r=this;return e.withContext(function(){return r._subclassResponsibility(),r},function(a){a.fill(r,"remove:ifAbsent:",{anObject:t,aBlock:n},e.Collection)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i;return r=n(n(a._class())._new())._writeStream(),a._do_(function(a){return e.withContext(function(){return o=n(t)._value_(a),e.assert(o)?n(r)._nextPut_(a):void 0},function(e){e.fillBlock({each:a},s,1)})}),i=n(r)._contents()},function(n){n.fill(a,"select:",{aBlock:t,stream:r},e.Collection)})},args:["aBlock"],source:"select: aBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		(aBlock value: each) ifTrue: [\n		stream nextPut: each ]].\n	^ stream contents",messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"select:thenCollect:",category:"enumerating",fn:function(t,r){var a,s=this;return e.withContext(function(o){var i,l;return a=n(n(s._class())._new())._writeStream(),s._do_(function(s){return e.withContext(function(o){return i=n(t)._value_(s),o.sendIdx["value:"]=1,e.assert(i)?n(a)._nextPut_(n(r)._value_(s)):void 0},function(e){e.fillBlock({each:s},o,1)})}),l=n(a)._contents()},function(n){n.fill(s,"select:thenCollect:",{selectBlock:t,collectBlock:r,stream:a},e.Collection)})},args:["selectBlock","collectBlock"],source:"select: selectBlock thenCollect: collectBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		(selectBlock value: each) ifTrue: [\n		stream nextPut: (collectBlock value: each) ]].\n	^ stream contents",messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"size",{},e.Collection)})},args:[],source:"size\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"collection"},function(n){n.fill(t,"heliosClass",{},e.Collection.klass)})},args:[],source:"heliosClass\n	^ 'collection'",messageSends:[],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new()},function(r){r.fill(n,"new:",{anInteger:t},e.Collection.klass)})},args:["anInteger"],source:"new: anInteger\n	^ self new",messageSends:["new"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._add_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"with:",{anObject:t},e.Collection.klass)})},args:["anObject"],source:"with: anObject\n		^ self new\n		add: anObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:with:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(e){var s,o,i;return s=a._new(),n(s)._add_(t),e.sendIdx["add:"]=1,n(s)._add_(r),o=n(s)._yourself(),i=o},function(n){n.fill(a,"with:with:",{anObject:t,anotherObject:r},e.Collection.klass)})},args:["anObject","anotherObject"],source:"with: anObject with: anotherObject\n		^ self new\n		add: anObject;\n		add: anotherObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:with:with:",category:"instance creation",fn:function(t,r,a){var s=this;return e.withContext(function(e){var o,i,l;return o=s._new(),n(o)._add_(t),e.sendIdx["add:"]=1,n(o)._add_(r),e.sendIdx["add:"]=2,n(o)._add_(a),i=n(o)._yourself(),l=i},function(n){n.fill(s,"with:with:with:",{firstObject:t,secondObject:r,thirdObject:a},e.Collection.klass)})},args:["firstObject","secondObject","thirdObject"],source:"with: firstObject with: secondObject with: thirdObject\n		^ self new\n		add: firstObject;\n		add: secondObject;\n		add: thirdObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"withAll:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._addAll_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"withAll:",{aCollection:t},e.Collection.klass)})},args:["aCollection"],source:"withAll: aCollection\n		^ self new\n		addAll: aCollection;\n		yourself",messageSends:["addAll:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addClass("IndexableCollection",e.Collection,[],"Kernel-Collections"),e.IndexableCollection.comment="I am a key-value store collection, that is,\nI store values under indexes.\n\nAs a rule of thumb, if a collection has `#at:` and `#at:put:`,\nit is an IndexableCollection.",e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._at_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"at:",{anIndex:t},e.IndexableCollection)})},args:["anIndex"],source:'at: anIndex\n	"Lookup the given index in the receiver.\n	If it is present, answer the value stored at anIndex.\n	Otherwise, raise an error."\n\n	^ self at: anIndex ifAbsent: [ self errorNotFound ]',messageSends:["at:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r._subclassReponsibility(),r},function(a){a.fill(r,"at:ifAbsent:",{anIndex:t,aBlock:n},e.IndexableCollection)})},args:["anIndex","aBlock"],source:'at: anIndex ifAbsent: aBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value stored at anIndex.\n	Otherwise, answer the value of aBlock."\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifPresent:",category:"accessing",fn:function(n,r){var a=this;return e.withContext(function(s){var o;return o=a._at_ifPresent_ifAbsent_(n,r,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},s,1)})})},function(t){t.fill(a,"at:ifPresent:",{anIndex:n,aBlock:r},e.IndexableCollection)})},args:["anIndex","aBlock"],source:'at: anIndex ifPresent: aBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value of evaluating aBlock with the value stored at anIndex.\n	Otherwise, answer nil."\n\n	^ self at: anIndex ifPresent: aBlock ifAbsent: [ nil ]',messageSends:["at:ifPresent:ifAbsent:"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,r){var a=this;return e.withContext(function(){return a._subclassResponsibility(),a},function(s){s.fill(a,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:r},e.IndexableCollection)})},args:["anIndex","aBlock","anotherBlock"],source:'at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value of evaluating aBlock with the value stored at anIndex.\n	Otherwise, answer the value of anotherBlock."\n\n	self subclassResponsibility',messageSends:["subclassResponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r._subclassReponsibility(),r},function(a){a.fill(r,"at:put:",{anIndex:t,anObject:n},e.IndexableCollection)})},args:["anIndex","anObject"],source:'at: anIndex put: anObject\n	"Store anObject under the given index in the receiver."\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"indexOf:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._indexOf_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"indexOf:",{anObject:t},e.IndexableCollection)})},args:["anObject"],source:'indexOf: anObject\n	"Lookup index at which anObject is stored in the receiver.\n	If not present, raise an error."\n\n	^ self indexOf: anObject ifAbsent: [ self errorNotFound ]',messageSends:["indexOf:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r._subclassResponsibility(),r},function(a){a.fill(r,"indexOf:ifAbsent:",{anObject:t,aBlock:n},e.IndexableCollection)})},args:["anObject","aBlock"],source:'indexOf: anObject ifAbsent: aBlock\n	"Lookup index at which anObject is stored in the receiver.\n	If not present, return value of executing aBlock."\n\n	self subclassResponsibility',messageSends:["subclassResponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"with:do:",category:"enumarating",fn:function(t,r){var a=this;return e.withContext(function(s){return a._withIndexDo_(function(a,o){return e.withContext(function(){return n(r)._value_value_(a,n(t)._at_(o))},function(e){e.fillBlock({each:a,index:o},s,1)})}),a},function(n){n.fill(a,"with:do:",{anotherCollection:t,aBlock:r},e.IndexableCollection)})},args:["anotherCollection","aBlock"],source:'with: anotherCollection do: aBlock\n	"Calls aBlock with every value from self\n	and with indetically-indexed value from anotherCollection"\n\n	self withIndexDo: [ :each :index |\n		aBlock value: each value: (anotherCollection at: index) ]',messageSends:["withIndexDo:","value:value:","at:"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumarating",fn:function(t){var n=this;return e.withContext(function(){return n._subclassReponsibility(),n},function(r){r.fill(n,"withIndexDo:",{aBlock:t},e.IndexableCollection)})},args:["aBlock"],source:'withIndexDo: aBlock\n	"Calls aBlock with every value from self\n	and with its index as the second argument"\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addClass("HashedCollection",e.IndexableCollection,[],"Kernel-Collections"),e.HashedCollection.comment="I am a traditional JavaScript object, or a Smalltalk `Dictionary`.\n\nUnlike a `Dictionary`, I can only have strings as keys.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var n=this;return e.withContext(function(){return n._shouldNotImplement(),n},function(r){r.fill(n,",",{aCollection:t},e.HashedCollection)})},args:["aCollection"],source:", aCollection\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c,u;return s=r._class(),a.sendIdx["class"]=1,o=n(s).__eq(n(t)._class()),a.sendIdx["="]=1,e.assert(o)?(i=r._size(),a.sendIdx.size=1,l=n(i).__eq(n(t)._size()),a.sendIdx["="]=2,e.assert(l)?(c=r._associations(),a.sendIdx.associations=1,u=n(c).__eq(n(t)._associations())):!1):!1},function(n){n.fill(r,"=",{aHashedCollection:t},e.HashedCollection)})},args:["aHashedCollection"],source:"= aHashedCollection\n	self class = aHashedCollection class ifFalse: [ ^ false ].\n	self size = aHashedCollection size ifFalse: [ ^ false ].\n	^ self associations = aHashedCollection associations",messageSends:["ifFalse:","=","class","size","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var r=this;return e.withContext(function(){return r._at_put_(n(t)._key(),n(t)._value()),r},function(n){n.fill(r,"add:",{anAssociation:t},e.HashedCollection)})},args:["anAssociation"],source:"add: anAssociation\n	self at: anAssociation key put: anAssociation value",messageSends:["at:put:","key","value"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"addAll:",category:"adding/removing",fn:function(t){var r=this;return e.withContext(function(){return e.HashedCollection.superclass.fn.prototype._addAll_.apply(n(r),[n(t)._associations()]),t},function(n){n.fill(r,"addAll:",{aHashedCollection:t},e.HashedCollection)})},args:["aHashedCollection"],source:"addAll: aHashedCollection\n	super addAll: aHashedCollection associations.\n	^ aHashedCollection",messageSends:["addAll:","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"asDictionary",category:"converting",fn:function(){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a=this;return e.withContext(function(){var e;return e=n(r())._from_(a._associations())},function(t){t.fill(a,"asDictionary",{},e.HashedCollection)})},args:[],source:"asDictionary\n	^ Dictionary from: self associations",messageSends:["from:","associations"],referencedClasses:["Dictionary"]}),e.HashedCollection),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=n(r._class())._new(),r._keysAndValuesDo_(function(r,s){return e.withContext(function(){return n(t)._at_put_(r,n(s)._asJSON())},function(e){e.fillBlock({key:r,value:s},a,1)})}),s=t},function(n){n.fill(r,"asJSON",{c:t},e.HashedCollection)})},args:[],source:"asJSON\n	| c |\n	c := self class new.\n	self keysAndValuesDo: [ :key :value |\n		c at: key put: value asJSON ].\n	^ c",messageSends:["new","class","keysAndValuesDo:","at:put:","asJSON"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"associations",category:"accessing",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=[],r._associationsDo_(function(r){return e.withContext(function(){return n(t)._add_(r)},function(e){e.fillBlock({each:r},a,1)})}),s=t},function(n){n.fill(r,"associations",{associations:t},e.HashedCollection)})},args:[],source:"associations\n	| associations |\n	associations := #().\n	self associationsDo: [ :each | associations add: each ].\n	^ associations",messageSends:["associationsDo:","add:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"associationsDo:",category:"enumerating",fn:function(r){function a(){return e.Association||("undefined"==typeof Association?t:Association)}var s=this;return e.withContext(function(t){return s._keysAndValuesDo_(function(s,o){return e.withContext(function(){return n(r)._value_(n(a())._key_value_(s,o))},function(e){e.fillBlock({key:s,value:o},t,1)})}),s},function(t){t.fill(s,"associationsDo:",{aBlock:r},e.HashedCollection)})},args:["aBlock"],source:"associationsDo: aBlock\n	self keysAndValuesDo: [ :key :value |\n		aBlock value: (Association key: key value: value) ]",messageSends:["keysAndValuesDo:","value:","key:value:"],referencedClasses:["Association"]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,r){var a=this;return e.withContext(function(s){var o,i;return o=a._includesKey_(t),i=n(o)._ifTrue_ifFalse_(function(){return e.withContext(function(){return a._basicAt_(t)},function(e){e.fillBlock({},s,1)})},r)},function(n){n.fill(a,"at:ifAbsent:",{aKey:t,aBlock:r},e.HashedCollection)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifTrue: [ self basicAt: aKey ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","includesKey:","basicAt:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifAbsentPut:",category:"accessing",fn:function(t,r){var a=this;return e.withContext(function(s){var o;return o=a._at_ifAbsent_(t,function(){return e.withContext(function(){return a._at_put_(t,n(r)._value())},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(a,"at:ifAbsentPut:",{aKey:t,aBlock:r},e.HashedCollection)})},args:["aKey","aBlock"],source:"at: aKey ifAbsentPut: aBlock\n	^ self at: aKey ifAbsent: [\n		self at: aKey put: aBlock value ]",messageSends:["at:ifAbsent:","at:put:","value"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,r,a){var s=this;return e.withContext(function(o){var i,l;return i=s._includesKey_(t),l=n(i)._ifTrue_ifFalse_(function(){return e.withContext(function(){return n(r)._value_(s._at_(t))},function(e){e.fillBlock({},o,1)})},a)},function(n){n.fill(s,"at:ifPresent:ifAbsent:",{aKey:t,aBlock:r,anotherBlock:a},e.HashedCollection)})},args:["aKey","aBlock","anotherBlock"],source:'at: aKey ifPresent: aBlock ifAbsent: anotherBlock\n	"Lookup the given key in the receiver.\n	If it is present, answer the value of evaluating the oneArgBlock with the value associated with the key,\n	otherwise answer the value of absentBlock."\n	^ (self includesKey: aKey)\n		ifTrue: [ aBlock value: (self at: aKey) ]\n		ifFalse: anotherBlock',messageSends:["ifTrue:ifFalse:","includesKey:","value:","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._basicAt_put_(t,n)},function(a){a.fill(r,"at:put:",{aKey:t,aValue:n},e.HashedCollection)})},args:["aKey","aValue"],source:"at: aKey put: aValue\n	^ self basicAt: aKey put: aValue",messageSends:["basicAt:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){var o;return r=n(a._class())._new(),a._keysAndValuesDo_(function(a,o){return e.withContext(function(){return n(r)._at_put_(a,n(t)._value_(o))},function(e){e.fillBlock({key:a,value:o},s,1)})}),o=r},function(n){n.fill(a,"collect:",{aBlock:t,newDict:r},e.HashedCollection)})},args:["aBlock"],source:"collect: aBlock\n	| newDict |\n	newDict := self class new.\n	self keysAndValuesDo: [ :key :value |\n		newDict at: key put: (aBlock value: value) ].\n	^ newDict",messageSends:["new","class","keysAndValuesDo:","at:put:","value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=n(r._class())._new(),r._keysAndValuesDo_(function(r,s){return e.withContext(function(){return n(t)._at_put_(r,n(s)._deepCopy())},function(e){e.fillBlock({key:r,value:s},a,1)})}),s=t},function(n){n.fill(r,"deepCopy",{copy:t},e.HashedCollection)})},args:[],source:"deepCopy\n	| copy |\n	copy := self class new.\n	self keysAndValuesDo: [ :key :value |\n		copy at: key put: value deepCopy ].\n	^ copy",messageSends:["new","class","keysAndValuesDo:","at:put:","deepCopy"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(a._values())._detect_ifNone_(t,r)},function(n){n.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:r},e.HashedCollection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	^ self values detect: aBlock ifNone: anotherBlock",messageSends:["detect:ifNone:","values"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n._valuesDo_(t),n},function(r){r.fill(n,"do:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"do: aBlock\n	self valuesDo: aBlock",messageSends:["valuesDo:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"includes:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._values())._includes_(t)},function(n){n.fill(r,"includes:",{anObject:t},e.HashedCollection)})},args:["anObject"],source:"includes: anObject\n	^ self values includes: anObject",messageSends:["includes:","values"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"includesKey:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n.hasOwnProperty(t)},function(r){r.fill(n,"includesKey:",{aKey:t},e.HashedCollection)})},args:["aKey"],source:"includesKey: aKey\n	<return self.hasOwnProperty(aKey)>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,r){var a=this;return e.withContext(function(s){var o;return o=n(a._keys())._detect_ifNone_(function(r){return e.withContext(function(){return n(a._at_(r)).__eq(t)},function(e){e.fillBlock({each:r},s,1)})},r)},function(n){n.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:r},e.HashedCollection)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n\n	^ self keys detect: [ :each | (self at: each) = anObject ] ifNone: aBlock",messageSends:["detect:ifNone:","keys","=","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keyAtValue:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(r){var a;return a=n._keyAtValue_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(n,"keyAtValue:",{anObject:t},e.HashedCollection)})},args:["anObject"],source:"keyAtValue: anObject\n	^ self keyAtValue: anObject ifAbsent: [ self errorNotFound ]",messageSends:["keyAtValue:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keyAtValue:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._indexOf_ifAbsent_(t,n)},function(a){a.fill(r,"keyAtValue:ifAbsent:",{anObject:t,aBlock:n},e.HashedCollection)})},args:["anObject","aBlock"],source:"keyAtValue: anObject ifAbsent: aBlock\n	^ self indexOf: anObject ifAbsent: aBlock",messageSends:["indexOf:ifAbsent:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keys",category:"accessing",fn:function(){var t=this;return e.withContext(function(){if("function"==typeof Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},function(n){n.fill(t,"keys",{},e.HashedCollection)})},args:[],source:"keys\n	<\n		if ('function'===typeof Object.keys) return Object.keys(self);\n		var keys = [];\n		for(var i in self) {\n			if(self.hasOwnProperty(i)) {\n				keys.push(i);\n			}\n		};\n		return keys;\n	>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){return r._keysDo_(function(s){return e.withContext(function(){return n(t)._value_value_(s,r._at_(s))},function(e){e.fillBlock({each:s},a,1)})}),r},function(n){n.fill(r,"keysAndValuesDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	self keysDo: [ :each |\n		aBlock value: each value: (self at: each) ]",messageSends:["keysDo:","value:value:","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keysDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){return n(r._keys())._do_(t),r},function(n){n.fill(r,"keysDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"keysDo: aBlock\n	self keys do: aBlock",messageSends:["do:","keys"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){return e.HashedCollection.superclass.fn.prototype._printOn_.apply(n(r),[t]),a.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),a.sendIdx["nextPutAll:"]=1,n(r._associations())._do_separatedBy_(function(r){return e.withContext(function(){return n(r)._printOn_(t)},function(e){e.fillBlock({each:r},a,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" , ")},function(e){e.fillBlock({},a,2)})}),n(t)._nextPutAll_(")"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.HashedCollection)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self associations\n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' , ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._removeKey_ifAbsent_(t,n)},function(a){a.fill(r,"remove:ifAbsent:",{aKey:t,aBlock:n},e.HashedCollection)})},args:["aKey","aBlock"],source:"remove: aKey ifAbsent: aBlock\n	^ self removeKey: aKey ifAbsent: aBlock",messageSends:["removeKey:ifAbsent:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"removeKey:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._remove_(t)},function(r){r.fill(n,"removeKey:",{aKey:t},e.HashedCollection)})},args:["aKey"],source:"removeKey: aKey\n	^ self remove: aKey",messageSends:["remove:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"removeKey:ifAbsent:",category:"adding/removing",fn:function(t,r){var a=this;return e.withContext(function(){var s,o;return s=a._includesKey_(t),o=e.assert(s)?a._basicDelete_(t):n(r)._value()},function(n){n.fill(a,"removeKey:ifAbsent:",{aKey:t,aBlock:r},e.HashedCollection)})},args:["aKey","aBlock"],source:"removeKey: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifFalse: [ aBlock value ]\n		ifTrue: [ self basicDelete: aKey ]",messageSends:["ifFalse:ifTrue:","includesKey:","value","basicDelete:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i;return r=n(a._class())._new(),a._keysAndValuesDo_(function(a,i){return e.withContext(function(){return o=n(t)._value_(i),e.assert(o)?n(r)._at_put_(a,i):void 0},function(e){e.fillBlock({key:a,value:i},s,1)})}),i=r},function(n){n.fill(a,"select:",{aBlock:t,newDict:r},e.HashedCollection)})},args:["aBlock"],source:"select: aBlock\n	| newDict |\n	newDict := self class new.\n	self keysAndValuesDo: [ :key :value |\n		(aBlock value: value) ifTrue: [ newDict at: key put: value ]].\n	^ newDict",messageSends:["new","class","keysAndValuesDo:","ifTrue:","value:","at:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=n(r._class())._new(),r._keysAndValuesDo_(function(r,s){return e.withContext(function(){return n(t)._at_put_(r,s)},function(e){e.fillBlock({key:r,value:s},a,1)})}),s=t},function(n){n.fill(r,"shallowCopy",{copy:t},e.HashedCollection)})},args:[],source:"shallowCopy\n	| copy |\n	copy := self class new.\n	self keysAndValuesDo: [ :key :value |\n		copy at: key put: value ].\n	^ copy",messageSends:["new","class","keysAndValuesDo:","at:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._keys())._size()},function(n){n.fill(t,"size",{},e.HashedCollection)})},args:[],source:"size\n	^ self keys size",messageSends:["size","keys"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"values",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._keys().map(function(e){return t._at_(e)})},function(n){n.fill(t,"values",{},e.HashedCollection)})},args:[],source:"values\n	<\n		return self._keys().map(function(key){\n			return self._at_(key);\n		});\n	>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"valuesDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){return n(r._values())._do_(function(r){return e.withContext(function(){return n(t)._value_(r)},function(e){e.fillBlock({value:r},a,1)})}),r},function(n){n.fill(r,"valuesDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"valuesDo: aBlock\n	self values do: [ :value | aBlock value: value ]",messageSends:["do:","values","value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){return r._keysAndValuesDo_(function(r,s){return e.withContext(function(){return n(t)._value_value_(s,r)},function(e){e.fillBlock({key:r,value:s},a,1)})}),r},function(n){n.fill(r,"withIndexDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"withIndexDo: aBlock\n	self keysAndValuesDo: [ :key :value | aBlock value: value value: key ]",messageSends:["keysAndValuesDo:","value:value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"from:",category:"instance creation",fn:function(t){var r,a=this;return e.withContext(function(s){var o;return r=a._new(),n(t)._do_(function(t){return e.withContext(function(){return n(r)._add_(t)
},function(e){e.fillBlock({each:t},s,1)})}),o=r},function(n){n.fill(a,"from:",{aCollection:t,newCollection:r},e.HashedCollection.klass)})},args:["aCollection"],source:"from: aCollection\n	| newCollection |\n	newCollection := self new.\n	aCollection do: [ :each | newCollection add: each ].\n	^ newCollection",messageSends:["new","do:","add:"],referencedClasses:[]}),e.HashedCollection.klass),e.addMethod(e.method({selector:"fromPairs:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._from_(t)},function(r){r.fill(n,"fromPairs:",{aCollection:t},e.HashedCollection.klass)})},args:["aCollection"],source:'fromPairs: aCollection\n	"This message is poorly named and has been replaced by #from:"\n	^ self from: aCollection',messageSends:["from:"],referencedClasses:[]}),e.HashedCollection.klass),e.addMethod(e.method({selector:"newFromPairs:",category:"instance creation",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i,l,c,u;return o=n(t)._size(),s.sendIdx.size=1,i=n(o)._even(),e.assert(i)||a._error_("#newFromPairs only accepts arrays of an even length"),r=a._new(),n(1.._to_by_(n(t)._size(),2))._do_(function(a){return e.withContext(function(e){return l=r,c=n(t)._at_(a),e.sendIdx["at:"]=1,n(l)._at_put_(c,n(t)._at_(n(a).__plus(1)))},function(e){e.fillBlock({each:a},s,2)})}),u=r},function(n){n.fill(a,"newFromPairs:",{aCollection:t,newCollection:r},e.HashedCollection.klass)})},args:["aCollection"],source:"newFromPairs: aCollection\n	\"Accept an array of elements where every two elements form an \n	association - the odd element being the key, and the even element the value.\"\n	\n	| newCollection |\n	\n	aCollection size even ifFalse: [ \n		self error: '#newFromPairs only accepts arrays of an even length' ].\n		\n	newCollection := self new.\n	( 1 to: aCollection size by: 2 ) do: [ :each | \n		newCollection at: (aCollection at: each) put: (aCollection at: each + 1) ].\n		\n	^ newCollection",messageSends:["ifFalse:","even","size","error:","new","do:","to:by:","at:put:","at:","+"],referencedClasses:[]}),e.HashedCollection.klass),e.addClass("Dictionary",e.HashedCollection,["keys","values"],"Kernel-Collections"),e.Dictionary.comment="I represent a set of elements that can be viewed from one of two perspectives: a set of associations,\nor a container of values that are externally named where the name can be any object that responds to `=`.\n\nThe external name is referred to as the key.",e.addMethod(e.method({selector:"asHashedCollection",category:"converting",fn:function(){function r(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var a=this;return e.withContext(function(){var e;return e=n(r())._from_(a._associations())},function(t){t.fill(a,"asHashedCollection",{},e.Dictionary)})},args:[],source:"asHashedCollection\n	^ HashedCollection from: self associations",messageSends:["from:","associations"],referencedClasses:["HashedCollection"]}),e.Dictionary),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asHashedCollection())._asJSON()},function(n){n.fill(t,"asJSON",{},e.Dictionary)})},args:[],source:"asJSON\n	^ self asHashedCollection asJSON",messageSends:["asJSON","asHashedCollection"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e=r._positionOfKey_(t);return e>=0?r["@values"][e]:n._value()},function(a){a.fill(r,"at:ifAbsent:",{aKey:t,aBlock:n},e.Dictionary)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	<\n		var index = self._positionOfKey_(aKey);\n		return index >>=0 ? self['@values'][index] : aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e=r._positionOfKey_(t);if(-1===e){var a=r["@keys"];e=a.length,a.push(t)}return r["@values"][e]=n},function(a){a.fill(r,"at:put:",{aKey:t,aValue:n},e.Dictionary)})},args:["aKey","aValue"],source:"at: aKey put: aValue\n	<\n		var index = self._positionOfKey_(aKey);\n		if(index === -1) {\n			var keys = self['@keys'];\n			index = keys.length;\n			keys.push(aKey);\n		}\n\n		return self['@values'][index] = aValue;\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"includesKey:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n._positionOfKey_(t)>=0},function(r){r.fill(n,"includesKey:",{aKey:t},e.Dictionary)})},args:["aKey"],source:"includesKey: aKey\n	< return self._positionOfKey_(aKey) >>= 0; >",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,r){var a,s=this;return e.withContext(function(o){var i,l;return a=n(s["@values"])._indexOf_ifAbsent_(t,function(){return e.withContext(function(){return 0},function(e){e.fillBlock({},o,1)})}),i=n(a).__eq(0),l=e.assert(i)?n(r)._value():n(s["@keys"])._at_(a)},function(n){n.fill(s,"indexOf:ifAbsent:",{anObject:t,aBlock:r,index:a},e.Dictionary)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n	| index |\n	index := values \n		indexOf: anObject \n		ifAbsent: [ 0 ].\n	^ index = 0 \n		ifTrue: [ aBlock value ] \n		ifFalse: [ keys at: index ]",messageSends:["indexOf:ifAbsent:","ifTrue:ifFalse:","=","value","at:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Dictionary.superclass.fn.prototype._initialize.apply(n(t),[]),t["@keys"]=[],t["@values"]=[],t},function(n){n.fill(t,"initialize",{},e.Dictionary)})},args:[],source:"initialize\n	super initialize.\n	keys := #().\n	values := #()",messageSends:["initialize"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keys",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@keys"])._copy()},function(n){n.fill(t,"keys",{},e.Dictionary)})},args:[],source:"keys\n	^ keys copy",messageSends:["copy"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r["@keys"])._with_do_(r["@values"],t)},function(n){n.fill(r,"keysAndValuesDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	^ keys with: values do: aBlock",messageSends:["with:do:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keysDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r["@keys"])._do_(t)},function(n){n.fill(r,"keysDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"keysDo: aBlock\n	^ keys do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"positionOfKey:",category:"private",fn:function(t){var n=this;return e.withContext(function(){for(var e=n["@keys"],r=0;r<e.length;r++)if(e[r].__eq(t))return r;return-1},function(r){r.fill(n,"positionOfKey:",{anObject:t},e.Dictionary)})},args:["anObject"],source:"positionOfKey: anObject\n	<\n		var keys = self['@keys'];\n		for(var i=0;i<keys.length;i++){\n			if(keys[i].__eq(anObject)) { return i;}\n		}\n		return -1;\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"removeKey:ifAbsent:",category:"adding/removing",fn:function(t,n){var r=this;return e.withContext(function(){var e=r._positionOfKey_(t);if(-1===e)return n._value();var a=r["@keys"],s=r["@values"],o=s[e],i=a.length;return a[e]=a[i-1],a.pop(),s[e]=s[i-1],s.pop(),o},function(a){a.fill(r,"removeKey:ifAbsent:",{aKey:t,aBlock:n},e.Dictionary)})},args:["aKey","aBlock"],source:"removeKey: aKey ifAbsent: aBlock\n	<\n		var index = self._positionOfKey_(aKey);\n		if(index === -1) {\n			return aBlock._value()\n		} else {\n			var keys = self['@keys'], values = self['@values'];\n			var value = values[index], l = keys.length;\n			keys[index] = keys[l-1];\n			keys.pop();\n			values[index] = values[l-1];\n			values.pop();\n			return value;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"values",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@values"]},function(n){n.fill(t,"values",{},e.Dictionary)})},args:[],source:"values\n	^ values",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"valuesDo:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r["@values"])._do_(t)},function(n){n.fill(r,"valuesDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"valuesDo: aBlock\n	^ values do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Dictionary),e.addClass("SequenceableCollection",e.IndexableCollection,[],"Kernel-Collections"),e.SequenceableCollection.comment="I am an IndexableCollection\nwith numeric indexes starting with 1.",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c,u={};try{return s=r._class(),a.sendIdx["class"]=1,o=n(s).__eq(n(t)._class()),a.sendIdx["="]=1,l=n(o)._and_(function(){return e.withContext(function(e){return i=r._size(),e.sendIdx.size=1,n(i).__eq(n(t)._size())},function(e){e.fillBlock({},a,1)})}),e.assert(l)?(r._withIndexDo_(function(r,s){return e.withContext(function(){if(c=n(n(t)._at_(s)).__eq(r),!e.assert(c))throw u=[!1]},function(e){e.fillBlock({each:r,i:s},a,3)})}),!0):!1}catch(d){if(d===u)return d[0];throw d}},function(n){n.fill(r,"=",{aCollection:t},e.SequenceableCollection)})},args:["aCollection"],source:"= aCollection\n	(self class = aCollection class and: [\n		self size = aCollection size ]) ifFalse: [ ^ false ].\n	self withIndexDo: [ :each :i |\n				(aCollection at: i) = each ifFalse: [ ^ false ]].\n	^ true",messageSends:["ifFalse:","and:","=","class","size","withIndexDo:","at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"addLast:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._add_(t),n},function(r){r.fill(n,"addLast:",{anObject:t},e.SequenceableCollection)})},args:["anObject"],source:"addLast: anObject\n	self add: anObject",messageSends:["add:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"allButFirst",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copyFrom_to_(2,t._size())},function(n){n.fill(t,"allButFirst",{},e.SequenceableCollection)})},args:[],source:"allButFirst\n	^ self copyFrom: 2 to: self size",messageSends:["copyFrom:to:","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"allButLast",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copyFrom_to_(1,n(t._size()).__minus(1))},function(n){n.fill(t,"allButLast",{},e.SequenceableCollection)})},args:[],source:"allButLast\n	^ self copyFrom: 1 to: self size - 1",messageSends:["copyFrom:to:","-","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"atRandom",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(n(t._size())._atRandom())},function(n){n.fill(t,"atRandom",{},e.SequenceableCollection)})},args:[],source:"atRandom\n	^ self at: self size atRandom",messageSends:["at:","atRandom","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"copyFrom:to:",category:"copying",fn:function(t,r){var a,s,o=this;return e.withContext(function(i){var l;return a=n(t)._to_(r),s=n(o._class())._new_(n(a)._size()),n(a)._withIndexDo_(function(t,r){return e.withContext(function(){return n(s)._at_put_(r,o._at_(t))},function(e){e.fillBlock({each:t,i:r},i,1)})}),l=s},function(n){n.fill(o,"copyFrom:to:",{anIndex:t,anotherIndex:r,range:a,newCollection:s},e.SequenceableCollection)})},args:["anIndex","anotherIndex"],source:"copyFrom: anIndex to: anotherIndex\n	| range newCollection |\n	range := anIndex to: anotherIndex.\n	newCollection := self class new: range size.\n	range withIndexDo: [ :each :i |\n		newCollection at: i put: (self at: each) ].\n	^ newCollection",messageSends:["to:","new:","class","size","withIndexDo:","at:put:","at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=n(r._class())._new_(r._size()),r._withIndexDo_(function(r,s){return e.withContext(function(){return n(t)._at_put_(s,n(r)._deepCopy())},function(e){e.fillBlock({each:r,index:s},a,1)})}),s=t},function(n){n.fill(r,"deepCopy",{newCollection:t},e.SequenceableCollection)})},args:[],source:"deepCopy\n	| newCollection |\n	newCollection := self class new: self size.\n	self withIndexDo: [ :each :index |\n		newCollection at: index put: each deepCopy ].\n	^ newCollection",messageSends:["new:","class","size","withIndexDo:","at:put:","deepCopy"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,n){var r=this;return e.withContext(function(){for(var e=0;e<r.length;e++)if(t._value_(r[e]))return r[e];return n._value()},function(a){a.fill(r,"detect:ifNone:",{aBlock:t,anotherBlock:n},e.SequenceableCollection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	<\n		for(var i = 0; i < self.length; i++)\n			if(aBlock._value_(self[i]))\n				return self[i];\n		return anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_(n[e]);return n},function(r){r.fill(n,"do:",{aBlock:t},e.SequenceableCollection)})},args:["aBlock"],source:"do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_(self[i]);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"first",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(1)},function(n){n.fill(t,"first",{},e.SequenceableCollection)})},args:[],source:"first\n	^ self at: 1",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"first:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._copyFrom_to_(1,t)},function(r){r.fill(n,"first:",{n:t},e.SequenceableCollection)})},args:["n"],source:'first: n\n	"Answer the first n elements of the receiver.\n	Raise an error if there are not enough elements."\n\n	^ self copyFrom: 1 to: n',messageSends:["copyFrom:to:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"fourth",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(4)},function(n){n.fill(t,"fourth",{},e.SequenceableCollection)})},args:[],source:"fourth\n	^ self at: 4",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(r){var a=this;return e.withContext(function(s){var o;return o=n(a._indexOf_ifAbsent_(r,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},s,1)})}))._notNil()},function(t){t.fill(a,"includes:",{anObject:r},e.SequenceableCollection)})},args:["anObject"],source:"includes: anObject\n	^ (self indexOf: anObject ifAbsent: [ nil ]) notNil",messageSends:["notNil","indexOf:ifAbsent:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){for(var e=0;e<r.length;e++)if(r[e].__eq(t))return e+1;return n._value()},function(a){a.fill(r,"indexOf:ifAbsent:",{anObject:t,aBlock:n},e.SequenceableCollection)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n	<\n		for(var i=0;i<self.length;i++) {\n			if(self[i].__eq(anObject)) {return i+1}\n		};\n		return aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:startingAt:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(a){var s;return s=r._indexOf_startingAt_ifAbsent_(t,n,function(){return e.withContext(function(){return 0},function(e){e.fillBlock({},a,1)})})},function(a){a.fill(r,"indexOf:startingAt:",{anObject:t,start:n},e.SequenceableCollection)})},args:["anObject","start"],source:'indexOf: anObject startingAt: start\n	"Answer the index of the first occurence of anElement after start\n	within the receiver. If the receiver does not contain anElement,\n	answer 0."\n	^ self indexOf: anObject startingAt: start ifAbsent: [ 0 ]',messageSends:["indexOf:startingAt:ifAbsent:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:startingAt:ifAbsent:",category:"accessing",fn:function(t,n,r){var a=this;return e.withContext(function(){for(var e=n-1;e<a.length;e++)if(a[e].__eq(t))return e+1;return r._value()},function(s){s.fill(a,"indexOf:startingAt:ifAbsent:",{anObject:t,start:n,aBlock:r},e.SequenceableCollection)})},args:["anObject","start","aBlock"],source:"indexOf: anObject startingAt: start ifAbsent: aBlock\n	<\n		for(var i=start-1;i<self.length;i++){\n			if(self[i].__eq(anObject)) {return i+1}\n		}\n		return aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"last",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(t._size())},function(n){n.fill(t,"last",{},e.SequenceableCollection)})},args:[],source:"last\n	^ self at: self size",messageSends:["at:","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"newStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._streamClass())._on_(t)},function(n){n.fill(t,"newStream",{},e.SequenceableCollection)})},args:[],source:"newStream\n	^ self streamClass on: self",messageSends:["on:","streamClass"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"readStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._stream()},function(n){n.fill(t,"readStream",{},e.SequenceableCollection)})},args:[],source:'readStream\n	"For Pharo compatibility"\n	\n	^ self stream',messageSends:["stream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"removeLast",category:"adding/removing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._remove_(t._last())},function(n){n.fill(t,"removeLast",{},e.SequenceableCollection)})},args:[],source:"removeLast\n	^ self remove: self last",messageSends:["remove:","last"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"reversed",{},e.SequenceableCollection)})},args:[],source:"reversed\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"second",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(2)},function(n){n.fill(t,"second",{},e.SequenceableCollection)})},args:[],source:"second\n	^ self at: 2",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t,r=this;return e.withContext(function(a){var s;return t=n(r._class())._new_(r._size()),r._withIndexDo_(function(r,s){return e.withContext(function(){return n(t)._at_put_(s,r)},function(e){e.fillBlock({each:r,index:s},a,1)})}),s=t},function(n){n.fill(r,"shallowCopy",{newCollection:t},e.SequenceableCollection)})},args:[],source:"shallowCopy\n	| newCollection |\n	newCollection := self class new: self size.\n	self withIndexDo: [ :each :index |\n		newCollection at: index put: each ].\n	^ newCollection",messageSends:["new:","class","size","withIndexDo:","at:put:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"stream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._newStream()},function(n){n.fill(t,"stream",{},e.SequenceableCollection)})},args:[],source:"stream\n	^ self newStream",messageSends:["newStream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"streamClass",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._streamClass()},function(n){n.fill(t,"streamClass",{},e.SequenceableCollection)})},args:[],source:"streamClass\n	^ self class streamClass",messageSends:["streamClass","class"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"third",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(3)},function(n){n.fill(t,"third",{},e.SequenceableCollection)})},args:[],source:"third\n	^ self at: 3",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"with:do:",category:"enumerating",fn:function(t,n){var r=this;return e.withContext(function(){for(var e=0;e<r.length;e++)n._value_value_(r[e],t[e]);return r},function(a){a.fill(r,"with:do:",{anotherCollection:t,aBlock:n},e.SequenceableCollection)})},args:["anotherCollection","aBlock"],source:"with: anotherCollection do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self[i], anotherCollection[i]);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_value_(n[e],e+1);return n},function(r){r.fill(n,"withIndexDo:",{aBlock:t},e.SequenceableCollection)})},args:["aBlock"],source:"withIndexDo: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self[i], i+1);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"writeStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._stream()},function(n){n.fill(t,"writeStream",{},e.SequenceableCollection)})},args:[],source:'writeStream\n	"For Pharo compatibility"\n	\n	^ self stream',messageSends:["stream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"streamClass",category:"accessing",fn:function(){function n(){return e.Stream||("undefined"==typeof Stream?t:Stream)}var r=this;return e.withContext(function(){return n()},function(t){t.fill(r,"streamClass",{},e.SequenceableCollection.klass)})},args:[],source:"streamClass\n		^ Stream",messageSends:[],referencedClasses:["Stream"]}),e.SequenceableCollection.klass),e.addMethod(e.method({selector:"streamContents:",category:"streaming",fn:function(t){var r,a=this;return e.withContext(function(){var e;return r=n(a._streamClass())._on_(a._new()),n(t)._value_(r),e=n(r)._contents()},function(n){n.fill(a,"streamContents:",{aBlock:t,stream:r},e.SequenceableCollection.klass)})},args:["aBlock"],source:"streamContents: aBlock\n	| stream |\n	stream := (self streamClass on: self new).\n	aBlock value: stream.\n	^ stream contents",messageSends:["on:","streamClass","new","value:","contents"],referencedClasses:[]}),e.SequenceableCollection.klass),e.addClass("Array",e.SequenceableCollection,[],"Kernel-Collections"),e.Array.comment="I represent a collection of objects ordered by the collector. The size of arrays is dynamic.\n\nI am directly mapped to JavaScript Number.\n\n*Note* In Amber, `OrderedCollection` is an alias for `Array`.",e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.push(t),t},function(r){r.fill(n,"add:",{anObject:t},e.Array)})},args:["anObject"],source:"add: anObject\n	<self.push(anObject); return anObject;>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"addFirst:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.unshift(t),t},function(r){r.fill(n,"addFirst:",{anObject:t},e.Array)})},args:["anObject"],source:"addFirst: anObject\n	<self.unshift(anObject); return anObject;>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(r){var a;return a=n("[".__comma(n(t._collect_(function(t){return e.withContext(function(){return n(t)._asJavascript()},function(e){e.fillBlock({each:t},r,1)})}))._join_(", "))).__comma("]"),r.sendIdx[","]=1,a},function(n){n.fill(t,"asJavascript",{},e.Array)})},args:[],source:"asJavascript\n	^ '[', ((self collect: [:each | each asJavascript ]) join: ', '), ']'",messageSends:[",","join:","collect:","asJavascript"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return 1>t||r.length<t?n._value():r[t-1]},function(a){a.fill(r,"at:ifAbsent:",{anIndex:t,aBlock:n},e.Array)})},args:["anIndex","aBlock"],source:"at: anIndex ifAbsent: aBlock\n	<\n		if((anIndex < 1) || (self.length < anIndex)) {return aBlock._value()};\n		return self[anIndex - 1];\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,r){var a=this;return e.withContext(function(){return 1>t||a.length<t?r._value():n._value_(a[t-1])},function(s){s.fill(a,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:r},e.Array)})},args:["anIndex","aBlock","anotherBlock"],source:"at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	<return anIndex < 1 || self.length < anIndex ? anotherBlock._value() : aBlock._value_(self[anIndex - 1]);>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r[t-1]=n},function(a){a.fill(r,"at:put:",{anIndex:t,anObject:n},e.Array)})},args:["anIndex","anObject"],source:"at: anIndex put: anObject\n	<return self[anIndex - 1] = anObject>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.map(function(e){return t._value_(e)})},function(r){r.fill(n,"collect:",{aBlock:t},e.Array)})},args:["aBlock"],source:'collect: aBlock\n	"Optimized version"\n	<return self.map(function(each) {return aBlock._value_(each)})>',messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"join:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.join(t)},function(r){r.fill(n,"join:",{aString:t},e.Array)})},args:["aString"],source:"join: aString\n	<return self.join(aString)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){return e.Array.superclass.fn.prototype._printOn_.apply(n(r),[t]),a.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),a.sendIdx["nextPutAll:"]=1,r._do_separatedBy_(function(r){return e.withContext(function(){return n(r)._printOn_(t)},function(e){e.fillBlock({each:r},a,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" ")},function(e){e.fillBlock({},a,2)})}),n(t)._nextPutAll_(")"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Array)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self \n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,r){var a=this;return e.withContext(function(){for(var e=0;e<a.length;e++)if(n(a[e]).__eq(t))return a.splice(e,1),a;return r._value(),a},function(n){n.fill(a,"remove:ifAbsent:",{anObject:t,aBlock:r},e.Array)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	<\n		for(var i=0;i<self.length;i++) {\n			if(_st(self[i]).__eq(anObject)) {\n				self.splice(i,1);\n				return self;\n			}\n		};\n		aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeFrom:to:",category:"adding/removing",fn:function(t,n){var r=this;return e.withContext(function(){return r.splice(t-1,n-t+1),r},function(a){a.fill(r,"removeFrom:to:",{aNumber:t,anotherNumber:n},e.Array)})},args:["aNumber","anotherNumber"],source:"removeFrom: aNumber to: anotherNumber\n	<self.splice(aNumber -1, anotherNumber - aNumber + 1)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeIndex:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.splice(t-1,1),n},function(r){r.fill(n,"removeIndex:",{anInteger:t},e.Array)})},args:["anInteger"],source:"removeIndex: anInteger\n	<self.splice(anInteger - 1, 1)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeLast",category:"adding/removing",fn:function(){var t=this;return e.withContext(function(){return t.pop()},function(n){n.fill(t,"removeLast",{},e.Array)})},args:[],source:"removeLast\n	<return self.pop();>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t._copy().reverse()},function(n){n.fill(t,"reversed",{},e.Array)})},args:[],source:"reversed\n	<return self._copy().reverse()>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=n.klass._new(),r=0;r<n.length;r++)t._value_(n[r])&&e.push(n[r]);return e},function(r){r.fill(n,"select:",{aBlock:t},e.Array)})},args:["aBlock"],source:'select: aBlock\n	"Optimized version"\n	\n	<\n		var result = self.klass._new();\n		for(var i=0; i<self.length; i++) {\n			if(aBlock._value_(self[i])) {\n				result.push(self[i]);\n			}\n		}\n		return result;\n	>',messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.length},function(n){n.fill(t,"size",{},e.Array)})},args:[],source:"size\n	<return self.length>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sort",category:"enumerating",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicPerform_("sort")},function(n){n.fill(t,"sort",{},e.Array)})},args:[],source:"sort\n	^ self basicPerform: 'sort'",messageSends:["basicPerform:"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sort:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.sort(function(e,n){return t._value_value_(e,n)?-1:1})},function(r){r.fill(n,"sort:",{aBlock:t},e.Array)})},args:["aBlock"],source:"sort: aBlock\n	<\n		return self.sort(function(a, b) {\n			if(aBlock._value_value_(a,b)) {return -1} else {return 1}\n		})\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sorted",category:"enumerating",fn:function(){var t=this;
return e.withContext(function(){var e;return e=n(t._copy())._sort()},function(n){n.fill(t,"sorted",{},e.Array)})},args:[],source:"sorted\n	^ self copy sort",messageSends:["sort","copy"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sorted:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._copy())._sort_(t)},function(n){n.fill(r,"sorted:",{aBlock:t},e.Array)})},args:["aBlock"],source:"sorted: aBlock\n	^ self copy sort: aBlock",messageSends:["sort:","copy"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return new Array(t)},function(r){r.fill(n,"new:",{anInteger:t},e.Array.klass)})},args:["anInteger"],source:"new: anInteger\n	<return new Array(anInteger)>",messageSends:[],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new_(1),n(e)._at_put_(1,t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"with:",{anObject:t},e.Array.klass)})},args:["anObject"],source:"with: anObject\n		^ (self new: 1)\n		at: 1 put: anObject;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:with:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(e){var s,o,i;return s=a._new_(2),n(s)._at_put_(1,t),e.sendIdx["at:put:"]=1,n(s)._at_put_(2,r),o=n(s)._yourself(),i=o},function(n){n.fill(a,"with:with:",{anObject:t,anObject2:r},e.Array.klass)})},args:["anObject","anObject2"],source:"with: anObject with: anObject2\n		^ (self new: 2)\n		at: 1 put: anObject;\n		at: 2 put: anObject2;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:with:with:",category:"instance creation",fn:function(t,r,a){var s=this;return e.withContext(function(e){var o,i,l;return o=s._new_(3),n(o)._at_put_(1,t),e.sendIdx["at:put:"]=1,n(o)._at_put_(2,r),e.sendIdx["at:put:"]=2,n(o)._at_put_(3,a),i=n(o)._yourself(),l=i},function(n){n.fill(s,"with:with:with:",{anObject:t,anObject2:r,anObject3:a},e.Array.klass)})},args:["anObject","anObject2","anObject3"],source:"with: anObject with: anObject2 with: anObject3\n		^ (self new: 3)\n		at: 1 put: anObject;\n		at: 2 put: anObject2;\n		at: 3 put: anObject3;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"withAll:",category:"instance creation",fn:function(t){var r,a,s=this;return e.withContext(function(o){var i;return a=1,r=s._new_(n(t)._size()),n(t)._do_(function(t){return e.withContext(function(){return n(r)._at_put_(a,t),a=n(a).__plus(1)},function(e){e.fillBlock({each:t},o,1)})}),i=r},function(n){n.fill(s,"withAll:",{aCollection:t,instance:r,index:a},e.Array.klass)})},args:["aCollection"],source:"withAll: aCollection\n	| instance index |\n	index := 1.\n	instance := self new: aCollection size.\n	aCollection do: [ :each |\n		instance at: index put: each.\n		index := index + 1 ].\n	^ instance",messageSends:["new:","size","do:","at:put:","+"],referencedClasses:[]}),e.Array.klass),e.addClass("CharacterArray",e.SequenceableCollection,[],"Kernel-Collections"),e.CharacterArray.comment="I am the abstract superclass of string-like collections.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var r=this;return e.withContext(function(e){var a,s;return a=r._asString(),e.sendIdx.asString=1,s=n(a).__comma(n(t)._asString())},function(n){n.fill(r,",",{aString:t},e.CharacterArray)})},args:["aString"],source:", aString\n	^ self asString, aString asString",messageSends:[",","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._errorReadOnly(),n},function(r){r.fill(n,"add:",{anObject:t},e.CharacterArray)})},args:["anObject"],source:"add: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asLowercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(n(t._asString())._asLowercase())},function(n){n.fill(t,"asLowercase",{},e.CharacterArray)})},args:[],source:"asLowercase\n	^ self class fromString: self asString asLowercase",messageSends:["fromString:","class","asLowercase","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asString())._asNumber()},function(n){n.fill(t,"asNumber",{},e.CharacterArray)})},args:[],source:"asNumber\n	^ self asString asNumber",messageSends:["asNumber","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._subclassResponsibility()},function(n){n.fill(t,"asString",{},e.CharacterArray)})},args:[],source:"asString\n	^ self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asSymbol",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asString()},function(n){n.fill(t,"asSymbol",{},e.CharacterArray)})},args:[],source:"asSymbol\n	^ self asString",messageSends:["asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asUppercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(n(t._asString())._asUppercase())},function(n){n.fill(t,"asUppercase",{},e.CharacterArray)})},args:[],source:"asUppercase\n	^ self class fromString: self asString asUppercase",messageSends:["fromString:","class","asUppercase","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return r._errorReadOnly(),r},function(a){a.fill(r,"at:put:",{anIndex:t,anObject:n},e.CharacterArray)})},args:["anIndex","anObject"],source:"at: anIndex put: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"errorReadOnly",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object is read-only"),t},function(n){n.fill(t,"errorReadOnly",{},e.CharacterArray)})},args:[],source:"errorReadOnly\n	self error: 'Object is read-only'",messageSends:["error:"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(r._asString())._printOn_(t),r},function(n){n.fill(r,"printOn:",{aStream:t},e.CharacterArray)})},args:["aStream"],source:"printOn: aStream\n	self asString printOn: aStream",messageSends:["printOn:","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutString_(r),r},function(n){n.fill(r,"putOn:",{aStream:t},e.CharacterArray)})},args:["aStream"],source:"putOn: aStream\n	aStream nextPutString: self",messageSends:["nextPutString:"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._errorReadOnly(),n},function(r){r.fill(n,"remove:",{anObject:t},e.CharacterArray)})},args:["anObject"],source:"remove: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(r){r.fill(n,"fromString:",{aString:t},e.CharacterArray.klass)})},args:["aString"],source:"fromString: aString\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.CharacterArray.klass),e.addClass("String",e.CharacterArray,[],"Kernel-Collections"),e.String.comment="I am an indexed collection of Characters. Unlike most Smalltalk dialects, Amber doesn't provide the Character class. Instead, elements of a String are single character strings.\n\nString inherits many useful methods from its hierarchy, such as\n	`Collection >> #,`",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(r){r.fill(n,",",{aString:t},e.String)})},args:["aString"],source:", aString\n	<return self + aString>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)<t._asString()},function(r){r.fill(n,"<",{aString:t},e.String)})},args:["aString"],source:"< aString\n	<return String(self) < aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)<=t._asString()},function(r){r.fill(n,"<=",{aString:t},e.String)})},args:["aString"],source:"<= aString\n	<return String(self) <= aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return"undefined"==typeof t?!1:t._isString&&t._isString()?String(n)===String(t):!1},function(r){r.fill(n,"=",{aString:t},e.String)})},args:["aString"],source:"= aString\n	<\n		if(typeof aString === 'undefined') { return false }\n		if(!aString._isString || ! aString._isString()) {\n			return false;\n		}\n		return String(self) === String(aString)\n	>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq(t)},function(r){r.fill(n,"==",{aString:t},e.String)})},args:["aString"],source:"== aString\n	^ self = aString",messageSends:["="],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)>t._asString()},function(r){r.fill(n,">",{aString:t},e.String)})},args:["aString"],source:"> aString\n	<return String(self) >> aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)>=t._asString()},function(r){r.fill(n,">=",{aString:t},e.String)})},args:["aString"],source:">= aString\n	<return String(self) >>= aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.String)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){return-1==t.search(/^[a-zA-Z0-9_:.$ ]*$/)?'"'+t.replace(/[\x00-\x1f"\\\x7f-\x9f]/g,function(e){var t=e.charCodeAt(0);return"\\x"+("0"+t.toString(16)).slice(-2)})+'"':'"'+t+'"'},function(n){n.fill(t,"asJavascript",{},e.String)})},args:[],source:'asJavascript\n	<\n		if(self.search(/^[a-zA-Z0-9_:.$ ]*$/) == -1)\n			return "\\"" + self.replace(/[\\x00-\\x1f"\\\\\\x7f-\\x9f]/g, function(ch){var c=ch.charCodeAt(0);return "\\\\x"+("0"+c.toString(16)).slice(-2)}) + "\\"";\n		else\n			return "\\"" + self + "\\"";\n	>',messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asLowercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toLowerCase()},function(n){n.fill(t,"asLowercase",{},e.String)})},args:[],source:"asLowercase\n	<return self.toLowerCase()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asMutator",category:"converting",fn:function(){var t=this;return e.withContext(function(){var r,a;return r=n(t._last()).__eq(":"),e.assert(r)?t:a=t.__comma(":")},function(n){n.fill(t,"asMutator",{},e.String)})},args:[],source:"asMutator\n	\"Answer a setter selector. For example,\n	#name asMutator returns #name:\"\n\n	self last = ':' ifFalse: [  ^ self, ':' ].\n	^ self",messageSends:["ifFalse:","=","last",","],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Number(t)},function(n){n.fill(t,"asNumber",{},e.String)})},args:[],source:"asNumber\n	<return Number(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asRegexp",category:"converting",fn:function(){function r(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var a=this;return e.withContext(function(){var e;return e=n(r())._fromString_(a)},function(t){t.fill(a,"asRegexp",{},e.String)})},args:[],source:"asRegexp\n	^ RegularExpression fromString: self",messageSends:["fromString:"],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"asSelector",category:"converting",fn:function(){var t=this;return e.withContext(function(){return e.selector(t)},function(n){n.fill(t,"asSelector",{},e.String)})},args:[],source:"asSelector\n	<return smalltalk.selector(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asString",{},e.String)})},args:[],source:"asString\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asSymbol",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asSymbol",{},e.String)})},args:[],source:"asSymbol\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asUppercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toUpperCase()},function(n){n.fill(t,"asUppercase",{},e.String)})},args:[],source:"asUppercase\n	<return self.toUpperCase()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asciiValue",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.charCodeAt(0)},function(n){n.fill(t,"asciiValue",{},e.String)})},args:[],source:"asciiValue\n	<return self.charCodeAt(0);>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){return String(r).charAt(t-1)||n._value()},function(a){a.fill(r,"at:ifAbsent:",{anIndex:t,aBlock:n},e.String)})},args:["anIndex","aBlock"],source:"at: anIndex ifAbsent: aBlock\n	<return String(self).charAt(anIndex - 1) || aBlock._value()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,r){var a=this;return e.withContext(function(){var e=String(a).charAt(t-1);return e?n._value_(e):r._value()},function(s){s.fill(a,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:r},e.String)})},args:["anIndex","aBlock","anotherBlock"],source:"at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	<\n		var result = String(self).charAt(anIndex - 1);\n		return result ? aBlock._value_(result) : anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"capitalized",category:"converting",fn:function(){var t=this;return e.withContext(function(){var r,a;return r=t._isEmpty(),a=e.assert(r)?t:n(n(t._first())._asUppercase()).__comma(t._allButFirst())},function(n){n.fill(t,"capitalized",{},e.String)})},args:[],source:"capitalized\n	^ self isEmpty\n		ifTrue: [ self ]\n		ifFalse: [ self first asUppercase, self allButFirst ]",messageSends:["ifTrue:ifFalse:","isEmpty",",","asUppercase","first","allButFirst"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"charCodeAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.charCodeAt(t-1)},function(r){r.fill(n,"charCodeAt:",{anInteger:t},e.String)})},args:["anInteger"],source:"charCodeAt: anInteger\n	< return self.charCodeAt(anInteger - 1) >",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"copyFrom:to:",category:"copying",fn:function(t,n){var r=this;return e.withContext(function(){return r.substring(t-1,n)},function(a){a.fill(r,"copyFrom:to:",{anIndex:t,anotherIndex:n},e.String)})},args:["anIndex","anotherIndex"],source:"copyFrom: anIndex to: anotherIndex\n	<return self.substring(anIndex - 1, anotherIndex)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"crlfSanitized",category:"converting",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){var e;return e=n(a._lines())._join_(n(r())._lf())},function(t){t.fill(a,"crlfSanitized",{},e.String)})},args:[],source:"crlfSanitized\n	^ self lines join: String lf",messageSends:["join:","lines","lf"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._shallowCopy()},function(n){n.fill(t,"deepCopy",{},e.String)})},args:[],source:"deepCopy\n	^ self shallowCopy",messageSends:["shallowCopy"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_(n.charAt(e));return n},function(r){r.fill(n,"do:",{aBlock:t},e.String)})},args:["aBlock"],source:"do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_(self.charAt(i));}>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"escaped",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return escape(t)},function(n){n.fill(t,"escaped",{},e.String)})},args:[],source:"escaped\n	<return escape(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__comma("s")},function(n){n.fill(t,"identityHash",{},e.String)})},args:[],source:"identityHash\n	^ self, 's'",messageSends:[","],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"includesSubString:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return-1!=n.indexOf(t)},function(r){r.fill(n,"includesSubString:",{subString:t},e.String)})},args:["subString"],source:"includesSubString: subString\n	< return self.indexOf(subString) != -1 >",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isCapitalized",category:"testing",fn:function(){var t=this;return e.withContext(function(e){var r,a,s;return r=t._first(),e.sendIdx.first=1,a=n(r)._asUppercase(),s=n(a).__eq_eq(t._first())},function(n){n.fill(t,"isCapitalized",{},e.String)})},args:[],source:"isCapitalized\n	^ self first asUppercase == self first",messageSends:["==","asUppercase","first"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.String)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isString",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isString",{},e.String)})},args:[],source:"isString\n	^ true",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isVowel",category:"testing",fn:function(){var t=this;return e.withContext(function(r){var a;return a=n(n(t._size()).__eq(1))._and_(function(){return e.withContext(function(){return"aeiou"._includes_(t._asLowercase())},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(t,"isVowel",{},e.String)})},args:[],source:"isVowel\n	\"Answer true if the receiver is a one character string containing a voyel\"\n	\n	^ self size = 1 and: [ 'aeiou' includes: self asLowercase ]",messageSends:["and:","=","size","includes:","asLowercase"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"join:",category:"split join",fn:function(r){function a(){return e.String||("undefined"==typeof String?t:String)}var s=this;return e.withContext(function(t){var o;return o=n(a())._streamContents_(function(a){return e.withContext(function(t){return n(r)._do_separatedBy_(function(r){return e.withContext(function(e){return n(a)._nextPutAll_(n(r)._asString())},function(e){e.fillBlock({each:r},t,2)})},function(){return e.withContext(function(){return n(a)._nextPutAll_(s)},function(e){e.fillBlock({},t,3)})})},function(e){e.fillBlock({stream:a},t,1)})})},function(t){t.fill(s,"join:",{aCollection:r},e.String)})},args:["aCollection"],source:"join: aCollection\n	^ String\n		streamContents: [ :stream | aCollection\n				do: [ :each | stream nextPutAll: each asString ]\n				separatedBy: [ stream nextPutAll: self ]]",messageSends:["streamContents:","do:separatedBy:","nextPutAll:","asString"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"lineIndicesDo:",category:"split join",fn:function(r){function a(){return e.String||("undefined"==typeof String?t:String)}var s,o,i,l,c,u,d=this;return e.withContext(function(t){var f,h,g,m,p,C,v,y,_,S,b,x={};try{return i=1,l=d._size(),s=n(a())._cr(),u=d._indexOf_startingAt_(s,1),t.sendIdx["indexOf:startingAt:"]=1,o=n(a())._lf(),c=d._indexOf_startingAt_(o,1),t.sendIdx["indexOf:startingAt:"]=2,n(function(){return e.withContext(function(){return n(i).__lt_eq(l)},function(e){e.fillBlock({},t,1)})})._whileTrue_(function(){return e.withContext(function(t){if(f=n(c).__eq(0),t.sendIdx["="]=1,h=n(f)._and_(function(){return e.withContext(function(e){return n(u).__eq(0)},function(e){e.fillBlock({},t,3)})}),t.sendIdx["and:"]=1,e.assert(h))throw n(r)._value_value_value_(i,l,l),t.sendIdx["value:value:value:"]=1,x=[d];return g=n(u).__eq(0),t.sendIdx["="]=3,p=n(g)._or_(function(){return e.withContext(function(t){return m=0..__lt(c),t.sendIdx["<"]=1,n(m)._and_(function(){return e.withContext(function(){return n(c).__lt(u)},function(e){e.fillBlock({},t,6)})})},function(e){e.fillBlock({},t,5)})}),e.assert(p)?(C=i,v=n(c).__minus(1),t.sendIdx["-"]=1,n(r)._value_value_value_(C,v,c),t.sendIdx["value:value:value:"]=2,i=1..__plus(c),t.sendIdx["+"]=1,c=d._indexOf_startingAt_(o,i),t.sendIdx["indexOf:startingAt:"]=3,c):(y=1..__plus(u),t.sendIdx["+"]=2,_=n(y).__eq(c),e.assert(_)?(S=i,b=n(u).__minus(1),t.sendIdx["-"]=2,n(r)._value_value_value_(S,b,c),t.sendIdx["value:value:value:"]=3,i=1..__plus(c),t.sendIdx["+"]=3,u=d._indexOf_startingAt_(s,i),t.sendIdx["indexOf:startingAt:"]=4,c=d._indexOf_startingAt_(o,i),t.sendIdx["indexOf:startingAt:"]=5,c):(n(r)._value_value_value_(i,n(u).__minus(1),u),i=1..__plus(u),u=d._indexOf_startingAt_(s,i)))},function(e){e.fillBlock({},t,2)})}),d}catch(k){if(k===x)return k[0];throw k}},function(t){t.fill(d,"lineIndicesDo:",{aBlock:r,cr:s,lf:o,start:i,sz:l,nextLF:c,nextCR:u},e.String)})},args:["aBlock"],source:'lineIndicesDo: aBlock\n	"execute aBlock with 3 arguments for each line:\n	- start index of line\n	- end index of line without line delimiter\n	- end index of line including line delimiter(s) CR, LF or CRLF"\n	\n	| cr lf start sz nextLF nextCR |\n	start := 1.\n	sz := self size.\n	cr := String cr.\n	nextCR := self indexOf: cr startingAt: 1.\n	lf := String lf.\n	nextLF := self indexOf: lf startingAt: 1.\n	[ start <= sz ] whileTrue: [ \n		(nextLF = 0 and: [ nextCR = 0 ])\n			ifTrue: [ "No more CR, nor LF, the string is over"\n					aBlock value: start value: sz value: sz.\n					^ self ].\n		(nextCR = 0 or: [ 0 < nextLF and: [ nextLF < nextCR ] ])\n			ifTrue: [ "Found a LF"\n					aBlock value: start value: nextLF - 1 value: nextLF.\n					start := 1 + nextLF.\n					nextLF := self indexOf: lf startingAt: start ]\n			ifFalse: [ 1 + nextCR = nextLF\n				ifTrue: [ "Found a CR-LF pair"\n					aBlock value: start value: nextCR - 1 value: nextLF.\n					start := 1 + nextLF.\n					nextCR := self indexOf: cr startingAt: start.\n					nextLF := self indexOf: lf startingAt: start ]\n				ifFalse: [ "Found a CR"\n					aBlock value: start value: nextCR - 1 value: nextCR.\n					start := 1 + nextCR.\n					nextCR := self indexOf: cr startingAt: start ] ]]',messageSends:["size","cr","indexOf:startingAt:","lf","whileTrue:","<=","ifTrue:","and:","=","value:value:value:","ifTrue:ifFalse:","or:","<","-","+"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"lineNumber:",category:"split join",fn:function(r){var a,s=this;return e.withContext(function(o){var i,l,c,u={};try{return a=0,s._lineIndicesDo_(function(t,d,f){return e.withContext(function(){if(a=n(a).__plus(1),i=a,l=n(i).__eq(r),e.assert(l))throw c=s._copyFrom_to_(t,d),u=[c]},function(e){e.fillBlock({start:t,endWithoutDelimiters:d,end:f},o,1)})}),t}catch(d){if(d===u)return d[0];throw d}},function(t){t.fill(s,"lineNumber:",{anIndex:r,lineCount:a},e.String)})},args:["anIndex"],source:'lineNumber: anIndex\n	"Answer a string containing the characters in the given line number."\n\n	| lineCount |\n	lineCount := 0.\n	self lineIndicesDo: [ :start :endWithoutDelimiters :end |\n		(lineCount := lineCount + 1) = anIndex ifTrue: [ ^ self copyFrom: start to: endWithoutDelimiters ]].\n	^ nil',messageSends:["lineIndicesDo:","ifTrue:","=","+","copyFrom:to:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"lines",category:"split join",fn:function(){function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a,s=this;return e.withContext(function(t){var o;return a=n(r())._new(),s._linesDo_(function(r){return e.withContext(function(){return n(a)._add_(r)},function(e){e.fillBlock({aLine:r},t,1)})}),o=a},function(t){t.fill(s,"lines",{lines:a},e.String)})},args:[],source:'lines\n	"Answer an array of lines composing this receiver without the line ending delimiters."\n\n	| lines |\n	lines := Array new.\n	self linesDo: [ :aLine | lines add: aLine ].\n	^ lines',messageSends:["new","linesDo:","add:"],referencedClasses:["Array"]}),e.String),e.addMethod(e.method({selector:"linesDo:",category:"split join",fn:function(t){var r=this;return e.withContext(function(a){return r._lineIndicesDo_(function(s,o,i){return e.withContext(function(){return n(t)._value_(r._copyFrom_to_(s,o))},function(e){e.fillBlock({start:s,endWithoutDelimiters:o,end:i},a,1)})}),r},function(n){n.fill(r,"linesDo:",{aBlock:t},e.String)})},args:["aBlock"],source:'linesDo: aBlock\n	"Execute aBlock with each line in this string. The terminating line\n	delimiters CR, LF or CRLF pairs are not included in what is passed to aBlock"\n\n	self lineIndicesDo: [ :start :endWithoutDelimiters :end |\n		aBlock value: (self copyFrom: start to: endWithoutDelimiters) ]',messageSends:["lineIndicesDo:","value:","copyFrom:to:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"match:",category:"regular expressions",fn:function(t){var n=this;return e.withContext(function(){return-1!=n.search(t)},function(r){r.fill(n,"match:",{aRegexp:t},e.String)})},args:["aRegexp"],source:"match: aRegexp\n	<return self.search(aRegexp) != -1>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"matchesOf:",category:"regular expressions",fn:function(t){var n=this;return e.withContext(function(){return n.match(t)},function(r){r.fill(n,"matchesOf:",{aRegularExpression:t},e.String)})},args:["aRegularExpression"],source:"matchesOf: aRegularExpression\n	<return self.match(aRegularExpression)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"printNl",category:"printing",fn:function(){var t=this;return e.withContext(function(){return console.log(t),t},function(n){n.fill(t,"printNl",{},e.String)})},args:[],source:"printNl\n	<console.log(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(e){var a;return n(t)._nextPutAll_("'"),e.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(r),e.sendIdx["nextPutAll:"]=2,a=n(t)._nextPutAll_("'"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.String)})},args:["aStream"],source:"printOn: aStream\n	aStream \n		nextPutAll: '''';\n		nextPutAll: self;\n		nextPutAll: ''''",messageSends:["nextPutAll:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"replace:with:",category:"regular expressions",fn:function(r,a){function s(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var o=this;return e.withContext(function(){var e;return e=o._replaceRegexp_with_(n(s())._fromString_flag_(r,"g"),a)},function(t){t.fill(o,"replace:with:",{aString:r,anotherString:a},e.String)})},args:["aString","anotherString"],source:"replace: aString with: anotherString\n	^ self replaceRegexp: (RegularExpression fromString: aString flag: 'g') with: anotherString",messageSends:["replaceRegexp:with:","fromString:flag:"],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"replaceRegexp:with:",category:"regular expressions",fn:function(t,n){var r=this;return e.withContext(function(){return r.replace(t,n)},function(a){a.fill(r,"replaceRegexp:with:",{aRegexp:t,aString:n},e.String)})},args:["aRegexp","aString"],source:"replaceRegexp: aRegexp with: aString\n	<return self.replace(aRegexp, aString)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.split("").reverse().join("")},function(n){n.fill(t,"reversed",{},e.String)})},args:[],source:'reversed\n	<return self.split("").reverse().join("")>',messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(t)},function(n){n.fill(t,"shallowCopy",{},e.String)})},args:[],source:"shallowCopy\n	^ self class fromString: self",messageSends:["fromString:","class"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.length},function(n){n.fill(t,"size",{},e.String)})},args:[],source:"size\n	<return self.length>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"subStrings:",category:"split join",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._tokenize_(t)},function(r){r.fill(n,"subStrings:",{aString:t},e.String)})},args:["aString"],source:"subStrings: aString\n	^ self tokenize: aString",messageSends:["tokenize:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"tokenize:",category:"split join",fn:function(t){var n=this;return e.withContext(function(){return n.split(t)},function(r){r.fill(n,"tokenize:",{aString:t},e.String)})},args:["aString"],source:"tokenize: aString\n	<return self.split(aString)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimBoth",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;
return e=t._trimBoth_("\\s")},function(n){n.fill(t,"trimBoth",{},e.String)})},args:[],source:"trimBoth\n	^ self trimBoth: '\\s'",messageSends:["trimBoth:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimBoth:",category:"regular expressions",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._trimLeft_(t))._trimRight_(t)},function(n){n.fill(r,"trimBoth:",{separators:t},e.String)})},args:["separators"],source:"trimBoth: separators\n\n	^ (self trimLeft: separators) trimRight: separators",messageSends:["trimRight:","trimLeft:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimLeft",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._trimLeft_("\\s")},function(n){n.fill(t,"trimLeft",{},e.String)})},args:[],source:"trimLeft\n	^ self trimLeft: '\\s'",messageSends:["trimLeft:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimLeft:",category:"regular expressions",fn:function(r){function a(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var s=this;return e.withContext(function(e){var t,o,i;return t=n("^[".__comma(r)).__comma("]+"),e.sendIdx[","]=1,o=n(a())._fromString_flag_(t,"g"),i=s._replaceRegexp_with_(o,"")},function(t){t.fill(s,"trimLeft:",{separators:r},e.String)})},args:["separators"],source:"trimLeft: separators\n\n	^ self replaceRegexp: (RegularExpression fromString: '^[', separators, ']+' flag: 'g') with: ''",messageSends:["replaceRegexp:with:","fromString:flag:",","],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"trimRight",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._trimRight_("\\s")},function(n){n.fill(t,"trimRight",{},e.String)})},args:[],source:"trimRight\n	^ self trimRight: '\\s'",messageSends:["trimRight:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimRight:",category:"regular expressions",fn:function(r){function a(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var s=this;return e.withContext(function(e){var t,o,i;return t=n("[".__comma(r)).__comma("]+$"),e.sendIdx[","]=1,o=n(a())._fromString_flag_(t,"g"),i=s._replaceRegexp_with_(o,"")},function(t){t.fill(s,"trimRight:",{separators:r},e.String)})},args:["separators"],source:"trimRight: separators\n\n	^ self replaceRegexp: (RegularExpression fromString: '[', separators, ']+$' flag: 'g') with: ''",messageSends:["replaceRegexp:with:","fromString:flag:",","],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"unescaped",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return unescape(t)},function(n){n.fill(t,"unescaped",{},e.String)})},args:[],source:"unescaped\n	<return unescape(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_value_(n.charAt(e),e+1);return n},function(r){r.fill(n,"withIndexDo:",{aBlock:t},e.String)})},args:["aBlock"],source:"withIndexDo: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self.charAt(i), i+1);}>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"cr",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\r"},function(n){n.fill(t,"cr",{},e.String.klass)})},args:[],source:"cr\n	<return '\\r'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"crlf",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\r\n"},function(n){n.fill(t,"crlf",{},e.String.klass)})},args:[],source:"crlf\n	<return '\\r\\n'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"esc",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._fromCharCode_(27)},function(n){n.fill(t,"esc",{},e.String.klass)})},args:[],source:"esc\n	^ self fromCharCode: 27",messageSends:["fromCharCode:"],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"fromCharCode:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String.fromCharCode(t)},function(r){r.fill(n,"fromCharCode:",{anInteger:t},e.String.klass)})},args:["anInteger"],source:"fromCharCode: anInteger\n	<return String.fromCharCode(anInteger)>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String(t)},function(r){r.fill(n,"fromString:",{aString:t},e.String.klass)})},args:["aString"],source:"fromString: aString\n		<return String(aString)>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"lf",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\n"},function(n){n.fill(t,"lf",{},e.String.klass)})},args:[],source:"lf\n	<return '\\n'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"random",category:"random",fn:function(){var t=this;return e.withContext(function(){return(.6875*Math.random()+.3125).toString(32).slice(2)},function(n){n.fill(t,"random",{},e.String.klass)})},args:[],source:'random\n	"Returns random alphanumeric string beginning with letter"\n	<return (Math.random()*(22/32)+(10/32)).toString(32).slice(2);>',messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"randomNotIn:",category:"random",fn:function(t){var r,a=this;return e.withContext(function(s){var o;return n(function(){return e.withContext(function(){return r=a._random(),n(t)._includesSubString_(r)},function(e){e.fillBlock({},s,1)})})._whileTrue(),o=r},function(n){n.fill(a,"randomNotIn:",{aString:t,result:r},e.String.klass)})},args:["aString"],source:"randomNotIn: aString\n	| result |\n	[ result := self random. aString includesSubString: result ] whileTrue.\n	^ result",messageSends:["whileTrue","random","includesSubString:"],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"space",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return" "},function(n){n.fill(t,"space",{},e.String.klass)})},args:[],source:"space\n	<return ' '>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"streamClass",category:"accessing",fn:function(){function n(){return e.StringStream||("undefined"==typeof StringStream?t:StringStream)}var r=this;return e.withContext(function(){return n()},function(t){t.fill(r,"streamClass",{},e.String.klass)})},args:[],source:"streamClass\n		^ StringStream",messageSends:[],referencedClasses:["StringStream"]}),e.String.klass),e.addMethod(e.method({selector:"tab",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"	"},function(n){n.fill(t,"tab",{},e.String.klass)})},args:[],source:"tab\n	<return '\\t'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"value:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String.fromCharCode(t)},function(r){r.fill(n,"value:",{aUTFCharCode:t},e.String.klass)})},args:["aUTFCharCode"],source:"value: aUTFCharCode\n\n	<return String.fromCharCode(aUTFCharCode);>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addClass("Set",e.Collection,["elements"],"Kernel-Collections"),e.Set.comment="I represent an unordered set of objects without duplicates.",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var r=this;return e.withContext(function(a){var s,o,i,l,c,u={};try{return s=r._class(),a.sendIdx["class"]=1,o=n(s).__eq(n(t)._class()),a.sendIdx["="]=1,e.assert(o)?(i=r._size(),a.sendIdx.size=1,l=n(i).__eq(n(t)._size()),e.assert(l)?(r._do_(function(r){return e.withContext(function(){if(c=n(t)._includes_(r),!e.assert(c))throw u=[!1]},function(e){e.fillBlock({each:r},a,3)})}),!0):!1):!1}catch(d){if(d===u)return d[0];throw d}},function(n){n.fill(r,"=",{aCollection:t},e.Set)})},args:["aCollection"],source:"= aCollection\n	self class = aCollection class ifFalse: [ ^ false ].\n	self size = aCollection size ifFalse: [ ^ false ].\n	self do: [ :each | (aCollection includes: each) ifFalse: [ ^ false ] ].\n	^ true",messageSends:["ifFalse:","=","class","size","do:","includes:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var r=this;return e.withContext(function(){for(var e,a=0;a<r["@elements"].length;a++)if(n(t).__eq(r["@elements"][a])){e=!0;break}return e||r["@elements"].push(t),r},function(n){n.fill(r,"add:",{anObject:t},e.Set)})},args:["anObject"],source:"add: anObject\n	<\n		var found;\n		for(var i=0; i < self['@elements'].length; i++) {\n			if(_st(anObject).__eq(self['@elements'][i])) {\n				found = true;\n				break;\n			}\n		}\n		if(!found) {self['@elements'].push(anObject)}\n	>",messageSends:[],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"asArray",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@elements"])._copy()},function(n){n.fill(t,"asArray",{},e.Set)})},args:[],source:"asArray\n	^ elements copy",messageSends:["copy"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._class())._withAll_(n(r["@elements"])._collect_(t))},function(n){n.fill(r,"collect:",{aBlock:t},e.Set)})},args:["aBlock"],source:"collect: aBlock\n	^ self class withAll: (elements collect: aBlock)",messageSends:["withAll:","class","collect:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,r){var a=this;return e.withContext(function(){var e;return e=n(a["@elements"])._detect_ifNone_(t,r)},function(n){n.fill(a,"detect:ifNone:",{aBlock:t,anotherBlock:r},e.Set)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	^ elements detect: aBlock ifNone: anotherBlock",messageSends:["detect:ifNone:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(){return n(r["@elements"])._do_(t),r},function(n){n.fill(r,"do:",{aBlock:t},e.Set)})},args:["aBlock"],source:"do: aBlock\n	elements do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r["@elements"])._includes_(t)},function(n){n.fill(r,"includes:",{anObject:t},e.Set)})},args:["anObject"],source:"includes: anObject\n	^ elements includes: anObject",messageSends:["includes:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Set.superclass.fn.prototype._initialize.apply(n(t),[]),t["@elements"]=[],t},function(n){n.fill(t,"initialize",{},e.Set)})},args:[],source:"initialize\n	super initialize.\n	elements := #()",messageSends:["initialize"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){return e.Set.superclass.fn.prototype._printOn_.apply(n(r),[t]),a.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),a.sendIdx["nextPutAll:"]=1,r._do_separatedBy_(function(r){return e.withContext(function(){return n(r)._printOn_(t)},function(e){e.fillBlock({each:r},a,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" ")},function(e){e.fillBlock({},a,2)})}),n(t)._nextPutAll_(")"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Set)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self \n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var r=this;return e.withContext(function(){return n(r["@elements"])._remove_(t),r},function(n){n.fill(r,"remove:",{anObject:t},e.Set)})},args:["anObject"],source:"remove: anObject\n	elements remove: anObject",messageSends:["remove:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,r){var a=this;return e.withContext(function(){return n(a["@elements"])._remove_ifAbsent_(t,r),a},function(n){n.fill(a,"remove:ifAbsent:",{anObject:t,aBlock:r},e.Set)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	elements remove: anObject ifAbsent: aBlock",messageSends:["remove:ifAbsent:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i;return r=n(a._class())._new(),a._do_(function(a){return e.withContext(function(){return o=n(t)._value_(a),e.assert(o)?n(r)._add_(a):void 0},function(e){e.fillBlock({each:a},s,1)})}),i=r},function(n){n.fill(a,"select:",{aBlock:t,collection:r},e.Set)})},args:["aBlock"],source:"select: aBlock\n	| collection |\n	collection := self class new.\n	self do: [ :each |\n		(aBlock value: each) ifTrue: [\n			collection add: each ]].\n	^ collection",messageSends:["new","class","do:","ifTrue:","value:","add:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@elements"])._size()},function(n){n.fill(t,"size",{},e.Set)})},args:[],source:"size\n	^ elements size",messageSends:["size"],referencedClasses:[]}),e.Set),e.addClass("Queue",e.Object,["read","readIndex","write"],"Kernel-Collections"),e.Queue.comment="I am a one-sided queue.\n\n## Usage\n\nUse `#nextPut:` to add items to the queue.\nUse `#next` or `#nextIfAbsent:` to get (and remove) the next item in the queue.\n\n## Implementation notes\n\nA Queue uses two OrderedCollections inside,\n`read` is at the front, is not modified and only read using `readIndex`.\n`write` is at the back and is appended new items.\nWhen `read` is exhausted, `write` is promoted to `read` and new `write` is created.\n\nAs a consequence, no data moving is done by me, write appending may do data moving\nwhen growing `write`, but this is left to engine to implement as good as it chooses to.",e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a=this;return e.withContext(function(t){return e.Queue.superclass.fn.prototype._initialize.apply(n(a),[]),a["@read"]=n(r())._new(),t.sendIdx["new"]=1,a["@write"]=n(r())._new(),a["@readIndex"]=1,a},function(t){t.fill(a,"initialize",{},e.Queue)})},args:[],source:"initialize\n	super initialize.\n	read := OrderedCollection new.\n	write := OrderedCollection new.\n	readIndex := 1",messageSends:["initialize","new"],referencedClasses:["OrderedCollection"]}),e.Queue),e.addMethod(e.method({selector:"next",category:"accessing",fn:function(){var t=this;return e.withContext(function(n){var r;return r=t._nextIfAbsent_(function(){return e.withContext(function(){return t._error_("Cannot read from empty Queue.")},function(e){e.fillBlock({},n,1)})})},function(n){n.fill(t,"next",{},e.Queue)})},args:[],source:"next\n	^ self nextIfAbsent: [ self error: 'Cannot read from empty Queue.' ]",messageSends:["nextIfAbsent:","error:"],referencedClasses:[]}),e.Queue),e.addMethod(e.method({selector:"nextIfAbsent:",category:"accessing",fn:function(r){function a(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var s,o=this;return e.withContext(function(i){var l,c,u,d,f={};try{return s=n(o["@read"])._at_ifAbsent_(o["@readIndex"],function(){return e.withContext(function(){if(l=n(o["@write"])._isEmpty(),e.assert(l))throw c=n(o["@readIndex"]).__gt(1),e.assert(c)&&(o["@read"]=[],o["@read"],o["@readIndex"]=1,o["@readIndex"]),u=n(r)._value(),f=[u];return o["@read"]=o["@write"],o["@read"],o["@readIndex"]=1,o["@readIndex"],o["@write"]=n(a())._new(),o["@write"],n(o["@read"])._first()},function(e){e.fillBlock({},i,1)})}),n(o["@read"])._at_put_(o["@readIndex"],t),o["@readIndex"]=n(o["@readIndex"]).__plus(1),d=s}catch(h){if(h===f)return h[0];throw h}},function(t){t.fill(o,"nextIfAbsent:",{aBlock:r,result:s},e.Queue)})},args:["aBlock"],source:"nextIfAbsent: aBlock\n	| result |\n	result := read at: readIndex ifAbsent: [\n		write isEmpty ifTrue: [\n			readIndex > 1 ifTrue: [ read := #(). readIndex := 1 ].\n			^ aBlock value ].\n		read := write.\n		readIndex := 1.\n		write := OrderedCollection new.\n		read first ].\n	read at: readIndex put: nil.\n	readIndex := readIndex + 1.\n	^ result",messageSends:["at:ifAbsent:","ifTrue:","isEmpty",">","value","new","first","at:put:","+"],referencedClasses:["OrderedCollection"]}),e.Queue),e.addMethod(e.method({selector:"nextPut:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(){return n(r["@write"])._add_(t),r},function(n){n.fill(r,"nextPut:",{anObject:t},e.Queue)})},args:["anObject"],source:"nextPut: anObject\n	write add: anObject",messageSends:["add:"],referencedClasses:[]}),e.Queue),e.addClass("RegularExpression",e.Object,[],"Kernel-Collections"),e.RegularExpression.comment="I represent a regular expression object. My instances are JavaScript `RegExp` object.",e.addMethod(e.method({selector:"compile:",category:"evaluating",fn:function(t){var n=this;return e.withContext(function(){return n.compile(t)},function(r){r.fill(n,"compile:",{aString:t},e.RegularExpression)})},args:["aString"],source:"compile: aString\n	<return self.compile(aString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"exec:",category:"evaluating",fn:function(n){var r=this;return e.withContext(function(){return r.exec(n)||t},function(t){t.fill(r,"exec:",{aString:n},e.RegularExpression)})},args:["aString"],source:"exec: aString\n	<return self.exec(aString) || nil>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"test:",category:"evaluating",fn:function(t){var n=this;return e.withContext(function(){return n.test(t)},function(r){r.fill(n,"test:",{aString:t},e.RegularExpression)})},args:["aString"],source:"test: aString\n	<return self.test(aString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._fromString_flag_(t,"")},function(r){r.fill(n,"fromString:",{aString:t},e.RegularExpression.klass)})},args:["aString"],source:"fromString: aString\n		^ self fromString: aString flag: ''",messageSends:["fromString:flag:"],referencedClasses:[]}),e.RegularExpression.klass),e.addMethod(e.method({selector:"fromString:flag:",category:"instance creation",fn:function(t,n){var r=this;return e.withContext(function(){return new RegExp(t,n)},function(a){a.fill(r,"fromString:flag:",{aString:t,anotherString:n},e.RegularExpression.klass)})},args:["aString","anotherString"],source:"fromString: aString flag: anotherString\n	<return new RegExp(aString, anotherString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression.klass),e.addClass("Stream",e.Object,["collection","position","streamSize"],"Kernel-Collections"),e.Stream.comment='I represent an accessor for a sequence of objects. This sequence is referred to as my "contents".\nMy instances are read/write streams to the contents sequence collection.',e.addMethod(e.method({selector:"<<",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._write_(t),n},function(r){r.fill(n,"<<",{anObject:t},e.Stream)})},args:["anObject"],source:"<< anObject\n	self write: anObject",messageSends:["write:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"atEnd",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._position()).__eq(t._size())},function(n){n.fill(t,"atEnd",{},e.Stream)})},args:[],source:"atEnd\n	^ self position = self size",messageSends:["=","position","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"atStart",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._position()).__eq(0)},function(n){n.fill(t,"atStart",{},e.Stream)})},args:[],source:"atStart\n	^ self position = 0",messageSends:["=","position"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"close",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"close",{},e.Stream)})},args:[],source:"close",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@collection"]},function(n){n.fill(t,"collection",{},e.Stream)})},args:[],source:"collection\n	^ collection",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"contents",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collection())._copyFrom_to_(1,t._streamSize())},function(n){n.fill(t,"contents",{},e.Stream)})},args:[],source:"contents\n	^ self collection\n		copyFrom: 1\n		to: self streamSize",messageSends:["copyFrom:to:","collection","streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var r=this;return e.withContext(function(a){return n(function(){return e.withContext(function(){return r._atEnd()},function(e){e.fillBlock({},a,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._value_(r._next())},function(e){e.fillBlock({},a,2)})}),r},function(n){n.fill(r,"do:",{aBlock:t},e.Stream)})},args:["aBlock"],source:"do: aBlock\n	[ self atEnd ] whileFalse: [ aBlock value: self next ]",messageSends:["whileFalse:","atEnd","value:","next"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"flush",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"flush",{},e.Stream)})},args:[],source:"flush",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"isEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._size()).__eq(0)},function(n){n.fill(t,"isEmpty",{},e.Stream)})},args:[],source:"isEmpty\n	^ self size = 0",messageSends:["=","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"next",category:"reading",fn:function(){var r=this;return e.withContext(function(a){var s,o,i,l;return s=r._atEnd(),e.assert(s)?l=t:(o=r._position(),a.sendIdx.position=1,i=n(o).__plus(1),r._position_(i),l=n(r["@collection"])._at_(r._position())),l},function(t){t.fill(r,"next",{},e.Stream)})},args:[],source:"next\n	^ self atEnd\n		ifTrue: [ nil ]\n		ifFalse: [\n			self position: self position + 1.\n			collection at: self position ]",messageSends:["ifTrue:ifFalse:","atEnd","position:","+","position","at:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"next:",category:"reading",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i;return r=n(n(a._collection())._class())._new(),n(t)._timesRepeat_(function(){return e.withContext(function(){return o=a._atEnd(),e.assert(o)?void 0:n(r)._add_(a._next())},function(e){e.fillBlock({},s,1)})}),i=r},function(n){n.fill(a,"next:",{anInteger:t,tempCollection:r},e.Stream)})},args:["anInteger"],source:"next: anInteger\n	| tempCollection |\n	tempCollection := self collection class new.\n	anInteger timesRepeat: [\n		self atEnd ifFalse: [\n		tempCollection add: self next ]].\n	^ tempCollection",messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd","add:","next"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPut:",category:"writing",fn:function(t){var r=this;return e.withContext(function(e){var a,s,o,i;return a=r._position(),e.sendIdx.position=1,s=n(a).__plus(1),r._position_(s),o=r._collection(),i=r._position(),e.sendIdx.position=2,n(o)._at_put_(i,t),r._setStreamSize_(n(r._streamSize())._max_(r._position())),r},function(n){n.fill(r,"nextPut:",{anObject:t},e.Stream)})},args:["anObject"],source:"nextPut: anObject\n	self position: self position + 1.\n	self collection at: self position put: anObject.\n	self setStreamSize: (self streamSize max: self position)",messageSends:["position:","+","position","at:put:","collection","setStreamSize:","max:","streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPutAll:",category:"writing",fn:function(t){var r=this;return e.withContext(function(a){return n(t)._do_(function(t){return e.withContext(function(){return r._nextPut_(t)},function(e){e.fillBlock({each:t},a,1)})}),r},function(n){n.fill(r,"nextPutAll:",{aCollection:t},e.Stream)})},args:["aCollection"],source:"nextPutAll: aCollection\n	aCollection do: [ :each |\n		self nextPut: each ]",messageSends:["do:","nextPut:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPutString:",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._nextPut_(t),n},function(r){r.fill(n,"nextPutString:",{aString:t},e.Stream)})},args:["aString"],source:"nextPutString: aString\n	self nextPut: aString",messageSends:["nextPut:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"peek",category:"reading",fn:function(){var t=this;return e.withContext(function(){var r,a;return r=t._atEnd(),e.assert(r)||(a=n(t._collection())._at_(n(t._position()).__plus(1))),a},function(n){n.fill(t,"peek",{},e.Stream)})},args:[],source:"peek\n	^ self atEnd ifFalse: [\n		self collection at: self position + 1 ]",messageSends:["ifFalse:","atEnd","at:","collection","+","position"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"position",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,r;return e=n["@position"],($receiver=e)==t||null==$receiver?(n["@position"]=0,r=n["@position"]):r=e,r},function(t){t.fill(n,"position",{},e.Stream)})},args:[],source:"position\n	^ position ifNil: [ position := 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"position:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@position"]=t,n},function(r){r.fill(n,"position:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"position: anInteger\n	position := anInteger",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"reset",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._position_(0),t},function(n){n.fill(t,"reset",{},e.Stream)})},args:[],source:"reset\n	self position: 0",messageSends:["position:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"resetContents",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._reset(),t._setStreamSize_(0),t},function(n){n.fill(t,"resetContents",{},e.Stream)})},args:[],source:"resetContents\n	self reset.\n	self setStreamSize: 0",messageSends:["reset","setStreamSize:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setCollection:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@collection"]=t,n},function(r){r.fill(n,"setCollection:",{aCollection:t},e.Stream)})},args:["aCollection"],source:"setCollection: aCollection\n	collection := aCollection",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setStreamSize:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@streamSize"]=t,n},function(r){r.fill(n,"setStreamSize:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"setStreamSize: anInteger\n	streamSize := anInteger",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setToEnd",category:"positioning",fn:function(){var t=this;return e.withContext(function(){return t._position_(t._size()),t},function(n){n.fill(t,"setToEnd",{},e.Stream)})},args:[],source:"setToEnd\n	self position: self size",messageSends:["position:","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._streamSize()},function(n){n.fill(t,"size",{},e.Stream)})},args:[],source:"size\n	^ self streamSize",messageSends:["streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"skip:",category:"positioning",fn:function(t){var r=this;return e.withContext(function(){return r._position_(n(n(r._position()).__plus(t))._min_max_(r._size(),0)),r},function(n){n.fill(r,"skip:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"skip: anInteger\n	self position: ((self position + anInteger) min: self size max: 0)",messageSends:["position:","min:max:","+","position","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"streamSize",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@streamSize"]},function(n){n.fill(t,"streamSize",{},e.Stream)})},args:[],source:"streamSize\n	^ streamSize",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"write:",category:"writing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._putOn_(r),r},function(n){n.fill(r,"write:",{anObject:t},e.Stream)})},args:["anObject"],source:"write: anObject\n	anObject putOn: self",messageSends:["putOn:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._setCollection_(t),n(e)._setStreamSize_(n(t)._size()),a=n(e)._yourself(),s=a},function(n){n.fill(r,"on:",{aCollection:t},e.Stream.klass)})},args:["aCollection"],source:"on: aCollection\n		^ self new\n		setCollection: aCollection;\n		setStreamSize: aCollection size;\n		yourself",messageSends:["setCollection:","new","setStreamSize:","size","yourself"],referencedClasses:[]}),e.Stream.klass),e.addClass("StringStream",e.Stream,[],"Kernel-Collections"),e.StringStream.comment="I am a Stream specific to `String` objects.",e.addMethod(e.method({selector:"cr",category:"writing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){var e;return e=a._nextPutAll_(n(r())._cr())},function(t){t.fill(a,"cr",{},e.StringStream)})},args:[],source:"cr\n	^ self nextPutAll: String cr",messageSends:["nextPutAll:","cr"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"crlf",category:"writing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){var e;return e=a._nextPutAll_(n(r())._crlf())},function(t){t.fill(a,"crlf",{},e.StringStream)})},args:[],source:"crlf\n	^ self nextPutAll: String crlf",messageSends:["nextPutAll:","crlf"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"lf",category:"writing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){var e;return e=a._nextPutAll_(n(r())._lf())},function(t){t.fill(a,"lf",{},e.StringStream)})},args:[],source:"lf\n	^ self nextPutAll: String lf",messageSends:["nextPutAll:","lf"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"next:",category:"reading",fn:function(t){var r,a=this;
return e.withContext(function(s){var o,i;return r=n(n(a._collection())._class())._new(),n(t)._timesRepeat_(function(){return e.withContext(function(){return o=a._atEnd(),e.assert(o)?void 0:r=n(r).__comma(a._next())},function(e){e.fillBlock({},s,1)})}),i=r},function(n){n.fill(a,"next:",{anInteger:t,tempCollection:r},e.StringStream)})},args:["anInteger"],source:"next: anInteger\n	| tempCollection |\n	tempCollection := self collection class new.\n	anInteger timesRepeat: [\n		self atEnd ifFalse: [\n		tempCollection := tempCollection, self next ]].\n	^ tempCollection",messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd",",","next"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPut:",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._nextPutAll_(t),n},function(r){r.fill(n,"nextPut:",{aString:t},e.StringStream)})},args:["aString"],source:"nextPut: aString\n	self nextPutAll: aString",messageSends:["nextPutAll:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPutAll:",category:"writing",fn:function(t){var r,a,s=this;return e.withContext(function(o){var i,l,c,u,d,f,h,g,m,p,C,v,y,_;return i=s._atEnd(),e.assert(i)?(l=s._collection(),o.sendIdx.collection=1,c=n(l).__comma(t),o.sendIdx[","]=1,s._setCollection_(c),o.sendIdx["setCollection:"]=1):(u=s._collection(),o.sendIdx.collection=2,d=s._position(),o.sendIdx.position=1,r=n(u)._copyFrom_to_(1,d),o.sendIdx["copyFrom:to:"]=1,f=s._collection(),o.sendIdx.collection=3,h=s._position(),o.sendIdx.position=2,g=n(h).__plus(1),o.sendIdx["+"]=2,m=n(t)._size(),o.sendIdx.size=1,p=n(g).__plus(m),o.sendIdx["+"]=1,C=n(s._collection())._size(),o.sendIdx.size=2,a=n(f)._copyFrom_to_(p,C),v=n(n(r).__comma(t)).__comma(a),o.sendIdx[","]=2,s._setCollection_(v)),y=s._position(),o.sendIdx.position=3,_=n(y).__plus(n(t)._size()),s._position_(_),s._setStreamSize_(n(s._streamSize())._max_(s._position())),s},function(n){n.fill(s,"nextPutAll:",{aString:t,pre:r,post:a},e.StringStream)})},args:["aString"],source:"nextPutAll: aString\n	| pre post |\n	self atEnd ifTrue: [ self setCollection: self collection, aString ] ifFalse: [\n		pre := self collection copyFrom: 1 to: self position.\n		post := self collection copyFrom: (self position + 1 + aString size) to: self collection size.\n		self setCollection: pre, aString, post\n	].\n	self position: self position + aString size.\n	self setStreamSize: (self streamSize max: self position)",messageSends:["ifTrue:ifFalse:","atEnd","setCollection:",",","collection","copyFrom:to:","position","+","size","position:","setStreamSize:","max:","streamSize"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPutString:",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._nextPutAll_(t),n},function(r){r.fill(n,"nextPutString:",{aString:t},e.StringStream)})},args:["aString"],source:"nextPutString: aString\n	self nextPutAll: aString",messageSends:["nextPutAll:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"space",category:"writing",fn:function(){var t=this;return e.withContext(function(){return t._nextPut_(" "),t},function(n){n.fill(t,"space",{},e.StringStream)})},args:[],source:"space\n	self nextPut: ' '",messageSends:["nextPut:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"tab",category:"writing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){var e;return e=a._nextPutAll_(n(r())._tab())},function(t){t.fill(a,"tab",{},e.StringStream)})},args:[],source:"tab\n	^ self nextPutAll: String tab",messageSends:["nextPutAll:","tab"],referencedClasses:["String"]}),e.StringStream)}),define("amber_core/Kernel-Infrastructure",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Collections"],function(e,t,n){e.addPackage("Kernel-Infrastructure"),e.packages["Kernel-Infrastructure"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("InspectorHandler",e.Object,[],"Kernel-Infrastructure"),e.InspectorHandler.comment="I am responsible for inspecting object.\n\nMy class-side `inspector` inst var holds the current inspector I'm delegating object inspection to.\n\nThe default inspector object is the transcript.",e.InspectorHandler.klass.iVarNames=["inspector"],e.addMethod(e.method({selector:"inspect:",category:"registration",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._inspector())._inspect_(t)},function(n){n.fill(r,"inspect:",{anObject:t},e.InspectorHandler.klass)})},args:["anObject"],source:"inspect: anObject\n	^ self inspector inspect: anObject",messageSends:["inspect:","inspector"],referencedClasses:[]}),e.InspectorHandler.klass),e.addMethod(e.method({selector:"inspector",category:"accessing",fn:function(){function n(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}var r=this;return e.withContext(function(){var e,a;return e=r["@inspector"],($receiver=e)==t||null==$receiver?(r["@inspector"]=n(),a=r["@inspector"]):a=e,a},function(t){t.fill(r,"inspector",{},e.InspectorHandler.klass)})},args:[],source:"inspector\n	^ inspector ifNil: [ inspector := Transcript ]",messageSends:["ifNil:"],referencedClasses:["Transcript"]}),e.InspectorHandler.klass),e.addMethod(e.method({selector:"register:",category:"registration",fn:function(t){var n=this;return e.withContext(function(){return n["@inspector"]=t,n},function(r){r.fill(n,"register:",{anInspector:t},e.InspectorHandler.klass)})},args:["anInspector"],source:"register: anInspector\n	inspector := anInspector",messageSends:[],referencedClasses:[]}),e.InspectorHandler.klass),e.addClass("InterfacingObject",e.Object,[],"Kernel-Infrastructure"),e.InterfacingObject.comment="I am superclass of all object that interface with user or environment. `Widget` and a few other classes are subclasses of me. I delegate all of the above APIs to `PlatformInterface`.\n\n## API\n\n    self alert: 'Hey, there is a problem'.\n    self confirm: 'Affirmative?'.\n    self prompt: 'Your name:'.\n\n    self ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(r){function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var s=this;return e.withContext(function(){var e;return e=n(a())._ajax_(r)},function(t){t.fill(s,"ajax:",{anObject:r},e.InterfacingObject)})},args:["anObject"],source:"ajax: anObject\n	^ PlatformInterface ajax: anObject",messageSends:["ajax:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(r){function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var s=this;return e.withContext(function(){var e;return e=n(a())._alert_(r)},function(t){t.fill(s,"alert:",{aString:r},e.InterfacingObject)})},args:["aString"],source:"alert: aString\n	^ PlatformInterface alert: aString",messageSends:["alert:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(r){function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var s=this;return e.withContext(function(){var e;return e=n(a())._confirm_(r)},function(t){t.fill(s,"confirm:",{aString:r},e.InterfacingObject)})},args:["aString"],source:"confirm: aString\n	^ PlatformInterface confirm: aString",messageSends:["confirm:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(r){function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var s=this;return e.withContext(function(){var e;return e=n(a())._prompt_(r)},function(t){t.fill(s,"prompt:",{aString:r},e.InterfacingObject)})},args:["aString"],source:"prompt: aString\n	^ PlatformInterface prompt: aString",messageSends:["prompt:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addClass("Environment",e.InterfacingObject,[],"Kernel-Infrastructure"),e.Environment.comment="I provide an unified entry point to manipulate Amber packages, classes and methods.\n\nTypical use cases include IDEs, remote access and restricting browsing.",e.addMethod(e.method({selector:"addInstVarNamed:to:",category:"compiling",fn:function(t,r){var a=this;return e.withContext(function(e){var s,o,i,l,c;return s=a._classBuilder(),o=n(r)._superclass(),i=n(r)._name(),e.sendIdx.name=1,l=n(n(r)._instanceVariableNames())._copy(),n(l)._add_(t),c=n(l)._yourself(),n(s)._addSubclassOf_named_instanceVariableNames_package_(o,i,c,n(n(r)._package())._name()),a},function(n){n.fill(a,"addInstVarNamed:to:",{aString:t,aClass:r},e.Environment)})},args:["aString","aClass"],source:"addInstVarNamed: aString to: aClass\n	self classBuilder\n		addSubclassOf: aClass superclass \n		named: aClass name \n		instanceVariableNames: (aClass instanceVariableNames copy add: aString; yourself)\n		package: aClass package name",messageSends:["addSubclassOf:named:instanceVariableNames:package:","classBuilder","superclass","name","add:","copy","instanceVariableNames","yourself","package"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"allSelectors",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e;return e=n(n(n(r())._current())._at_("allSelectors"))._value()},function(t){t.fill(a,"allSelectors",{},e.Environment)})},args:[],source:"allSelectors\n	^ (Smalltalk current at: 'allSelectors') value",messageSends:["value","at:","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availableClassNames",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(t){var a;return a=n(n(n(r())._current())._classes())._collect_(function(r){return e.withContext(function(){return n(r)._name()},function(e){e.fillBlock({each:r},t,1)})})},function(t){t.fill(a,"availableClassNames",{},e.Environment)})},args:[],source:"availableClassNames\n	^ Smalltalk current classes \n		collect: [ :each | each name ]",messageSends:["collect:","classes","current","name"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availablePackageNames",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(t){var a;return a=n(n(n(r())._current())._packages())._collect_(function(r){return e.withContext(function(){return n(r)._name()},function(e){e.fillBlock({each:r},t,1)})})},function(t){t.fill(a,"availablePackageNames",{},e.Environment)})},args:[],source:"availablePackageNames\n	^ Smalltalk current packages \n		collect: [ :each | each name ]",messageSends:["collect:","packages","current","name"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availableProtocolsFor:",category:"accessing",fn:function(r){var a,s=this;return e.withContext(function(e){var o,i;return a=n(r)._protocols(),o=n(r)._superclass(),e.sendIdx.superclass=1,($receiver=o)==t||null==$receiver||n(a)._addAll_(s._availableProtocolsFor_(n(r)._superclass())),i=n(n(a)._asSet())._asArray()},function(t){t.fill(s,"availableProtocolsFor:",{aClass:r,protocols:a},e.Environment)})},args:["aClass"],source:"availableProtocolsFor: aClass\n	| protocols |\n	\n	protocols := aClass protocols.\n	aClass superclass ifNotNil: [ protocols addAll: (self availableProtocolsFor: aClass superclass) ].\n	^ protocols asSet asArray",messageSends:["protocols","ifNotNil:","superclass","addAll:","availableProtocolsFor:","asArray","asSet"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"classBuilder",category:"accessing",fn:function(){function r(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var a=this;return e.withContext(function(){var e;return e=n(r())._new()},function(t){t.fill(a,"classBuilder",{},e.Environment)})},args:[],source:"classBuilder\n	^ ClassBuilder new",messageSends:["new"],referencedClasses:["ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"classNamed:",category:"accessing",fn:function(r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var s=this;return e.withContext(function(){var e,o;return e=n(n(a())._current())._at_(n(r)._asSymbol()),o=($receiver=e)==t||null==$receiver?s._error_("Invalid class name"):e},function(t){t.fill(s,"classNamed:",{aString:r},e.Environment)})},args:["aString"],source:"classNamed: aString\n	^ (Smalltalk current at: aString asSymbol)\n		ifNil: [ self error: 'Invalid class name' ]",messageSends:["ifNil:","at:","current","asSymbol","error:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"classes",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._current())._classes()},function(t){t.fill(a,"classes",{},e.Environment)})},args:[],source:"classes\n	^ Smalltalk current classes",messageSends:["classes","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"commitPackage:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){return n(t)._commit(),r},function(n){n.fill(r,"commitPackage:",{aPackage:t},e.Environment)})},args:["aPackage"],source:"commitPackage: aPackage\n	aPackage commit",messageSends:["commit"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"compileClassComment:for:",category:"compiling",fn:function(t,r){var a=this;return e.withContext(function(){return n(r)._comment_(t),a},function(n){n.fill(a,"compileClassComment:for:",{aString:t,aClass:r},e.Environment)})},args:["aString","aClass"],source:"compileClassComment: aString for: aClass\n	aClass comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"compileClassDefinition:",category:"compiling",fn:function(r){function a(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var s=this;return e.withContext(function(){return s._eval_on_(r,n(a())._new()),s},function(t){t.fill(s,"compileClassDefinition:",{aString:r},e.Environment)})},args:["aString"],source:"compileClassDefinition: aString\n	self eval: aString on: DoIt new",messageSends:["eval:on:","new"],referencedClasses:["DoIt"]}),e.Environment),e.addMethod(e.method({selector:"compileMethod:for:protocol:",category:"compiling",fn:function(t,r,a){var s=this;return e.withContext(function(){var e;return e=n(r)._compile_category_(t,a)},function(n){n.fill(s,"compileMethod:for:protocol:",{sourceCode:t,class_:r,protocol:a},e.Environment)})},args:["sourceCode","class","protocol"],source:"compileMethod: sourceCode for: class protocol: protocol\n	^ class\n		compile: sourceCode\n		category: protocol",messageSends:["compile:category:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"copyClass:to:",category:"actions",fn:function(r,a){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(e){var l,c;return l=n(n(s())._current())._at_(a),($receiver=l)==t||null==$receiver||(c=n("A class named ".__comma(a)).__comma(" already exists"),e.sendIdx[","]=1,i._error_(c)),n(n(o())._new())._copyClass_named_(r,a),i},function(t){t.fill(i,"copyClass:to:",{aClass:r,aClassName:a},e.Environment)})},args:["aClass","aClassName"],source:"copyClass: aClass to: aClassName\n	(Smalltalk current at: aClassName)\n		ifNotNil: [ self error: 'A class named ', aClassName, ' already exists' ].\n		\n	ClassBuilder new copyClass: aClass named: aClassName",messageSends:["ifNotNil:","at:","current","error:",",","copyClass:named:","new"],referencedClasses:["Smalltalk","ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"doItReceiver",category:"accessing",fn:function(){function r(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var a=this;return e.withContext(function(){var e;return e=n(r())._new()},function(t){t.fill(a,"doItReceiver",{},e.Environment)})},args:[],source:"doItReceiver\n	^ DoIt new",messageSends:["new"],referencedClasses:["DoIt"]}),e.Environment),e.addMethod(e.method({selector:"eval:on:",category:"actions",fn:function(r,a){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}function o(){return e.Error||("undefined"==typeof Error?t:Error)}var i,l=this;return e.withContext(function(t){var c,u,d={};try{return i=n(s())._new(),n(function(){return e.withContext(function(){return n(i)._parseExpression_(r)},function(e){e.fillBlock({},t,1)})})._on_do_(o(),function(r){return e.withContext(function(){throw c=l._alert_(n(r)._messageText()),d=[c]},function(e){e.fillBlock({ex:r},t,2)})}),u=n(i)._evaluateExpression_on_(r,a)}catch(f){if(f===d)return f[0];throw f}},function(t){t.fill(l,"eval:on:",{aString:r,aReceiver:a,compiler:i},e.Environment)})},args:["aString","aReceiver"],source:"eval: aString on: aReceiver\n	| compiler |\n	compiler := Compiler new.\n	[ compiler parseExpression: aString ] on: Error do: [ :ex |\n		^ self alert: ex messageText ].\n	^ compiler evaluateExpression: aString on: aReceiver",messageSends:["new","on:do:","parseExpression:","alert:","messageText","evaluateExpression:on:"],referencedClasses:["Compiler","Error"]}),e.Environment),e.addMethod(e.method({selector:"evaluate:on:do:",category:"error handling",fn:function(t,r,a){var s=this;return e.withContext(function(o){var i;return s._try_catch_(t,function(t){return e.withContext(function(){return i=n(t)._isKindOf_(s._classNamed_(n(r)._name())),e.assert(i)?n(a)._value_(t):n(t)._signal()},function(e){e.fillBlock({exception:t},o,1)})}),s},function(n){n.fill(s,"evaluate:on:do:",{aBlock:t,anErrorClass:r,exceptionBlock:a},e.Environment)})},args:["aBlock","anErrorClass","exceptionBlock"],source:'evaluate: aBlock on: anErrorClass do: exceptionBlock\n	"Evaluate a block and catch exceptions happening on the environment stack"\n	\n	self try: aBlock catch: [ :exception | \n		(exception isKindOf: (self classNamed: anErrorClass name))\n			ifTrue: [ exceptionBlock value: exception ]\n 			ifFalse: [ exception signal ] ]',messageSends:["try:catch:","ifTrue:ifFalse:","isKindOf:","classNamed:","name","value:","signal"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"inspect:",category:"actions",fn:function(r){function a(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var s=this;return e.withContext(function(){return n(n(a())._inspector())._inspect_(r),s},function(t){t.fill(s,"inspect:",{anObject:r},e.Environment)})},args:["anObject"],source:"inspect: anObject\n	InspectorHandler inspector inspect: anObject",messageSends:["inspect:","inspector"],referencedClasses:["InspectorHandler"]}),e.Environment),e.addMethod(e.method({selector:"moveClass:toPackage:",category:"actions",fn:function(r,a){function s(){return e.Package||("undefined"==typeof Package?t:Package)}var o,i=this;return e.withContext(function(){var l,c;return o=n(s())._named_(a),l=o,(($receiver=l)==t||null==$receiver)&&i._error_("Invalid package name"),c=n(o).__eq_eq(n(r)._package()),e.assert(c)?i:(n(r)._package_(o),i)},function(t){t.fill(i,"moveClass:toPackage:",{aClass:r,aPackageName:a,package_:o},e.Environment)})},args:["aClass","aPackageName"],source:"moveClass: aClass toPackage: aPackageName\n	| package |\n	\n	package := Package named: aPackageName.\n	package ifNil: [ self error: 'Invalid package name' ].\n	package == aClass package ifTrue: [ ^ self ].\n	\n	aClass package: package",messageSends:["named:","ifNil:","error:","ifTrue:","==","package","package:"],referencedClasses:["Package"]}),e.Environment),e.addMethod(e.method({selector:"moveMethod:toClass:",category:"actions",fn:function(r,a){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o,i=this;return e.withContext(function(l){var c,u,d,f;return o=n(n(s())._current())._at_(n(a)._asSymbol()),c=o,(($receiver=c)==t||null==$receiver)&&i._error_("Invalid class name"),u=o,d=n(r)._methodClass(),l.sendIdx.methodClass=1,f=n(u).__eq_eq(d),e.assert(f)?i:(n(o)._compile_category_(n(r)._source(),n(r)._protocol()),n(n(r)._methodClass())._removeCompiledMethod_(r),i)},function(t){t.fill(i,"moveMethod:toClass:",{aMethod:r,aClassName:a,destinationClass:o},e.Environment)})},args:["aMethod","aClassName"],source:"moveMethod: aMethod toClass: aClassName\n	| destinationClass |\n	\n	destinationClass := Smalltalk current at: aClassName asSymbol.\n	destinationClass ifNil: [ self error: 'Invalid class name' ].\n	destinationClass == aMethod methodClass ifTrue: [ ^ self ].\n	\n	destinationClass \n		compile: aMethod source\n		category: aMethod protocol.\n	aMethod methodClass \n		removeCompiledMethod: aMethod",messageSends:["at:","current","asSymbol","ifNil:","error:","ifTrue:","==","methodClass","compile:category:","source","protocol","removeCompiledMethod:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"moveMethod:toProtocol:",category:"actions",fn:function(t,r){var a=this;return e.withContext(function(){return n(t)._category_(r),a},function(n){n.fill(a,"moveMethod:toProtocol:",{aMethod:t,aProtocol:r},e.Environment)})},args:["aMethod","aProtocol"],source:"moveMethod: aMethod toProtocol: aProtocol\n	aMethod category: aProtocol",messageSends:["category:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"packages",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._current())._packages()},function(t){t.fill(a,"packages",{},e.Environment)})},args:[],source:"packages\n	^ Smalltalk current packages",messageSends:["packages","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"registerErrorHandler:",category:"actions",fn:function(r){function a(){return e.ErrorHandler||("undefined"==typeof ErrorHandler?t:ErrorHandler)}var s=this;return e.withContext(function(){return n(a())._setCurrent_(r),s},function(t){t.fill(s,"registerErrorHandler:",{anErrorHandler:r},e.Environment)})},args:["anErrorHandler"],source:"registerErrorHandler: anErrorHandler\n	ErrorHandler setCurrent: anErrorHandler",messageSends:["setCurrent:"],referencedClasses:["ErrorHandler"]}),e.Environment),e.addMethod(e.method({selector:"registerInspector:",category:"actions",fn:function(r){function a(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var s=this;return e.withContext(function(){return n(a())._register_(r),s},function(t){t.fill(s,"registerInspector:",{anInspector:r},e.Environment)})},args:["anInspector"],source:"registerInspector: anInspector\n	InspectorHandler register: anInspector",messageSends:["register:"],referencedClasses:["InspectorHandler"]}),e.Environment),e.addMethod(e.method({selector:"registerProgressHandler:",category:"actions",fn:function(r){function a(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var s=this;return e.withContext(function(){return n(a())._setCurrent_(r),s},function(t){t.fill(s,"registerProgressHandler:",{aProgressHandler:r},e.Environment)})},args:["aProgressHandler"],source:"registerProgressHandler: aProgressHandler\n	ProgressHandler setCurrent: aProgressHandler",messageSends:["setCurrent:"],referencedClasses:["ProgressHandler"]}),e.Environment),e.addMethod(e.method({selector:"removeClass:",category:"actions",fn:function(r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var s=this;return e.withContext(function(){return n(n(a())._current())._removeClass_(r),s},function(t){t.fill(s,"removeClass:",{aClass:r},e.Environment)})},args:["aClass"],source:"removeClass: aClass\n	Smalltalk current removeClass: aClass",messageSends:["removeClass:","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"removeMethod:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){return n(n(t)._methodClass())._removeCompiledMethod_(t),r},function(n){n.fill(r,"removeMethod:",{aMethod:t},e.Environment)})},args:["aMethod"],source:"removeMethod: aMethod\n	aMethod methodClass removeCompiledMethod: aMethod",messageSends:["removeCompiledMethod:","methodClass"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"removeProtocol:from:",category:"actions",fn:function(t,r){var a=this;return e.withContext(function(s){return n(n(n(r)._methods())._select_(function(r){return e.withContext(function(){return n(n(r)._protocol()).__eq(t)},function(e){e.fillBlock({each:r},s,1)})}))._do_(function(t){return e.withContext(function(){return n(r)._removeCompiledMethod_(t)},function(e){e.fillBlock({each:t},s,2)})}),a},function(n){n.fill(a,"removeProtocol:from:",{aString:t,aClass:r},e.Environment)})},args:["aString","aClass"],source:"removeProtocol: aString from: aClass\n	(aClass methods\n		select: [ :each | each protocol = aString ])\n		do: [ :each | aClass removeCompiledMethod: each ]",messageSends:["do:","select:","methods","=","protocol","removeCompiledMethod:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"renameClass:to:",category:"actions",fn:function(r,a){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(e){var l,c;return l=n(n(s())._current())._at_(a),($receiver=l)==t||null==$receiver||(c=n("A class named ".__comma(a)).__comma(" already exists"),e.sendIdx[","]=1,i._error_(c)),n(n(o())._new())._renameClass_to_(r,a),i},function(t){t.fill(i,"renameClass:to:",{aClass:r,aClassName:a},e.Environment)})},args:["aClass","aClassName"],source:"renameClass: aClass to: aClassName\n	(Smalltalk current at: aClassName)\n		ifNotNil: [ self error: 'A class named ', aClassName, ' already exists' ].\n		\n	ClassBuilder new renameClass: aClass to: aClassName",messageSends:["ifNotNil:","at:","current","error:",",","renameClass:to:","new"],referencedClasses:["Smalltalk","ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"renameProtocol:to:in:",category:"actions",fn:function(t,r,a){var s=this;return e.withContext(function(o){return n(n(n(a)._methods())._select_(function(r){return e.withContext(function(){return n(n(r)._protocol()).__eq(t)},function(e){e.fillBlock({each:r},o,1)})}))._do_(function(t){return e.withContext(function(){return n(t)._protocol_(r)},function(e){e.fillBlock({each:t},o,2)})}),s},function(n){n.fill(s,"renameProtocol:to:in:",{aString:t,anotherString:r,aClass:a},e.Environment)})},args:["aString","anotherString","aClass"],source:"renameProtocol: aString to: anotherString in: aClass\n	(aClass methods\n		select: [ :each | each protocol = aString ])\n		do: [ :each | each protocol: anotherString ]",messageSends:["do:","select:","methods","=","protocol","protocol:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"setClassCommentOf:to:",category:"actions",fn:function(t,r){var a=this;return e.withContext(function(){return n(t)._comment_(r),a},function(n){n.fill(a,"setClassCommentOf:to:",{aClass:t,aString:r},e.Environment)})},args:["aClass","aString"],source:"setClassCommentOf: aClass to: aString\n	aClass comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"systemAnnouncer",category:"accessing",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(e){var t;return t=n(n(n(r())._current())._at_("SystemAnnouncer"))._current(),e.sendIdx.current=1,t},function(t){t.fill(a,"systemAnnouncer",{},e.Environment)})},args:[],source:"systemAnnouncer\n	^ (Smalltalk current at: #SystemAnnouncer) current",messageSends:["current","at:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addClass("JSObjectProxy",e.Object,["jsObject"],"Kernel-Infrastructure"),e.JSObjectProxy.comment="I handle sending messages to JavaScript objects, making  JavaScript object accessing from Amber fully transparent.\nMy instances make intensive use of `#doesNotUnderstand:`.\n\nMy instances are automatically created by Amber whenever a message is sent to a JavaScript object.\n\n## Usage examples\n\nJSObjectProxy objects are instanciated by Amber when a Smalltalk message is sent to a JavaScript object.\n\n	window alert: 'hello world'.\n	window inspect.\n	(window jQuery: 'body') append: 'hello world'\n\nAmber messages sends are converted to JavaScript function calls or object property access _(in this order)_. If n one of them match, a `MessageNotUnderstood` error will be thrown.\n\n## Message conversion rules\n\n- `someUser name` becomes `someUser.name`\n- `someUser name: 'John'` becomes `someUser name = \"John\"`\n- `console log: 'hello world'` becomes `console.log('hello world')`\n- `(window jQuery: 'foo') css: 'background' color: 'red'` becomes `window.jQuery('foo').css('background', 'red')`\n\n__Note:__ For keyword-based messages, only the first keyword is kept: `window foo: 1 bar: 2` is equivalent to `window foo: 1 baz: 2`.",e.addMethod(e.method({selector:"addObjectVariablesTo:",category:"proxy",fn:function(t){var n=this;return e.withContext(function(){for(var e in n["@jsObject"])t._at_put_(e,n["@jsObject"][e]);return n},function(r){r.fill(n,"addObjectVariablesTo:",{aDictionary:t},e.JSObjectProxy)})},args:["aDictionary"],source:"addObjectVariablesTo: aDictionary\n	<\n		for(var i in self['@jsObject']) {\n			aDictionary._at_put_(i, self['@jsObject'][i]);\n		}\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@jsObject"][t]},function(r){r.fill(n,"at:",{aString:t},e.JSObjectProxy)})},args:["aString"],source:"at: aString\n	<return self['@jsObject'][aString]>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e=r["@jsObject"];return t in e?e[t]:n._value()},function(a){a.fill(r,"at:ifAbsent:",{aString:t,aBlock:n},e.JSObjectProxy)})},args:["aString","aBlock"],source:"at: aString ifAbsent: aBlock\n	\"return the aString property or evaluate aBlock if the property is not defined on the object\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? obj[aString] : aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifPresent:",category:"accessing",fn:function(n,r){var a=this;return e.withContext(function(){var e=a["@jsObject"];return n in e?r._value_(e[n]):t},function(t){t.fill(a,"at:ifPresent:",{aString:n,aBlock:r},e.JSObjectProxy)})},args:["aString","aBlock"],source:"at: aString ifPresent: aBlock\n	\"return the evaluation of aBlock with the value if the property is defined or return nil\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? aBlock._value_(obj[aString]) : nil;\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,r){var a=this;return e.withContext(function(){var e=a["@jsObject"];return t in e?n._value_(e[t]):r._value()},function(s){s.fill(a,"at:ifPresent:ifAbsent:",{aString:t,aBlock:n,anotherBlock:r},e.JSObjectProxy)})},args:["aString","aBlock","anotherBlock"],source:"at: aString ifPresent: aBlock ifAbsent: anotherBlock\n	\"return the evaluation of aBlock with the value if the property is defined\n	or return value of anotherBlock\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? aBlock._value_(obj[aString]) : anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;
return e.withContext(function(){return r["@jsObject"][t]=n,r},function(a){a.fill(r,"at:put:",{aString:t,anObject:n},e.JSObjectProxy)})},args:["aString","anObject"],source:"at: aString put: anObject\n	<self['@jsObject'][aString] = anObject>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"doesNotUnderstand:",category:"proxy",fn:function(r){var a=this;return e.withContext(function(){var s,o;if(s=a._lookupProperty_(n(n(r)._selector())._asJavaScriptSelector()),($receiver=s)==t||null==$receiver)o=e.JSObjectProxy.superclass.fn.prototype._doesNotUnderstand_.apply(n(a),[r]);else{var i;i=$receiver,o=a._forwardMessage_withArguments_(i,n(r)._arguments())}return o},function(t){t.fill(a,"doesNotUnderstand:",{aMessage:r},e.JSObjectProxy)})},args:["aMessage"],source:"doesNotUnderstand: aMessage\n	^ (self lookupProperty: aMessage selector asJavaScriptSelector)\n		ifNil: [ super doesNotUnderstand: aMessage ]\n		ifNotNil: [ :jsSelector | \n			self \n				forwardMessage: jsSelector \n				withArguments: aMessage arguments ]",messageSends:["ifNil:ifNotNil:","lookupProperty:","asJavaScriptSelector","selector","doesNotUnderstand:","forwardMessage:withArguments:","arguments"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"forwardMessage:withArguments:",category:"proxy",fn:function(t,n){var r=this;return e.withContext(function(){return e.send(r._jsObject(),t,n)},function(a){a.fill(r,"forwardMessage:withArguments:",{aString:t,anArray:n},e.JSObjectProxy)})},args:["aString","anArray"],source:"forwardMessage: aString withArguments: anArray\n	<\n		return smalltalk.send(self._jsObject(), aString, anArray);\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"inspectOn:",category:"proxy",fn:function(r){function a(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var s,o=this;return e.withContext(function(){return s=n(a())._new(),n(s)._at_put_("#self",o._jsObject()),n(r)._setLabel_(o._printString()),o._addObjectVariablesTo_(s),n(r)._setVariables_(s),o},function(t){t.fill(o,"inspectOn:",{anInspector:r,variables:s},e.JSObjectProxy)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self jsObject.\n	anInspector setLabel: self printString.\n	self addObjectVariablesTo: variables.\n	anInspector setVariables: variables",messageSends:["new","at:put:","jsObject","setLabel:","printString","addObjectVariablesTo:","setVariables:"],referencedClasses:["Dictionary"]}),e.JSObjectProxy),e.addMethod(e.method({selector:"jsObject",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@jsObject"]},function(n){n.fill(t,"jsObject",{},e.JSObjectProxy)})},args:[],source:"jsObject\n	^ jsObject",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"jsObject:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@jsObject"]=t,n},function(r){r.fill(n,"jsObject:",{aJSObject:t},e.JSObjectProxy)})},args:["aJSObject"],source:"jsObject: aJSObject\n	jsObject := aJSObject",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){var e=n["@jsObject"];for(var r in e)t._value_value_(r,e[r]);return n},function(r){r.fill(n,"keysAndValuesDo:",{aBlock:t},e.JSObjectProxy)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	<\n		var o = self['@jsObject'];\n		for(var i in o) {\n			aBlock._value_value_(i, o[i]);\n		}\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"lookupProperty:",category:"accessing",fn:function(n){var r=this;return e.withContext(function(){return n in r._jsObject()?n:t},function(t){t.fill(r,"lookupProperty:",{aString:n},e.JSObjectProxy)})},args:["aString"],source:'lookupProperty: aString\n	"Looks up a property in JS object.\n	Answer the property if it is present, or nil if it is not present."\n	\n	<return aString in self._jsObject() ? aString : nil>',messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(t)._nextPutAll_(r._printString()),r},function(n){n.fill(r,"printOn:",{aStream:t},e.JSObjectProxy)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self printString",messageSends:["nextPutAll:","printString"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"printString",category:"printing",fn:function(){var t=this;return e.withContext(function(){var e=t["@jsObject"];return e.toString?e.toString():Object.prototype.toString.call(e)},function(n){n.fill(t,"printString",{},e.JSObjectProxy)})},args:[],source:"printString\n	<\n		var js = self['@jsObject'];\n		return js.toString\n			? js.toString()\n			: Object.prototype.toString.call(js)\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(r){var a;return a=t._at_ifAbsent_("value",function(){return e.withContext(function(){return e.JSObjectProxy.superclass.fn.prototype._value.apply(n(t),[])},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(t,"value",{},e.JSObjectProxy)})},args:[],source:"value\n	\"if attribute 'value' exists on the JS object return it,\n	otherwise return the result of Object>>value.\"\n	\n	^ self \n		at: 'value' \n		ifAbsent: [ super value ]",messageSends:["at:ifAbsent:","value"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._jsObject_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"on:",{aJSObject:t},e.JSObjectProxy.klass)})},args:["aJSObject"],source:"on: aJSObject\n	^ self new\n		jsObject: aJSObject;\n		yourself",messageSends:["jsObject:","new","yourself"],referencedClasses:[]}),e.JSObjectProxy.klass),e.addClass("Organizer",e.Object,[],"Kernel-Infrastructure"),e.Organizer.comment="I represent categorization information. \n\n## API\n\nUse `#addElement:` and `#removeElement:` to manipulate instances.",e.addMethod(e.method({selector:"addElement:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.elements.addElement(t),n},function(r){r.fill(n,"addElement:",{anObject:t},e.Organizer)})},args:["anObject"],source:"addElement: anObject\n	<self.elements.addElement(anObject)>",messageSends:[],referencedClasses:[]}),e.Organizer),e.addMethod(e.method({selector:"elements",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._basicAt_("elements"))._copy()},function(n){n.fill(t,"elements",{},e.Organizer)})},args:[],source:"elements\n	^ (self basicAt: 'elements') copy",messageSends:["copy","basicAt:"],referencedClasses:[]}),e.Organizer),e.addMethod(e.method({selector:"removeElement:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.elements.removeElement(t),n},function(r){r.fill(n,"removeElement:",{anObject:t},e.Organizer)})},args:["anObject"],source:"removeElement: anObject\n	<self.elements.removeElement(anObject)>",messageSends:[],referencedClasses:[]}),e.Organizer),e.addClass("ClassOrganizer",e.Organizer,[],"Kernel-Infrastructure"),e.ClassOrganizer.comment="I am an organizer specific to classes. I hold method categorization information for classes.",e.addMethod(e.method({selector:"addElement:",category:"accessing",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.ProtocolAdded||("undefined"==typeof ProtocolAdded?t:ProtocolAdded)}var o=this;return e.withContext(function(){var t,i;return e.ClassOrganizer.superclass.fn.prototype._addElement_.apply(n(o),[r]),t=n(s())._new(),n(t)._protocol_(r),n(t)._theClass_(o._theClass()),i=n(t)._yourself(),n(n(a())._current())._announce_(i),o},function(t){t.fill(o,"addElement:",{aString:r},e.ClassOrganizer)})},args:["aString"],source:"addElement: aString\n	super addElement: aString.\n\n	SystemAnnouncer current announce: (ProtocolAdded new\n		protocol: aString;\n		theClass: self theClass;\n		yourself)",messageSends:["addElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"],referencedClasses:["SystemAnnouncer","ProtocolAdded"]}),e.ClassOrganizer),e.addMethod(e.method({selector:"removeElement:",category:"accessing",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.ProtocolRemoved||("undefined"==typeof ProtocolRemoved?t:ProtocolRemoved)}var o=this;return e.withContext(function(){var t,i;return e.ClassOrganizer.superclass.fn.prototype._removeElement_.apply(n(o),[r]),t=n(s())._new(),n(t)._protocol_(r),n(t)._theClass_(o._theClass()),i=n(t)._yourself(),n(n(a())._current())._announce_(i),o},function(t){t.fill(o,"removeElement:",{aString:r},e.ClassOrganizer)})},args:["aString"],source:"removeElement: aString\n	super removeElement: aString.\n\n	SystemAnnouncer current announce: (ProtocolRemoved new\n		protocol: aString;\n		theClass: self theClass;\n		yourself)",messageSends:["removeElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"],referencedClasses:["SystemAnnouncer","ProtocolRemoved"]}),e.ClassOrganizer),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.theClass},function(n){n.fill(t,"theClass",{},e.ClassOrganizer)})},args:[],source:"theClass\n	< return self.theClass >",messageSends:[],referencedClasses:[]}),e.ClassOrganizer),e.addClass("PackageOrganizer",e.Organizer,[],"Kernel-Infrastructure"),e.PackageOrganizer.comment="I am an organizer specific to packages. I hold classes categorization information.",e.addClass("Package",e.Object,["transport"],"Kernel-Infrastructure"),e.Package.comment="I am similar to a \"class category\" typically found in other Smalltalks like Pharo or Squeak. Amber does not have class categories anymore, it had in the beginning but now each class in the system knows which package it belongs to.\n\nEach package has a name and can be queried for its classes, but it will then resort to a reverse scan of all classes to find them.\n\n## API\n\nPackages are manipulated through \"Smalltalk current\", like for example finding one based on a name or with `Package class >> #name` directly:\n\n    Smalltalk current packageAt: 'Kernel'\n    Package named: 'Kernel'\n\nA package differs slightly from a Monticello package which can span multiple class categories using a naming convention based on hyphenation. But just as in Monticello a package supports \"class extensions\" so a package can define behaviors in foreign classes using a naming convention for method categories where the category starts with an asterisk and then the name of the owning package follows.\n\nYou can fetch a package from the server:\n\n	Package load: 'Additional-Examples'",e.addMethod(e.method({selector:"basicTransport",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.transport},function(n){n.fill(t,"basicTransport",{},e.Package)})},args:[],source:'basicTransport\n	"Answer the transport literal JavaScript object as setup in the JavaScript file, if any"\n	\n	<return self.transport>',messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"classes",category:"classes",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(n(t._organization())._elements())._asSet())._asArray()},function(n){n.fill(t,"classes",{},e.Package)})},args:[],source:"classes\n	^ self organization elements asSet asArray",messageSends:["asArray","asSet","elements","organization"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var s,o,i,l,c,u,d,f,h;return h=n(r())._streamContents_(function(h){return e.withContext(function(e){return s=n(a._class())._name(),e.sendIdx.name=1,n(h)._nextPutAll_(s),e.sendIdx["nextPutAll:"]=1,o=n(r())._lf(),e.sendIdx.lf=1,i=n(r())._tab(),e.sendIdx.tab=1,l=n(o).__comma(i),e.sendIdx[","]=1,n(h)._nextPutAll_(l),e.sendIdx["nextPutAll:"]=2,n(h)._nextPutAll_(" named: "),e.sendIdx["nextPutAll:"]=3,c="'".__comma(a._name()),e.sendIdx[","]=3,u=n(c).__comma("'"),e.sendIdx[","]=2,n(h)._nextPutAll_(u),e.sendIdx["nextPutAll:"]=4,d=n(n(r())._lf()).__comma(n(r())._tab()),e.sendIdx[","]=4,n(h)._nextPutAll_(d),e.sendIdx["nextPutAll:"]=5,n(h)._nextPutAll_(" transport: ("),e.sendIdx["nextPutAll:"]=6,f=n(h)._nextPutAll_(n(n(a._transport())._definition()).__comma(")"))},function(e){e.fillBlock({stream:h},t,1)})})},function(t){t.fill(a,"definition",{},e.Package)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream \n			nextPutAll: self class name;\n			nextPutAll: String lf, String tab;\n			nextPutAll: ' named: ';\n			nextPutAll: '''', self name, '''';\n			nextPutAll: String lf, String tab;\n			nextPutAll:  ' transport: (';\n			nextPutAll: self transport definition, ')' ]",messageSends:["streamContents:","nextPutAll:","name","class",",","lf","tab","definition","transport"],referencedClasses:["String"]}),e.Package),e.addMethod(e.method({selector:"isPackage",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isPackage",{},e.Package)})},args:[],source:"isPackage\n	^ true",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"loadDependencies",category:"dependencies",fn:function(){var t,r,a=this;return e.withContext(function(r){var s,o,i;return t=a._loadDependencyClasses(),s=n(n(t)._collect_(function(t){return e.withContext(function(){return n(t)._package()},function(e){e.fillBlock({each:t},r,1)})}))._asSet(),n(s)._remove_ifAbsent_(a,function(){return e.withContext(function(){},function(e){e.fillBlock({},r,2)})}),o=n(s)._yourself(),i=o},function(n){n.fill(a,"loadDependencies",{classes:t,packages:r},e.Package)})},args:[],source:'loadDependencies\n	"Returns list of packages that need to be loaded\n	before loading this package."\n	\n	| classes packages |\n	classes := self loadDependencyClasses.\n	^ (classes collect: [ :each | each package ]) asSet\n		remove: self ifAbsent: [];\n		yourself',messageSends:["loadDependencyClasses","remove:ifAbsent:","asSet","collect:","package","yourself"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"loadDependencyClasses",category:"dependencies",fn:function(){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a,s=this;return e.withContext(function(o){var i,l,c,u,d;return a="*".__comma(s._name()),i=s._classes(),o.sendIdx.classes=1,l=n(i)._collect_(function(t){return e.withContext(function(){return n(t)._superclass()},function(e){e.fillBlock({each:t},o,1)})}),c=n(l)._asSet(),n(c)._remove_ifAbsent_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},o,2)})}),n(c)._addAll_(n(n(n(r())._current())._classes())._select_(function(t){return e.withContext(function(){return n(n(t)._protocols())._includes_(a)},function(e){e.fillBlock({each:t},o,3)})})),u=n(c)._yourself(),d=u},function(t){t.fill(s,"loadDependencyClasses",{starCategoryName:a},e.Package)})},args:[],source:"loadDependencyClasses\n	\"Returns classes needed at the time of loading a package.\n	These are all that are used to subclass\n	and to define an extension method\"\n	\n	| starCategoryName |\n	starCategoryName := '*', self name.\n	^ (self classes collect: [ :each | each superclass ]) asSet\n		remove: nil ifAbsent: [];\n		addAll: (Smalltalk current classes select: [ :each | each protocols includes: starCategoryName ]);\n		yourself",messageSends:[",","name","remove:ifAbsent:","asSet","collect:","classes","superclass","addAll:","select:","current","includes:","protocols","yourself"],referencedClasses:["Smalltalk"]}),e.Package),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.pkgName},function(n){n.fill(t,"name",{},e.Package)})},args:[],source:"name\n	<return self.pkgName>",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"name:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.pkgName=t,n},function(r){r.fill(n,"name:",{aString:t},e.Package)})},args:["aString"],source:"name: aString\n	<self.pkgName = aString>",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"organization",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("organization")},function(n){n.fill(t,"organization",{},e.Package)})},args:[],source:"organization\n	^ self basicAt: 'organization'",messageSends:["basicAt:"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var r=this;return e.withContext(function(a){var s;return e.Package.superclass.fn.prototype._printOn_.apply(n(r),[t]),n(t)._nextPutAll_(" ("),a.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(r._name()),a.sendIdx["nextPutAll:"]=2,s=n(t)._nextPutAll_(")"),r},function(n){n.fill(r,"printOn:",{aStream:t},e.Package)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream \n		nextPutAll: ' (';\n		nextPutAll: self name;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","name"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"setupClasses",category:"classes",fn:function(){function r(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var a=this;return e.withContext(function(t){var s,o;return s=a._classes(),n(s)._do_(function(a){return e.withContext(function(){return n(n(r())._new())._setupClass_(a)},function(e){e.fillBlock({each:a},t,1)})}),t.sendIdx["do:"]=1,o=n(s)._do_(function(r){return e.withContext(function(){return n(r)._initialize()},function(e){e.fillBlock({each:r},t,2)})}),a},function(t){t.fill(a,"setupClasses",{},e.Package)})},args:[],source:"setupClasses\n	self classes\n		do: [ :each | ClassBuilder new setupClass: each ];\n		do: [ :each | each initialize ]",messageSends:["do:","classes","setupClass:","new","initialize"],referencedClasses:["ClassBuilder"]}),e.Package),e.addMethod(e.method({selector:"sortedClasses",category:"classes",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._sortedClasses_(t._classes())},function(n){n.fill(t,"sortedClasses",{},e.Package)})},args:[],source:'sortedClasses\n	"Answer all classes in the receiver, sorted by superclass/subclasses and by class name for common subclasses (Issue #143)."\n\n	^ self class sortedClasses: self classes',messageSends:["sortedClasses:","class","classes"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"transport",category:"accessing",fn:function(){function r(){return e.PackageTransport||("undefined"==typeof PackageTransport?t:PackageTransport)}var a=this;return e.withContext(function(){var e,s,o,i;return e=a["@transport"],($receiver=e)==t||null==$receiver?(s=n(r())._fromJson_(a._basicTransport()),n(s)._package_(a),o=n(s)._yourself(),a["@transport"]=o,i=a["@transport"]):i=e,i},function(t){t.fill(a,"transport",{},e.Package)})},args:[],source:"transport\n	^ transport ifNil: [ \n		transport := (PackageTransport fromJson: self basicTransport)\n			package: self;\n			yourself ]",messageSends:["ifNil:","package:","fromJson:","basicTransport","yourself"],referencedClasses:["PackageTransport"]}),e.Package),e.addMethod(e.method({selector:"transport:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(){return r["@transport"]=t,n(t)._package_(r),r},function(n){n.fill(r,"transport:",{aPackageTransport:t},e.Package)})},args:["aPackageTransport"],source:"transport: aPackageTransport\n	transport := aPackageTransport.\n	aPackageTransport package: self",messageSends:["package:"],referencedClasses:[]}),e.Package),e.Package.klass.iVarNames=["defaultCommitPathJs","defaultCommitPathSt"],e.addMethod(e.method({selector:"named:",category:"accessing",fn:function(r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var s=this;return e.withContext(function(t){var s,o;return s=n(a())._current(),t.sendIdx.current=1,o=n(s)._packageAt_ifAbsent_(r,function(){return e.withContext(function(){return n(n(a())._current())._createPackage_(r)},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(s,"named:",{aPackageName:r},e.Package.klass)})},args:["aPackageName"],source:"named: aPackageName\n	^ Smalltalk current \n		packageAt: aPackageName\n		ifAbsent: [ \n			Smalltalk current createPackage: aPackageName ]",messageSends:["packageAt:ifAbsent:","current","createPackage:"],referencedClasses:["Smalltalk"]}),e.Package.klass),e.addMethod(e.method({selector:"named:ifAbsent:",category:"accessing",fn:function(r,a){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(){var e;return e=n(n(s())._current())._packageAt_ifAbsent_(r,a)},function(t){t.fill(o,"named:ifAbsent:",{aPackageName:r,aBlock:a},e.Package.klass)})},args:["aPackageName","aBlock"],source:"named: aPackageName ifAbsent: aBlock\n	^ Smalltalk current packageAt: aPackageName ifAbsent: aBlock",messageSends:["packageAt:ifAbsent:","current"],referencedClasses:["Smalltalk"]}),e.Package.klass),e.addMethod(e.method({selector:"named:transport:",category:"accessing",fn:function(t,r){var a,s=this;return e.withContext(function(){var e;return a=s._named_(t),n(a)._transport_(r),e=a},function(n){n.fill(s,"named:transport:",{aPackageName:t,aTransport:r,package_:a},e.Package.klass)})},args:["aPackageName","aTransport"],source:"named: aPackageName transport: aTransport\n	| package |\n	\n	package := self named: aPackageName.\n	package transport: aTransport.\n	\n	^ package",messageSends:["named:","transport:"],referencedClasses:[]}),e.Package.klass),e.addMethod(e.method({selector:"sortedClasses:",category:"sorting",fn:function(r){function a(){return e.ClassSorterNode||("undefined"==typeof ClassSorterNode?t:ClassSorterNode)}function s(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i,l,c,u=this;return e.withContext(function(t){var u,d,f,h;return o=[],i=[],n(r)._do_(function(a){return e.withContext(function(t){return u=n(r)._includes_(n(a)._superclass()),e.assert(u)?n(i)._add_(a):n(o)._add_(a)},function(e){e.fillBlock({each:a},t,1)})}),t.sendIdx["do:"]=1,l=n(o)._collect_(function(r){return e.withContext(function(){return n(a())._on_classes_level_(r,i,0)},function(e){e.fillBlock({each:r},t,4)})}),l=n(l)._sorted_(function(r,a){return e.withContext(function(e){return d=n(r)._theClass(),e.sendIdx.theClass=1,f=n(d)._name(),e.sendIdx.name=1,n(f).__lt_eq(n(n(a)._theClass())._name())},function(e){e.fillBlock({a:r,b:a},t,5)})}),c=n(s())._new(),n(l)._do_(function(r){return e.withContext(function(){return n(r)._traverseClassesWith_(c)},function(e){e.fillBlock({aNode:r},t,6)})}),h=c},function(t){t.fill(u,"sortedClasses:",{classes:r,children:o,others:i,nodes:l,expandedClasses:c},e.Package.klass)})},args:["classes"],source:'sortedClasses: classes\n	"Answer classes, sorted by superclass/subclasses and by class name for common subclasses (Issue #143)"\n\n	| children others nodes expandedClasses |\n	children := #().\n	others := #().\n	classes do: [ :each |\n		(classes includes: each superclass)\n			ifFalse: [ children add: each ]\n			ifTrue: [ others add: each ]].\n	nodes := children collect: [ :each |\n		ClassSorterNode on: each classes: others level: 0 ].\n	nodes := nodes sorted: [ :a :b | a theClass name <= b theClass name ].\n	expandedClasses := Array new.\n	nodes do: [ :aNode |\n		aNode traverseClassesWith: expandedClasses ].\n	^ expandedClasses',messageSends:["do:","ifFalse:ifTrue:","includes:","superclass","add:","collect:","on:classes:level:","sorted:","<=","name","theClass","new","traverseClassesWith:"],referencedClasses:["ClassSorterNode","Array"]}),e.Package.klass),e.addClass("PlatformInterface",e.Object,[],"Kernel-Infrastructure"),e.PlatformInterface.comment="I am single entry point to UI and environment interface.\nMy `initialize` tries several options (for now, browser environment only) to set myself up.\n\n## API\n\n    PlatformInterface alert: 'Hey, there is a problem'.\n    PlatformInterface confirm: 'Affirmative?'.\n    PlatformInterface prompt: 'Your name:'.\n\n    PlatformInterface ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.PlatformInterface.klass.iVarNames=["worker"],e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(r){var a=this;return e.withContext(function(){var e,s;return e=a["@worker"],s=($receiver=e)==t||null==$receiver?a._error_("ajax: not available"):n(a["@worker"])._ajax_(r)},function(t){t.fill(a,"ajax:",{anObject:r},e.PlatformInterface.klass)})},args:["anObject"],source:"ajax: anObject\n	^ worker\n		ifNotNil: [ worker ajax: anObject ]\n		ifNil: [ self error: 'ajax: not available' ]",messageSends:["ifNotNil:ifNil:","ajax:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(r){var a=this;return e.withContext(function(){var e,s;return e=a["@worker"],s=($receiver=e)==t||null==$receiver?a._error_("alert: not available"):n(a["@worker"])._alert_(r)},function(t){t.fill(a,"alert:",{aString:r},e.PlatformInterface.klass)})},args:["aString"],source:"alert: aString\n	^ worker\n		ifNotNil: [ worker alert: aString ]\n		ifNil: [ self error: 'alert: not available' ]",messageSends:["ifNotNil:ifNil:","alert:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(r){var a=this;return e.withContext(function(){var e,s;return e=a["@worker"],s=($receiver=e)==t||null==$receiver?a._error_("confirm: not available"):n(a["@worker"])._confirm_(r)},function(t){t.fill(a,"confirm:",{aString:r},e.PlatformInterface.klass)})},args:["aString"],source:"confirm: aString\n	^ worker\n		ifNotNil: [ worker confirm: aString ]\n		ifNil: [ self error: 'confirm: not available' ]",messageSends:["ifNotNil:ifNil:","confirm:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"existsGlobal:",category:"actions",fn:function(r){function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var s=this;return e.withContext(function(t){var s;return s=n(n(a())._globals())._at_ifPresent_ifAbsent_(r,function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},t,1)})},function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},t,2)})})},function(t){t.fill(s,"existsGlobal:",{aString:r},e.PlatformInterface.klass)})},args:["aString"],source:"existsGlobal: aString\n	^ PlatformInterface globals \n		at: aString \n		ifPresent: [ true ] \n		ifAbsent: [ false ]",messageSends:["at:ifPresent:ifAbsent:","globals"],referencedClasses:["PlatformInterface"]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"globals",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return new Function("return this")()},function(n){n.fill(t,"globals",{},e.PlatformInterface.klass)})},args:[],source:"globals\n	<return (new Function('return this'))();>",messageSends:[],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function r(){return e.BrowserInterface||("undefined"==typeof BrowserInterface?t:BrowserInterface)}var a,s=this;return e.withContext(function(){var o;if(e.PlatformInterface.klass.superclass.fn.prototype._initialize.apply(n(s),[]),($receiver=r())==t||null==$receiver)r();else if(a=n(r())._new(),o=n(a)._isAvailable(),e.assert(o))return s._setWorker_(a),s;return s},function(t){t.fill(s,"initialize",{candidate:a},e.PlatformInterface.klass)})},args:[],source:"initialize\n	| candidate |\n	\n	super initialize.\n	\n	BrowserInterface ifNotNil: [\n		candidate := BrowserInterface new.\n		candidate isAvailable ifTrue: [ self setWorker: candidate. ^ self ]\n	]",messageSends:["initialize","ifNotNil:","new","ifTrue:","isAvailable","setWorker:"],referencedClasses:["BrowserInterface"]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(r){var a=this;return e.withContext(function(){var e,s;return e=a["@worker"],s=($receiver=e)==t||null==$receiver?a._error_("prompt: not available"):n(a["@worker"])._prompt_(r)},function(t){t.fill(a,"prompt:",{aString:r},e.PlatformInterface.klass)})},args:["aString"],source:"prompt: aString\n	^ worker\n		ifNotNil: [ worker prompt: aString ]\n		ifNil: [ self error: 'prompt: not available' ]",messageSends:["ifNotNil:ifNil:","prompt:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"setWorker:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@worker"]=t,n},function(r){r.fill(n,"setWorker:",{anObject:t},e.PlatformInterface.klass)})},args:["anObject"],source:"setWorker: anObject\n	worker := anObject",messageSends:[],referencedClasses:[]}),e.PlatformInterface.klass),e.addClass("ProgressHandler",e.Object,[],"Kernel-Infrastructure"),e.ProgressHandler.comment="I am used to manage progress in collection iterations, see `SequenceableCollection >> #do:displayingProgress:`.\n\nSubclasses of can register themselves as the current handler with\n`ProgressHandler class >> register`.\n\nThe default behavior is to simply iterate over the collection.",e.addMethod(e.method({selector:"do:on:displaying:",category:"progress handling",fn:function(t,r,a){var s=this;return e.withContext(function(){return n(r)._do_(t),s},function(n){n.fill(s,"do:on:displaying:",{aBlock:t,aCollection:r,aString:a},e.ProgressHandler)})},args:["aBlock","aCollection","aString"],source:"do: aBlock on: aCollection displaying: aString\n	aCollection do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.ProgressHandler),e.ProgressHandler.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,r;return e=n["@current"],($receiver=e)==t||null==$receiver?(n["@current"]=n._new(),r=n["@current"]):r=e,r},function(t){t.fill(n,"current",{},e.ProgressHandler.klass)})},args:[],source:"current\n	^ current ifNil: [ current := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._register(),t},function(n){n.fill(t,"initialize",{},e.ProgressHandler.klass)})},args:[],source:"initialize\n	self register",messageSends:["register"],referencedClasses:[]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"register",category:"initialization",fn:function(){function r(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var a=this;return e.withContext(function(){return n(r())._setCurrent_(a._new()),a},function(t){t.fill(a,"register",{},e.ProgressHandler.klass)})},args:[],source:"register\n	ProgressHandler setCurrent: self new",messageSends:["setCurrent:","new"],referencedClasses:["ProgressHandler"]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"setCurrent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(r){r.fill(n,"setCurrent:",{anHandler:t},e.ProgressHandler.klass)})},args:["anHandler"],source:"setCurrent: anHandler\n	current := anHandler",messageSends:[],referencedClasses:[]}),e.ProgressHandler.klass),e.addClass("Smalltalk",e.Object,[],"Kernel-Infrastructure"),e.Smalltalk.comment="I represent the global JavaScript variable `smalltalk` declared in `js/boot.js`.\n\n## API\n\nI have only one instance, accessed with class-side method `#current`.\n\nThe `smalltalk` object holds all class and packages defined in the system.\n\n## Classes\n\nClasses can be accessed using the following methods:\n\n- `#classes` answers the full list of Smalltalk classes in the system\n- `#at:` answers a specific class or `nil`\n\n## Packages\n\nPackages can be accessed using the following methods:\n\n- `#packages` answers the full list of packages\n- `#packageAt:` answers a specific package or `nil`\n\n## Parsing\n\nThe `#parse:` method is used to parse Amber source code.\nIt requires the `Compiler` package and the `js/parser.js` parser file in order to work.",e.addMethod(e.method({selector:"addGlobalJsVariable:",category:"globals",fn:function(t){var r=this;
return e.withContext(function(){return n(r._globalJsVariables())._add_(t),r},function(n){n.fill(r,"addGlobalJsVariable:",{aString:t},e.Smalltalk)})},args:["aString"],source:"addGlobalJsVariable: aString\n	self globalJsVariables add: aString",messageSends:["add:","globalJsVariables"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"amdRequire",category:"accessing amd",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_("amdRequire")},function(n){n.fill(t,"amdRequire",{},e.Smalltalk)})},args:[],source:"amdRequire\n	^ self at: 'amdRequire'",messageSends:["at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"asSmalltalkException:",category:"error handling",fn:function(r){function a(){return e.Error||("undefined"==typeof Error?t:Error)}function s(){return e.JavaScriptException||("undefined"==typeof JavaScriptException?t:JavaScriptException)}var o=this;return e.withContext(function(t){var i,l;return i=n(o._isSmalltalkObject_(r))._and_(function(){return e.withContext(function(){return n(r)._isKindOf_(a())},function(e){e.fillBlock({},t,1)})}),l=e.assert(i)?r:n(s())._on_(r)},function(t){t.fill(o,"asSmalltalkException:",{anObject:r},e.Smalltalk)})},args:["anObject"],source:'asSmalltalkException: anObject\n	"A JavaScript exception may be thrown.\n	We then need to convert it back to a Smalltalk object"\n	\n	^ ((self isSmalltalkObject: anObject) and: [ anObject isKindOf: Error ])\n		ifTrue: [ anObject ]\n		ifFalse: [ JavaScriptException on: anObject ]',messageSends:["ifTrue:ifFalse:","and:","isSmalltalkObject:","isKindOf:","on:"],referencedClasses:["Error","JavaScriptException"]}),e.Smalltalk),e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._basicAt_(t)},function(r){r.fill(n,"at:",{aString:t},e.Smalltalk)})},args:["aString"],source:"at: aString\n	^ self basicAt: aString",messageSends:["basicAt:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,r){var a=this;return e.withContext(function(s){var o,i;return o=a._includesKey_(t),i=n(o)._ifTrue_ifFalse_(function(){return e.withContext(function(){return a._at_(t)},function(e){e.fillBlock({},s,1)})},r)},function(n){n.fill(a,"at:ifAbsent:",{aKey:t,aBlock:r},e.Smalltalk)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifTrue: [ self at: aKey ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","includesKey:","at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var r=this;return e.withContext(function(){var e;return e=r._basicAt_put_(t,n)},function(a){a.fill(r,"at:put:",{aString:t,anObject:n},e.Smalltalk)})},args:["aString","anObject"],source:"at: aString put: anObject\n	^ self basicAt: aString put: anObject",messageSends:["basicAt:put:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"basicCreatePackage:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.addPackage(t)},function(r){r.fill(n,"basicCreatePackage:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:'basicCreatePackage: packageName\n	"Create and bind a new bare package with given name and return it."\n	<return smalltalk.addPackage(packageName)>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"basicParse:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.parser.parse(t)},function(r){r.fill(n,"basicParse:",{aString:t},e.Smalltalk)})},args:["aString"],source:"basicParse: aString\n	<return smalltalk.parser.parse(aString)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"classes",category:"classes",fn:function(){var t=this;return e.withContext(function(){return t.classes()},function(n){n.fill(t,"classes",{},e.Smalltalk)})},args:[],source:"classes\n	<return self.classes()>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"createPackage:",category:"packages",fn:function(r){function a(){return e.PackageAdded||("undefined"==typeof PackageAdded?t:PackageAdded)}function s(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}var o,i,l=this;return e.withContext(function(){var e,t,c;return o=l._basicCreatePackage_(r),e=n(a())._new(),n(e)._package_(o),t=n(e)._yourself(),i=t,n(n(s())._current())._announce_(i),c=o},function(t){t.fill(l,"createPackage:",{packageName:r,package_:o,announcement:i},e.Smalltalk)})},args:["packageName"],source:"createPackage: packageName\n	| package announcement |\n	\n	package := self basicCreatePackage: packageName.\n	announcement := PackageAdded new\n		package: package;\n		yourself.\n		\n	SystemAnnouncer current announce: announcement.\n	\n	^ package",messageSends:["basicCreatePackage:","package:","new","yourself","announce:","current"],referencedClasses:["PackageAdded","SystemAnnouncer"]}),e.Smalltalk),e.addMethod(e.method({selector:"createPackage:properties:",category:"private",fn:function(t,r){var a=this;return e.withContext(function(){var s,o;return a._deprecatedAPI(),s=n(r)._isEmpty(),e.assert(s)||a._error_("createPackage:properties: called with nonempty properties"),o=a._createPackage_(t)},function(n){n.fill(a,"createPackage:properties:",{packageName:t,aDict:r},e.Smalltalk)})},args:["packageName","aDict"],source:"createPackage: packageName properties: aDict\n	\"Needed to import .st files: they begin with this call.\"\n	self deprecatedAPI.\n	\n	aDict isEmpty ifFalse: [ self error: 'createPackage:properties: called with nonempty properties' ].\n	^ self createPackage: packageName",messageSends:["deprecatedAPI","ifFalse:","isEmpty","error:","createPackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"defaultAmdNamespace",category:"accessing amd",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_("defaultAmdNamespace")},function(n){n.fill(t,"defaultAmdNamespace",{},e.Smalltalk)})},args:[],source:"defaultAmdNamespace\n	^ self at: 'defaultAmdNamespace'",messageSends:["at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"defaultAmdNamespace:",category:"accessing amd",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("defaultAmdNamespace",t),n},function(r){r.fill(n,"defaultAmdNamespace:",{aString:t},e.Smalltalk)})},args:["aString"],source:"defaultAmdNamespace: aString\n	self at: 'defaultAmdNamespace' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deleteClass:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return n.removeClass(t),n},function(r){r.fill(n,"deleteClass:",{aClass:t},e.Smalltalk)})},args:["aClass"],source:'deleteClass: aClass\n	"Deletes a class by deleting its binding only. Use #removeClass instead"\n	\n	<self.removeClass(aClass)>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deleteGlobalJsVariable:",category:"globals",fn:function(t){var r=this;return e.withContext(function(a){return n(r._globalJsVariables())._remove_ifAbsent_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},a,1)})}),r},function(n){n.fill(r,"deleteGlobalJsVariable:",{aString:t},e.Smalltalk)})},args:["aString"],source:"deleteGlobalJsVariable: aString\n	self globalJsVariables remove: aString ifAbsent:[]",messageSends:["remove:ifAbsent:","globalJsVariables"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deletePackage:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return delete n.packages[t],n},function(r){r.fill(n,"deletePackage:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:'deletePackage: packageName\n	"Deletes a package by deleting its binding, but does not check if it contains classes etc.\n	To remove a package, use #removePackage instead."\n\n	<delete self.packages[ packageName]>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"globalJsVariables",category:"globals",fn:function(){var t=this;return e.withContext(function(){return t.globalJsVariables},function(n){n.fill(t,"globalJsVariables",{},e.Smalltalk)})},args:[],source:'globalJsVariables\n	"Array of global JavaScript variables"\n	<return self.globalJsVariables>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"includesKey:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.hasOwnProperty(t)},function(r){r.fill(n,"includesKey:",{aKey:t},e.Smalltalk)})},args:["aKey"],source:"includesKey: aKey\n	<return self.hasOwnProperty(aKey)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"isSmalltalkObject:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return"undefined"!=typeof t.klass},function(r){r.fill(n,"isSmalltalkObject:",{anObject:t},e.Smalltalk)})},args:["anObject"],source:"isSmalltalkObject: anObject\n	\"Consider anObject a Smalltalk object if it has a 'klass' property.\n	Note that this may be unaccurate\"\n	\n	<return typeof anObject.klass !== 'undefined'>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packageAt:",category:"packages",fn:function(t){var n=this;return e.withContext(function(){return n.packages[t]},function(r){r.fill(n,"packageAt:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:"packageAt: packageName\n	<return self.packages[ packageName]>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packageAt:ifAbsent:",category:"packages",fn:function(t,r){var a=this;return e.withContext(function(){var e,s;return e=a._packageAt_(t),s=n(e)._ifNil_(r)},function(n){n.fill(a,"packageAt:ifAbsent:",{packageName:t,aBlock:r},e.Smalltalk)})},args:["packageName","aBlock"],source:"packageAt: packageName ifAbsent: aBlock\n	^ (self packageAt: packageName) ifNil: aBlock",messageSends:["ifNil:","packageAt:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packages",category:"packages",fn:function(){var t=this;return e.withContext(function(){var e=[];for(var n in t.packages)e.push(t.packages[n]);return e},function(n){n.fill(t,"packages",{},e.Smalltalk)})},args:[],source:'packages\n	"Return all Package instances in the system."\n\n	<\n		var packages = [];\n		for(var key in self.packages) {\n			packages.push(self.packages[key]);\n		}\n		return packages;\n	>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"parse:",category:"accessing",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i,l;return a._try_catch_(function(){return e.withContext(function(){return r=a._basicParse_(t)},function(e){e.fillBlock({},s,1)})},function(r){return e.withContext(function(){return n(a._parseError_parsing_(r,t))._signal()},function(e){e.fillBlock({ex:r},s,2)})}),o=r,n(o)._source_(t),i=n(o)._yourself(),l=i},function(n){n.fill(a,"parse:",{aString:t,result:r},e.Smalltalk)})},args:["aString"],source:"parse: aString\n	| result |\n	\n	self \n		try: [ result := self basicParse: aString ] \n		catch: [ :ex | (self parseError: ex parsing: aString) signal ].\n		\n	^ result\n		source: aString;\n		yourself",messageSends:["try:catch:","basicParse:","signal","parseError:parsing:","source:","yourself"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"parseError:parsing:",category:"error handling",fn:function(r,a){function s(){return e.ParseError||("undefined"==typeof ParseError?t:ParseError)}var o=this;return e.withContext(function(e){var t,a,o,i,l,c,u,d,f;return t=n(s())._new(),a=n(r)._basicAt_("line"),e.sendIdx["basicAt:"]=1,o="Parse error on line ".__comma(a),i=n(o).__comma(" column "),e.sendIdx[","]=4,l=n(r)._basicAt_("column"),e.sendIdx["basicAt:"]=2,c=n(i).__comma(l),e.sendIdx[","]=3,u=n(c).__comma(" : Unexpected character "),e.sendIdx[","]=2,d=n(u).__comma(n(r)._basicAt_("found")),e.sendIdx[","]=1,f=n(t)._messageText_(d)},function(t){t.fill(o,"parseError:parsing:",{anException:r,aString:a},e.Smalltalk)})},args:["anException","aString"],source:"parseError: anException parsing: aString\n	^ ParseError new messageText: 'Parse error on line ', (anException basicAt: 'line') ,' column ' , (anException basicAt: 'column') ,' : Unexpected character ', (anException basicAt: 'found')",messageSends:["messageText:","new",",","basicAt:"],referencedClasses:["ParseError"]}),e.Smalltalk),e.addMethod(e.method({selector:"pseudoVariableNames",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=["self","super","nil","true","false","thisContext"]},function(n){n.fill(t,"pseudoVariableNames",{},e.Smalltalk)})},args:[],source:"pseudoVariableNames\n	^ #('self' 'super' 'nil' 'true' 'false' 'thisContext')",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"readJSObject:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.readJSObject(t)},function(r){r.fill(n,"readJSObject:",{anObject:t},e.Smalltalk)})},args:["anObject"],source:"readJSObject: anObject\n	<return self.readJSObject(anObject)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"removeClass:",category:"classes",fn:function(r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function s(){return e.ClassRemoved||("undefined"==typeof ClassRemoved?t:ClassRemoved)}var o=this;return e.withContext(function(){var t,i,l;return t=n(r)._isMetaclass(),e.assert(t)&&o._error_(n(n(r)._asString()).__comma(" is a Metaclass and cannot be removed!")),o._deleteClass_(r),i=n(s())._new(),n(i)._theClass_(r),l=n(i)._yourself(),n(n(a())._current())._announce_(l),o},function(t){t.fill(o,"removeClass:",{aClass:r},e.Smalltalk)})},args:["aClass"],source:"removeClass: aClass\n	aClass isMetaclass ifTrue: [ self error: aClass asString, ' is a Metaclass and cannot be removed!' ].\n	\n	self deleteClass: aClass.\n	\n	SystemAnnouncer current\n		announce: (ClassRemoved new\n			theClass: aClass;\n			yourself)",messageSends:["ifTrue:","isMetaclass","error:",",","asString","deleteClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassRemoved"]}),e.Smalltalk),e.addMethod(e.method({selector:"removePackage:",category:"packages",fn:function(t){var r,a=this;return e.withContext(function(s){return r=a._packageAt_ifAbsent_(t,function(){return e.withContext(function(){return a._error_("Missing package: ".__comma(t))},function(e){e.fillBlock({},s,1)})}),n(n(r)._classes())._do_(function(t){return e.withContext(function(){return a._removeClass_(t)},function(e){e.fillBlock({each:t},s,2)})}),a._deletePackage_(t),a},function(n){n.fill(a,"removePackage:",{packageName:t,pkg:r},e.Smalltalk)})},args:["packageName"],source:"removePackage: packageName\n	\"Removes a package and all its classes.\"\n\n	| pkg |\n	pkg := self packageAt: packageName ifAbsent: [ self error: 'Missing package: ', packageName ].\n	pkg classes do: [ :each |\n			self removeClass: each ].\n	self deletePackage: packageName",messageSends:["packageAt:ifAbsent:","error:",",","do:","classes","removeClass:","deletePackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"renamePackage:to:",category:"packages",fn:function(r,a){var s,o=this;return e.withContext(function(i){var l,c;return s=o._packageAt_ifAbsent_(r,function(){return e.withContext(function(e){return l="Missing package: ".__comma(r),e.sendIdx[","]=1,o._error_(l)},function(e){e.fillBlock({},i,1)})}),c=o._packageAt_(a),($receiver=c)==t||null==$receiver||o._error_("Already exists a package called: ".__comma(a)),n(o._at_("packages"))._at_put_(a,s),n(s)._name_(a),o._deletePackage_(r),o},function(t){t.fill(o,"renamePackage:to:",{packageName:r,newName:a,pkg:s},e.Smalltalk)})},args:["packageName","newName"],source:"renamePackage: packageName to: newName\n	\"Rename a package.\"\n\n	| pkg |\n	pkg := self packageAt: packageName ifAbsent: [ self error: 'Missing package: ', packageName ].\n	(self packageAt: newName) ifNotNil: [ self error: 'Already exists a package called: ', newName ].\n	(self at: 'packages') at: newName put: pkg.\n	pkg name: newName.\n	self deletePackage: packageName.",messageSends:["packageAt:ifAbsent:","error:",",","ifNotNil:","packageAt:","at:put:","at:","name:","deletePackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"reservedWords",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.reservedWords},function(n){n.fill(t,"reservedWords",{},e.Smalltalk)})},args:[],source:'reservedWords\n	"JavaScript reserved words"\n	<return self.reservedWords>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"version",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"0.13.0-pre"},function(n){n.fill(t,"version",{},e.Smalltalk)})},args:[],source:"version\n	\"Answer the version string of Amber\"\n	\n	^ '0.13.0-pre'",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return e},function(n){n.fill(t,"current",{},e.Smalltalk.klass)})},args:[],source:"current\n	<return smalltalk>",messageSends:[],referencedClasses:[]}),e.Smalltalk.klass),e.addMethod(e.method({selector:"do:displayingProgress:",category:"*Kernel-Infrastructure",fn:function(r,a){function s(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var o=this;return e.withContext(function(){return n(n(s())._current())._do_on_displaying_(r,o,a),o},function(t){t.fill(o,"do:displayingProgress:",{aBlock:r,aString:a},e.SequenceableCollection)})},args:["aBlock","aString"],source:"do: aBlock displayingProgress: aString\n	ProgressHandler current\n		do: aBlock on: self displaying: aString",messageSends:["do:on:displaying:","current"],referencedClasses:["ProgressHandler"]}),e.SequenceableCollection),e.addMethod(e.method({selector:"asJavaScriptSelector",category:"*Kernel-Infrastructure",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._replace_with_("^([a-zA-Z0-9]*).*$","$1")},function(n){n.fill(t,"asJavaScriptSelector",{},e.String)})},args:[],source:"asJavaScriptSelector\n	\"Return first keyword of the selector, without trailing colon.\"\n	^ self replace: '^([a-zA-Z0-9]*).*$' with: '$1'",messageSends:["replace:with:"],referencedClasses:[]}),e.String)}),define("amber_core/Kernel-Exceptions",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Exceptions"),e.packages["Kernel-Exceptions"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Error",e.Object,["messageText"],"Kernel-Exceptions"),e.Error.comment="From the ANSI standard:\n\nThis protocol describes the behavior of instances of class `Error`.\nThese are used to represent error conditions that prevent the normal continuation of processing.\nActual error exceptions used by an application may be subclasses of this class.\nAs `Error` is explicitly specified to be subclassable, conforming implementations must implement its behavior in a non-fragile manner.",e.addMethod(e.method({selector:"context",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.context},function(n){n.fill(t,"context",{},e.Error)})},args:[],source:"context\n	<return self.context>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._messageText_("Errorclass: ".__comma(n(t._class())._name())),t},function(n){n.fill(t,"initialize",{},e.Error)})},args:[],source:"initialize\n	self messageText: 'Errorclass: ', (self class name).",messageSends:["messageText:",",","name","class"],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"isSmalltalkError",category:"testing",fn:function(){var t=this;return e.withContext(function(){return t.smalltalkError===!0},function(n){n.fill(t,"isSmalltalkError",{},e.Error)})},args:[],source:"isSmalltalkError\n	<return self.smalltalkError === true>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"jsStack",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.stack},function(n){n.fill(t,"jsStack",{},e.Error)})},args:[],source:"jsStack\n	<return self.stack>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@messageText"]},function(n){n.fill(t,"messageText",{},e.Error)})},args:[],source:"messageText\n	^ messageText",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"messageText:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@messageText"]=t,n},function(r){r.fill(n,"messageText:",{aString:t},e.Error)})},args:["aString"],source:"messageText: aString\n	messageText := aString",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"resignal",category:"signaling",fn:function(){var t=this;return e.withContext(function(){throw t},function(n){n.fill(t,"resignal",{},e.Error)})},args:[],source:'resignal\n	"Resignal the receiver without changing its exception context"\n	\n	<throw(self)>',messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"signal",category:"signaling",fn:function(){var t=this;return e.withContext(function(){throw t.context=e.getThisContext(),t.smalltalkError=!0,t},function(n){n.fill(t,"signal",{},e.Error)})},args:[],source:"signal\n	<self.context = smalltalk.getThisContext(); self.smalltalkError = true; throw(self)>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"signal:",category:"signaling",fn:function(t){var n=this;return e.withContext(function(){return n._messageText_(t),n._signal(),n},function(r){r.fill(n,"signal:",{aString:t},e.Error)})},args:["aString"],source:"signal: aString\n	self messageText: aString.\n	self signal",messageSends:["messageText:","signal"],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"exception"},function(n){n.fill(t,"heliosClass",{},e.Error.klass)})},args:[],source:"heliosClass\n	^ 'exception'",messageSends:[],referencedClasses:[]}),e.Error.klass),e.addMethod(e.method({selector:"signal",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._new())._signal()},function(n){n.fill(t,"signal",{},e.Error.klass)})},args:[],source:"signal\n	^ self new signal",messageSends:["signal","new"],referencedClasses:[]}),e.Error.klass),e.addMethod(e.method({selector:"signal:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._new())._signal_(t)},function(n){n.fill(r,"signal:",{aString:t},e.Error.klass)})},args:["aString"],source:"signal: aString\n	^ self new\n		signal: aString",messageSends:["signal:","new"],referencedClasses:[]}),e.Error.klass),e.addClass("JavaScriptException",e.Error,["exception"],"Kernel-Exceptions"),e.JavaScriptException.comment="A JavaScriptException is thrown when a non-Smalltalk exception occurs while in the Smalltalk stack.\nSee `boot.js` `inContext()` and `BlockClosure >> on:do:`",e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.context=t,n},function(r){r.fill(n,"context:",{aMethodContext:t},e.JavaScriptException)})},args:["aMethodContext"],source:'context: aMethodContext\n	"Set the context from the outside.\n	See boot.js `inContext()` exception handling"\n	\n	<self.context = aMethodContext>',messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"exception",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@exception"]},function(n){n.fill(t,"exception",{},e.JavaScriptException)})},args:[],source:"exception\n	^ exception",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"exception:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@exception"]=t,n},function(r){r.fill(n,"exception:",{anException:t},e.JavaScriptException)})},args:["anException"],source:"exception: anException\n	exception := anException",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"JavaScript exception: "+t["@exception"].toString()},function(n){n.fill(t,"messageText",{},e.JavaScriptException)})},args:[],source:"messageText\n	<return 'JavaScript exception: ' + self[\"@exception\"].toString()>",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._exception_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"on:",{anException:t},e.JavaScriptException.klass)})},args:["anException"],source:"on: anException\n	^ self new\n		exception: anException;\n		yourself",messageSends:["exception:","new","yourself"],referencedClasses:[]}),e.JavaScriptException.klass),e.addMethod(e.method({selector:"on:context:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(){var e,s,o;return e=a._new(),n(e)._exception_(t),n(e)._context_(r),s=n(e)._yourself(),o=s},function(n){n.fill(a,"on:context:",{anException:t,aMethodContext:r},e.JavaScriptException.klass)})},args:["anException","aMethodContext"],source:"on: anException context: aMethodContext\n	^ self new\n		exception: anException;\n		context: aMethodContext;\n		yourself",messageSends:["exception:","new","context:","yourself"],referencedClasses:[]}),e.JavaScriptException.klass),e.addClass("MessageNotUnderstood",e.Error,["message","receiver"],"Kernel-Exceptions"),e.MessageNotUnderstood.comment="This exception is provided to support `Object>>doesNotUnderstand:`.",e.addMethod(e.method({selector:"message",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@message"]},function(n){n.fill(t,"message",{},e.MessageNotUnderstood)})},args:[],source:"message\n	^ message",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"message:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@message"]=t,n},function(r){r.fill(n,"message:",{aMessage:t},e.MessageNotUnderstood)})},args:["aMessage"],source:"message: aMessage\n	message := aMessage",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var r;return r=n(n(n(t._receiver())._asString()).__comma(" does not understand #")).__comma(n(t._message())._selector()),e.sendIdx[","]=1,r},function(n){n.fill(t,"messageText",{},e.MessageNotUnderstood)})},args:[],source:"messageText\n	^ self receiver asString, ' does not understand #', self message selector",messageSends:[",","asString","receiver","selector","message"],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@receiver"]},function(n){n.fill(t,"receiver",{},e.MessageNotUnderstood)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"receiver:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@receiver"]=t,n},function(r){r.fill(n,"receiver:",{anObject:t},e.MessageNotUnderstood)})},args:["anObject"],source:"receiver: anObject\n	receiver := anObject",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addClass("NonBooleanReceiver",e.Error,["object"],"Kernel-Exceptions"),e.NonBooleanReceiver.comment="NonBooleanReceiver exceptions may be thrown when executing inlined methods such as `#ifTrue:` with a non boolean receiver.",e.addMethod(e.method({selector:"object",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@object"]},function(n){n.fill(t,"object",{},e.NonBooleanReceiver)})},args:[],source:"object\n	^ object",messageSends:[],referencedClasses:[]}),e.NonBooleanReceiver),e.addMethod(e.method({selector:"object:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@object"]=t,n},function(r){r.fill(n,"object:",{anObject:t},e.NonBooleanReceiver)})},args:["anObject"],source:"object: anObject\n	object := anObject",messageSends:[],referencedClasses:[]}),e.NonBooleanReceiver),e.addClass("ErrorHandler",e.Object,[],"Kernel-Exceptions"),e.ErrorHandler.comment="I am used to manage Smalltalk errors.\nSee `boot.js` `handleError()` function.\n\nSubclasses can register themselves as the current handler with\n`ErrorHandler class >> register`.\n\nSubclasses may override `#handleError:` to perform an action on the thrown exception.\nThe default behavior is to log the error and the context stack to the JavaScript console.",e.addMethod(e.method({selector:"handleError:",category:"error handling",fn:function(r){var a=this;return e.withContext(function(e){var s;return s=n(r)._context(),e.sendIdx.context=1,($receiver=s)==t||null==$receiver||a._logErrorContext_(n(r)._context()),a._logError_(r),a},function(t){t.fill(a,"handleError:",{anError:r},e.ErrorHandler)})},args:["anError"],source:"handleError: anError\n	anError context ifNotNil: [ self logErrorContext: anError context ].\n	self logError: anError",messageSends:["ifNotNil:","context","logErrorContext:","logError:"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"log:",category:"private",fn:function(t){var r=this;return e.withContext(function(){return n(console)._log_(t),r},function(n){n.fill(r,"log:",{aString:t},e.ErrorHandler)})},args:["aString"],source:"log: aString\n	console log: aString",messageSends:["log:"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logContext:",category:"private",fn:function(r){var a=this;return e.withContext(function(e){var s;return s=n(r)._home(),e.sendIdx.home=1,($receiver=s)==t||null==$receiver||a._logContext_(n(r)._home()),a._log_(n(r)._asString()),a},function(t){t.fill(a,"logContext:",{aContext:r},e.ErrorHandler)})},args:["aContext"],source:"logContext: aContext\n	aContext home ifNotNil: [\n		self logContext: aContext home ].\n	self log: aContext asString",messageSends:["ifNotNil:","home","logContext:","log:","asString"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logError:",category:"private",fn:function(t){var r=this;return e.withContext(function(){return r._log_(n(t)._messageText()),r},function(n){n.fill(r,"logError:",{anError:t},e.ErrorHandler)})},args:["anError"],source:"logError: anError\n	self log: anError messageText",messageSends:["log:","messageText"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logErrorContext:",category:"private",fn:function(r){var a=this;return e.withContext(function(e){var s;return($receiver=r)==t||null==$receiver||(s=n(r)._home(),e.sendIdx.home=1,($receiver=s)==t||null==$receiver||a._logContext_(n(r)._home())),a},function(t){t.fill(a,"logErrorContext:",{aContext:r},e.ErrorHandler)})},args:["aContext"],source:"logErrorContext: aContext\n	aContext ifNotNil: [\n		aContext home ifNotNil: [\n			self logContext: aContext home ]]",messageSends:["ifNotNil:","home","logContext:"],referencedClasses:[]}),e.ErrorHandler),e.ErrorHandler.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var n=this;
return e.withContext(function(){var e,r;return e=n["@current"],($receiver=e)==t||null==$receiver?(n["@current"]=n._new(),r=n["@current"]):r=e,r},function(t){t.fill(n,"current",{},e.ErrorHandler.klass)})},args:[],source:"current\n	^ current ifNil: [ current := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._register(),t},function(n){n.fill(t,"initialize",{},e.ErrorHandler.klass)})},args:[],source:"initialize\n	self register",messageSends:["register"],referencedClasses:[]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"register",category:"initialization",fn:function(){function r(){return e.ErrorHandler||("undefined"==typeof ErrorHandler?t:ErrorHandler)}var a=this;return e.withContext(function(){return n(r())._setCurrent_(a._new()),a},function(t){t.fill(a,"register",{},e.ErrorHandler.klass)})},args:[],source:"register\n	ErrorHandler setCurrent: self new",messageSends:["setCurrent:","new"],referencedClasses:["ErrorHandler"]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"setCurrent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(r){r.fill(n,"setCurrent:",{anHandler:t},e.ErrorHandler.klass)})},args:["anHandler"],source:"setCurrent: anHandler\n	current := anHandler",messageSends:[],referencedClasses:[]}),e.ErrorHandler.klass)}),define("amber_core/Kernel-Transcript",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Transcript"),e.packages["Kernel-Transcript"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ConsoleTranscript",e.Object,["textarea"],"Kernel-Transcript"),e.ConsoleTranscript.comment="I am a specific transcript emitting to the JavaScript console.\n\nIf no other transcript is registered, I am the default.",e.addMethod(e.method({selector:"clear",category:"printing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"clear",{},e.ConsoleTranscript)})},args:[],source:'clear\n	"no op"',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"cr",category:"printing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"cr",{},e.ConsoleTranscript)})},args:[],source:'cr\n	"no op"',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"open",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"open",{},e.ConsoleTranscript)})},args:[],source:"open",messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"show:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return console.log(String(n(t)._asString())),r},function(n){n.fill(r,"show:",{anObject:t},e.ConsoleTranscript)})},args:["anObject"],source:'show: anObject\n"Smalltalk objects should have no trouble displaying themselves on the Transcript; Javascript objects don\'t know how, so must be wrapped in a JSObectProxy."\n<console.log(String(_st(anObject)._asString()))>',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function r(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}var a=this;return e.withContext(function(){return n(r())._register_(a._new()),a},function(t){t.fill(a,"initialize",{},e.ConsoleTranscript.klass)})},args:[],source:"initialize\n	Transcript register: self new",messageSends:["register:","new"],referencedClasses:["Transcript"]}),e.ConsoleTranscript.klass),e.addClass("Transcript",e.Object,[],"Kernel-Transcript"),e.Transcript.comment="I am a facade for Transcript actions.\n\nI delegate actions to the currently registered transcript.\n\n## API\n\n    Transcript \n        show: 'hello world';\n        cr;\n        show: anObject.",e.Transcript.klass.iVarNames=["current"],e.addMethod(e.method({selector:"clear",category:"printing",fn:function(){var t=this;return e.withContext(function(){return n(t._current())._clear(),t},function(n){n.fill(t,"clear",{},e.Transcript.klass)})},args:[],source:"clear\n	self current clear",messageSends:["clear","current"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"cr",category:"printing",fn:function(){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(){return n(a._current())._show_(n(r())._cr()),a},function(t){t.fill(a,"cr",{},e.Transcript.klass)})},args:[],source:"cr\n	self current show: String cr",messageSends:["show:","current","cr"],referencedClasses:["String"]}),e.Transcript.klass),e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@current"]},function(n){n.fill(t,"current",{},e.Transcript.klass)})},args:[],source:"current\n	^ current",messageSends:[],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"inspect:",category:"printing",fn:function(t){var n=this;return e.withContext(function(){return n._show_(t),n},function(r){r.fill(n,"inspect:",{anObject:t},e.Transcript.klass)})},args:["anObject"],source:"inspect: anObject\n	self show: anObject",messageSends:["show:"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.Transcript.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"open",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return n(t._current())._open(),t},function(n){n.fill(t,"open",{},e.Transcript.klass)})},args:[],source:"open\n	self current open",messageSends:["open","current"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"register:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(r){r.fill(n,"register:",{aTranscript:t},e.Transcript.klass)})},args:["aTranscript"],source:"register: aTranscript\n	current := aTranscript",messageSends:[],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"show:",category:"printing",fn:function(t){var r=this;return e.withContext(function(){return n(r._current())._show_(t),r},function(n){n.fill(r,"show:",{anObject:t},e.Transcript.klass)})},args:["anObject"],source:"show: anObject\n	self current show: anObject",messageSends:["show:","current"],referencedClasses:[]}),e.Transcript.klass)}),define("amber_core/Kernel-Announcements",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Announcements"),e.packages["Kernel-Announcements"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("AnnouncementSubscription",e.Object,["valuable","announcementClass"],"Kernel-Announcements"),e.AnnouncementSubscription.comment="I am a single entry in a subscription registry of an `Announcer`.\nSeveral subscriptions by the same object is possible.",e.addMethod(e.method({selector:"announcementClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@announcementClass"]},function(n){n.fill(t,"announcementClass",{},e.AnnouncementSubscription)})},args:[],source:"announcementClass\n	^ announcementClass",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"announcementClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@announcementClass"]=t,n},function(r){r.fill(n,"announcementClass:",{aClass:t},e.AnnouncementSubscription)})},args:["aClass"],source:"announcementClass: aClass\n	announcementClass := aClass",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"block",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return t._deprecatedAPI(),e=t._valuable()},function(n){n.fill(t,"block",{},e.AnnouncementSubscription)})},args:[],source:'block\n	"Use #valuable instead"\n	\n	self deprecatedAPI.\n	^ self valuable',messageSends:["deprecatedAPI","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"block:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._deprecatedAPI(),n._valuable_(t),n},function(r){r.fill(n,"block:",{aValuable:t},e.AnnouncementSubscription)})},args:["aValuable"],source:'block: aValuable\n	"Use #valuable instead"\n	\n	self deprecatedAPI.\n	self valuable: aValuable',messageSends:["deprecatedAPI","valuable:"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"deliver:",category:"announcing",fn:function(t){var r=this;return e.withContext(function(){var a;return a=r._handlesAnnouncement_(t),e.assert(a)&&n(r._valuable())._value_(t),r},function(n){n.fill(r,"deliver:",{anAnnouncement:t},e.AnnouncementSubscription)})},args:["anAnnouncement"],source:"deliver: anAnnouncement\n	(self handlesAnnouncement: anAnnouncement)\n		ifTrue: [ self valuable value: anAnnouncement ]",messageSends:["ifTrue:","handlesAnnouncement:","value:","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"handlesAnnouncement:",category:"announcing",fn:function(r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var s=this;return e.withContext(function(e){var o,i,l,c;if(o=n(a())._current(),e.sendIdx.current=1,i=n(s._announcementClass())._name(),e.sendIdx.name=1,l=n(o)._at_(i),e.sendIdx["at:"]=1,($receiver=l)==t||null==$receiver)return!1;var u;return u=$receiver,c=n(n(n(a())._current())._at_(n(n(n(r)._class())._theNonMetaClass())._name()))._includesBehavior_(u)},function(t){t.fill(s,"handlesAnnouncement:",{anAnnouncement:r},e.AnnouncementSubscription)})},args:["anAnnouncement"],source:'handlesAnnouncement: anAnnouncement\n	"anAnnouncement might be announced from within another Amber environment"\n	\n	^ (Smalltalk current at: self announcementClass name)\n		ifNil: [ ^ false ]\n		ifNotNil: [ :class |\n		(Smalltalk current at: anAnnouncement class theNonMetaClass name) includesBehavior: class ]',messageSends:["ifNil:ifNotNil:","at:","current","name","announcementClass","includesBehavior:","theNonMetaClass","class"],referencedClasses:["Smalltalk"]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._valuable())._receiver()},function(n){n.fill(t,"receiver",{},e.AnnouncementSubscription)})},args:[],source:"receiver\n	^ self valuable receiver",messageSends:["receiver","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"valuable",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@valuable"]},function(n){n.fill(t,"valuable",{},e.AnnouncementSubscription)})},args:[],source:"valuable\n	^ valuable",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"valuable:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@valuable"]=t,n},function(r){r.fill(n,"valuable:",{aValuable:t},e.AnnouncementSubscription)})},args:["aValuable"],source:"valuable: aValuable\n	valuable := aValuable",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addClass("Announcer",e.Object,["registry","subscriptions"],"Kernel-Announcements"),e.Announcer.comment="I hold annoncement subscriptions (instances of `AnnouncementSubscription`) in a private registry.\nI announce (trigger) announces, which are then dispatched to all subscriptions.\n\nThe code is based on the announcements as [described by Vassili Bykov](http://www.cincomsmalltalk.com/userblogs/vbykov/blogView?searchCategory=Announcements%20Framework).\n\n## API\n\nUse `#announce:` to trigger an announcement.\n\nUse `#on:do:` or `#on:send:to:` to register subscriptions.\n\nWhen using `#on:send:to:`, unregistration can be done with `#unregister:`.\n\n## Usage example:\n\n    SystemAnnouncer current\n        on: ClassAdded\n        do: [ :ann | window alert: ann theClass name, ' added' ].",e.addMethod(e.method({selector:"announce:",category:"announcing",fn:function(t){var r=this;return e.withContext(function(a){return n(r["@subscriptions"])._do_(function(r){return e.withContext(function(){return n(r)._deliver_(t)},function(e){e.fillBlock({each:r},a,1)})}),r},function(n){n.fill(r,"announce:",{anAnnouncement:t},e.Announcer)})},args:["anAnnouncement"],source:"announce: anAnnouncement\n	subscriptions do: [ :each |\n		each deliver: anAnnouncement ]",messageSends:["do:","deliver:"],referencedClasses:[]}),e.Announcer),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a=this;return e.withContext(function(){return e.Announcer.superclass.fn.prototype._initialize.apply(n(a),[]),a["@subscriptions"]=n(r())._new(),a},function(t){t.fill(a,"initialize",{},e.Announcer)})},args:[],source:"initialize\n	super initialize.\n	subscriptions := OrderedCollection new",messageSends:["initialize","new"],referencedClasses:["OrderedCollection"]}),e.Announcer),e.addMethod(e.method({selector:"on:do:",category:"subscribing",fn:function(r,a){function s(){return e.AnnouncementSubscription||("undefined"==typeof AnnouncementSubscription?t:AnnouncementSubscription)}var o=this;return e.withContext(function(){var e,t;return e=n(s())._new(),n(e)._valuable_(a),n(e)._announcementClass_(r),t=n(e)._yourself(),n(o["@subscriptions"])._add_(t),o},function(t){t.fill(o,"on:do:",{aClass:r,aBlock:a},e.Announcer)})},args:["aClass","aBlock"],source:"on: aClass do: aBlock\n	subscriptions add: (AnnouncementSubscription new\n		valuable: aBlock;\n		announcementClass: aClass;\n		yourself)",messageSends:["add:","valuable:","new","announcementClass:","yourself"],referencedClasses:["AnnouncementSubscription"]}),e.Announcer),e.addMethod(e.method({selector:"on:send:to:",category:"subscribing",fn:function(r,a,s){function o(){return e.AnnouncementSubscription||("undefined"==typeof AnnouncementSubscription?t:AnnouncementSubscription)}function i(){return e.MessageSend||("undefined"==typeof MessageSend?t:MessageSend)}var l=this;return e.withContext(function(e){var t,c,u,d,f,h,g,m;return t=l["@subscriptions"],c=n(o())._new(),e.sendIdx["new"]=1,u=c,d=n(i())._new(),n(d)._receiver_(s),n(d)._selector_(a),f=n(d)._yourself(),e.sendIdx.yourself=1,h=f,n(u)._valuable_(h),n(c)._announcementClass_(r),g=n(c)._yourself(),m=g,n(t)._add_(m),l},function(t){t.fill(l,"on:send:to:",{aClass:r,aSelector:a,anObject:s},e.Announcer)})},args:["aClass","aSelector","anObject"],source:"on: aClass send: aSelector to: anObject\n	subscriptions add: (AnnouncementSubscription new\n		valuable: (MessageSend new\n			receiver: anObject;\n			selector: aSelector;\n			yourself);\n		announcementClass: aClass;\n		yourself)",messageSends:["add:","valuable:","new","receiver:","selector:","yourself","announcementClass:"],referencedClasses:["AnnouncementSubscription","MessageSend"]}),e.Announcer),e.addMethod(e.method({selector:"unsubscribe:",category:"subscribing",fn:function(t){var r=this;return e.withContext(function(a){return r["@subscriptions"]=n(r["@subscriptions"])._reject_(function(r){return e.withContext(function(){return n(n(r)._receiver()).__eq(t)},function(e){e.fillBlock({each:r},a,1)})}),r},function(n){n.fill(r,"unsubscribe:",{anObject:t},e.Announcer)})},args:["anObject"],source:"unsubscribe: anObject\n	subscriptions := subscriptions reject: [ :each |\n		each receiver = anObject ]",messageSends:["reject:","=","receiver"],referencedClasses:[]}),e.Announcer),e.addClass("SystemAnnouncer",e.Announcer,[],"Kernel-Announcements"),e.SystemAnnouncer.comment="My unique instance is the global announcer handling all Amber system-related announces.\n\n## API\n\nAccess to the unique instance is done via `#current`",e.SystemAnnouncer.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var r=this;return e.withContext(function(){var a,s;return a=r["@current"],($receiver=a)==t||null==$receiver?(r["@current"]=e.SystemAnnouncer.klass.superclass.fn.prototype._new.apply(n(r),[]),s=r["@current"]):s=a,s},function(t){t.fill(r,"current",{},e.SystemAnnouncer.klass)})},args:[],source:"current\n	^ current ifNil: [ current := super new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.SystemAnnouncer.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.SystemAnnouncer.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.SystemAnnouncer.klass),e.addClass("SystemAnnouncement",e.Object,["theClass"],"Kernel-Announcements"),e.SystemAnnouncement.comment="I am the superclass of all system announcements",e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.SystemAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(r){r.fill(n,"theClass:",{aClass:t},e.SystemAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"announcement"},function(n){n.fill(t,"heliosClass",{},e.SystemAnnouncement.klass)})},args:[],source:"heliosClass\n	^ 'announcement'",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement.klass),e.addClass("ClassAnnouncement",e.SystemAnnouncement,["theClass"],"Kernel-Announcements"),e.ClassAnnouncement.comment="I am the abstract superclass of class-related announcements.",e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ClassAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ClassAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(r){r.fill(n,"theClass:",{aClass:t},e.ClassAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassAnnouncement),e.addClass("ClassAdded",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassAdded.comment="I am emitted when a class is added to the system.\nSee ClassBuilder >> #addSubclassOf:... methods",e.addClass("ClassCommentChanged",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassCommentChanged.comment="I am emitted when the comment of a class changes. (Behavior >> #comment)",e.addClass("ClassDefinitionChanged",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassDefinitionChanged.comment="I am emitted when the definition of a class changes.\nSee ClassBuilder >> #class:instanceVariableNames:",e.addClass("ClassMigrated",e.ClassAnnouncement,["oldClass"],"Kernel-Announcements"),e.ClassMigrated.comment="I am emitted when a class is migrated.",e.addMethod(e.method({selector:"oldClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldClass"]},function(n){n.fill(t,"oldClass",{},e.ClassMigrated)})},args:[],source:"oldClass\n	^ oldClass",messageSends:[],referencedClasses:[]}),e.ClassMigrated),e.addMethod(e.method({selector:"oldClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldClass"]=t,n},function(r){r.fill(n,"oldClass:",{aClass:t},e.ClassMigrated)})},args:["aClass"],source:"oldClass: aClass\n	oldClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassMigrated),e.addClass("ClassMoved",e.ClassAnnouncement,["oldPackage"],"Kernel-Announcements"),e.ClassMoved.comment="I am emitted when a class is moved from one package to another.",e.addMethod(e.method({selector:"oldPackage",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldPackage"]},function(n){n.fill(t,"oldPackage",{},e.ClassMoved)})},args:[],source:"oldPackage\n	^ oldPackage",messageSends:[],referencedClasses:[]}),e.ClassMoved),e.addMethod(e.method({selector:"oldPackage:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldPackage"]=t,n},function(r){r.fill(n,"oldPackage:",{aPackage:t},e.ClassMoved)})},args:["aPackage"],source:"oldPackage: aPackage\n	oldPackage := aPackage",messageSends:[],referencedClasses:[]}),e.ClassMoved),e.addClass("ClassRemoved",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassRemoved.comment="I am emitted when a class is removed.\nSee Smalltalk >> #removeClass:",e.addClass("ClassRenamed",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassRenamed.comment="I am emitted when a class is renamed.\nSee ClassBuilder >> #renameClass:to:",e.addClass("MethodAnnouncement",e.SystemAnnouncement,["method"],"Kernel-Announcements"),e.MethodAnnouncement.comment="I am the abstract superclass of method-related announcements.",e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@method"]},function(n){n.fill(t,"method",{},e.MethodAnnouncement)})},args:[],source:"method\n	^ method",messageSends:[],referencedClasses:[]}),e.MethodAnnouncement),e.addMethod(e.method({selector:"method:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@method"]=t,n},function(r){r.fill(n,"method:",{aCompiledMethod:t},e.MethodAnnouncement)})},args:["aCompiledMethod"],source:"method: aCompiledMethod\n	method := aCompiledMethod",messageSends:[],referencedClasses:[]}),e.MethodAnnouncement),e.addClass("MethodAdded",e.MethodAnnouncement,[],"Kernel-Announcements"),e.MethodAdded.comment="I am emitted when a `CompiledMethod` is added to a class.",e.addClass("MethodModified",e.MethodAnnouncement,["oldMethod"],"Kernel-Announcements"),e.MethodModified.comment="I am emitted when a `CompiledMethod` is modified (a new method is installed). I hold a reference to the old method being replaced.",e.addMethod(e.method({selector:"oldMethod",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldMethod"]},function(n){n.fill(t,"oldMethod",{},e.MethodModified)})},args:[],source:"oldMethod\n	^ oldMethod",messageSends:[],referencedClasses:[]}),e.MethodModified),e.addMethod(e.method({selector:"oldMethod:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldMethod"]=t,n},function(r){r.fill(n,"oldMethod:",{aMethod:t},e.MethodModified)})},args:["aMethod"],source:"oldMethod: aMethod\n	oldMethod := aMethod",messageSends:[],referencedClasses:[]}),e.MethodModified),e.addClass("MethodMoved",e.MethodAnnouncement,["oldProtocol"],"Kernel-Announcements"),e.MethodMoved.comment="I am emitted when a `CompiledMethod` is moved to another protocol. I hold a refernce to the old protocol of the method.",e.addMethod(e.method({selector:"oldProtocol",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldProtocol"]},function(n){n.fill(t,"oldProtocol",{},e.MethodMoved)})},args:[],source:"oldProtocol\n	^ oldProtocol",messageSends:[],referencedClasses:[]}),e.MethodMoved),e.addMethod(e.method({selector:"oldProtocol:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldProtocol"]=t,n},function(r){r.fill(n,"oldProtocol:",{aString:t},e.MethodMoved)})},args:["aString"],source:"oldProtocol: aString\n	oldProtocol := aString",messageSends:[],referencedClasses:[]}),e.MethodMoved),e.addClass("MethodRemoved",e.MethodAnnouncement,[],"Kernel-Announcements"),e.MethodRemoved.comment="I am emitted when a `CompiledMethod` is removed from a class.",e.addClass("PackageAnnouncement",e.SystemAnnouncement,["package"],"Kernel-Announcements"),e.PackageAnnouncement.comment="I am the abstract superclass of package-related announcements.",e.addMethod(e.method({selector:"package",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@package"]},function(n){n.fill(t,"package",{},e.PackageAnnouncement)})},args:[],source:"package\n	^ package",messageSends:[],referencedClasses:[]}),e.PackageAnnouncement),e.addMethod(e.method({selector:"package:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@package"]=t,n},function(r){r.fill(n,"package:",{aPackage:t},e.PackageAnnouncement)})},args:["aPackage"],source:"package: aPackage\n	package := aPackage",messageSends:[],referencedClasses:[]}),e.PackageAnnouncement),e.addClass("PackageAdded",e.PackageAnnouncement,[],"Kernel-Announcements"),e.PackageAdded.comment="I am emitted when a `Package` is added to the system.",e.addClass("PackageRemoved",e.PackageAnnouncement,[],"Kernel-Announcements"),e.PackageRemoved.comment="I am emitted when a `Package` is removed from the system.",e.addClass("ProtocolAnnouncement",e.SystemAnnouncement,["theClass","protocol"],"Kernel-Announcements"),e.ProtocolAnnouncement.comment="I am the abstract superclass of protocol-related announcements.",e.addMethod(e.method({selector:"protocol",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@protocol"]},function(n){n.fill(t,"protocol",{},e.ProtocolAnnouncement)})},args:[],source:"protocol\n	^ protocol",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"protocol:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@protocol"]=t,n},function(r){r.fill(n,"protocol:",{aString:t},e.ProtocolAnnouncement)})},args:["aString"],source:"protocol: aString\n	protocol := aString",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ProtocolAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(r){r.fill(n,"theClass:",{aClass:t},e.ProtocolAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addClass("ProtocolAdded",e.ProtocolAnnouncement,[],"Kernel-Announcements"),e.ProtocolAdded.comment="I am emitted when a protocol is added to a class.",e.addClass("ProtocolRemoved",e.ProtocolAnnouncement,[],"Kernel-Announcements"),e.ProtocolRemoved.comment="I am emitted when a protocol is removed from a class."}),define("amber_core/Canvas",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Infrastructure","amber_core/Kernel-Methods","amber_core/Kernel-Collections"],function(e,t,n){e.addPackage("Canvas"),e.packages.Canvas.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("BrowserInterface",e.Object,[],"Canvas"),e.BrowserInterface.comment="I am platform interface class that tries to use window and jQuery; that is, one for browser environment.\n\n## API\n\n    self isAvailable. \"true if window and jQuery exist\".\n\n    self alert: 'Hey, there is a problem'.\n    self confirm: 'Affirmative?'.\n    self prompt: 'Your name:'.\n\n    self ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(jQuery)._ajax_(t)},function(n){n.fill(r,"ajax:",{anObject:t},e.BrowserInterface)})},args:["anObject"],source:"ajax: anObject\n	^ jQuery ajax: anObject",messageSends:["ajax:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(window)._alert_(t)},function(n){n.fill(r,"alert:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"alert: aString\n	^ window alert: aString",messageSends:["alert:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(window)._confirm_(t)},function(n){n.fill(r,"confirm:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"confirm: aString\n	^ window confirm: aString",messageSends:["confirm:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"isAvailable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return"undefined"!=typeof window&&"undefined"!=typeof jQuery},function(n){n.fill(t,"isAvailable",{},e.BrowserInterface)})},args:[],source:'isAvailable\n<return typeof window !== "undefined" && typeof jQuery !== "undefined">',messageSends:[],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(window)._prompt_(t)},function(n){n.fill(r,"prompt:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"prompt: aString\n	^ window prompt: aString",messageSends:["prompt:"],referencedClasses:[]}),e.BrowserInterface),e.BrowserInterface.klass.iVarNames=["uiWorker","ajaxWorker"],e.addClass("HTMLCanvas",e.Object,["root"],"Canvas"),e.HTMLCanvas.comment="I am a canvas for building HTML.\n\nI provide the `#tag:` method to create a `TagBrush` (wrapping a DOM element) and convenience methods in the `tags` protocol.\n\n## API\n\nMy instances are used as the argument of the `#renderOn:` method of `Widget` objects.\n\nThe `#with:` method is used to compose HTML, nesting tags. `#with:` can take a `TagBrush`, a `String`, a `BlockClosure` or a `Widget` as argument.\n\n## Usage example:\n\n    aCanvas a \n        with: [ aCanvas span with: 'click me' ];\n        onClick: [ window alert: 'clicked!' ]",e.addMethod(e.method({selector:"a",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("a")},function(n){n.fill(t,"a",{},e.HTMLCanvas)})},args:[],source:"a\n	^ self tag: 'a'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"abbr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("abbr")},function(n){n.fill(t,"abbr",{},e.HTMLCanvas)})},args:[],source:"abbr\n	^ self tag: 'abbr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"address",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("address")},function(n){n.fill(t,"address",{},e.HTMLCanvas)})},args:[],source:"address\n	^ self tag: 'address'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"area",category:"tags",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t._tag_("area")},function(n){n.fill(t,"area",{},e.HTMLCanvas)})},args:[],source:"area\n	^ self tag: 'area'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"article",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("article")},function(n){n.fill(t,"article",{},e.HTMLCanvas)})},args:[],source:"article\n	^ self tag: 'article'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"aside",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("aside")},function(n){n.fill(t,"aside",{},e.HTMLCanvas)})},args:[],source:"aside\n	^ self tag: 'aside'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"audio",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("audio")},function(n){n.fill(t,"audio",{},e.HTMLCanvas)})},args:[],source:"audio\n	^ self tag: 'audio'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"base",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("base")},function(n){n.fill(t,"base",{},e.HTMLCanvas)})},args:[],source:"base\n	^ self tag: 'base'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"blockquote",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("blockquote")},function(n){n.fill(t,"blockquote",{},e.HTMLCanvas)})},args:[],source:"blockquote\n	^ self tag: 'blockquote'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"body",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("body")},function(n){n.fill(t,"body",{},e.HTMLCanvas)})},args:[],source:"body\n	^ self tag: 'body'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"br",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("br")},function(n){n.fill(t,"br",{},e.HTMLCanvas)})},args:[],source:"br\n	^ self tag: 'br'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"button",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("button")},function(n){n.fill(t,"button",{},e.HTMLCanvas)})},args:[],source:"button\n	^ self tag: 'button'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"canvas",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("canvas")},function(n){n.fill(t,"canvas",{},e.HTMLCanvas)})},args:[],source:"canvas\n	^ self tag: 'canvas'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"caption",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("caption")},function(n){n.fill(t,"caption",{},e.HTMLCanvas)})},args:[],source:"caption\n	^ self tag: 'caption'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"cite",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("cite")},function(n){n.fill(t,"cite",{},e.HTMLCanvas)})},args:[],source:"cite\n	^ self tag: 'cite'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"code",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("code")},function(n){n.fill(t,"code",{},e.HTMLCanvas)})},args:[],source:"code\n	^ self tag: 'code'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"col",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("col")},function(n){n.fill(t,"col",{},e.HTMLCanvas)})},args:[],source:"col\n	^ self tag: 'col'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"colgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("colgroup")},function(n){n.fill(t,"colgroup",{},e.HTMLCanvas)})},args:[],source:"colgroup\n	^ self tag: 'colgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"command",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("command")},function(n){n.fill(t,"command",{},e.HTMLCanvas)})},args:[],source:"command\n	^ self tag: 'command'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"datalist",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("datalist")},function(n){n.fill(t,"datalist",{},e.HTMLCanvas)})},args:[],source:"datalist\n	^ self tag: 'datalist'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dd",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dd")},function(n){n.fill(t,"dd",{},e.HTMLCanvas)})},args:[],source:"dd\n	^ self tag: 'dd'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"del",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("del")},function(n){n.fill(t,"del",{},e.HTMLCanvas)})},args:[],source:"del\n	^ self tag: 'del'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"details",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("details")},function(n){n.fill(t,"details",{},e.HTMLCanvas)})},args:[],source:"details\n	^ self tag: 'details'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"div",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("div")},function(n){n.fill(t,"div",{},e.HTMLCanvas)})},args:[],source:"div\n	^ self tag: 'div'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"div:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._div())._with_(t)},function(n){n.fill(r,"div:",{aBlock:t},e.HTMLCanvas)})},args:["aBlock"],source:"div: aBlock\n	^ self div with: aBlock",messageSends:["with:","div"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dl",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dl")},function(n){n.fill(t,"dl",{},e.HTMLCanvas)})},args:[],source:"dl\n	^ self tag: 'dl'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dt",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dt")},function(n){n.fill(t,"dt",{},e.HTMLCanvas)})},args:[],source:"dt\n	^ self tag: 'dt'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"em",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("em")},function(n){n.fill(t,"em",{},e.HTMLCanvas)})},args:[],source:"em\n	^ self tag: 'em'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"embed",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("embed")},function(n){n.fill(t,"embed",{},e.HTMLCanvas)})},args:[],source:"embed\n	^ self tag: 'embed'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"entity:",category:"adding",fn:function(t){var r,a=this;return e.withContext(function(s){var o,i,l,c,u;return o="<span />"._asJQuery(),i="&".__comma(t),s.sendIdx[","]=2,l=n(i).__comma(";"),s.sendIdx[","]=1,c=n(o)._html_(l),r=n(c)._text(),u=n(n(r)._size()).__eq(1),e.assert(u)||a._error_("Not an HTML entity: ".__comma(t)),a._with_(r),a},function(n){n.fill(a,"entity:",{aString:t,result:r},e.HTMLCanvas)})},args:["aString"],source:"entity: aString\n	\"Adds a character representing html entity, eg.\n	html entity: 'copy'\n	adds a copyright sign.\n	If a name does not represent valid HTML entity, error is raised.\"\n	| result |\n	result := ('<span />' asJQuery html: '&', aString, ';') text.\n	result size = 1 ifFalse: [ self error: 'Not an HTML entity: ', aString ].\n	self with: result",messageSends:["text","html:","asJQuery",",","ifFalse:","=","size","error:","with:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"fieldset",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("fieldset")},function(n){n.fill(t,"fieldset",{},e.HTMLCanvas)})},args:[],source:"fieldset\n	^ self tag: 'fieldset'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"figcaption",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("figcaption")},function(n){n.fill(t,"figcaption",{},e.HTMLCanvas)})},args:[],source:"figcaption\n	^ self tag: 'figcaption'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"figure",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("figure")},function(n){n.fill(t,"figure",{},e.HTMLCanvas)})},args:[],source:"figure\n	^ self tag: 'figure'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"footer",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("footer")},function(n){n.fill(t,"footer",{},e.HTMLCanvas)})},args:[],source:"footer\n	^ self tag: 'footer'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"form",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("form")},function(n){n.fill(t,"form",{},e.HTMLCanvas)})},args:[],source:"form\n	^ self tag: 'form'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h1",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h1")},function(n){n.fill(t,"h1",{},e.HTMLCanvas)})},args:[],source:"h1\n	^ self tag: 'h1'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h1:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h1())._with_(t)},function(n){n.fill(r,"h1:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h1: anObject\n	^ self h1 with: anObject",messageSends:["with:","h1"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h2",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h2")},function(n){n.fill(t,"h2",{},e.HTMLCanvas)})},args:[],source:"h2\n	^ self tag: 'h2'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h2:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h2())._with_(t)},function(n){n.fill(r,"h2:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h2: anObject\n	^ self h2 with: anObject",messageSends:["with:","h2"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h3",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h3")},function(n){n.fill(t,"h3",{},e.HTMLCanvas)})},args:[],source:"h3\n	^ self tag: 'h3'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h3:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h3())._with_(t)},function(n){n.fill(r,"h3:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h3: anObject\n	^ self h3 with: anObject",messageSends:["with:","h3"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h4",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h4")},function(n){n.fill(t,"h4",{},e.HTMLCanvas)})},args:[],source:"h4\n	^ self tag: 'h4'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h4:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h4())._with_(t)},function(n){n.fill(r,"h4:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h4: anObject\n	^ self h4 with: anObject",messageSends:["with:","h4"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h5",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h5")},function(n){n.fill(t,"h5",{},e.HTMLCanvas)})},args:[],source:"h5\n	^ self tag: 'h5'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h5:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h5())._with_(t)},function(n){n.fill(r,"h5:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h5: anObject\n	^ self h5 with: anObject",messageSends:["with:","h5"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h6",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h6")},function(n){n.fill(t,"h6",{},e.HTMLCanvas)})},args:[],source:"h6\n	^ self tag: 'h6'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h6:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._h6())._with_(t)},function(n){n.fill(r,"h6:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h6: anObject\n	^ self h6 with: anObject",messageSends:["with:","h6"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"head",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("head")},function(n){n.fill(t,"head",{},e.HTMLCanvas)})},args:[],source:"head\n	^ self tag: 'head'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"header",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("header")},function(n){n.fill(t,"header",{},e.HTMLCanvas)})},args:[],source:"header\n	^ self tag: 'header'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"hgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("hgroup")},function(n){n.fill(t,"hgroup",{},e.HTMLCanvas)})},args:[],source:"hgroup\n	^ self tag: 'hgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"hr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("hr")},function(n){n.fill(t,"hr",{},e.HTMLCanvas)})},args:[],source:"hr\n	^ self tag: 'hr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"html",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("html")},function(n){n.fill(t,"html",{},e.HTMLCanvas)})},args:[],source:"html\n	^ self tag: 'html'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"iframe",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("iframe")},function(n){n.fill(t,"iframe",{},e.HTMLCanvas)})},args:[],source:"iframe\n	^ self tag: 'iframe'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"iframe:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._iframe())._src_(t)},function(n){n.fill(r,"iframe:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"iframe: aString\n	^ self iframe src: aString",messageSends:["src:","iframe"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"img",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("img")},function(n){n.fill(t,"img",{},e.HTMLCanvas)})},args:[],source:"img\n	^ self tag: 'img'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"img:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._img())._src_(t)},function(n){n.fill(r,"img:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"img: aString\n	^ self img src: aString",messageSends:["src:","img"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function r(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var a=this;return e.withContext(function(){var s;return e.HTMLCanvas.superclass.fn.prototype._initialize.apply(n(a),[]),s=a["@root"],(($receiver=s)==t||null==$receiver)&&(a["@root"]=n(r())._fromString_canvas_("div",a),a["@root"]),a},function(t){t.fill(a,"initialize",{},e.HTMLCanvas)})},args:[],source:"initialize\n	super initialize.\n	root ifNil: [ root := TagBrush fromString: 'div' canvas: self ]",messageSends:["initialize","ifNil:","fromString:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"initializeFromJQuery:",category:"initialization",fn:function(r){function a(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var s=this;return e.withContext(function(){return s["@root"]=n(a())._fromJQuery_canvas_(r,s),s},function(t){t.fill(s,"initializeFromJQuery:",{aJQuery:r},e.HTMLCanvas)})},args:["aJQuery"],source:"initializeFromJQuery: aJQuery\n	root := TagBrush fromJQuery: aJQuery canvas: self",messageSends:["fromJQuery:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"input",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("input")},function(n){n.fill(t,"input",{},e.HTMLCanvas)})},args:[],source:"input\n	^ self tag: 'input'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"label",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("label")},function(n){n.fill(t,"label",{},e.HTMLCanvas)})},args:[],source:"label\n	^ self tag: 'label'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"legend",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("legend")},function(n){n.fill(t,"legend",{},e.HTMLCanvas)})},args:[],source:"legend\n	^ self tag: 'legend'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"li",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("li")},function(n){n.fill(t,"li",{},e.HTMLCanvas)})},args:[],source:"li\n	^ self tag: 'li'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"li:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._li())._with_(t)},function(n){n.fill(r,"li:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"li: anObject\n	^ self li with: anObject",messageSends:["with:","li"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"link",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("link")},function(n){n.fill(t,"link",{},e.HTMLCanvas)})},args:[],source:"link\n	^ self tag: 'link'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"map",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("map")},function(n){n.fill(t,"map",{},e.HTMLCanvas)})},args:[],source:"map\n	^ self tag: 'map'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"mark",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("mark")},function(n){n.fill(t,"mark",{},e.HTMLCanvas)})},args:[],source:"mark\n	^ self tag: 'mark'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"menu",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("menu")},function(n){n.fill(t,"menu",{},e.HTMLCanvas)})},args:[],source:"menu\n	^ self tag: 'menu'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"meta",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("meta")},function(n){n.fill(t,"meta",{},e.HTMLCanvas)})},args:[],source:"meta\n	^ self tag: 'meta'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"nav",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("nav")},function(n){n.fill(t,"nav",{},e.HTMLCanvas)})},args:[],source:"nav\n	^ self tag: 'nav'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"newTag:",category:"tags",fn:function(r){function a(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var s=this;return e.withContext(function(){var e;return e=n(a())._fromString_canvas_(r,s)},function(t){t.fill(s,"newTag:",{aString:r},e.HTMLCanvas)})},args:["aString"],source:"newTag: aString\n	^ TagBrush fromString: aString canvas: self",messageSends:["fromString:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"noscript",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("noscript")},function(n){n.fill(t,"noscript",{},e.HTMLCanvas)})},args:[],source:"noscript\n	^ self tag: 'noscript'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"object",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("object")},function(n){n.fill(t,"object",{},e.HTMLCanvas)})},args:[],source:"object\n	^ self tag: 'object'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ol",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("ol")},function(n){n.fill(t,"ol",{},e.HTMLCanvas)})},args:[],source:"ol\n	^ self tag: 'ol'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ol:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._ol())._with_(t)},function(n){n.fill(r,"ol:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"ol: anObject\n	^ self ol with: anObject",messageSends:["with:","ol"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"optgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("optgroup")},function(n){n.fill(t,"optgroup",{},e.HTMLCanvas)})},args:[],source:"optgroup\n	^ self tag: 'optgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"option",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("option")},function(n){n.fill(t,"option",{},e.HTMLCanvas)})},args:[],source:"option\n	^ self tag: 'option'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"output",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("output")},function(n){n.fill(t,"output",{},e.HTMLCanvas)})},args:[],source:"output\n	^ self tag: 'output'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"p",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("p")},function(n){n.fill(t,"p",{},e.HTMLCanvas)})},args:[],source:"p\n	^ self tag: 'p'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"p:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._p())._with_(t)},function(n){n.fill(r,"p:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"p: anObject\n	^ self p with: anObject",messageSends:["with:","p"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"param",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("param")},function(n){n.fill(t,"param",{},e.HTMLCanvas)})},args:[],source:"param\n	^ self tag: 'param'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"pre",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("pre")},function(n){n.fill(t,"pre",{},e.HTMLCanvas)})},args:[],source:"pre\n	^ self tag: 'pre'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"progress",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("progress")},function(n){n.fill(t,"progress",{},e.HTMLCanvas)})},args:[],source:"progress\n	^ self tag: 'progress'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"root",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@root"]},function(n){n.fill(t,"root",{},e.HTMLCanvas)})},args:[],source:"root\n	^ root",messageSends:[],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"root:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@root"]=t,n},function(r){r.fill(n,"root:",{aTagBrush:t},e.HTMLCanvas)})},args:["aTagBrush"],source:"root: aTagBrush\n	root := aTagBrush",messageSends:[],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"script",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("script")},function(n){n.fill(t,"script",{},e.HTMLCanvas)})},args:[],source:"script\n	^ self tag: 'script'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"section",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("section")},function(n){n.fill(t,"section",{},e.HTMLCanvas)})},args:[],source:"section\n	^ self tag: 'section'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"select",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("select")},function(n){n.fill(t,"select",{},e.HTMLCanvas)})},args:[],source:"select\n	^ self tag: 'select'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"small",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("small")},function(n){n.fill(t,"small",{},e.HTMLCanvas)})},args:[],source:"small\n	^ self tag: 'small'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"snippet:",category:"accessing",fn:function(r){function a(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var s,o,i=this;return e.withContext(function(t){var l,c,u;return s=n(n(r)._asJQuery())._clone(),l=n(a())._fromJQuery_canvas_(s,i),t.sendIdx["fromJQuery:canvas:"]=1,i._with_(l),o=n(s)._find_('[data-snippet="*"]'),c=n(n(o)._toArray())._isEmpty(),e.assert(c)&&(o=s),u=n(a())._fromJQuery_canvas_(n(o)._removeAttr_("data-snippet"),i)},function(t){t.fill(i,"snippet:",{anElement:r,clone:s,caret:o},e.HTMLCanvas)})},args:["anElement"],source:'snippet: anElement\n	"Adds clone of anElement, finds [data-snippet=""*""] subelement\n	and returns TagBrush as if that subelement was just added.\n	\n	Rarely needed to use directly, use `html foo` dynamically installed method\n	for a snippet named foo."\n	\n	| clone caret |\n	\n	clone := anElement asJQuery clone.\n	self with: (TagBrush fromJQuery: clone canvas: self).\n	caret := clone find: \'[data-snippet="*"]\'.\n	caret toArray isEmpty ifTrue: [ caret := clone ].\n	^ TagBrush fromJQuery: (caret removeAttr: \'data-snippet\') canvas: self',messageSends:["clone","asJQuery","with:","fromJQuery:canvas:","find:","ifTrue:","isEmpty","toArray","removeAttr:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"source",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("source")},function(n){n.fill(t,"source",{},e.HTMLCanvas)})},args:[],source:"source\n	^ self tag: 'source'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"span",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("span")},function(n){n.fill(t,"span",{},e.HTMLCanvas)})},args:[],source:"span\n	^ self tag: 'span'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"span:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._span())._with_(t)},function(n){n.fill(r,"span:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"span: anObject\n	^ self span with: anObject",messageSends:["with:","span"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"strong",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("strong")},function(n){n.fill(t,"strong",{},e.HTMLCanvas)})},args:[],source:"strong\n	^ self tag: 'strong'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"strong:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._strong())._with_(t)},function(n){n.fill(r,"strong:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"strong: anObject\n	^ self strong with: anObject",messageSends:["with:","strong"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"style",category:"tags",fn:function(){function r(){return e.StyleTag||("undefined"==typeof StyleTag?t:StyleTag)}var a=this;return e.withContext(function(){var e;return e=n(a["@root"])._addBrush_(n(r())._canvas_(a))},function(t){t.fill(a,"style",{},e.HTMLCanvas)})},args:[],source:"style\n	^ root addBrush: (StyleTag canvas: self)",messageSends:["addBrush:","canvas:"],referencedClasses:["StyleTag"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"style:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._style(),n(e)._with_(t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"style:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"style: aString\n	^ self style with: aString; yourself",messageSends:["with:","style","yourself"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"sub",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("sub")},function(n){n.fill(t,"sub",{},e.HTMLCanvas)})},args:[],source:"sub\n	^ self tag: 'sub'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"summary",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("summary")},function(n){n.fill(t,"summary",{},e.HTMLCanvas)})},args:[],source:"summary\n	^ self tag: 'summary'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"sup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("sup")},function(n){n.fill(t,"sup",{},e.HTMLCanvas)})},args:[],source:"sup\n	^ self tag: 'sup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"table",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("table")},function(n){n.fill(t,"table",{},e.HTMLCanvas)})},args:[],source:"table\n	^ self tag: 'table'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tag:",category:"tags",fn:function(t){var r=this;
return e.withContext(function(){var e;return e=n(r["@root"])._addBrush_(r._newTag_(t))},function(n){n.fill(r,"tag:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"tag: aString\n	^ root addBrush: (self newTag: aString)",messageSends:["addBrush:","newTag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tbody",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tbody")},function(n){n.fill(t,"tbody",{},e.HTMLCanvas)})},args:[],source:"tbody\n	^ self tag: 'tbody'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"td",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("td")},function(n){n.fill(t,"td",{},e.HTMLCanvas)})},args:[],source:"td\n	^ self tag: 'td'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"textarea",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("textarea")},function(n){n.fill(t,"textarea",{},e.HTMLCanvas)})},args:[],source:"textarea\n	^ self tag: 'textarea'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tfoot",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tfoot")},function(n){n.fill(t,"tfoot",{},e.HTMLCanvas)})},args:[],source:"tfoot\n	^ self tag: 'tfoot'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"th",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("th")},function(n){n.fill(t,"th",{},e.HTMLCanvas)})},args:[],source:"th\n	^ self tag: 'th'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"thead",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("thead")},function(n){n.fill(t,"thead",{},e.HTMLCanvas)})},args:[],source:"thead\n	^ self tag: 'thead'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"time",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("time")},function(n){n.fill(t,"time",{},e.HTMLCanvas)})},args:[],source:"time\n	^ self tag: 'time'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"title",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("title")},function(n){n.fill(t,"title",{},e.HTMLCanvas)})},args:[],source:"title\n	^ self tag: 'title'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tr")},function(n){n.fill(t,"tr",{},e.HTMLCanvas)})},args:[],source:"tr\n	^ self tag: 'tr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ul",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("ul")},function(n){n.fill(t,"ul",{},e.HTMLCanvas)})},args:[],source:"ul\n	^ self tag: 'ul'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ul:",category:"tags",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._ul())._with_(t)},function(n){n.fill(r,"ul:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"ul: anObject\n	^ self ul with: anObject",messageSends:["with:","ul"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"video",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("video")},function(n){n.fill(t,"video",{},e.HTMLCanvas)})},args:[],source:"video\n	^ self tag: 'video'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"with:",category:"adding",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._root())._with_(t)},function(n){n.fill(r,"with:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"with: anObject\n	^ self root with: anObject",messageSends:["with:","root"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"browserVersion",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(jQuery)._at_("browser"))._version()},function(n){n.fill(t,"browserVersion",{},e.HTMLCanvas.klass)})},args:[],source:"browserVersion\n	^ (jQuery at: #browser) version",messageSends:["version","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isMSIE",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,r;return t=n(n(jQuery)._at_("browser"))._at_("msie"),e.sendIdx["at:"]=1,r=n(t)._notNil()},function(n){n.fill(t,"isMSIE",{},e.HTMLCanvas.klass)})},args:[],source:"isMSIE\n	^ ((jQuery at: #browser) at: #msie) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isMozilla",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,r;return t=n(n(jQuery)._at_("browser"))._at_("mozilla"),e.sendIdx["at:"]=1,r=n(t)._notNil()},function(n){n.fill(t,"isMozilla",{},e.HTMLCanvas.klass)})},args:[],source:"isMozilla\n	^ ((jQuery at: #browser) at: #mozilla) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isOpera",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,r;return t=n(n(jQuery)._at_("browser"))._at_("opera"),e.sendIdx["at:"]=1,r=n(t)._notNil()},function(n){n.fill(t,"isOpera",{},e.HTMLCanvas.klass)})},args:[],source:"isOpera\n	^ ((jQuery at: #browser) at: #opera) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isWebkit",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,r;return t=n(n(jQuery)._at_("browser"))._at_("webkit"),e.sendIdx["at:"]=1,r=n(t)._notNil()},function(n){n.fill(t,"isWebkit",{},e.HTMLCanvas.klass)})},args:[],source:"isWebkit\n	^ ((jQuery at: #browser) at: #webkit) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"onJQuery:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._basicNew(),n(e)._initializeFromJQuery_(t),n(e)._initialize(),a=n(e)._yourself(),s=a},function(n){n.fill(r,"onJQuery:",{aJQuery:t},e.HTMLCanvas.klass)})},args:["aJQuery"],source:"onJQuery: aJQuery\n	^ self basicNew\n		initializeFromJQuery: aJQuery;\n		initialize;\n		yourself",messageSends:["initializeFromJQuery:","basicNew","initialize","yourself"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addClass("HTMLSnippet",e.Object,["snippets"],"Canvas"),e.HTMLSnippet.comment="My sole instance is the registry of html snippets.\n`HTMLSnippet current` is the public singleton instance.\n\nOn startup, it scans the document for any html elements\nwith `'data-snippet=\"foo\"'` attribute and takes them off the document,\nremembering them in the store under the specified name.\nIt also install method #foo into HTMLCanvas dynamically.\n\nEvery html snippet should mark a 'caret', a place where contents\ncan be inserted, by 'data-snippet=\"*\"' (a special name for caret).\nFor example:\n\n`<li data-snippet='menuelement' class='...'><a data-snippet='*'></a></li>`\n\ndefines a list element with a link inside; the link itself is marked as a caret.\n\nYou can later issue\n\n`html menuelement href: '/foo'; with: 'A foo'`\n\nto insert the whole snippet and directly manipulate the caret, so it renders:\n\n`<li class='...'><a href='/foo'>A foo</a></li>`\n\nFor a self-careting tags (not very useful, but you do not need to fill class etc.\nyou can use\n\n`<div class='lots of classes' attr1='one' attr2='two' data-snippet='*bar'></div>`\n\nand in code later do:\n\n`html bar with: [ xxx ]`\n\nto render\n\n`<div class='lots of classes' attr1='one' attr2='two'>...added by xxx...</div>`",e.addMethod(e.method({selector:"initializeFromJQuery:",category:"initialization",fn:function(t){var r=this;return e.withContext(function(a){return n(r._snippetsFromJQuery_(t))._do_(function(t){return e.withContext(function(){return r._installSnippetFromJQuery_(n(t)._asJQuery())},function(e){e.fillBlock({each:t},a,1)})}),r},function(n){n.fill(r,"initializeFromJQuery:",{aJQuery:t},e.HTMLSnippet)})},args:["aJQuery"],source:'initializeFromJQuery: aJQuery\n	"Finds and takes out all snippets out of aJQuery.\n	Installs it into self."\n	\n	(self snippetsFromJQuery: aJQuery) do: [ :each |\n		self installSnippetFromJQuery: each asJQuery ]',messageSends:["do:","snippetsFromJQuery:","installSnippetFromJQuery:","asJQuery"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"installSnippetFromJQuery:",category:"snippet installation",fn:function(t){var r,a=this;return e.withContext(function(){var s,o;return r=n(t)._attr_("data-snippet"),s=n(r).__eq("*"),e.assert(s)||(o=n("^\\*"._asRegexp())._test_(r),e.assert(o)?(r=n(r)._allButFirst(),n(t)._attr_put_("data-snippet","*")):n(t)._removeAttr_("data-snippet"),a._snippetAt_install_(r,n(n(t)._detach())._get_(0))),a},function(n){n.fill(a,"installSnippetFromJQuery:",{element:t,name:r},e.HTMLSnippet)})},args:["element"],source:"installSnippetFromJQuery: element\n	| name |\n	name := element attr: 'data-snippet'.\n	name = '*' ifFalse: [\n		('^\\*' asRegexp test: name)\n			ifTrue: [\n				name := name allButFirst.\n				element attr: 'data-snippet' put: '*' ]\n			ifFalse: [\n				element removeAttr: 'data-snippet' ].\n		self snippetAt: name install: (element detach get: 0) ]",messageSends:["attr:","ifFalse:","=","ifTrue:ifFalse:","test:","asRegexp","allButFirst","attr:put:","removeAttr:","snippetAt:install:","get:","detach"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:",category:"accessing",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(r._snippets())._at_(t)},function(n){n.fill(r,"snippetAt:",{aString:t},e.HTMLSnippet)})},args:["aString"],source:"snippetAt: aString\n	^ self snippets at: aString",messageSends:["at:","snippets"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:compile:",category:"method generation",fn:function(r,a){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}function o(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var i=this;return e.withContext(function(t){return n(n(s())._new())._installMethod_forClass_category_(n(n(function(r){return e.withContext(function(){return n(r)._snippet_(a)},function(e){e.fillBlock({htmlReceiver:r},t,1)})})._currySelf())._asCompiledMethod_(r),o(),"**snippets"),i},function(t){t.fill(i,"snippetAt:compile:",{aString:r,anElement:a},e.HTMLSnippet)})},args:["aString","anElement"],source:"snippetAt: aString compile: anElement\n	\"Method generation for the snippet.\n	The selector is aString, the method block uses anElement\"\n	\n	ClassBuilder new\n		installMethod: ([ :htmlReceiver | htmlReceiver snippet: anElement ]\n			currySelf asCompiledMethod: aString)\n		forClass: HTMLCanvas\n		category: '**snippets'",messageSends:["installMethod:forClass:category:","new","asCompiledMethod:","currySelf","snippet:"],referencedClasses:["ClassBuilder","HTMLCanvas"]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:install:",category:"snippet installation",fn:function(t,r){var a=this;return e.withContext(function(){return n(a._snippets())._at_put_(t,r),a._snippetAt_compile_(t,r),a},function(n){n.fill(a,"snippetAt:install:",{aString:t,anElement:r},e.HTMLSnippet)})},args:["aString","anElement"],source:"snippetAt: aString install: anElement\n	self snippets at: aString put: anElement.\n	self snippetAt: aString compile: anElement",messageSends:["at:put:","snippets","snippetAt:compile:"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippets",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var r,a;return r=n["@snippets"],($receiver=r)==t||null==$receiver?(n["@snippets"]=e.HashedCollection._from_([]),a=n["@snippets"]):a=r,a},function(t){t.fill(n,"snippets",{},e.HTMLSnippet)})},args:[],source:"snippets\n	^ snippets ifNil: [ snippets := #{} ]",messageSends:["ifNil:"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetsFromJQuery:",category:"private",fn:function(t){var r=this;return e.withContext(function(){var e;return e=n(n(t)._find_("[data-snippet]"))._toArray()},function(n){n.fill(r,"snippetsFromJQuery:",{aJQuery:t},e.HTMLSnippet)})},args:["aJQuery"],source:"snippetsFromJQuery: aJQuery\n	^ (aJQuery find: '[data-snippet]') toArray",messageSends:["toArray","find:"],referencedClasses:[]}),e.HTMLSnippet),e.HTMLSnippet.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@current"]},function(n){n.fill(t,"current",{},e.HTMLSnippet.klass)})},args:[],source:"current\n	^ current",messageSends:[],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"ensureCurrent",category:"initialization",fn:function(){var r=this;return e.withContext(function(){var a,s,o;return a=r["@current"],(($receiver=a)==t||null==$receiver)&&(s=e.HTMLSnippet.klass.superclass.fn.prototype._new.apply(n(r),[]),n(s)._initializeFromJQuery_(n(document)._asJQuery()),o=n(s)._yourself(),r["@current"]=o,r["@current"]),r},function(t){t.fill(r,"ensureCurrent",{},e.HTMLSnippet.klass)})},args:[],source:"ensureCurrent\n	current ifNil: [\n		current := super new\n			initializeFromJQuery: document asJQuery;\n			yourself ]",messageSends:["ifNil:","initializeFromJQuery:","new","asJQuery","yourself"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){var r;return e.HTMLSnippet.klass.superclass.fn.prototype._initialize.apply(n(t),[]),r=t._isDOMAvailable(),e.assert(r)&&t._ensureCurrent(),t},function(n){n.fill(t,"initialize",{},e.HTMLSnippet.klass)})},args:[],source:"initialize\n	super initialize.\n	self isDOMAvailable ifTrue: [\n		self ensureCurrent ]",messageSends:["initialize","ifTrue:","isDOMAvailable","ensureCurrent"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"isDOMAvailable",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return"undefined"!=typeof document},function(n){n.fill(t,"isDOMAvailable",{},e.HTMLSnippet.klass)})},args:[],source:"isDOMAvailable\n	< return typeof document !== 'undefined' >",messageSends:[],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.HTMLSnippet.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addClass("TagBrush",e.Object,["canvas","element"],"Canvas"),e.TagBrush.comment="I am a brush for building a single DOM element (which I hold onto).\n\nAll tags but `<style>` are instances of me (see the `StyleBrush` class).\n\n## API\n\n1. Nesting\n\n    Use `#with:` to nest tags. `#with:` can take aString, `TagBrush` instance, a `Widget` or block closure as parameter.\n\n    Example: `aTag with: aString with: aCanvas div`\n\n2. Events\n\n    The `events` protocol contains all methods related to events (delegating event handling to jQuery).\n\n    Example: `aTag onClick: [ window alert: 'clicked' ]`\n\n3. Attributes\n\n    The `attribute` protocol contains methods for attribute manipulation (delegating to jQuery too).\n\n    Example: `aTag at: 'value' put: 'hello world'`\n\n4. Raw access and jQuery\n\n    The `#element` method can be used to access to JavaScript DOM element object.\n\n    Example: `aTag element cssStyle`\n\n    Use `#asJQuery` to access to the receiver converted into a jQuery object.\n\n    Example: `aTag asJQuery css: 'color' value: 'red'`",e.addMethod(e.method({selector:"accesskey:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("accesskey",t),n},function(r){r.fill(n,"accesskey:",{aString:t},e.TagBrush)})},args:["aString"],source:"accesskey: aString\n	self at: 'accesskey' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"action:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("action",t),n},function(r){r.fill(n,"action:",{aString:t},e.TagBrush)})},args:["aString"],source:"action: aString\n	self at: 'action' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"addBrush:",category:"adding",fn:function(t){var r=this;return e.withContext(function(){return r._appendChild_(n(t)._element()),t},function(n){n.fill(r,"addBrush:",{aTagBrush:t},e.TagBrush)})},args:["aTagBrush"],source:"addBrush: aTagBrush\n	self appendChild: aTagBrush element.\n	^ aTagBrush",messageSends:["appendChild:","element"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"align:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("align",t),n},function(r){r.fill(n,"align:",{aString:t},e.TagBrush)})},args:["aString"],source:"align: aString\n	self at: 'align' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"alt:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("alt",t),n},function(r){r.fill(n,"alt:",{aString:t},e.TagBrush)})},args:["aString"],source:"alt: aString\n	self at: 'alt' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"append:",category:"adding",fn:function(t){var r=this;return e.withContext(function(){return n(t)._appendToBrush_(r),r},function(n){n.fill(r,"append:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"append: anObject\n	anObject appendToBrush: self",messageSends:["appendToBrush:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendBlock:",category:"adding",fn:function(t){var r,a=this;return e.withContext(function(e){return r=n(a["@canvas"])._root(),n(a["@canvas"])._root_(a),e.sendIdx["root:"]=1,n(t)._value_(a["@canvas"]),n(a["@canvas"])._root_(r),a},function(n){n.fill(a,"appendBlock:",{aBlock:t,root:r},e.TagBrush)})},args:["aBlock"],source:"appendBlock: aBlock\n	| root |\n	root := canvas root.\n	canvas root: self.\n	aBlock value: canvas.\n	canvas root: root",messageSends:["root","root:","value:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendChild:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){var e=n["@element"];return null==e.canHaveChildren||e.canHaveChildren?e.appendChild(t):e.text=String(e.text)+t.innerHTML,n},function(r){r.fill(n,"appendChild:",{anElement:t},e.TagBrush)})},args:["anElement"],source:"appendChild: anElement\n	\"In IE7 and IE8 appendChild fails on several node types. So we need to check\"\n	<var element=self['@element'];\n	if (null == element.canHaveChildren || element.canHaveChildren) {\n		element.appendChild(anElement);\n	} else {\n		element.text = String(element.text) + anElement.innerHTML;\n	} >",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendDocumentFragment:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].appendChild(t["@element"]),n},function(r){r.fill(n,"appendDocumentFragment:",{anElement:t},e.TagBrush)})},args:["anElement"],source:"appendDocumentFragment: anElement\n	<var element=self['@element'].appendChild(anElement[\"@element\"])>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendString:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){return n._appendChild_(n._createTextNodeFor_(t)),n},function(r){r.fill(n,"appendString:",{aString:t},e.TagBrush)})},args:["aString"],source:"appendString: aString\n	self appendChild: (self createTextNodeFor: aString)",messageSends:["appendChild:","createTextNodeFor:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendToBrush:",category:"adding",fn:function(t){var r=this;return e.withContext(function(){return n(t)._addBrush_(r),r},function(n){n.fill(r,"appendToBrush:",{aTagBrush:t},e.TagBrush)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush addBrush: self",messageSends:["addBrush:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"asJQuery",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._element())._asJQuery()},function(n){n.fill(t,"asJQuery",{},e.TagBrush)})},args:[],source:"asJQuery\n	^ self element asJQuery",messageSends:["asJQuery","element"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"at:put:",category:"attributes",fn:function(t,n){var r=this;return e.withContext(function(){return r["@element"].setAttribute(t,n),r},function(a){a.fill(r,"at:put:",{aString:t,aValue:n},e.TagBrush)})},args:["aString","aValue"],source:"at: aString put: aValue\n	<self['@element'].setAttribute(aString, aValue)>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"class:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].className=t,n},function(r){r.fill(n,"class:",{aString:t},e.TagBrush)})},args:["aString"],source:"class: aString\n	<self['@element'].className = aString>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"cols:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("cols",t),n},function(r){r.fill(n,"cols:",{aString:t},e.TagBrush)})},args:["aString"],source:"cols: aString\n	self at: 'cols' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contenteditable:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("contenteditable",t),n},function(r){r.fill(n,"contenteditable:",{aString:t},e.TagBrush)})},args:["aString"],source:"contenteditable: aString\n	self at: 'contenteditable' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contents:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){var e;return n._empty(),e=n._append_(t),n},function(r){r.fill(n,"contents:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"contents: anObject\n	self\n	empty;\n	append: anObject",messageSends:["empty","append:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contextmenu:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("contextmenu",t),n},function(r){r.fill(n,"contextmenu:",{aString:t},e.TagBrush)})},args:["aString"],source:"contextmenu: aString\n	self at: 'contextmenu' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"createElementFor:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return document.createElement(String(t))},function(r){r.fill(n,"createElementFor:",{aString:t},e.TagBrush)})},args:["aString"],source:"createElementFor: aString\n	<return document.createElement(String(aString))>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"createTextNodeFor:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return document.createTextNode(String(t))},function(r){r.fill(n,"createTextNodeFor:",{aString:t},e.TagBrush)})},args:["aString"],source:"createTextNodeFor: aString\n	<return document.createTextNode(String(aString))>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"draggable:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("draggable",t),n},function(r){r.fill(n,"draggable:",{aString:t},e.TagBrush)})},args:["aString"],source:"draggable: aString\n	self at: 'draggable' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"element",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@element"]},function(n){n.fill(t,"element",{},e.TagBrush)})},args:[],source:"element\n	^ element",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"empty",category:"adding",fn:function(){var t=this;return e.withContext(function(){return n(t._asJQuery())._empty(),t},function(n){n.fill(t,"empty",{},e.TagBrush)})},args:[],source:"empty\n	self asJQuery empty",messageSends:["empty","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"for:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("for",t),n},function(r){r.fill(n,"for:",{aString:t},e.TagBrush)})},args:["aString"],source:"for: aString\n	self at: 'for' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"height:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("height",t),n},function(r){r.fill(n,"height:",{aString:t},e.TagBrush)})},args:["aString"],source:"height: aString\n	self at: 'height' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"hidden",category:"attributes",fn:function(){var t=this;return e.withContext(function(){return t._at_put_("hidden","hidden"),t},function(n){n.fill(t,"hidden",{},e.TagBrush)})},args:[],source:"hidden\n	self at: 'hidden' put: 'hidden'",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"href:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("href",t),n},function(r){r.fill(n,"href:",{aString:t},e.TagBrush)})},args:["aString"],source:"href: aString\n	self at: 'href' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"id:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("id",t),n},function(r){r.fill(n,"id:",{aString:t},e.TagBrush)})},args:["aString"],source:"id: aString\n	self at: 'id' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"initializeFromJQuery:canvas:",category:"initialization",fn:function(t,r){var a=this;return e.withContext(function(){return a["@element"]=n(t)._get_(0),a["@canvas"]=r,a},function(n){n.fill(a,"initializeFromJQuery:canvas:",{aJQuery:t,aCanvas:r},e.TagBrush)})},args:["aJQuery","aCanvas"],source:"initializeFromJQuery: aJQuery canvas: aCanvas\n	element := aJQuery get: 0.\n	canvas := aCanvas",messageSends:["get:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"initializeFromString:canvas:",category:"initialization",fn:function(t,n){var r=this;return e.withContext(function(){return r["@element"]=r._createElementFor_(t),r["@canvas"]=n,r},function(a){a.fill(r,"initializeFromString:canvas:",{aString:t,aCanvas:n},e.TagBrush)})},args:["aString","aCanvas"],source:"initializeFromString: aString canvas: aCanvas\n	element := self createElementFor: aString.\n	canvas := aCanvas",messageSends:["createElementFor:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"media:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("media",t),n},function(r){r.fill(n,"media:",{aString:t},e.TagBrush)})},args:["aString"],source:"media: aString\n	self at: 'media' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"method:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("method",t),n},function(r){r.fill(n,"method:",{aString:t},e.TagBrush)})},args:["aString"],source:"method: aString\n	self at: 'method' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"name:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("name",t),n},function(r){r.fill(n,"name:",{aString:t},e.TagBrush)})},args:["aString"],source:"name: aString\n	self at: 'name' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onBlur:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("blur",t),r},function(n){n.fill(r,"onBlur:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onBlur: aBlock\n	self asJQuery bind: 'blur' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onChange:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("change",t),r},function(n){n.fill(r,"onChange:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onChange: aBlock\n	self asJQuery bind: 'change' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onClick:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("click",t),r},function(n){n.fill(r,"onClick:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onClick: aBlock\n	self asJQuery bind: 'click' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onDblClick:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("dblclick",t),r},function(n){n.fill(r,"onDblClick:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onDblClick: aBlock\n	self asJQuery bind: 'dblclick' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocus:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("focus",t),r},function(n){n.fill(r,"onFocus:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocus: aBlock\n	self asJQuery bind: 'focus' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocusIn:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("focusin",t),r},function(n){n.fill(r,"onFocusIn:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocusIn: aBlock\n	self asJQuery bind: 'focusin' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocusOut:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("focusout",t),r},function(n){n.fill(r,"onFocusOut:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocusOut: aBlock\n	self asJQuery bind: 'focusout' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onHover:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("hover",t),r},function(n){n.fill(r,"onHover:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onHover: aBlock\n	self asJQuery bind: 'hover' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyDown:",category:"events",fn:function(t){var r=this;
return e.withContext(function(){return n(r._asJQuery())._bind_do_("keydown",t),r},function(n){n.fill(r,"onKeyDown:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyDown: aBlock\n	self asJQuery bind: 'keydown' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyPress:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("keypress",t),r},function(n){n.fill(r,"onKeyPress:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyPress: aBlock\n	self asJQuery bind: 'keypress' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyUp:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("keyup",t),r},function(n){n.fill(r,"onKeyUp:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyUp: aBlock\n	self asJQuery bind: 'keyup' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseDown:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mousedown",t),r},function(n){n.fill(r,"onMouseDown:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseDown: aBlock\n	self asJQuery bind: 'mousedown' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseEnter:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mouseenter",t),r},function(n){n.fill(r,"onMouseEnter:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseEnter: aBlock\n	self asJQuery bind: 'mouseenter' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseLeave:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mouseleave",t),r},function(n){n.fill(r,"onMouseLeave:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseLeave: aBlock\n	self asJQuery bind: 'mouseleave' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseMove:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mousemove",t),r},function(n){n.fill(r,"onMouseMove:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseMove: aBlock\n	self asJQuery bind: 'mousemove' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseOut:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mouseout",t),r},function(n){n.fill(r,"onMouseOut:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseOut: aBlock\n	self asJQuery bind: 'mouseout' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseOver:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mouseover",t),r},function(n){n.fill(r,"onMouseOver:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseOver: aBlock\n	self asJQuery bind: 'mouseover' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseUp:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("mouseup",t),r},function(n){n.fill(r,"onMouseUp:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseUp: aBlock\n	self asJQuery bind: 'mouseup' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onSelect:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("select",t),r},function(n){n.fill(r,"onSelect:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onSelect: aBlock\n	self asJQuery bind: 'select' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onSubmit:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("submit",t),r},function(n){n.fill(r,"onSubmit:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onSubmit: aBlock\n	self asJQuery bind: 'submit' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onUnload:",category:"events",fn:function(t){var r=this;return e.withContext(function(){return n(r._asJQuery())._bind_do_("unload",t),r},function(n){n.fill(r,"onUnload:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onUnload: aBlock\n	self asJQuery bind: 'unload' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"placeholder:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("placeholder",t),n},function(r){r.fill(n,"placeholder:",{aString:t},e.TagBrush)})},args:["aString"],source:"placeholder: aString\n	self at: 'placeholder' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"rel:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("rel",t),n},function(r){r.fill(n,"rel:",{aString:t},e.TagBrush)})},args:["aString"],source:"rel: aString\n	self at: 'rel' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"removeAt:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].removeAttribute(t),n},function(r){r.fill(n,"removeAt:",{aString:t},e.TagBrush)})},args:["aString"],source:"removeAt: aString\n	<self['@element'].removeAttribute(aString)>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"rows:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("rows",t),n},function(r){r.fill(n,"rows:",{aString:t},e.TagBrush)})},args:["aString"],source:"rows: aString\n	self at: 'rows' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"src:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("src",t),n},function(r){r.fill(n,"src:",{aString:t},e.TagBrush)})},args:["aString"],source:"src: aString\n	self at: 'src' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"style:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("style",t),n},function(r){r.fill(n,"style:",{aString:t},e.TagBrush)})},args:["aString"],source:"style: aString\n	self at: 'style' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"tabindex:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("tabindex",t),n},function(r){r.fill(n,"tabindex:",{aNumber:t},e.TagBrush)})},args:["aNumber"],source:"tabindex: aNumber\n	self at: 'tabindex' put: aNumber",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"target:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("target",t),n},function(r){r.fill(n,"target:",{aString:t},e.TagBrush)})},args:["aString"],source:"target: aString\n	self at: 'target' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"title:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("title",t),n},function(r){r.fill(n,"title:",{aString:t},e.TagBrush)})},args:["aString"],source:"title: aString\n	self at: 'title' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"type:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("type",t),n},function(r){r.fill(n,"type:",{aString:t},e.TagBrush)})},args:["aString"],source:"type: aString\n	self at: 'type' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"valign:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("valign",t),n},function(r){r.fill(n,"valign:",{aString:t},e.TagBrush)})},args:["aString"],source:"valign: aString\n	self at: 'valign' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"value:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("value",t),n},function(r){r.fill(n,"value:",{aString:t},e.TagBrush)})},args:["aString"],source:"value: aString\n	self at: 'value' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"width:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("width",t),n},function(r){r.fill(n,"width:",{aString:t},e.TagBrush)})},args:["aString"],source:"width: aString\n	self at: 'width' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"with:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){return n._append_(t),n},function(r){r.fill(n,"with:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"with: anObject\n	self append: anObject",messageSends:["append:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"fromJQuery:canvas:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(){var e,s,o;return e=a._new(),n(e)._initializeFromJQuery_canvas_(t,r),s=n(e)._yourself(),o=s},function(n){n.fill(a,"fromJQuery:canvas:",{aJQuery:t,aCanvas:r},e.TagBrush.klass)})},args:["aJQuery","aCanvas"],source:"fromJQuery: aJQuery canvas: aCanvas\n	^ self new\n		initializeFromJQuery: aJQuery canvas: aCanvas;\n		yourself",messageSends:["initializeFromJQuery:canvas:","new","yourself"],referencedClasses:[]}),e.TagBrush.klass),e.addMethod(e.method({selector:"fromString:canvas:",category:"instance creation",fn:function(t,r){var a=this;return e.withContext(function(){var e,s,o;return e=a._new(),n(e)._initializeFromString_canvas_(t,r),s=n(e)._yourself(),o=s},function(n){n.fill(a,"fromString:canvas:",{aString:t,aCanvas:r},e.TagBrush.klass)})},args:["aString","aCanvas"],source:"fromString: aString canvas: aCanvas\n	^ self new\n	initializeFromString: aString canvas: aCanvas;\n	yourself",messageSends:["initializeFromString:canvas:","new","yourself"],referencedClasses:[]}),e.TagBrush.klass),e.addClass("StyleTag",e.TagBrush,[],"Canvas"),e.StyleTag.comment="I'm a `<style>` tag use to inline CSS or load a stylesheet.\n\n## Motivation\n\nThe need for a specific class comes from Internet Explorer compatibility issues.",e.addMethod(e.method({selector:"with:",category:"adding",fn:function(r){function a(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var s=this;return e.withContext(function(){var t;return t=n(a())._isMSIE(),e.assert(t)?n(n(s._element())._styleSheet())._cssText_(r):e.StyleTag.superclass.fn.prototype._with_.apply(n(s),[r]),s},function(t){t.fill(s,"with:",{aString:r},e.StyleTag)})},args:["aString"],source:"with: aString\n	HTMLCanvas isMSIE\n		ifTrue: [ self element styleSheet cssText: aString ]\n		ifFalse: [ super with: aString ].",messageSends:["ifTrue:ifFalse:","isMSIE","cssText:","styleSheet","element","with:"],referencedClasses:["HTMLCanvas"]}),e.StyleTag),e.addMethod(e.method({selector:"canvas:",category:"instance creation",fn:function(t){var r=this;return e.withContext(function(){var e,a,s;return e=r._new(),n(e)._initializeFromString_canvas_("style",t),a=n(e)._yourself(),s=a},function(n){n.fill(r,"canvas:",{aCanvas:t},e.StyleTag.klass)})},args:["aCanvas"],source:"canvas: aCanvas\n	^ self new\n		initializeFromString: 'style' canvas: aCanvas;\n		yourself",messageSends:["initializeFromString:canvas:","new","yourself"],referencedClasses:[]}),e.StyleTag.klass),e.addClass("Widget",e.InterfacingObject,[],"Canvas"),e.Widget.comment="I am a presenter building HTML. Subclasses are typically reusable components.\n\n## API\n\nUse `#renderContentOn:` to build HTML. (See `HTMLCanvas` and `TagBrush` classes for more about building HTML).\n\nTo add a widget to the page, the convenience method `#appendToJQuery:` is very useful.\n\nExemple: \n\n    Counter new appendToJQuery: 'body' asJQuery",e.addMethod(e.method({selector:"appendToBrush:",category:"adding",fn:function(t){var r=this;return e.withContext(function(){return r._appendToJQuery_(n(t)._asJQuery()),r},function(n){n.fill(r,"appendToBrush:",{aTagBrush:t},e.Widget)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	self appendToJQuery: aTagBrush asJQuery",messageSends:["appendToJQuery:","asJQuery"],referencedClasses:[]}),e.Widget),e.addMethod(e.method({selector:"appendToJQuery:",category:"adding",fn:function(r){function a(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var s=this;return e.withContext(function(){return s._renderOn_(n(a())._onJQuery_(r)),s},function(t){t.fill(s,"appendToJQuery:",{aJQuery:r},e.Widget)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	self renderOn: (HTMLCanvas onJQuery: aJQuery)",messageSends:["renderOn:","onJQuery:"],referencedClasses:["HTMLCanvas"]}),e.Widget),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){return n},function(r){r.fill(n,"renderOn:",{html:t},e.Widget)})},args:["html"],source:"renderOn: html\n	self",messageSends:[],referencedClasses:[]}),e.Widget),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"widget"},function(n){n.fill(t,"heliosClass",{},e.Widget.klass)})},args:[],source:"heliosClass\n	^ 'widget'",messageSends:[],referencedClasses:[]}),e.Widget.klass),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var r=this;return e.withContext(function(){return n(t)._append_(r._asString()),r},function(n){n.fill(r,"appendToBrush:",{aTagBrush:t},e.Object)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush append: self asString",messageSends:["append:","asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(t){var r=this;return e.withContext(function(){return n(t)._append_(r._asString()),r},function(n){n.fill(r,"appendToJQuery:",{aJQuery:t},e.Object)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	aJQuery append: self asString",messageSends:["append:","asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var r=this;return e.withContext(function(){return n(t)._appendBlock_(r),r},function(n){n.fill(r,"appendToBrush:",{aTagBrush:t},e.BlockClosure)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush appendBlock: self",messageSends:["appendBlock:"],referencedClasses:[]}),e.BlockClosure),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(r){function a(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var s=this;return e.withContext(function(){return s._value_(n(a())._onJQuery_(r)),s},function(t){t.fill(s,"appendToJQuery:",{aJQuery:r},e.BlockClosure)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	self value: (HTMLCanvas onJQuery: aJQuery)",messageSends:["value:","onJQuery:"],referencedClasses:["HTMLCanvas"]}),e.BlockClosure),e.addMethod(e.method({selector:"asSnippet",category:"*Canvas",fn:function(){function r(){return e.HTMLSnippet||("undefined"==typeof HTMLSnippet?t:HTMLSnippet)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._current())._snippetAt_(a._asString())},function(t){t.fill(a,"asSnippet",{},e.CharacterArray)})},args:[],source:"asSnippet\n	^ HTMLSnippet current snippetAt: self asString",messageSends:["snippetAt:","current","asString"],referencedClasses:["HTMLSnippet"]}),e.CharacterArray),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var r=this;return e.withContext(function(){return n(t)._appendString_(r),r},function(n){n.fill(r,"appendToBrush:",{aTagBrush:t},e.String)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush appendString: self",messageSends:["appendString:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(t){var r=this;return e.withContext(function(){return n(t)._append_(r),r},function(n){n.fill(r,"appendToJQuery:",{aJQuery:t},e.String)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	aJQuery append: self",messageSends:["append:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJQuery",category:"*Canvas",fn:function(){var t=this;return e.withContext(function(){return jQuery(String(t))},function(n){n.fill(t,"asJQuery",{},e.String)})},args:[],source:"asJQuery\n	<return jQuery(String(self))>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJQuery",category:"*Canvas",fn:function(){var t=this;return e.withContext(function(){return jQuery(t["@jsObject"])},function(n){n.fill(t,"asJQuery",{},e.JSObjectProxy)})},args:[],source:"asJQuery\n	<return jQuery(self['@jsObject'])>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy)}),define("amber/deploy",["amber_vm/smalltalk","./helpers","jquery","amber_core/Kernel-Objects","amber_core/Kernel-Classes","amber_core/Kernel-Methods","amber_core/Kernel-Collections","amber_core/Kernel-Infrastructure","amber_core/Kernel-Exceptions","amber_core/Kernel-Transcript","amber_core/Kernel-Announcements","amber_core/Canvas"],function(e){return e}),require(["amber/deploy"],function(e){e.initialize()}),define("amber_deploy",function(){});