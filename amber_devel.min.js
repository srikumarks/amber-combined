/* ====================================================================
   |
   |   Amber Smalltalk
   |   http://amber-lang.net
   |
   ======================================================================

   ======================================================================
   |
   | Copyright (c) 2010-2013
   | Nicolas Petton <petton.nicolas@gmail.com>
   |
   | Copyright (c) 2012-2013
   | The Amber team https://github.com/amber-smalltalk?tab=members
   | Amber contributors https://github.com/amber-smalltalk/amber/graphs/contributors
   |
   | Amber is released under the MIT license
   |
   | Permission is hereby granted, free of charge, to any person obtaining
   | a copy of this software and associated documentation files (the
   | 'Software'), to deal in the Software without restriction, including
   | without limitation the rights to use, copy, modify, merge, publish,
   | distribute, sublicense, and/or sell copies of the Software, and to
   | permit persons to whom the Software is furnished to do so, subject to
   | the following conditions:
   |
   | The above copyright notice and this permission notice shall be
   | included in all copies or substantial portions of the Software.
   |
   | THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
   | EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   | MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   | IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
   | CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
   | TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
   | SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   |
   ==================================================================== */

/*! jQuery v1.8.3 jquery.com | jquery.org/license */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.widget.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.mouse.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.position.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.draggable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.droppable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.resizable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.selectable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.sortable.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.accordion.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.autocomplete.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.button.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.dialog.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.slider.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.tabs.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.datepicker.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.ui.progressbar.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.core.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.blind.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.bounce.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.clip.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.drop.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.explode.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.fade.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.fold.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.highlight.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.pulsate.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.scale.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.shake.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.slide.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*! jQuery UI - v1.8.24 - 2012-09-28
* https://github.com/jquery/jquery-ui
* Includes: jquery.effects.transfer.js
* Copyright (c) 2012 AUTHORS.txt; Licensed MIT, GPL */

/*
 *	Tabby jQuery plugin version 0.12
 *
 *	Ted Devito - http://teddevito.com/demos/textarea.html
 *
 *	Copyright (c) 2009 Ted Devito
 *	 
 *	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following 
 *	conditions are met:
 *	
 *		1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
 *		2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer  
 *			in the documentation and/or other materials provided with the distribution.
 *		3. The name of the author may not be used to endorse or promote products derived from this software without specific prior written 
 *			permission. 
 *	 
 *	THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
 *	IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE 
 *	LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, 
 *	PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY 
 *	THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT 
 *	OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */

"undefined"==typeof console&&(this.console={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}}),define("amber_vm/ensure-console",function(){}),function(e){"function"==typeof define?define("amber_lib/es5-shim/es5-shim.min",e):"function"==typeof YUI?YUI.add("es5",e):e()}(function(){function e(){}function t(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function n(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}function s(e){var t,s,r;if(n(e))return e;if(s=e.valueOf,"function"==typeof s&&(t=s.call(e),n(t)))return t;if(r=e.toString,"function"==typeof r&&(t=r.call(e),n(t)))return t;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var s=f.call(arguments,1),r=function(){if(this instanceof r){var e=n.apply(this,s.concat(f.call(arguments)));return Object(e)===e?e:this}return n.apply(t,s.concat(f.call(arguments)))};return n.prototype&&(e.prototype=n.prototype,r.prototype=new e,e.prototype=null),r});var r,a,o,i,l,c=Function.prototype.call,u=Array.prototype,d=Object.prototype,f=u.slice,h=c.bind(d.toString),m=c.bind(d.hasOwnProperty);if((l=m(d,"__defineGetter__"))&&(r=c.bind(d.__defineGetter__),a=c.bind(d.__defineSetter__),o=c.bind(d.__lookupGetter__),i=c.bind(d.__lookupSetter__)),2!=[1,2].splice(0).length){var g=Array.prototype.splice;Array.prototype.splice=function(){function e(e){for(var t=[];e--;)t.unshift(e);return t}var t,n=[];return n.splice.bind(n,0,0).apply(null,e(20)),n.splice.bind(n,0,0).apply(null,e(26)),t=n.length,n.splice(5,0,"XXX"),t+1==n.length?!0:void 0}()?function(e,t){return arguments.length?g.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}:function(e,t){var n,s=f.call(arguments,2),r=s.length;if(!arguments.length)return[];if(void 0===e&&(e=0),void 0===t&&(t=this.length-e),r>0){if(0>=t){if(e==this.length)return this.push.apply(this,s),[];if(0==e)return this.unshift.apply(this,s),[]}return n=f.call(this,e,e+t),s.push.apply(s,f.call(this,e+t,this.length)),s.unshift.apply(s,f.call(this,0,e)),s.unshift(0,this.length),g.apply(this,s),n}return g.call(this,e,t)}}if(1!=[].unshift(0)){var p=Array.prototype.unshift;Array.prototype.unshift=function(){return p.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(e){return"[object Array]"==h(e)});var _=Object("a"),C="a"!=_[0]||!(0 in _);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=arguments[1],r=-1,a=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError;for(;++r<a;)r in n&&e.call(s,n[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=n.length>>>0,r=Array(s),a=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var o=0;s>o;o++)o in n&&(r[o]=e.call(a,n[o],o,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,n=P(this),s=C&&"[object String]"==h(this)?this.split(""):n,r=s.length>>>0,a=[],o=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var i=0;r>i;i++)i in s&&(t=s[i],e.call(o,t,i,n)&&a.push(t));return a}),Array.prototype.every||(Array.prototype.every=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;s>a;a++)if(a in n&&!e.call(r,n[a],a,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=n.length>>>0,r=arguments[1];if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");for(var a=0;s>a;a++)if(a in n&&e.call(r,n[a],a,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!s&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,a=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in n){r=n[a++];break}if(++a>=s)throw new TypeError("reduce of empty array with no initial value")}for(;s>a;a++)a in n&&(r=e.call(void 0,r,n[a],a,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=P(this),n=C&&"[object String]"==h(this)?this.split(""):t,s=n.length>>>0;if("[object Function]"!=h(e))throw new TypeError(e+" is not a function");if(!s&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,a=s-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(a in n){r=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>a)return r;do a in this&&(r=e.call(void 0,r,n[a],a,t));while(a--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var n=C&&"[object String]"==h(this)?this.split(""):P(this),s=n.length>>>0;if(!s)return-1;var r=0;for(arguments.length>1&&(r=t(arguments[1])),r=r>=0?r:Math.max(0,s+r);s>r;r++)if(r in n&&n[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var n=C&&"[object String]"==h(this)?this.split(""):P(this),s=n.length>>>0;if(!s)return-1;var r=s-1;for(arguments.length>1&&(r=Math.min(r,t(arguments[1]))),r=r>=0?r:s-Math.abs(r);r>=0;r--)if(r in n&&e===n[r])return r;return-1}),!Object.keys){var v=!0,x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=x.length;for(var S in{toString:null})v=!1;Object.keys=function R(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var R=[];for(var t in e)m(e,t)&&R.push(t);if(v)for(var n=0,s=y;s>n;n++){var r=x[n];m(e,r)&&R.push(r)}return R}}var b=-621987552e5,w="-000001";Date.prototype.toISOString&&-1!==new Date(b).toISOString().indexOf(w)||(Date.prototype.toISOString=function(){var e,t,n,s,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(s=this.getUTCFullYear(),r=this.getUTCMonth(),s+=Math.floor(r/12),r=(r%12+12)%12,e=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],s=(0>s?"-":s>9999?"+":"")+("00000"+Math.abs(s)).slice(s>=0&&9999>=s?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return s+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var k=!1;try{k=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(b).toJSON().indexOf(w)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(I){}k||(Date.prototype.toJSON=function(){var e,t=Object(this),n=s(t);if("number"==typeof n&&!isFinite(n))return null;if(e=t.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(t)}),Date=function(e){function t(n,s,r,a,o,i,l){var c=arguments.length;if(this instanceof e){var u=1==c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,s,r,a,o,i,l):c>=6?new e(n,s,r,a,o,i):c>=5?new e(n,s,r,a,o):c>=4?new e(n,s,r,a):c>=3?new e(n,s,r):c>=2?new e(n,s):c>=1?new e(n):new e;return u.constructor=t,u}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return r[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}var s=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),r=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var a in e)t[a]=e[a];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var r=s.exec(t);if(r){var a,o=Number(r[1]),i=Number(r[2]||1)-1,l=Number(r[3]||1)-1,c=Number(r[4]||0),u=Number(r[5]||0),d=Number(r[6]||0),f=Math.floor(1e3*Number(r[7]||0)),h=!r[4]||r[8]?0:Number(new e(1970,0)),m="-"===r[9]?1:-1,g=Number(r[10]||0),p=Number(r[11]||0);return(u>0||d>0||f>0?24:25)>c&&60>u&&60>d&&1e3>f&&i>-1&&12>i&&24>g&&60>p&&l>-1&&l<n(o,i+1)-n(o,i)&&(a=60*(24*(n(o,i)+l)+c+g*m),a=1e3*(60*(a+u+p*m)+d)+f+h,a>=-864e13&&864e13>=a)?a:0/0}return e.parse.apply(this,arguments)},t}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function e(e,t){for(var n=-1;++n<o;)t+=e*i[n],i[n]=t%a,t=Math.floor(t/a)}function t(e){for(var t=o,n=0;--t>=0;)n+=i[t],i[t]=Math.floor(n/e),n=n%e*a}function n(){for(var e=o,t="";--e>=0;)if(""!==t||0===e||0!==i[e]){var n=String(i[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t}function s(e,t,n){return 0===t?n:1===t%2?s(e,t-1,n*e):s(e*e,t/2,n)}function r(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}var a,o,i;a=1e7,o=6,i=[0,0,0,0,0,0],Number.prototype.toFixed=function(a){var o,i,l,c,u,d,f,h;if(o=Number(a),o=o!==o?0:Math.floor(o),0>o||o>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(i=Number(this),i!==i)return"NaN";if(-1e21>=i||i>=1e21)return String(i);if(l="",0>i&&(l="-",i=-i),c="0",i>1e-21)if(u=r(i*s(2,69,1))-69,d=0>u?i*s(2,-u,1):i/s(2,u,1),d*=4503599627370496,u=52-u,u>0){for(e(0,d),f=o;f>=7;)e(1e7,0),f-=7;for(e(s(10,f,1),0),f=u-1;f>=23;)t(1<<23),f-=23;t(1<<f),e(1,1),t(2),c=n()}else e(0,d),e(1<<-u,0),c=n()+"0.00000000000000000000".slice(2,2+o);return o>0?(h=c.length,c=o>=h?l+"0.0000000000000000000".slice(0,o-h+2)+c:l+c.slice(0,h-o)+"."+c.slice(h-o)):c=l+c,c}}();var M=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||0==="".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];String.prototype.split=function(t,n){var s=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==Object.prototype.toString.call(t))return M.apply(this,arguments);var r,a,o,i,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),u=0,t=new RegExp(t.source,c+"g");for(s+="",e||(r=new RegExp("^"+t.source+"$(?!\\s)",c)),n=void 0===n?-1>>>0:n>>>0;(a=t.exec(s))&&(o=a.index+a[0].length,!(o>u&&(l.push(s.slice(u,a.index)),!e&&a.length>1&&a[0].replace(r,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(a[e]=void 0)}),a.length>1&&a.index<s.length&&Array.prototype.push.apply(l,a.slice(1)),i=a[0].length,u=o,l.length>=n)));)t.lastIndex===a.index&&t.lastIndex++;return u===s.length?(i||!t.test(""))&&l.push(""):l.push(s.slice(u)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(String.prototype.split=function(e,t){return void 0===e&&0===t?[]:M.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var T=String.prototype.substr;String.prototype.substr=function(e,t){return T.call(this,0>e?(e=this.length+e)<0?0:e:e,t)}}var A="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||A.trim()){A="["+A+"]";var N=new RegExp("^"+A+A+"*"),B=new RegExp(A+A+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(N,"").replace(B,"")}}var P=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),function(e){"function"==typeof define?define("amber_lib/es5-shim/es5-sham.min",e):"function"==typeof YUI?YUI.add("es5-sham",e):e()}(function(){function e(e){try{return e.sentinel=0,0===Object.getOwnPropertyDescriptor(e,"sentinel").value}catch(t){}}function t(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}var n,s,r,a,o,i=Function.prototype.call,l=Object.prototype,c=i.bind(l.hasOwnProperty);if((o=c(l,"__defineGetter__"))&&(n=i.bind(l.__defineGetter__),s=i.bind(l.__defineSetter__),r=i.bind(l.__lookupGetter__),a=i.bind(l.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:l)}),Object.defineProperty){var u=e({}),d="undefined"==typeof document||e(document.createElement("div"));if(!d||!u)var f=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||f){var h="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(h+e);if(f)try{return f.call(Object,e,t)}catch(n){}if(c(e,t)){var s={enumerable:!0,configurable:!0};if(o){var i=e.__proto__;e.__proto__=l;var u=r(e,t),d=a(e,t);if(e.__proto__=i,u||d)return u&&(s.get=u),d&&(s.set=d),s}return s.value=e[t],s.writable=!0,s}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var m,g=null===Object.prototype.__proto__;m=g||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function e(){}var t=document.createElement("iframe"),n=document.body||document.documentElement;t.style.display="none",n.appendChild(t),t.src="javascript:";var s=t.contentWindow.Object.prototype;return n.removeChild(t),t=null,delete s.constructor,delete s.hasOwnProperty,delete s.propertyIsEnumerable,delete s.isPrototypeOf,delete s.toLocaleString,delete s.toString,delete s.valueOf,s.__proto__=null,e.prototype=s,m=function(){return new e},new e},Object.create=function(e,t){function n(){}var s;if(null===e)s=m();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");n.prototype=e,s=new n,s.__proto__=e}return void 0!==t&&Object.defineProperties(s,t),s}}if(Object.defineProperty){var p=t({}),_="undefined"==typeof document||t(document.createElement("div"));if(!p||!_)var C=Object.defineProperty,v=Object.defineProperties}if(!Object.defineProperty||C){var x="Property description must be an object: ",y="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(y+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(x+i);if(C)try{return C.call(Object,e,t,i)}catch(u){}if(c(i,"value"))if(o&&(r(e,t)||a(e,t))){var d=e.__proto__;e.__proto__=l,delete e[t],e[t]=i.value,e.__proto__=d}else e[t]=i.value;else{if(!o)throw new TypeError(S);c(i,"get")&&n(e,t,i.get),c(i,"set")&&s(e,t,i.set)}return e}}(!Object.defineProperties||v)&&(Object.defineProperties=function(e,t){if(v)try{return v.call(Object,e,t)}catch(n){}for(var s in t)c(t,s)&&"__proto__"!=s&&Object.defineProperty(e,s,t[s]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(b){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)!==e)throw new TypeError;for(var t="";c(e,t);)t+="?";e[t]=!0;var n=c(e,t);return delete e[t],n})}),define("amber_vm/browser-compatibility",["./ensure-console","amber_lib/es5-shim/es5-shim.min","amber_lib/es5-shim/es5-sham.min"],{}),define("amber_vm/boot",["./browser-compatibility"],function(){function e(e,t,n){function s(e,t,n){for(var s=Object.keys(n||e),r=s.length,a=0;r>a;++a){var o=e[s[a]];"undefined"!=typeof o&&(t[s[a]]=o)}return t}var r=this,a={};t=t||"exports",n=n||"__init__";var o={value:null,enumerable:!1,configurable:!0,writable:!0};Object.defineProperties(this,{ensure:o,rebuild:o}),this.rebuild=function(){Object.keys(a).forEach(function(n){s({},e,(a[n]||0)[t])});var o=s(e,{}),i=[],l={};r.ensure=function(n){var o=r[n],c=a[n];for(s({},e,e);"function"==typeof o;)o=new o(r,e,c);return o&&!l[n]&&(l[n]=!0,i.push(o)),o&&!o[t]&&(o[t]=s(e,{})),r[n]=o},Object.keys(r).forEach(function(e){r.ensure(e)}),r.ensure=null,s(o,s({},e,e)),i.forEach(function(n){s(n[t]||{},e)}),i.forEach(function(e){e[n]&&e[n]()}),a=s(r,{})}}function t(e,t){return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,configurable:!0,writable:!0}}),e}function n(){}function s(){}function r(e,r){function a(){}t(a,n),this.nil=new a,this.__init__=function(){r.addPackage("Kernel-Objects"),r.addPackage("Kernel-Infrastructure"),r.wrapClassName("Object","Kernel-Objects",n,void 0,!1),r.wrapClassName("Smalltalk","Kernel-Infrastructure",s,r.Object,!1),r.wrapClassName("UndefinedObject","Kernel-Objects",a,r.Object,!1)}}function a(e,s){function r(){}function a(){this.elements=[]}function o(){this.elements=[]}e.ensure("augments"),e.ensure("root"),t(r,n),t(a,r),t(o,r),this.__init__=function(){s.wrapClassName("Organizer","Kernel-Infrastructure",r,s.Object,!1),s.wrapClassName("PackageOrganizer","Kernel-Infrastructure",a,s.Organizer,!1),s.wrapClassName("ClassOrganizer","Kernel-Infrastructure",o,s.Organizer,!1)},this.setupClassOrganization=function(e){e.organization=new o,e.organization.theClass=e},this.setupPackageOrganization=function(e){e.organization=new a},this.addOrganizationElement=function(e,t){e.organization.elements.addElement(t)},this.removeOrganizationElement=function(e,t){e.organization.elements.removeElement(t)}}function o(e,t){function n(t){return function(){var n=Array.prototype.slice.call(arguments);return e.messageSend.messageNotUnderstood(this,t,n)}}e.ensure("selectorConversion"),e.ensure("messageSend");var s=e.ensure("manipulation"),r=[],a=Object.create(null);this.selectors=[],this.get=function(e){var s=this.selectors.indexOf(e);if(-1!==s)return r[s];this.selectors.push(e);var o=t.selector(e);a[o]=!0;var i={jsSelector:o,fn:n(o)};return r.push(i),i},this.isSelector=function(e){return a[e]},this.installHandlers=function(e){for(var t=0;t<r.length;t++)s.installMethodIfAbsent(r[t],e)}}function i(e,t){function n(e,t){function n(t){var n=t.selector;e.methods[n]||r[n]||(a.installMethod(t,e),r[t.selector]=!0)}var r=Object.create(null);for(s(e),t=t||e.superclass;t&&t!==o;t=t.superclass)for(var i=Object.keys(t.methods),l=0;l<i.length;l++)n(t.methods[i[l]]);a.reinstallMethods(e)}function s(e){for(var t=e.fn.prototype,n=Object.getOwnPropertyNames(t),s=0;s<n.length;s++){var a=n[s];r.isSelector(a)&&(t[a]=null)}}var r=e.ensure("dnu"),a=e.ensure("manipulation"),o=e.ensure("root").nil;t.init=function(e){t.initClass(e),e.klass&&!e.meta&&t.initClass(e.klass)},t.initClass=function(e){e.wrapped&&n(e),(e===t.Object||e.wrapped)&&r.installHandlers(e)}}function l(){function e(e,t){Object.defineProperty(t.fn.prototype,e.jsSelector,{value:e.fn,enumerable:!1,configurable:!0,writable:!0})}this.installMethodIfAbsent=function(t,n){n.fn.prototype[t.jsSelector]||e(t,n)},this.installMethod=e,this.reinstallMethods=function(t){for(var n=t.methods,s=Object.keys(n),r=0;r<s.length;r++)e(n[s[r]],t)}}function c(e,s){function r(){}function a(){}function o(){}function i(){}function l(e){var t=new r;return t.pkgName=e.pkgName,g.setupPackageOrganization(t),t.properties=e.properties||{},t}function c(e){e=e||{};var n=u(e),s=n.instanceClass;return s.fn=e.fn||t(function(){},e.superclass.fn),s.subclasses=[],d(s,e),s.className=e.className,s.wrapped=e.wrapped||!1,n.className=e.className+" class",e.superclass&&(s.superclass=e.superclass,n.superclass=e.superclass.klass),s}function u(e){e=e||{};var n=new i;return n.fn=t(function(){},e.superclass?e.superclass.klass.fn:o),n.instanceClass=new n.fn,d(n),n}function d(e,t){t=t||{},e.iVarNames=t.iVarNames||[],e.pkg=t.pkg,g.setupClassOrganization(e),Object.defineProperty(e,"methods",{value:Object.create(null),enumerable:!1,configurable:!0,writable:!0}),Object.defineProperty(e.fn.prototype,"klass",{value:e,enumerable:!1,configurable:!0,writable:!0})}function f(e,t,n,r,a,o){var i=s.packages[e];if(!i)throw new Error("Missing package "+e);s[t]&&s[t].superclass==n?(s[t].iVarNames=r||[],i&&(s[t].pkg=i),o&&(o.prototype=s[t].fn.prototype,s[t].fn=o,o.prototype.constructor=o)):(s[t]&&s.removeClass(s[t]),s[t]=c({className:t,superclass:n,pkg:i,iVarNames:r,fn:o,wrapped:a}),h(s[t])),_.addElement(s[t]),g.addOrganizationElement(i,s[t])}function h(e){e.superclass&&e.superclass.subclasses.addElement(e)}function m(e){e.superclass&&e.superclass.subclasses.removeElement(e)}var g=e.ensure("organize"),p=e.ensure("root").nil;t(r,n),t(a,n),t(o,a),t(i,a),i.prototype.meta=!0,this.__init__=function(){s.addPackage("Kernel-Classes"),s.wrapClassName("Behavior","Kernel-Classes",a,s.Object,!1),s.wrapClassName("Metaclass","Kernel-Classes",i,s.Behavior,!1),s.wrapClassName("Class","Kernel-Classes",o,s.Behavior,!1),s.Object.klass.superclass=s.Class,h(s.Object.klass),s.wrapClassName("Package","Kernel-Infrastructure",r,s.Object,!1)};var _=[],C=[];s.packages={},a.prototype.toString=function(){return"Smalltalk "+this.className},s.addPackage=function(e,t){return e?(s.packages[e]?t&&(s.packages[e].properties=t):s.packages[e]=l({pkgName:e,properties:t}),s.packages[e]):p},r.prototype.withDefaultTransport=function(){var e=s.getDefaultTransportType();if(this.transport)throw new Error("Cannot set default transport; transport already set");return e&&(this.transport={type:e}),this},s.addClass=function(e,t,n,s){t==p&&(t=null),f(s,e,t,n,!1,null)},s.removeClass=function(e){g.removeOrganizationElement(e.pkg,e),_.removeElement(e),m(e),delete s[e.className]},s.wrapClassName=function(e,t,n,r,a){a=a!==!1,f(t,e,r,s[e]&&s[e].iVarNames,a,n),a&&C.addElement(s[e])},s.setClassConstructor=function(e,t){C.addElement(e),e.wrapped=!0,e.fn=t,Object.defineProperty(e.fn.prototype,"klass",{value:e,enumerable:!1,configurable:!0,writable:!0}),s.initClass(e)},s.alias=function(e,t){s[t]=e},s.classes=function(){return _},s.wrappedClasses=function(){return C},s.allSubclasses=function(e){return e._allSubclasses()}}function u(e,s){function r(){}function a(e){i.installMethodIfAbsent(e,s.Object);for(var t=s.wrappedClasses(),n=0;n<t.length;n++)i.installMethodIfAbsent(e,t[n])}function o(e){c.initialized()&&s.allSubclasses(e).forEach(function(e){s.initClass(e)})}var i=e.ensure("manipulation"),l=e.ensure("organize"),c=e.ensure("stInit"),u=e.ensure("dnu");e.ensure("selectorConversion"),e.ensure("classes"),e.ensure("classInit"),t(r,n),this.__init__=function(){s.addPackage("Kernel-Methods"),s.wrapClassName("CompiledMethod","Kernel-Methods",r,s.Object,!1)},s.method=function(e){var t=new r;return t.selector=e.selector,t.jsSelector=e.jsSelector,t.args=e.args||{},t.category=e.category,t.source=e.source,t.messageSends=e.messageSends||[],t.referencedClasses=e.referencedClasses||[],t.fn=e.fn,t},s.addMethod=function(e,t){e.jsSelector||(e.jsSelector=s.selector(e.selector)),i.installMethod(e,t),t.methods[e.selector]=e,e.methodClass=t,l.addOrganizationElement(t,e.category),o(t);for(var n=0;n<e.messageSends.length;n++){var r=u.get(e.messageSends[n]);c.initialized()&&a(r)}},s.removeMethod=function(e,t){if(t!==e.methodClass)throw new Error("Refusing to remove method "+e.methodClass.className+">>"+e.selector+" from different class "+t.className);delete t.fn.prototype[s.selector(e.selector)],delete t.methods[e.selector],s.initClass(t),o(t)},s.allSelectors=function(){return u.selectors}}function d(){"undefined"==typeof console&&(this.console={log:function(){},warn:function(){},info:function(){},debug:function(){},error:function(){}}),Array.prototype.addElement=function(e){"undefined"!=typeof e&&-1==this.indexOf(e)&&this.push(e)},Array.prototype.removeElement=function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)}}function f(e,t){e.ensure("classInit"),e.ensure("classes"),e.ensure("root").nil;var n=!1;t.initialize=function(){n||(t.classes().forEach(function(e){t.init(e)}),C(),t.classes().forEach(function(e){e._initialize()}),n=!0)},this.initialized=function(){return n},this.__init__=function(){t.addPackage("Kernel-Methods"),t.wrapClassName("Number","Kernel-Objects",Number,t.Object),t.wrapClassName("BlockClosure","Kernel-Methods",Function,t.Object),t.wrapClassName("Boolean","Kernel-Objects",Boolean,t.Object),t.wrapClassName("Date","Kernel-Objects",Date,t.Object),t.addPackage("Kernel-Collections"),t.addClass("Collection",t.Object,null,"Kernel-Collections"),t.addClass("IndexableCollection",t.Collection,null,"Kernel-Collections"),t.addClass("SequenceableCollection",t.IndexableCollection,null,"Kernel-Collections"),t.addClass("CharacterArray",t.SequenceableCollection,null,"Kernel-Collections"),t.wrapClassName("String","Kernel-Collections",String,t.CharacterArray),t.wrapClassName("Array","Kernel-Collections",Array,t.SequenceableCollection),t.wrapClassName("RegularExpression","Kernel-Collections",RegExp,t.Object),t.addPackage("Kernel-Exceptions"),t.wrapClassName("Error","Kernel-Exceptions",Error,t.Object),t.alias(t.Array,"OrderedCollection"),t.alias(t.Date,"Time")}}function h(e,t){var n=0;t.nextId=function(){return n+=1},t.readJSObject=function(e){var n=e,s=e.constructor===Object,r=e.constructor===Array;s&&(n=t.Dictionary._new());for(var a in e)s&&n._at_put_(a,t.readJSObject(e[a])),r&&(n[a]=t.readJSObject(e[a]));return n},t.assert=function(e){return void 0!==e&&e.klass===t.Boolean?1==e:(t.NonBooleanReceiver._new()._object_(e)._signal(),void 0)},t.reservedWords=["break","case","catch","continue","debugger","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","class","const","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield"],t.globalJsVariables=["jQuery","window","document","process","global"]}function m(e,s){function r(e,t){this.sendIdx={},this.homeContext=e,this.setup=t||function(){}}function a(e,t){var n=l(t),s=e(n);return c(n),s}function o(e){var t=s.JavaScriptException._on_(e);try{t._signal()}catch(n){}return t._context_(s.getThisContext()),t}function i(e){e.smalltalkError||(e=o(e)),s.ErrorHandler._current()._handleError_(e)}function l(e){return s.thisContext=new r(s.thisContext,e)}function c(e){s.thisContext=e.homeContext}e.ensure("selectorConversion");var u=e.ensure("root").nil;t(r,n),this.__init__=function(){s.addPackage("Kernel-Methods"),s.wrapClassName("MethodContext","Kernel-Methods",r,s.Object,!1),r.prototype.locals={},r.prototype.receiver=null,r.prototype.selector=null,r.prototype.lookupClass=null,r.prototype.fill=function(e,t,n,s){this.receiver=e,this.selector=t,this.locals=n||{},this.lookupClass=s,this.homeContext&&(this.homeContext.evaluatedSelector=t)},r.prototype.fillBlock=function(e,t,n){this.locals=e||{},this.outerContext=t,this.index=n||0},r.prototype.init=function(){var e=this.homeContext;e&&e.init(),this.setup(this)},r.prototype.method=function(){for(var e,t=this.lookupClass||this.receiver.klass;!e&&t;)e=t.methods[s.convertSelector(this.selector)],t=t.superclass;return e}},s.thisContext=void 0,s.withContext=function(e,t){if(s.thisContext)return a(e,t);try{return a(e,t)}catch(n){i(n),s.thisContext=null}},s.getThisContext=function(){return s.thisContext?(s.thisContext.init(),s.thisContext):u}}function g(e,t){function n(e,n,r){return void 0===e.klass||e.allowJavaScriptCalls?s(e,n,r):e._doesNotUnderstand_(t.Message._new()._selector_(t.convertSelector(n))._arguments_(r))}function s(e,n,s){var a=n._asJavaScriptSelector(),o=e[a];return"function"!=typeof o||/^[A-Z]/.test(a)?void 0!==o?s[0]?(e[a]=s[0],r):o:t.send(t.JSObjectProxy._on_(e),n,s):o.apply(e,s)}e.ensure("selectorConversion");var r=e.ensure("root").nil;t.send=function(e,t,s,a){var o;return null===e&&(e=r),o=a?a.fn.prototype[t]:e.klass&&e[t],o?o.apply(e,s):n(e,t,s)},"undefined"!=typeof jQuery&&(jQuery.allowJavaScriptCalls=!0),this.messageNotUnderstood=n}function p(e,t){function n(e){return e.replace(/^_/,"").replace(/_/g,":")}function s(e){return e.replace(/^_/,"").replace(/_and/g,"&").replace(/_or/g,"|").replace(/_plus/g,"+").replace(/_minus/g,"-").replace(/_star/g,"*").replace(/_slash/g,"/").replace(/_backslash/g,"\\").replace(/_tild/g,"~").replace(/_gt/g,">").replace(/_lt/g,"<").replace(/_eq/g,"=").replace(/_comma/g,",").replace(/_at/g,"@")}t.selector=function(e){var t="_"+e;return t=t.replace(/:/g,"_"),t=t.replace(/[\&]/g,"_and"),t=t.replace(/[\|]/g,"_or"),t=t.replace(/[+]/g,"_plus"),t=t.replace(/-/g,"_minus"),t=t.replace(/[*]/g,"_star"),t=t.replace(/[\/]/g,"_slash"),t=t.replace(/[\\]/g,"_backslash"),t=t.replace(/[\~]/g,"_tild"),t=t.replace(/>/g,"_gt"),t=t.replace(/</g,"_lt"),t=t.replace(/=/g,"_eq"),t=t.replace(/,/g,"_comma"),t=t.replace(/[@]/g,"_at")},t.convertSelector=function(e){return e.match(/__/)?s(e):n(e)}}function _(e,t){this.__init__=function(){t.amdRequire=t.amdRequire||null,t.defaultTransportType=t.defaultTransportType||"amd",t.defaultAmdNamespace=t.defaultAmdNamespace||"amber_core"}}function C(){x.messageSend=g,x.runtime=m,x.primitives=h,x.rebuild()}t(s,n);var v=new s,x=new e(v);return x.root=r,x.dnu=o,x.organize=a,x.selectorConversion=p,x.classInit=i,x.manipulation=l,x.classes=c,x.methods=u,x.stInit=f,x.augments=d,x.amdBrik=_,x.rebuild(),{smalltalk:v,nil:x.root.nil}}),define("amber_vm/smalltalk",["require","module","./boot"],function(e,t,n){var s=n.smalltalk;return s.amdRequire=e,s}),define("amber/helpers",["amber_vm/smalltalk","require"],function(e,t){return{popupHelios:function(){window.open(t.toUrl("amber_html/helios.html"),"Helios","menubar=no, status=no, scrollbars=no, menubar=no, width=1000, height=600")},get smalltalk(){return e}}}),function(e,t){function n(e){var t=mt[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function s(e,n,s){if(s===t&&1===e.nodeType){var r="data-"+n.replace(pt,"-$1").toLowerCase();if(s=e.getAttribute(r),"string"==typeof s){try{s="true"===s?!0:"false"===s?!1:"null"===s?null:+s+""===s?+s:gt.test(s)?Z.parseJSON(s):s}catch(a){}Z.data(e,n,s)}else s=t}return s}function r(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function o(){return!0}function i(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,s){var r=!!t.call(e,s,e);return r===n});if(t.nodeType)return Z.grep(e,function(e){return e===t===n});if("string"==typeof t){var s=Z.grep(e,function(e){return 1===e.nodeType});if(Dt.test(t))return Z.filter(t,s,!n);t=Z.filter(t,s)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===n})}function u(e){var t=Vt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,s,r,a=Z._data(e),o=Z._data(t,a),i=a.events;if(i){delete o.handle,o.events={};for(n in i)for(s=0,r=i[n].length;r>s;s++)Z.event.add(t,n,i[n][s])}o.data&&(o.data=Z.extend({},o.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Gt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function m(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Gt.test(e.type)&&(e.defaultChecked=e.checked)
}function p(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=Cn.length;r--;)if(t=Cn[r]+n,t in e)return t;return s}function _(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function C(e,t){for(var n,s,r=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(r[a]=Z._data(n,"olddisplay"),t?(!r[a]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&_(n)&&(r[a]=Z._data(n,"olddisplay",S(n.nodeName)))):(s=nn(n,"display"),!r[a]&&"none"!==s&&Z._data(n,"olddisplay",s)));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function v(e,t,n){var s=dn.exec(t);return s?Math.max(0,s[1]-(n||0))+(s[2]||"px"):t}function x(e,t,n,s){for(var r=n===(s?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=Z.css(e,n+_n[r],!0)),s?("content"===n&&(a-=parseFloat(nn(e,"padding"+_n[r]))||0),"margin"!==n&&(a-=parseFloat(nn(e,"border"+_n[r]+"Width"))||0)):(a+=parseFloat(nn(e,"padding"+_n[r]))||0,"padding"!==n&&(a+=parseFloat(nn(e,"border"+_n[r]+"Width"))||0));return a}function y(e,t,n){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,a=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=s||null==s){if(s=nn(e,t),(0>s||null==s)&&(s=e.style[t]),fn.test(s))return s;r=a&&(Z.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+x(e,t,n||(a?"border":"content"),r)+"px"}function S(e){if(mn[e])return mn[e];var t=Z("<"+e+">").appendTo(F.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(sn=F.body.appendChild(sn||Z.extend(F.createElement("iframe"),{frameBorder:0,width:0,height:0})),rn&&sn.createElement||(rn=(sn.contentWindow||sn.contentDocument).document,rn.write("<!doctype html><html><body>"),rn.close()),t=rn.body.appendChild(rn.createElement(e)),n=nn(t,"display"),F.body.removeChild(sn)),mn[e]=n,n}function b(e,t,n,s){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||yn.test(e)?s(e,r):b(e+"["+("object"==typeof r?t:"")+"]",r,n,s)});else if(n||"object"!==Z.type(t))s(e,t);else for(r in t)b(e+"["+r+"]",t[r],n,s)}function w(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var s,r,a,o=t.toLowerCase().split(tt),i=0,l=o.length;if(Z.isFunction(n))for(;l>i;i++)s=o[i],a=/^\+/.test(s),a&&(s=s.substr(1)||"*"),r=e[s]=e[s]||[],r[a?"unshift":"push"](n)}}function k(e,n,s,r,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var i,l=e[a],c=0,u=l?l.length:0,d=e===En;u>c&&(d||!i);c++)i=l[c](n,s,r),"string"==typeof i&&(!d||o[i]?i=t:(n.dataTypes.unshift(i),i=k(e,n,s,r,i,o)));return(d||!i)&&!o["*"]&&(i=k(e,n,s,r,"*",o)),i}function I(e,n){var s,r,a=Z.ajaxSettings.flatOptions||{};for(s in n)n[s]!==t&&((a[s]?e:r||(r={}))[s]=n[s]);r&&Z.extend(!0,e,r)}function M(e,n,s){var r,a,o,i,l=e.contents,c=e.dataTypes,u=e.responseFields;for(a in u)a in s&&(n[u[a]]=s[a]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){c.unshift(a);break}if(c[0]in s)o=c[0];else{for(a in s){if(!c[0]||e.converters[a+" "+c[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==c[0]&&c.unshift(o),s[o]):void 0}function T(e,t){var n,s,r,a,o=e.dataTypes.slice(),i=o[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=o[++c];)if("*"!==r){if("*"!==i&&i!==r){if(n=l[i+" "+r]||l["* "+r],!n)for(s in l)if(a=s.split(" "),a[1]===r&&(n=l[i+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[s]:l[s]!==!0&&(r=a[0],o.splice(c--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+i+" to "+r}}}i=r}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function B(){return setTimeout(function(){Qn=t},0),Qn=Z.now()}function P(e,t){Z.each(t,function(t,n){for(var s=(es[t]||[]).concat(es["*"]),r=0,a=s.length;a>r;r++)if(s[r].call(e,t,n))return})}function R(e,t,n){var s,r=0,a=Xn.length,o=Z.Deferred().always(function(){delete i.elem}),i=function(){for(var t=Qn||B(),n=Math.max(0,l.startTime+l.duration-t),s=n/l.duration||0,r=1-s,a=0,i=l.tweens.length;i>a;a++)l.tweens[a].run(r);return o.notifyWith(e,[l,r,n]),1>r&&i?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qn||B(),duration:n.duration,tweens:[],createTween:function(t,n){var s=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(s),s},stop:function(t){for(var n=0,s=t?l.tweens.length:0;s>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>r;r++)if(s=Xn[r].call(l,e,c,l.opts))return s;return P(l,c),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(i,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(e,t){var n,s,r,a,o;for(n in e)if(s=Z.camelCase(n),r=t[s],a=e[n],Z.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==s&&(e[s]=a,delete e[n]),o=Z.cssHooks[s],o&&"expand"in o){a=o.expand(a),delete e[s];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[s]=r}function j(e,t,n){var s,r,a,o,i,l,c,u,d,f=this,h=e.style,m={},g=[],p=e.nodeType&&_(e);n.queue||(u=Z._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,Z.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Z.support.shrinkWrapBlocks||f.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(s in t)if(a=t[s],$n.exec(a)){if(delete t[s],l=l||"toggle"===a,a===(p?"hide":"show"))continue;g.push(s)}if(o=g.length){i=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in i&&(p=i.hidden),l&&(i.hidden=!p),p?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in m)Z.style(e,t,m[t])});for(s=0;o>s;s++)r=g[s],c=f.createTween(r,p?i[r]:0),m[r]=i[r]||Z.style(e,r),r in i||(i[r]=c.start,p&&(c.end=c.start,c.start="width"===r||"height"===r?1:0))}}function D(e,t,n,s,r){return new D.prototype.init(e,t,n,s,r)}function E(e,t){var n,s={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=_n[r],s["margin"+n]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function q(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,L,F=e.document,z=e.location,H=e.navigator,J=e.jQuery,W=e.$,K=Array.prototype.push,U=Array.prototype.slice,Q=Array.prototype.indexOf,G=Object.prototype.toString,$=Object.prototype.hasOwnProperty,Y=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,V)},X=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,it=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ft=function(){F.addEventListener?(F.removeEventListener("DOMContentLoaded",ft,!1),Z.ready()):"complete"===F.readyState&&(F.detachEvent("onreadystatechange",ft),Z.ready())},ht={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,s){var r,a,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:st.exec(e),r&&(r[1]||!n)){if(r[1])return n=n instanceof Z?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:F,e=Z.parseHTML(r[1],o,!0),rt.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(a=F.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return s.find(e);this.length=1,this[0]=a}return this.context=F,this.selector=e,this}return!n||n.jquery?(n||s).find(e):this.constructor(n).find(e)}return Z.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return U.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var s=Z.merge(this.constructor(),e);return s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+n:t&&(s.selector=this.selector+"."+t+"("+n+")"),s},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(U.apply(this,arguments),"slice",U.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,s,r,a,o,i=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof i&&(u=i,i=arguments[1]||{},l=2),"object"!=typeof i&&!Z.isFunction(i)&&(i={}),c===l&&(i=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)s=i[n],r=e[n],i!==r&&(u&&r&&(Z.isPlainObject(r)||(a=Z.isArray(r)))?(a?(a=!1,o=s&&Z.isArray(s)?s:[]):o=s&&Z.isPlainObject(s)?s:{},i[n]=Z.extend(u,o,r)):r!==t&&(i[n]=r));return i},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=W),t&&e.jQuery===Z&&(e.jQuery=J),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!F.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(L.resolveWith(F,[Z]),Z.fn.trigger&&Z(F).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ht[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var s;for(s in e);return s===t||$.call(e,s)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||F,(s=rt.exec(e))?[t.createElement(s[1])]:(s=Z.buildFragment([e],t,n?null:[]),Z.merge([],(s.cacheable?Z.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):at.test(t.replace(it,"@").replace(lt,"]").replace(ot,""))?new Function("return "+t)():(Z.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var s,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,s=r.parseFromString(n,"text/xml")):(s=new ActiveXObject("Microsoft.XMLDOM"),s.async="false",s.loadXML(n))}catch(a){s=t}return(!s||!s.documentElement||s.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+n),s},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,s){var r,a=0,o=e.length,i=o===t||Z.isFunction(e);if(s)if(i){for(r in e)if(n.apply(e[r],s)===!1)break}else for(;o>a&&n.apply(e[a++],s)!==!1;);else if(i){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;o>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:Y&&!Y.call("﻿ ")?function(e){return null==e?"":Y.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,s=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?K.call(s,e):Z.merge(s,e)),s},inArray:function(e,t,n){var s;if(t){if(Q)return Q.call(t,e,n);for(s=t.length,n=n?0>n?Math.max(0,s+n):n:0;s>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var s=n.length,r=e.length,a=0;if("number"==typeof s)for(;s>a;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var s,r=[],a=0,o=e.length;for(n=!!n;o>a;a++)s=!!t(e[a],a),n!==s&&r.push(e[a]);return r},map:function(e,n,s){var r,a,o=[],i=0,l=e.length,c=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(c)for(;l>i;i++)r=n(e[i],i,s),null!=r&&(o[o.length]=r);else for(a in e)r=n(e[a],a,s),null!=r&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var s,r,a;return"string"==typeof n&&(s=e[n],n=e,e=s),Z.isFunction(e)?(r=U.call(arguments,2),a=function(){return e.apply(n,r.concat(U.call(arguments)))},a.guid=e.guid=e.guid||Z.guid++,a):t},access:function(e,n,s,r,a,o,i){var l,c=null==s,u=0,d=e.length;if(s&&"object"==typeof s){for(u in s)Z.access(e,n,u,s[u],1,o,r);a=1}else if(r!==t){if(l=i===t&&Z.isFunction(r),c&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,r),n=null)),n)for(;d>u;u++)n(e[u],s,l?r.call(e[u],u,n(e[u],s)):r,i);a=1}return a?e:c?n.call(e):d?n(e[0],s):o},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!L)if(L=Z.Deferred(),"complete"===F.readyState)setTimeout(Z.ready,1);else if(F.addEventListener)F.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",Z.ready,!1);else{F.attachEvent("onreadystatechange",ft),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&F.documentElement}catch(s){}n&&n.doScroll&&function r(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Z.ready()}}()}return L.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ht["[object "+t+"]"]=t.toLowerCase()}),V=Z(F);var mt={};Z.Callbacks=function(e){e="string"==typeof e?mt[e]||n(e):Z.extend({},e);var s,r,a,o,i,l,c=[],u=!e.once&&[],d=function(t){for(s=e.memory&&t,r=!0,l=o||0,o=0,i=c.length,a=!0;c&&i>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){s=!1;break}a=!1,c&&(u?u.length&&d(u.shift()):s?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function n(t){Z.each(t,function(t,s){var r=Z.type(s);"function"===r?(!e.unique||!f.has(s))&&c.push(s):s&&s.length&&"string"!==r&&n(s)})}(arguments),a?i=c.length:s&&(o=t,d(s))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,c,n))>-1;)c.splice(n,1),a&&(i>=n&&i--,l>=n&&l--)}),this},has:function(e){return Z.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=s=t,this},disabled:function(){return!c},lock:function(){return u=t,s||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],c&&(!r||u)&&(a?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",s={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,s){var a=s[0],o=e[t];r[s[1]](Z.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n:this,[e])}:n[a])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,s):s}},r={};return s.pipe=s.then,Z.each(t,function(e,a){var o=a[2],i=a[3];s[a[1]]=o.add,i&&o.add(function(){n=i},t[1^e][2].disable,t[2][2].lock),r[a[0]]=o.fire,r[a[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,s,r=0,a=U.call(arguments),o=a.length,i=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===i?e:Z.Deferred(),c=function(e,n,s){return function(r){n[e]=this,s[e]=arguments.length>1?U.call(arguments):r,s===t?l.notifyWith(n,s):--i||l.resolveWith(n,s)}};if(o>1)for(t=new Array(o),n=new Array(o),s=new Array(o);o>r;r++)a[r]&&Z.isFunction(a[r].promise)?a[r].promise().done(c(r,s,a)).fail(l.reject).progress(c(r,n,t)):--i;return i||l.resolveWith(s,a),l.promise()}}),Z.support=function(){var t,n,s,r,a,o,i,l,c,u,d,f=F.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),s=f.getElementsByTagName("a")[0],!n||!s||!n.length)return{};r=F.createElement("select"),a=r.appendChild(F.createElement("option")),o=f.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==f.className,enctype:!!F.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==F.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===F.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete f.test}catch(h){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),o=F.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),f.appendChild(o),i=F.createDocumentFragment(),i.appendChild(f.lastChild),t.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,i.removeChild(o),i.appendChild(f),f.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in f,u||(f.setAttribute(l,"return;"),u="function"==typeof f[l]),t[c+"Bubbles"]=u;return Z(function(){var n,s,r,a,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=F.getElementsByTagName("body")[0];i&&(n=F.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(n,i.firstChild),s=F.createElement("div"),n.appendChild(s),s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=s.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,s.innerHTML="",s.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===s.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==i.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,a=F.createElement("div"),a.style.cssText=s.style.cssText=o,a.style.marginRight=a.style.width="0",s.style.width="1px",s.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof s.style.zoom&&(s.innerHTML="",s.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===s.offsetWidth,s.style.display="block",s.style.overflow="visible",s.innerHTML="<div></div>",s.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==s.offsetWidth,n.style.zoom=1),i.removeChild(n),n=s=r=a=null)}),i.removeChild(f),n=s=r=a=o=i=f=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,pt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!r(e)},data:function(e,n,s,r){if(Z.acceptData(e)){var a,o,i=Z.expando,l="string"==typeof n,c=e.nodeType,u=c?Z.cache:e,d=c?e[i]:e[i]&&i;if(d&&u[d]&&(r||u[d].data)||!l||s!==t)return d||(c?e[i]=d=Z.deletedIds.pop()||Z.guid++:d=i),u[d]||(u[d]={},c||(u[d].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[d]=Z.extend(u[d],n):u[d].data=Z.extend(u[d].data,n)),a=u[d],r||(a.data||(a.data={}),a=a.data),s!==t&&(a[Z.camelCase(n)]=s),l?(o=a[n],null==o&&(o=a[Z.camelCase(n)])):o=a,o}},removeData:function(e,t,n){if(Z.acceptData(e)){var s,a,o,i=e.nodeType,l=i?Z.cache:e,c=i?e[Z.expando]:Z.expando;if(l[c]){if(t&&(s=n?l[c]:l[c].data)){Z.isArray(t)||(t in s?t=[t]:(t=Z.camelCase(t),t=t in s?[t]:t.split(" ")));for(a=0,o=t.length;o>a;a++)delete s[t[a]];if(!(n?r:Z.isEmptyObject)(s))return}(n||(delete l[c].data,r(l[c])))&&(i?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var r,a,o,i,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=Z.data(c),1===c.nodeType&&!Z._data(c,"parsedAttrs"))){for(o=c.attributes,l=o.length;l>u;u++)i=o[u].name,i.indexOf("data-")||(i=Z.camelCase(i.substring(5)),s(c,i,d[i]));Z._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",a=r[1]+"!",Z.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+a,[r[0]]),d===t&&c&&(d=Z.data(c,e),d=s(c,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,this.each(function(){var t=Z(this);t.triggerHandler("setData"+a,r),Z.data(this,e,n),t.triggerHandler("changeData"+a,r)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var s;return e?(t=(t||"fx")+"queue",s=Z._data(e,t),n&&(!s||Z.isArray(n)?s=Z._data(e,t,Z.makeArray(n)):s.push(n)),s||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),s=n.length,r=n.shift(),a=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),s--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!s&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var s=2;return"string"!=typeof e&&(n=e,e="fx",s--),arguments.length<s?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var s=setTimeout(t,e);n.stop=function(){clearTimeout(s)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var s,r=1,a=Z.Deferred(),o=this,i=this.length,l=function(){--r||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";i--;)s=Z._data(o[i],e+"queueHooks"),s&&s.empty&&(r++,s.empty.add(l));return l(),a.promise(n)}});var _t,Ct,vt,xt=/[\t\r\n]/g,yt=/\r/g,St=/^(?:button|input)$/i,bt=/^(?:button|input|object|select|textarea)$/i,wt=/^a(?:rea|)$/i,kt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,It=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,s,r,a,o,i;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,s=this.length;s>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(a=" "+r.className+" ",o=0,i=t.length;i>o;o++)a.indexOf(" "+t[o]+" ")<0&&(a+=t[o]+" ");r.className=Z.trim(a)}else r.className=e;return this},removeClass:function(e){var n,s,r,a,o,i,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),i=0,l=this.length;l>i;i++)if(r=this[i],1===r.nodeType&&r.className){for(s=(" "+r.className+" ").replace(xt," "),a=0,o=n.length;o>a;a++)for(;s.indexOf(" "+n[a]+" ")>=0;)s=s.replace(" "+n[a]+" "," ");r.className=e?Z.trim(s):""}return this},toggleClass:function(e,t){var n=typeof e,s="boolean"==typeof t;return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,a=0,o=Z(this),i=t,l=e.split(tt);r=l[a++];)i=s?i:!o.hasClass(r),o[i?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,s=this.length;s>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,s,r,a=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(s){var a,o=Z(this);1===this.nodeType&&(a=r?e.call(this,s,o.val()):e,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(s=n.get(a,"value"))!==t?s:(s=a.value,"string"==typeof s?s.replace(yt,""):null==s?"":s)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,s=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],i=a?r+1:s.length,l=0>r?i:a?r:0;i>l;l++)if(n=s[l],!(!n.selected&&l!==r||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),a)return t;o.push(t)}return o},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,s,r){var a,o,i,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(e)[n](s):"undefined"==typeof e.getAttribute?Z.prop(e,n,s):(i=1!==l||!Z.isXMLDoc(e),i&&(n=n.toLowerCase(),o=Z.attrHooks[n]||(kt.test(n)?Ct:_t)),s!==t?null===s?(Z.removeAttr(e,n),void 0):o&&"set"in o&&i&&(a=o.set(e,s,n))!==t?a:(e.setAttribute(n,s+""),s):o&&"get"in o&&i&&null!==(a=o.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a))},removeAttr:function(e,t){var n,s,r,a,o=0;if(t&&1===e.nodeType)for(s=t.split(tt);o<s.length;o++)r=s[o],r&&(n=Z.propFix[r]||r,a=kt.test(r),a||Z.attr(e,r,""),e.removeAttribute(It?r:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(St.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return _t&&Z.nodeName(e,"button")?_t.get(e,t):t in e?e.value:null},set:function(e,t,n){return _t&&Z.nodeName(e,"button")?_t.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,s){var r,a,o,i=e.nodeType;if(e&&3!==i&&8!==i&&2!==i)return o=1!==i||!Z.isXMLDoc(e),o&&(n=Z.propFix[n]||n,a=Z.propHooks[n]),s!==t?a&&"set"in a&&(r=a.set(e,s,n))!==t?r:e[n]=s:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):bt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:t}}}}),Ct={get:function(e,n){var s,r=Z.prop(e,n);return r===!0||"boolean"!=typeof r&&(s=e.getAttributeNode(n))&&s.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var s;return t===!1?Z.removeAttr(e,n):(s=Z.propFix[n]||n,s in e&&(e[s]=!0),e.setAttribute(n,n.toLowerCase())),n}},It||(vt={name:!0,id:!0,coords:!0},_t=Z.valHooks.button={get:function(e,n){var s;return s=e.getAttributeNode(n),s&&(vt[n]?""!==s.value:s.specified)?s.value:t},set:function(e,t,n){var s=e.getAttributeNode(n);return s||(s=F.createAttribute(n),e.setAttributeNode(s)),s.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:_t.get,set:function(e,t,n){""===t&&(t="false"),_t.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var s=e.getAttribute(n,2);return null===s?t:s}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Mt=/^(?:textarea|input|select)$/i,Tt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,Nt=/^key/,Bt=/^(?:mouse|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){return Z.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,s,r,a){var o,i,l,c,u,d,f,h,m,g,p;if(3!==e.nodeType&&8!==e.nodeType&&n&&s&&(o=Z._data(e))){for(s.handler&&(m=s,s=m.handler,a=m.selector),s.guid||(s.guid=Z.guid++),l=o.events,l||(o.events=l={}),i=o.handle,i||(o.handle=i=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(i.elem,arguments)},i.elem=e),n=Z.trim(Rt(n)).split(" "),c=0;c<n.length;c++)u=Tt.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),p=Z.event.special[d]||{},d=(a?p.delegateType:p.bindType)||d,p=Z.event.special[d]||{},h=Z.extend({type:d,origType:u[1],data:r,handler:s,guid:s.guid,selector:a,needsContext:a&&Z.expr.match.needsContext.test(a),namespace:f.join(".")},m),g=l[d],g||(g=l[d]=[],g.delegateCount=0,p.setup&&p.setup.call(e,r,f,i)!==!1||(e.addEventListener?e.addEventListener(d,i,!1):e.attachEvent&&e.attachEvent("on"+d,i))),p.add&&(p.add.call(e,h),h.handler.guid||(h.handler.guid=s.guid)),a?g.splice(g.delegateCount++,0,h):g.push(h),Z.event.global[d]=!0;
e=null}},global:{},remove:function(e,t,n,s,r){var a,o,i,l,c,u,d,f,h,m,g,p=Z.hasData(e)&&Z._data(e);if(p&&(f=p.events)){for(t=Z.trim(Rt(t||"")).split(" "),a=0;a<t.length;a++)if(o=Tt.exec(t[a])||[],i=l=o[1],c=o[2],i){for(h=Z.event.special[i]||{},i=(s?h.delegateType:h.bindType)||i,m=f[i]||[],u=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<m.length;d++)g=m[d],!(!r&&l!==g.origType||n&&n.guid!==g.guid||c&&!c.test(g.namespace)||s&&s!==g.selector&&("**"!==s||!g.selector)||(m.splice(d--,1),g.selector&&m.delegateCount--,!h.remove||!h.remove.call(e,g)));0===m.length&&u!==m.length&&((!h.teardown||h.teardown.call(e,c,p.handle)===!1)&&Z.removeEvent(e,i,p.handle),delete f[i])}else for(i in f)Z.event.remove(e,i+t[a],n,s,!0);Z.isEmptyObject(f)&&(delete p.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,s,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,i,l,c,u,d,f,h,m,g,p=n.type||n,_=[];if(Pt.test(p+Z.event.triggered))return;if(p.indexOf("!")>=0&&(p=p.slice(0,-1),i=!0),p.indexOf(".")>=0&&(_=p.split("."),p=_.shift(),_.sort()),(!r||Z.event.customEvent[p])&&!Z.event.global[p])return;if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(p,n):new Z.Event(p),n.type=p,n.isTrigger=!0,n.exclusive=i,n.namespace=_.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=p.indexOf(":")<0?"on"+p:"",!r){o=Z.cache;for(l in o)o[l].events&&o[l].events[p]&&Z.event.trigger(n,s,o[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=r),s=null!=s?Z.makeArray(s):[],s.unshift(n),f=Z.event.special[p]||{},f.trigger&&f.trigger.apply(r,s)===!1)return;if(m=[[r,f.bindType||p]],!a&&!f.noBubble&&!Z.isWindow(r)){for(g=f.delegateType||p,c=Pt.test(g+p)?r:r.parentNode,u=r;c;c=c.parentNode)m.push([c,g]),u=c;u===(r.ownerDocument||F)&&m.push([u.defaultView||u.parentWindow||e,g])}for(l=0;l<m.length&&!n.isPropagationStopped();l++)c=m[l][0],n.type=m[l][1],h=(Z._data(c,"events")||{})[n.type]&&Z._data(c,"handle"),h&&h.apply(c,s),h=d&&c[d],h&&Z.acceptData(c)&&h.apply&&h.apply(c,s)===!1&&n.preventDefault();return n.type=p,!(a||n.isDefaultPrevented()||f._default&&f._default.apply(r.ownerDocument,s)!==!1||"click"===p&&Z.nodeName(r,"a")||!Z.acceptData(r)||!d||!r[p]||("focus"===p||"blur"===p)&&0===n.target.offsetWidth||Z.isWindow(r)||(u=r[d],u&&(r[d]=null),Z.event.triggered=p,r[p](),Z.event.triggered=t,!u||!(r[d]=u))),n.result}},dispatch:function(n){n=Z.event.fix(n||e.event);var s,r,a,o,i,l,c,u,d,f=(Z._data(this,"events")||{})[n.type]||[],h=f.delegateCount,m=U.call(arguments),g=!n.exclusive&&!n.namespace,p=Z.event.special[n.type]||{},_=[];if(m[0]=n,n.delegateTarget=this,!p.preDispatch||p.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(i={},c=[],s=0;h>s;s++)u=f[s],d=u.selector,i[d]===t&&(i[d]=u.needsContext?Z(d,this).index(a)>=0:Z.find(d,this,null,[a]).length),i[d]&&c.push(u);c.length&&_.push({elem:a,matches:c})}for(f.length>h&&_.push({elem:this,matches:f.slice(h)}),s=0;s<_.length&&!n.isPropagationStopped();s++)for(l=_[s],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)u=l.matches[r],(g||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,o=((Z.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,m),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return p.postDispatch&&p.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var s,r,a,o=n.button,i=n.fromElement;return null==e.pageX&&null!=n.clientX&&(s=e.target.ownerDocument||F,r=s.documentElement,a=s.body,e.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&i&&(e.relatedTarget=i===e.target?n.toElement:i),!e.which&&o!==t&&(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,s=e,r=Z.event.fixHooks[e.type]||{},a=r.props?this.props.concat(r.props):this.props;for(e=Z.Event(s),t=a.length;t;)n=a[--t],e[n]=s[n];return e.target||(e.target=s.srcElement||F),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,s){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});s?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=F.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var s="on"+t;e.detachEvent&&("undefined"==typeof e[s]&&(e[s]=null),e.detachEvent(s,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,void 0):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,s=this,r=e.relatedTarget,a=e.handleObj;return a.selector,(!r||r!==s&&!Z.contains(s,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:(Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,s=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;s&&!Z._data(s,"_submit_attached")&&(Z.event.add(s,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(s,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:(Z.event.remove(this,"._submit"),void 0)}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):(Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,s=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&F.addEventListener(e,s,!0)},teardown:function(){0===--n&&F.removeEventListener(e,s,!0)}}}),Z.fn.extend({on:function(e,n,s,r,o){var i,l;if("object"==typeof e){"string"!=typeof n&&(s=s||n,n=t);for(l in e)this.on(l,n,s,e[l],o);return this}if(null==s&&null==r?(r=n,s=n=t):null==r&&("string"==typeof n?(r=s,s=t):(r=s,s=n,n=t)),r===!1)r=a;else if(!r)return this;return 1===o&&(i=r,r=function(e){return Z().off(e),i.apply(this,arguments)},r.guid=i.guid||(i.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,s,n)})},one:function(e,t,n,s){return this.on(e,t,n,s,1)},off:function(e,n,s){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(s=n,n=t),s===!1&&(s=a),this.each(function(){Z.event.remove(this,e,s,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,s){return this.on(t,e,n,s)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,s=0,r=function(n){var r=(Z._data(this,"lastToggle"+e.guid)||0)%s;return Z._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;s<t.length;)t[s++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Nt.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Bt.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,s){n=n||[],t=t||B;var r,a,o,i,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(o=y(t),!o&&!s&&(r=nt.exec(e)))if(i=r[1]){if(9===l){if(a=t.getElementById(i),!a||!a.parentNode)return n;if(a.id===i)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(i))&&S(t,a)&&a.id===i)return n.push(a),n}else{if(r[2])return D.apply(n,E.call(t.getElementsByTagName(e),0)),n;if((i=r[3])&&ft&&t.getElementsByClassName)return D.apply(n,E.call(t.getElementsByClassName(i),0)),n}return g(e.replace(Y,"$1"),t,n,s,o)}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e){return V(function(t){return t=+t,V(function(n,s){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(s[r]=n[r]))})})}function o(e,t,n){if(e===t)return n;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function i(e,t){var s,r,a,o,i,l,c,u=z[A][e+" "];if(u)return t?0:u.slice(0);for(i=e,l=[],c=v.preFilter;i;){(!s||(r=X.exec(i)))&&(r&&(i=i.slice(r[0].length)||i),l.push(a=[])),s=!1,(r=et.exec(i))&&(a.push(s=new N(r.shift())),i=i.slice(s.length),s.type=r[0].replace(Y," "));for(o in v.filter)(r=it[o].exec(i))&&(!c[o]||(r=c[o](r)))&&(a.push(s=new N(r.shift())),i=i.slice(s.length),s.type=o,s.matches=r);if(!s)break}return t?i.length:i?n.error(e):z(e,l).slice(0)}function l(e,t,n){var s=t.dir,r=n&&"parentNode"===t.dir,a=O++;return t.first?function(t,n,a){for(;t=t[s];)if(r||1===t.nodeType)return e(t,n,a)}:function(t,n,o){if(o){for(;t=t[s];)if((r||1===t.nodeType)&&e(t,n,o))return t}else for(var i,l=R+" "+a+" ",c=l+_;t=t[s];)if(r||1===t.nodeType){if((i=t[A])===c)return t.sizset;if("string"==typeof i&&0===i.indexOf(l)){if(t.sizset)return t}else{if(t[A]=c,e(t,n,o))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,n,s){for(var r=e.length;r--;)if(!e[r](t,n,s))return!1;return!0}:e[0]}function u(e,t,n,s,r){for(var a,o=[],i=0,l=e.length,c=null!=t;l>i;i++)(a=e[i])&&(!n||n(a,s,r))&&(o.push(a),c&&t.push(i));return o}function d(e,t,n,s,r,a){return s&&!s[A]&&(s=d(s)),r&&!r[A]&&(r=d(r,a)),V(function(a,o,i,l){var c,d,f,h=[],g=[],p=o.length,_=a||m(t||"*",i.nodeType?[i]:i,[]),C=!e||!a&&t?_:u(_,h,e,i,l),v=n?r||(a?e:p||s)?[]:o:C;if(n&&n(C,v,i,l),s)for(c=u(v,g),s(c,[],i,l),d=c.length;d--;)(f=c[d])&&(v[g[d]]=!(C[g[d]]=f));if(a){if(r||e){if(r){for(c=[],d=v.length;d--;)(f=v[d])&&c.push(C[d]=f);r(null,v=[],c,l)}for(d=v.length;d--;)(f=v[d])&&(c=r?q.call(a,f):h[d])>-1&&(a[c]=!(o[c]=f))}}else v=u(v===o?v.splice(p,v.length):v),r?r(null,o,v,l):D.apply(o,v)})}function f(e){for(var t,n,s,r=e.length,a=v.relative[e[0].type],o=a||v.relative[" "],i=a?1:0,u=l(function(e){return e===t},o,!0),h=l(function(e){return q.call(t,e)>-1},o,!0),m=[function(e,n,s){return!a&&(s||n!==I)||((t=n).nodeType?u(e,n,s):h(e,n,s))}];r>i;i++)if(n=v.relative[e[i].type])m=[l(c(m),n)];else{if(n=v.filter[e[i].type].apply(null,e[i].matches),n[A]){for(s=++i;r>s&&!v.relative[e[s].type];s++);return d(i>1&&c(m),i>1&&e.slice(0,i-1).join("").replace(Y,"$1"),n,s>i&&f(e.slice(i,s)),r>s&&f(e=e.slice(s)),r>s&&e.join(""))}m.push(n)}return c(m)}function h(e,t){var s=t.length>0,r=e.length>0,a=function(o,i,l,c,d){var f,h,m,g=[],p=0,C="0",x=o&&[],y=null!=d,S=I,b=o||r&&v.find.TAG("*",d&&i.parentNode||i),w=R+=null==S?1:Math.E;for(y&&(I=i!==B&&i,_=a.el);null!=(f=b[C]);C++){if(r&&f){for(h=0;m=e[h];h++)if(m(f,i,l)){c.push(f);break}y&&(R=w,_=++a.el)}s&&((f=!m&&f)&&p--,o&&x.push(f))}if(p+=C,s&&C!==p){for(h=0;m=t[h];h++)m(x,g,i,l);if(o){if(p>0)for(;C--;)!x[C]&&!g[C]&&(g[C]=j.call(c));g=u(g)}D.apply(c,g),y&&!o&&g.length>0&&p+t.length>1&&n.uniqueSort(c)}return y&&(R=w,I=S),x};return a.el=0,s?V(a):a}function m(e,t,s){for(var r=0,a=t.length;a>r;r++)n(e,t[r],s);return s}function g(e,t,n,s,r){var a,o,l,c,u,d=i(e);if(d.length,!s&&1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(l=o[0]).type&&9===t.nodeType&&!r&&v.relative[o[1].type]){if(t=v.find.ID(l.matches[0].replace(ot,""),t,r)[0],!t)return n;e=e.slice(o.shift().length)}for(a=it.POS.test(e)?-1:o.length-1;a>=0&&(l=o[a],!v.relative[c=l.type]);a--)if((u=v.find[c])&&(s=u(l.matches[0].replace(ot,""),st.test(o[0].type)&&t.parentNode||t,r))){if(o.splice(a,1),e=s.length&&o.join(""),!e)return D.apply(n,E.call(s,0)),n;break}}return b(e,d)(s,t,r,n,st.test(e)),n}function p(){}var _,C,v,x,y,S,b,w,k,I,M=!0,T="undefined",A=("sizcache"+Math.random()).replace(".",""),N=String,B=e.document,P=B.documentElement,R=0,O=0,j=[].pop,D=[].push,E=[].slice,q=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},V=function(e,t){return e[A]=null==t||t,e},L=function(){var e={},t=[];return V(function(n,s){return t.push(n)>v.cacheLength&&delete e[t.shift()],e[n+" "]=s},e)},F=L(),z=L(),H=L(),J="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",K=W.replace("w","w#"),U="([*^$|!~]?=)",Q="\\["+J+"*("+W+")"+J+"*(?:"+U+J+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+K+")|)|)"+J+"*\\]",G=":("+W+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+Q+")|[^:]|\\\\.)*|.*))\\)|)",$=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+J+"*((?:-\\d)?\\d*)"+J+"*\\)|)(?=[^-]|$)",Y=new RegExp("^"+J+"+|((?:^|[^\\\\])(?:\\\\.)*)"+J+"+$","g"),X=new RegExp("^"+J+"*,"+J+"*"),et=new RegExp("^"+J+"*([\\x20\\t\\r\\n\\f>+~])"+J+"*"),tt=new RegExp(G),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,st=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,at=/input|select|textarea|button/i,ot=/\\(?!\\)/g,it={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),NAME:new RegExp("^\\[name=['\"]?("+W+")['\"]?\\]"),TAG:new RegExp("^("+W.replace("w","w*")+")"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+G),POS:new RegExp($,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+J+"*(even|odd|(([+-]|)(\\d*)n|)"+J+"*(?:([+-]|)"+J+"*(\\d+)|))"+J+"*\\)|)","i"),needsContext:new RegExp("^"+J+"*[>+~]|"+$,"i")},lt=function(e){var t=B.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(B.createComment("")),!e.getElementsByTagName("*").length}),ut=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==T&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ft=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),ht=lt(function(e){e.id=A+0,e.innerHTML="<a name='"+A+"'></a><div name='"+A+"'></div>",P.insertBefore(e,P.firstChild);var t=B.getElementsByName&&B.getElementsByName(A).length===2+B.getElementsByName(A+0).length;return C=!B.getElementById(A),P.removeChild(e),t});try{E.call(P.childNodes,0)[0].nodeType}catch(mt){E=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)n+=x(t);return n},y=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=n.contains=P.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!!(s&&1===s.nodeType&&n.contains&&n.contains(s))}:P.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,s=y(e);return s||(t=t.toLowerCase()),(n=v.attrHandle[t])?n(e):s||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},v=n.selectors={cacheLength:50,createPseudo:V,match:it,attrHandle:ut?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:C?function(e,t,n){if(typeof t.getElementById!==T&&!n){var s=t.getElementById(e);return s&&s.parentNode?[s]:[]}}:function(e,n,s){if(typeof n.getElementById!==T&&!s){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==T&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ct?function(e,t){return typeof t.getElementsByTagName!==T?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var s,r=[],a=0;s=n[a];a++)1===s.nodeType&&r.push(s);return r}return n},NAME:ht&&function(e,t){return typeof t.getElementsByName!==T?t.getElementsByName(name):void 0},CLASS:ft&&function(e,t,n){return typeof t.getElementsByClassName===T||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ot,""),e[3]=(e[4]||e[5]||"").replace(ot,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return it.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=i(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:C?function(e){return e=e.replace(ot,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ot,""),function(t){var n=typeof t.getAttributeNode!==T&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ot,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=F[A][e+" "];return t||(t=new RegExp("(^|"+J+")"+e+"("+J+"|$)"))&&F(e,function(e){return t.test(e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")})},ATTR:function(e,t,s){return function(r){var a=n.attr(r,e);return null==a?"!="===t:t?(a+="","="===t?a===s:"!="===t?a!==s:"^="===t?s&&0===a.indexOf(s):"*="===t?s&&a.indexOf(s)>-1:"$="===t?s&&a.substr(a.length-s.length)===s:"~="===t?(" "+a+" ").indexOf(s)>-1:"|="===t?a===s||a.substr(0,s.length+1)===s+"-":!1):!0}},CHILD:function(e,t,n,s){return"nth"===e?function(e){var t,r,a=e.parentNode;if(1===n&&0===s)return!0;if(a)for(r=0,t=a.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=s,r===n||0===r%n&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var s,r=v.pseudos[e]||v.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[A]?r(t):r.length>1?(s=[e,e,"",t],v.setFilters.hasOwnProperty(e.toLowerCase())?V(function(e,n){for(var s,a=r(e,t),o=a.length;o--;)s=q.call(e,a[o]),e[s]=!(n[s]=a[o])}):function(e){return r(e,0,s)}):r}},pseudos:{not:V(function(e){var t=[],n=[],s=b(e.replace(Y,"$1"));return s[A]?V(function(e,t,n,r){for(var a,o=s(e,null,r,[]),i=e.length;i--;)(a=o[i])&&(e[i]=!(t[i]=a))}):function(e,r,a){return t[0]=e,s(t,null,a,n),!n.pop()}}),has:V(function(e){return function(t){return n(e,t).length>0}}),contains:V(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!v.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:s("radio"),checkbox:s("checkbox"),file:s("file"),password:s("password"),image:s("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return at.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[0>n?n+t:n]}),even:a(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var s=0>n?n+t:n;--s>=0;)e.push(s);return e}),gt:a(function(e,t,n){for(var s=0>n?n+t:n;++s<t;)e.push(s);return e})}},w=P.compareDocumentPosition?function(e,t){return e===t?(k=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return k=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,s,r=[],a=[],i=e.parentNode,l=t.parentNode,c=i;if(i===l)return o(e,t);if(!i)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)a.unshift(c),c=c.parentNode;n=r.length,s=a.length;for(var u=0;n>u&&s>u;u++)if(r[u]!==a[u])return o(r[u],a[u]);return u===n?o(e,a[u],-1):o(r[u],t,1)},[0,0].sort(w),M=!k,n.uniqueSort=function(e){var t,n=[],s=1,r=0;if(k=M,e.sort(w),k){for(;t=e[s];s++)t===e[s-1]&&(r=n.push(s));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b=n.compile=function(e,t){var n,s=[],r=[],a=H[A][e+" "];if(!a){for(t||(t=i(e)),n=t.length;n--;)a=f(t[n]),a[A]?s.push(a):r.push(a);a=H(e,h(r,s))}return a},B.querySelectorAll&&function(){var e,t=g,s=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[":focus"],o=[":active"],l=P.matchesSelector||P.mozMatchesSelector||P.webkitMatchesSelector||P.oMatchesSelector||P.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||a.push("\\["+J+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||a.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&a.push("[*^$]="+J+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=new RegExp(a.join("|")),g=function(e,n,r,o,l){if(!o&&!l&&!a.test(e)){var c,u,d=!0,f=A,h=n,m=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(c=i(e),(d=n.getAttribute("id"))?f=d.replace(s,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+c[u].join("");h=st.test(e)&&n.parentNode||n,m=c.join(",")}if(m)try{return D.apply(r,E.call(h.querySelectorAll(m),0)),r}catch(g){}finally{d||n.removeAttribute("id")}}return t(e,n,r,o,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),o.push("!=",G)}catch(n){}}),o=new RegExp(o.join("|")),n.matchesSelector=function(t,s){if(s=s.replace(r,"='$1']"),!y(t)&&!o.test(s)&&!a.test(s))try{var i=l.call(t,s);if(i||e||t.document&&11!==t.document.nodeType)return i}catch(c){}return n(s,null,null,[t]).length>0})}(),v.pseudos.nth=v.pseudos.eq,v.filters=p.prototype=v.pseudos,v.setFilters=new p,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Ot=/Until$/,jt=/^(?:parents|prev(?:Until|All))/,Dt=/^.[^:#\[\.,]*$/,Et=Z.expr.match.needsContext,qt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,s,r,a,o,i=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=i.length;n>t;t++)if(Z.contains(i[t],this))return!0});for(o=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(s=o.length,Z.find(e,this[t],o),t>0)for(r=s;r<o.length;r++)for(a=0;s>a;a++)if(o[a]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,n=Z(e,this),s=n.length;return this.filter(function(){for(t=0;s>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Et.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,s=0,r=this.length,a=[],o=Et.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>s;s++)for(n=this[s];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:Z.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return a=a.length>1?Z.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),s=Z.merge(this.get(),n);return this.pushStack(i(n[0])||i(s[0])?s:Z.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,s){var r=Z.map(this,t,n);return Ot.test(e)||(s=n),s&&"string"==typeof s&&(r=Z.filter(s,r)),r=this.length>1&&!qt[e]?Z.unique(r):r,this.length>1&&jt.test(e)&&(r=r.reverse()),this.pushStack(r,e,U.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,s){for(var r=[],a=e[n];a&&9!==a.nodeType&&(s===t||1!==a.nodeType||!Z(a).is(s));)1===a.nodeType&&r.push(a),a=a[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lt=/ jQuery\d+="(?:null|\d+)"/g,Ft=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,Jt=/<tbody/i,Wt=/<|&#?\w+;/,Kt=/<(?:script|style|link)/i,Ut=/<(?:script|object|embed|option|style)/i,Qt=new RegExp("<(?:"+Vt+")[\\s/>]","i"),Gt=/^(?:checkbox|radio)$/,$t=/checked\s*(?:[^=]|=\s*.checked.)/i,Yt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=u(F),tn=en.appendChild(F.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,Z.support.htmlSerialize||(Xt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)
});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!i(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,s=0;null!=(n=this[s]);s++)(!e||Z.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},s=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Lt,""):t;if(!("string"!=typeof e||Kt.test(e)||!Z.support.htmlSerialize&&Qt.test(e)||!Z.support.leadingWhitespace&&Ft.test(e)||Xt[(Ht.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(zt,"<$1></$2>");try{for(;r>s;s++)n=this[s]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return i(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),s=n.html();n.replaceWith(e.call(this,t,s))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,s){e=[].concat.apply([],e);var r,a,o,i,l=0,c=e[0],u=[],f=this.length;if(!Z.support.checkClone&&f>1&&"string"==typeof c&&$t.test(c))return this.each(function(){Z(this).domManip(e,n,s)});if(Z.isFunction(c))return this.each(function(r){var a=Z(this);e[0]=c.call(this,r,n?a.html():t),a.domManip(e,n,s)});if(this[0]){if(r=Z.buildFragment(e,this,u),o=r.fragment,a=o.firstChild,1===o.childNodes.length&&(o=a),a)for(n=n&&Z.nodeName(a,"tr"),i=r.cacheable||f-1;f>l;l++)s.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===i?o:Z.clone(o,!0,!0));o=a=null,u.length&&Z.each(u,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,s){var r,a,o,i=e[0];return n=n||F,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,1===e.length&&"string"==typeof i&&i.length<512&&n===F&&"<"===i.charAt(0)&&!Ut.test(i)&&(Z.support.checkClone||!$t.test(i))&&(Z.support.html5Clone||!Qt.test(i))&&(a=!0,r=Z.fragments[i],o=r!==t),r||(r=n.createDocumentFragment(),Z.clean(e,n,r,s),a&&(Z.fragments[i]=o&&r)),{fragment:r,cacheable:a}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var s,r=0,a=[],o=Z(n),i=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===i)return o[t](this[0]),this;for(;i>r;r++)s=(r>0?this.clone(!0):this).get(),Z(o[r])[t](s),a=a.concat(s);return this.pushStack(a,e,o.selector)}}),Z.extend({clone:function(e,t,n){var s,r,a,o;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Qt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(h(e,o),s=m(e),r=m(o),a=0;s[a];++a)r[a]&&h(s[a],r[a]);if(t&&(f(e,o),n))for(s=m(e),r=m(o),a=0;s[a];++a)f(s[a],r[a]);return s=r=null,o},clean:function(e,t,n,s){var r,a,o,i,l,c,d,f,h,m,p,_=t===F&&en,C=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=F),r=0;null!=(o=e[r]);r++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Wt.test(o)){for(_=_||u(t),d=t.createElement("div"),_.appendChild(d),o=o.replace(zt,"<$1></$2>"),i=(Ht.exec(o)||["",""])[1].toLowerCase(),l=Xt[i]||Xt._default,c=l[0],d.innerHTML=l[1]+o+l[2];c--;)d=d.lastChild;if(!Z.support.tbody)for(f=Jt.test(o),h="table"!==i||f?"<table>"!==l[1]||f?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,a=h.length-1;a>=0;--a)Z.nodeName(h[a],"tbody")&&!h[a].childNodes.length&&h[a].parentNode.removeChild(h[a]);!Z.support.leadingWhitespace&&Ft.test(o)&&d.insertBefore(t.createTextNode(Ft.exec(o)[0]),d.firstChild),o=d.childNodes,d.parentNode.removeChild(d)}else o=t.createTextNode(o);o.nodeType?C.push(o):Z.merge(C,o)}if(d&&(o=d=_=null),!Z.support.appendChecked)for(r=0;null!=(o=C[r]);r++)Z.nodeName(o,"input")?g(o):"undefined"!=typeof o.getElementsByTagName&&Z.grep(o.getElementsByTagName("input"),g);if(n)for(m=function(e){return!e.type||Yt.test(e.type)?s?s.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(o=C[r]);r++)Z.nodeName(o,"script")&&m(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(p=Z.grep(Z.merge([],o.getElementsByTagName("script")),m),C.splice.apply(C,[r+1,0].concat(p)),r+=p.length));return C},cleanData:function(e,t){for(var n,s,r,a,o=0,i=Z.expando,l=Z.cache,c=Z.support.deleteExpando,u=Z.event.special;null!=(r=e[o]);o++)if((t||Z.acceptData(r))&&(s=r[i],n=s&&l[s])){if(n.events)for(a in n.events)u[a]?Z.event.remove(r,a):Z.removeEvent(r,a,n.handle);l[s]&&(delete l[s],c?delete r[i]:r.removeAttribute?r.removeAttribute(i):r[i]=null,Z.deletedIds.push(s))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(H.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,s){return s&&s instanceof Z&&!(s instanceof e)&&(s=e(s)),Z.fn.init.call(this,n,s,t)},e.fn.init.prototype=e.fn;var t=e(F);return e}}();var nn,sn,rn,an=/alpha\([^)]*\)/i,on=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,dn=new RegExp("^("+X+")(.*)$","i"),fn=new RegExp("^("+X+")(?!px)[a-z%]+$","i"),hn=new RegExp("^([-+])=("+X+")","i"),mn={BODY:"block"},gn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},_n=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"],vn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,s){return s!==t?Z.style(e,n,s):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?vn.apply(this,arguments):this.each(function(){(n?e:_(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,s,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,i,l=Z.camelCase(n),c=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=p(c,l)),i=Z.cssHooks[n]||Z.cssHooks[l],s===t)return i&&"get"in i&&(a=i.get(e,!1,r))!==t?a:c[n];if(o=typeof s,"string"===o&&(a=hn.exec(s))&&(s=(a[1]+1)*a[2]+parseFloat(Z.css(e,n)),o="number"),!(null==s||"number"===o&&isNaN(s)||("number"===o&&!Z.cssNumber[l]&&(s+="px"),i&&"set"in i&&(s=i.set(e,s,r))===t)))try{c[n]=s}catch(u){}}},css:function(e,n,s,r){var a,o,i,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=p(e.style,l)),i=Z.cssHooks[n]||Z.cssHooks[l],i&&"get"in i&&(a=i.get(e,!0,r)),a===t&&(a=nn(e,n)),"normal"===a&&n in pn&&(a=pn[n]),s||r!==t?(o=parseFloat(a),s||Z.isNumeric(o)?o||0:a):a},swap:function(e,t,n){var s,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];s=n.call(e);for(r in t)e.style[r]=a[r];return s}}),e.getComputedStyle?nn=function(t,n){var s,r,a,o,i=e.getComputedStyle(t,null),l=t.style;return i&&(s=i.getPropertyValue(n)||i[n],""===s&&!Z.contains(t.ownerDocument,t)&&(s=Z.style(t,n)),fn.test(s)&&un.test(n)&&(r=l.width,a=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=i.width,l.width=r,l.minWidth=a,l.maxWidth=o)),s}:F.documentElement.currentStyle&&(nn=function(e,t){var n,s,r=e.currentStyle&&e.currentStyle[t],a=e.style;return null==r&&a&&a[t]&&(r=a[t]),fn.test(r)&&!ln.test(t)&&(n=a.left,s=e.runtimeStyle&&e.runtimeStyle.left,s&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=n,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,s){return n?0===e.offsetWidth&&cn.test(nn(e,"display"))?Z.swap(e,gn,function(){return y(e,t,s)}):y(e,t,s):void 0},set:function(e,n,s){return v(e,n,s?x(e,t,s,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return on.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,s=e.currentStyle,r=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=s&&s.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(a.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),s&&!s.filter)||(n.filter=an.test(a)?a.replace(an,r):a+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var s=nn(e,t);return fn.test(s)?Z(e).position()[t]+"px":s}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var s,r="string"==typeof n?n.split(" "):[n],a={};for(s=0;4>s;s++)a[e+_n[s]+t]=r[s]||r[s-2]||r[0];return a}},un.test(e)||(Z.cssHooks[e+t].set=v)});var xn=/%20/g,yn=/\[\]$/,Sn=/\r?\n/g,bn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,wn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||wn.test(this.nodeName)||bn.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Z.param=function(e,n){var s,r=[],a=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){a(this.name,this.value)});else for(s in e)b(s,e[s],n,a);return r.join("&").replace(xn,"+")};var kn,In,Mn=/#.*$/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,Bn=/^\/\//,Pn=/\?/,Rn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,On=/([?&])_=[^&]*/,jn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Dn=Z.fn.load,En={},qn={},Vn=["*/"]+["*"];try{In=z.href}catch(Ln){In=F.createElement("a"),In.href="",In=In.href}kn=jn.exec(In.toLowerCase())||[],Z.fn.load=function(e,n,s){if("string"!=typeof e&&Dn)return Dn.apply(this,arguments);if(!this.length)return this;var r,a,o,i=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(s=n,n=t):n&&"object"==typeof n&&(a="POST"),Z.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){s&&i.each(s,o||[e.responseText,t,e])}}).done(function(e){o=arguments,i.html(r?Z("<div>").append(e.replace(Rn,"")).find(r):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,s,r,a){return Z.isFunction(s)&&(a=a||r,r=s,s=t),Z.ajax({type:n,url:e,data:s,success:r,dataType:a})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?I(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),I(e,t),e},ajaxSettings:{url:In,isLocal:An.test(kn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Vn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:w(En),ajaxTransport:w(qn),ajax:function(e,n){function s(e,n,s,o){var c,d,C,v,y,b=n;2!==x&&(x=2,l&&clearTimeout(l),i=t,a=o||"",S.readyState=e>0?4:0,s&&(v=M(f,S,s)),e>=200&&300>e||304===e?(f.ifModified&&(y=S.getResponseHeader("Last-Modified"),y&&(Z.lastModified[r]=y),y=S.getResponseHeader("Etag"),y&&(Z.etag[r]=y)),304===e?(b="notmodified",c=!0):(c=T(f,v),b=c.state,d=c.data,C=c.error,c=!C)):(C=b,(!b||e)&&(b="error",0>e&&(e=0))),S.status=e,S.statusText=(n||b)+"",c?g.resolveWith(h,[d,b,S]):g.rejectWith(h,[S,b,C]),S.statusCode(_),_=t,u&&m.trigger("ajax"+(c?"Success":"Error"),[S,f,c?d:C]),p.fireWith(h,[S,b]),u&&(m.trigger("ajaxComplete",[S,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,o,i,l,c,u,d,f=Z.ajaxSetup({},n),h=f.context||f,m=h!==f&&(h.nodeType||h instanceof Z)?Z(h):Z.event,g=Z.Deferred(),p=Z.Callbacks("once memory"),_=f.statusCode||{},C={},v={},x=0,y="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=v[n]=v[n]||e,C[e]=t}return this},getAllResponseHeaders:function(){return 2===x?a:null},getResponseHeader:function(e){var n;if(2===x){if(!o)for(o={};n=Tn.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(f.mimeType=e),this},abort:function(e){return e=e||y,i&&i.abort(e),s(0,e),this}};if(g.promise(S),S.success=S.done,S.error=S.fail,S.complete=p.add,S.statusCode=function(e){if(e){var t;if(2>x)for(t in e)_[t]=[_[t],e[t]];else t=e[S.status],S.always(t)}return this},f.url=((e||f.url)+"").replace(Mn,"").replace(Bn,kn[1]+"//"),f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().split(tt),null==f.crossDomain&&(c=jn.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===kn[1]&&c[2]===kn[2]&&(c[3]||("http:"===c[1]?80:443))==(kn[3]||("http:"===kn[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),k(En,f,n,S),2===x)return S;if(u=f.global,f.type=f.type.toUpperCase(),f.hasContent=!Nn.test(f.type),u&&0===Z.active++&&Z.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(Pn.test(f.url)?"&":"?")+f.data,delete f.data),r=f.url,f.cache===!1)){var b=Z.now(),w=f.url.replace(On,"$1_="+b);f.url=w+(w===f.url?(Pn.test(f.url)?"&":"?")+"_="+b:"")}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(r=r||f.url,Z.lastModified[r]&&S.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&S.setRequestHeader("If-None-Match",Z.etag[r])),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vn+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)S.setRequestHeader(d,f.headers[d]);if(!f.beforeSend||f.beforeSend.call(h,S,f)!==!1&&2!==x){y="abort";for(d in{success:1,error:1,complete:1})S[d](f[d]);if(i=k(qn,f,n,S)){S.readyState=1,u&&m.trigger("ajaxSend",[S,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},f.timeout));try{x=1,i.send(C,s)}catch(I){if(!(2>x))throw I;s(-1,I)}}else s(-1,"No Transport");return S}return S.abort()},active:0,lastModified:{},etag:{}});var Fn=[],zn=/\?/,Hn=/(=)\?(?=&|$)|\?\?/,Jn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fn.pop()||Z.expando+"_"+Jn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,s,r){var a,o,i,l=n.data,c=n.url,u=n.jsonp!==!1,d=u&&Hn.test(c),f=u&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hn.test(l);return"jsonp"===n.dataTypes[0]||d||f?(a=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[a],d?n.url=c.replace(Hn,"$1"+a):f?n.data=l.replace(Hn,"$1"+a):u&&(n.url+=(zn.test(c)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return i||Z.error(a+" was not called"),i[0]},n.dataTypes[0]="json",e[a]=function(){i=arguments},r.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=s.jsonpCallback,Fn.push(a)),i&&Z.isFunction(o)&&o(i[0]),i=o=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,s=F.head||F.getElementsByTagName("head")[0]||F.documentElement;return{send:function(r,a){n=F.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,s&&n.parentNode&&s.removeChild(n),n=t,r||a(200,"success"))},s.insertBefore(n,s.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Wn,Kn=e.ActiveXObject?function(){for(var e in Wn)Wn[e](0,1)}:!1,Un=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||N()}:A,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var s;return{send:function(r,a){var o,i,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(i in n.xhrFields)l[i]=n.xhrFields[i];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(i in r)l.setRequestHeader(i,r[i])}catch(c){}l.send(n.hasContent&&n.data||null),s=function(e,r){var i,c,u,d,f;try{if(s&&(r||4===l.readyState))if(s=t,o&&(l.onreadystatechange=Z.noop,Kn&&delete Wn[o]),r)4!==l.readyState&&l.abort();else{i=l.status,u=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(h){}try{c=l.statusText}catch(h){c=""}i||!n.isLocal||n.crossDomain?1223===i&&(i=204):i=d.text?200:404}}catch(m){r||a(-1,m)}d&&a(i,c,d,u)},n.async?4===l.readyState?setTimeout(s,0):(o=++Un,Kn&&(Wn||(Wn={},Z(e).unload(Kn)),Wn[o]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}}});var Qn,Gn,$n=/^(?:toggle|show|hide)$/,Yn=new RegExp("^(?:([-+])=|)("+X+")([a-z%]*)$","i"),Zn=/queueHooks$/,Xn=[j],es={"*":[function(e,t){var n,s,r=this.createTween(e,t),a=Yn.exec(t),o=r.cur(),i=+o||0,l=1,c=20;if(a){if(n=+a[2],s=a[3]||(Z.cssNumber[e]?"":"px"),"px"!==s&&i){i=Z.css(r.elem,e,!0)||n||1;do l=l||".5",i/=l,Z.style(r.elem,e,i+s);while(l!==(l=r.cur()/o)&&1!==l&&--c)}r.unit=s,r.start=i,r.end=a[1]?i+(a[1]+1)*n:n}return r}]};Z.Animation=Z.extend(R,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,s=0,r=e.length;r>s;s++)n=e[s],es[n]=es[n]||[],es[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,s,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(s,r,a){return null==s||"boolean"==typeof s||!e&&Z.isFunction(s)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(E(t,!0),s,r,a)}}),Z.fn.extend({fadeTo:function(e,t,n,s){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,s)},animate:function(e,t,n,s){var r=Z.isEmptyObject(e),a=Z.speed(t,n,s),o=function(){var t=R(this,Z.extend({},e),a);r&&t.stop(!0)};return r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof e&&(s=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=Z.timers,o=Z._data(this);if(n)o[n]&&o[n].stop&&r(o[n]);else for(n in o)o[n]&&o[n].stop&&Zn.test(n)&&r(o[n]);for(n=a.length;n--;)a[n].elem===this&&(null==e||a[n].queue===e)&&(a[n].anim.stop(s),t=!1,a.splice(n,1));(t||!s)&&Z.dequeue(this,e)})}}),Z.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,s){return this.animate(t,e,n,s)}}),Z.speed=function(e,t,n){var s=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return s.duration=Z.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in Z.fx.speeds?Z.fx.speeds[s.duration]:Z.fx.speeds._default,(null==s.queue||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){Z.isFunction(s.old)&&s.old.call(this),s.queue&&Z.dequeue(this,s.queue)},s},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=D.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,s=0;for(Qn=Z.now();s<n.length;s++)e=n[s],!e()&&n[s]===e&&n.splice(s--,1);n.length||Z.fx.stop(),Qn=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Gn&&(Gn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Gn),Gn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var ts=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,s,r,a,o,i,l,c={top:0,left:0},u=this[0],d=u&&u.ownerDocument;if(d)return(s=d.body)===u?Z.offset.bodyOffset(u):(n=d.documentElement,Z.contains(n,u)?("undefined"!=typeof u.getBoundingClientRect&&(c=u.getBoundingClientRect()),r=q(d),a=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,i=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:c.top+i-a,left:c.left+l-o}):c)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var s=Z.css(e,"position");"static"===s&&(e.style.position="relative");var r,a,o=Z(e),i=o.offset(),l=Z.css(e,"top"),c=Z.css(e,"left"),u=("absolute"===s||"fixed"===s)&&Z.inArray("auto",[l,c])>-1,d={},f={};u?(f=o.position(),r=f.top,a=f.left):(r=parseFloat(l)||0,a=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,n,i)),null!=t.top&&(d.top=t.top-i.top+r),null!=t.left&&(d.left=t.left-i.left+a),"using"in t?t.using.call(e,d):o.css(d)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),s=ts.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,s.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-s.top,left:n.left-s.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||F.body;e&&!ts.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||F.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var s=/Y/.test(n);Z.fn[e]=function(r){return Z.access(this,function(e,r,a){var o=q(e);return a===t?o?n in o?o[n]:o.document.documentElement[r]:e[r]:(o?o.scrollTo(s?Z(o).scrollLeft():a,s?a:Z(o).scrollTop()):e[r]=a,void 0)},e,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(s,r){Z.fn[r]=function(r,a){var o=arguments.length&&(s||"boolean"!=typeof r),i=s||(r===!0||a===!0?"margin":"border");return Z.access(this,function(n,s,r){var a;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?Z.css(n,s,r,i):Z.style(n,s,r,i)},n,o?r:t,o,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),function(e,t){function n(t,n){var r=t.nodeName.toLowerCase();if("area"===r){var a,o=t.parentNode,i=o.name;return t.href&&i&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+i+"]")[0],!!a&&s(a)):!1}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||n:n)&&s(t)}function s(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var s=this;setTimeout(function(){e(s).focus(),n&&n.call(s)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var s,r,a=e(this[0]);a.length&&a[0]!==document;){if(s=a.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(r=parseInt(a.css("zIndex"),10),!isNaN(r)&&0!==r))return r;a=a.parent()}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,s){function r(t,n,s,r){return e.each(a,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,s&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),r&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var a="Width"===s?["Left","Right"]:["Top","Bottom"],o=s.toLowerCase(),i={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(n){return n===t?i["inner"+s].call(this):this.each(function(){e(this).css(o,r(this,n)+"px")})},e.fn["outer"+s]=function(t,n){return"number"!=typeof t?i["outer"+s].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,s){return!!e.data(t,s[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),r=isNaN(s);return(r||s>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.curCSS||(e.curCSS=e.css),e.extend(e.ui,{plugin:{add:function(t,n,s){var r=e.ui[t].prototype;for(var a in s)r.plugins[a]=r.plugins[a]||[],r.plugins[a].push([n,s[a]])},call:function(e,t,n){var s=e.plugins[t];if(s&&e.element[0].parentNode)for(var r=0;r<s.length;r++)e.options[s[r][0]]&&s[r][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var s=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[s]>0?!0:(t[s]=1,r=t[s]>0,t[s]=0,r)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,s,r,a,o){return e.ui.isOverAxis(t,s,a)&&e.ui.isOverAxis(n,r,o)}}))}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var s,r=0;null!=(s=t[r]);r++)try{e(s).triggerHandler("remove")}catch(a){}n(t)}}else{var s=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),s.call(e(this),t,n)})}}e.widget=function(t,n,s){var r,a=t.split(".")[0];t=t.split(".")[1],r=a+"-"+t,s||(s=n,n=e.Widget),e.expr[":"][r]=function(n){return!!e.data(n,t)},e[a]=e[a]||{},e[a][t]=function(e,t){arguments.length&&this._createWidget(e,t)};var o=new n;o.options=e.extend(!0,{},o.options),e[a][t].prototype=e.extend(!0,o,{namespace:a,widgetName:t,widgetEventPrefix:e[a][t].prototype.widgetEventPrefix||t,widgetBaseClass:r},s),e.widget.bridge(t,e[a][t])},e.widget.bridge=function(n,s){e.fn[n]=function(r){var a="string"==typeof r,o=Array.prototype.slice.call(arguments,1),i=this;return r=!a&&o.length?e.extend.apply(null,[!0,r].concat(o)):r,a&&"_"===r.charAt(0)?i:(a?this.each(function(){var s=e.data(this,n),a=s&&e.isFunction(s[r])?s[r].apply(s,o):s;
return a!==s&&a!==t?(i=a,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new s(r,this))}),i)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var s=this;this.element.bind("remove."+this.widgetName,function(){s.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(n,s){var r=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(s===t)return this.options[n];r={},r[n]=s}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,s){var r,a,o=this.options[t];if(s=s||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent,a)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,s),!(e.isFunction(o)&&o.call(this.element[0],n,s)===!1||n.isDefaultPrevented())}}}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var s=this,r=1==n.which,a="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!a&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,n=/top|center|bottom/,s="center",r={},a=e.fn.position,o=e.fn.offset;e.fn.position=function(o){if(!o||!o.of)return a.apply(this,arguments);o=e.extend({},o);var i,l,c,u=e(o.of),d=u[0],f=(o.collision||"flip").split(" "),h=o.offset?o.offset.split(" "):[0,0];return 9===d.nodeType?(i=u.width(),l=u.height(),c={top:0,left:0}):d.setTimeout?(i=u.width(),l=u.height(),c={top:u.scrollTop(),left:u.scrollLeft()}):d.preventDefault?(o.at="left top",i=l=0,c={top:o.of.pageY,left:o.of.pageX}):(i=u.outerWidth(),l=u.outerHeight(),c=u.offset()),e.each(["my","at"],function(){var e=(o[this]||"").split(" ");1===e.length&&(e=t.test(e[0])?e.concat([s]):n.test(e[0])?[s].concat(e):[s,s]),e[0]=t.test(e[0])?e[0]:s,e[1]=n.test(e[1])?e[1]:s,o[this]=e}),1===f.length&&(f[1]=f[0]),h[0]=parseInt(h[0],10)||0,1===h.length&&(h[1]=h[0]),h[1]=parseInt(h[1],10)||0,"right"===o.at[0]?c.left+=i:o.at[0]===s&&(c.left+=i/2),"bottom"===o.at[1]?c.top+=l:o.at[1]===s&&(c.top+=l/2),c.left+=h[0],c.top+=h[1],this.each(function(){var t,n=e(this),a=n.outerWidth(),u=n.outerHeight(),d=parseInt(e.curCSS(this,"marginLeft",!0))||0,m=parseInt(e.curCSS(this,"marginTop",!0))||0,g=a+d+(parseInt(e.curCSS(this,"marginRight",!0))||0),p=u+m+(parseInt(e.curCSS(this,"marginBottom",!0))||0),_=e.extend({},c);"right"===o.my[0]?_.left-=a:o.my[0]===s&&(_.left-=a/2),"bottom"===o.my[1]?_.top-=u:o.my[1]===s&&(_.top-=u/2),r.fractions||(_.left=Math.round(_.left),_.top=Math.round(_.top)),t={left:_.left-d,top:_.top-m},e.each(["left","top"],function(n,s){e.ui.position[f[n]]&&e.ui.position[f[n]][s](_,{targetWidth:i,targetHeight:l,elemWidth:a,elemHeight:u,collisionPosition:t,collisionWidth:g,collisionHeight:p,offset:h,my:o.my,at:o.at})}),e.fn.bgiframe&&n.bgiframe(),n.offset(e.extend(_,{using:o.using}))})},e.ui.position={fit:{left:function(t,n){var s=e(window),r=n.collisionPosition.left+n.collisionWidth-s.width()-s.scrollLeft();t.left=r>0?t.left-r:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var s=e(window),r=n.collisionPosition.top+n.collisionHeight-s.height()-s.scrollTop();t.top=r>0?t.top-r:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]!==s){var r=e(window),a=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),o="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,i="left"===n.at[0]?n.targetWidth:-n.targetWidth,l=-2*n.offset[0];t.left+=n.collisionPosition.left<0?o+i+l:a>0?o+i+l:0}},top:function(t,n){if(n.at[1]!==s){var r=e(window),a=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),o="top"===n.my[1]?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,i="top"===n.at[1]?n.targetHeight:-n.targetHeight,l=-2*n.offset[1];t.top+=n.collisionPosition.top<0?o+i+l:a>0?o+i+l:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var s=e(t),r=s.offset(),a=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0,i={top:n.top-r.top+a,left:n.left-r.left+o};"using"in n?n.using.call(t,i):s.css(i)},e.fn.offset=function(t){var n=this[0];return n&&n.ownerDocument?t?e.isFunction(t)?this.each(function(n){e(this).offset(t.call(this,n,e(this).offset()))}):this.each(function(){e.offset.setOffset(this,t)}):o.call(this):null}),e.curCSS||(e.curCSS=e.css),function(){var t,n,s,a,o,i=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(i?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},i&&e.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(var c in s)t.style[c]=s[c];t.appendChild(l),n=i||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",a=e(l).offset(function(e,t){return t}).offset(),t.innerHTML="",n.removeChild(t),o=a.top+a.left+(i?2e3:0),r.fractions=o>21&&22>o}()}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(n.iframeFix&&e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);for(var s=this.element[0],r=!1;s&&(s=s.parentNode);)s==document&&(r=!0);if(!r&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!n||"valid"==this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var a=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",t)!==!1&&a._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=this.options.handle&&e(this.options.handle,this.element).length?!1:!0;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,s=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"==n.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"==n.appendTo?this.element[0].parentNode:n.appendTo),s[0]!=this.element[0]&&!/(fixed|absolute)/.test(s.css("position"))&&s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=["document"==t.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==t.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==t.containment?0:e(window).scrollLeft())+e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==t.containment?0:e(window).scrollTop())+(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(t.containment)||t.containment.constructor==Array)t.containment.constructor==Array&&(this.containment=t.containment);else{var n=e(t.containment),s=n[0];if(!s)return;var r=(n.offset(),"hidden"!=e(s).css("overflow"));this.containment=[(parseInt(e(s).css("borderLeftWidth"),10)||0)+(parseInt(e(s).css("paddingLeft"),10)||0),(parseInt(e(s).css("borderTopWidth"),10)||0)+(parseInt(e(s).css("paddingTop"),10)||0),(r?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e(s).css("borderLeftWidth"),10)||0)-(parseInt(e(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e(s).css("borderTopWidth"),10)||0)-(parseInt(e(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}},_convertPositionTo:function(t,n){n||(n=this.position);var s="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*s+this.offset.parent.top*s-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*s),left:n.left+this.offset.relative.left*s+this.offset.parent.left*s-(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*s)}},_generatePosition:function(t){var n=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName),a=t.pageX,o=t.pageY;if(this.originalPosition){var i;if(this.containment){if(this.relative_container){var l=this.relative_container.offset();i=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else i=this.containment;t.pageX-this.offset.click.left<i[0]&&(a=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(a=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)}if(n.grid){var c=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=i?c-this.offset.click.top<i[1]||c-this.offset.click.top>i[3]?c-this.offset.click.top<i[1]?c+n.grid[1]:c-n.grid[1]:c:c;var u=n.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;a=i?u-this.offset.click.left<i[0]||u-this.offset.click.left>i[2]?u-this.offset.click.left<i[0]?u+n.grid[0]:u-n.grid[0]:u:u}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[n,s]),"drag"==t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.24"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var s=e(this).data("draggable"),r=s.options,a=e.extend({},n,{item:s.element});s.sortables=[],e(r.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(s.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,a))})},stop:function(t,n){var s=e(this).data("draggable"),r=e.extend({},n,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,r))})},drag:function(t,n){var s=e(this).data("draggable"),r=this;e.each(s.sortables,function(){this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(r).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var s=e(n.helper),r=e(this).data("draggable").options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(t,n){var s=e(this).data("draggable").options;s._opacity&&e(n.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&"HTML"!=t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),s=n.options,r=!1;n.scrollParent[0]!=document&&"HTML"!=n.scrollParent[0].tagName?(s.axis&&"x"==s.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-n.overflowOffset.top<s.scrollSensitivity&&(n.scrollParent[0].scrollTop=r=n.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"==s.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-n.overflowOffset.left<s.scrollSensitivity&&(n.scrollParent[0].scrollLeft=r=n.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"==s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"==s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),r!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),s=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:s.top,left:s.left})})},drag:function(t,n){for(var s=e(this).data("draggable"),r=s.options,a=r.snapTolerance,o=n.offset.left,i=o+s.helperProportions.width,l=n.offset.top,c=l+s.helperProportions.height,u=s.snapElements.length-1;u>=0;u--){var d=s.snapElements[u].left,f=d+s.snapElements[u].width,h=s.snapElements[u].top,m=h+s.snapElements[u].height;if(o>d-a&&f+a>o&&l>h-a&&m+a>l||o>d-a&&f+a>o&&c>h-a&&m+a>c||i>d-a&&f+a>i&&l>h-a&&m+a>l||i>d-a&&f+a>i&&c>h-a&&m+a>c){if("inner"!=r.snapMode){var g=Math.abs(h-c)<=a,p=Math.abs(m-l)<=a,_=Math.abs(d-i)<=a,C=Math.abs(f-o)<=a;g&&(n.position.top=s._convertPositionTo("relative",{top:h-s.helperProportions.height,left:0}).top-s.margins.top),p&&(n.position.top=s._convertPositionTo("relative",{top:m,left:0}).top-s.margins.top),_&&(n.position.left=s._convertPositionTo("relative",{top:0,left:d-s.helperProportions.width}).left-s.margins.left),C&&(n.position.left=s._convertPositionTo("relative",{top:0,left:f}).left-s.margins.left)}var v=g||p||_||C;if("outer"!=r.snapMode){var g=Math.abs(h-l)<=a,p=Math.abs(m-c)<=a,_=Math.abs(d-o)<=a,C=Math.abs(f-i)<=a;g&&(n.position.top=s._convertPositionTo("relative",{top:h,left:0}).top-s.margins.top),p&&(n.position.top=s._convertPositionTo("relative",{top:m-s.helperProportions.height,left:0}).top-s.margins.top),_&&(n.position.left=s._convertPositionTo("relative",{top:0,left:d}).left-s.margins.left),C&&(n.position.left=s._convertPositionTo("relative",{top:0,left:f-s.helperProportions.width}).left-s.margins.left)}!s.snapElements[u].snapping&&(g||p||_||C||v)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=g||p||_||C||v}else s.snapElements[u].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,t,e.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options,n=e.makeArray(e(t.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(n.length){var s=parseInt(n[0].style.zIndex)||0;e(n).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+n.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var s=e(n.helper),r=e(this).data("draggable").options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(t,n){var s=e(this).data("draggable").options;s._zIndex&&e(n.helper).css("zIndex",s._zIndex)}})}(jQuery),function(e){e.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var t=this.options,n=t.accept;this.isover=0,this.isout=1,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[],e.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var t=e.ui.ddmanager.droppables[this.options.scope],n=0;n<t.length;n++)t[n]==this&&t.splice(n,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(t,n){"accept"==t&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!=this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var s=n||e.ui.ddmanager.current;if(!s||(s.currentItem||s.element)[0]==this.element[0])return!1;var r=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope==s.options.scope&&t.accept.call(t.element[0],s.currentItem||s.element)&&e.ui.intersect(s,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(r=!0,!1):void 0}),r?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(s)),this.element):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.extend(e.ui.droppable,{version:"1.8.24"}),e.ui.intersect=function(t,n,s){if(!n.offset)return!1;var r=(t.positionAbs||t.position.absolute).left,a=r+t.helperProportions.width,o=(t.positionAbs||t.position.absolute).top,i=o+t.helperProportions.height,l=n.offset.left,c=l+n.proportions.width,u=n.offset.top,d=u+n.proportions.height;switch(s){case"fit":return r>=l&&c>=a&&o>=u&&d>=i;case"intersect":return l<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&u<o+t.helperProportions.height/2&&i-t.helperProportions.height/2<d;case"pointer":var f=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,h=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,m=e.ui.isOver(h,f,u,l,n.proportions.height,n.proportions.width);return m;case"touch":return(o>=u&&d>=o||i>=u&&d>=i||u>o&&i>d)&&(r>=l&&c>=r||a>=l&&c>=a||l>r&&a>c);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var s=e.ui.ddmanager.droppables[t.options.scope]||[],r=n?n.type:null,a=(t.currentItem||t.element).find(":data(droppable)").andSelf();e:for(var o=0;o<s.length;o++)if(!(s[o].options.disabled||t&&!s[o].accept.call(s[o].element[0],t.currentItem||t.element))){for(var i=0;i<a.length;i++)if(a[i]==s[o].element[0]){s[o].proportions.height=0;continue e}s[o].visible="none"!=s[o].element.css("display"),s[o].visible&&("mousedown"==r&&s[o]._activate.call(s[o],n),s[o].offset=s[o].element.offset(),s[o].proportions={width:s[o].element[0].offsetWidth,height:s[o].element[0].offsetHeight})}},drop:function(t,n){var s=!1;return e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(s=this._drop.call(this,n)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,n)))}),s},dragStart:function(t,n){t.element.parents(":not(body,html)").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s=e.ui.intersect(t,this,this.options.tolerance),r=s||1!=this.isover?s&&0==this.isover?"isover":null:"isout";if(r){var a;if(this.options.greedy){var o=this.options.scope,i=this.element.parents(":data(droppable)").filter(function(){return e.data(this,"droppable").options.scope===o
});i.length&&(a=e.data(i[0],"droppable"),a.greedyChild="isover"==r?1:0)}a&&"isover"==r&&(a.isover=0,a.isout=1,a._out.call(a,n)),this[r]=1,this["isout"==r?"isover":"isout"]=0,this["isover"==r?"_over":"_out"].call(this,n),a&&"isout"==r&&(a.isout=0,a.isover=1,a._over.call(a,n))}}})},dragStop:function(t,n){t.element.parents(":not(body,html)").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var r=0;r<s.length;r++){var a=e.trim(s[r]),o="ui-resizable-"+a,i=e('<div class="ui-resizable-handle '+o+'"></div>');i.css({zIndex:n.zIndex}),"se"==a&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(i)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s=e(this.handles[n],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(n)?s.outerHeight():s.outerWidth();var a=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(a,r),this._proportionallyResize()}e(this.handles[n]).length}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(e(this).removeClass("ui-resizable-autohide"),t._handles.show())},function(){n.disabled||t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var s in this.handles)e(this.handles[s])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var s=this.options,r=this.element.position(),a=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(a.is(".ui-draggable")||/absolute/.test(a.css("position")))&&a.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy();var o=t(this.helper.css("left")),i=t(this.helper.css("top"));s.containment&&(o+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:i},this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:o,top:i},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;var l=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor","auto"==l?this.axis+"-resize":l),a.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(t){var n=this.helper,s=(this.options,this.originalMousePosition),r=this.axis,a=t.pageX-s.left||0,o=t.pageY-s.top||0,i=this._change[r];if(!i)return!1;var l=i.apply(this,[t,a,o]);return e.browser.msie&&e.browser.version<7,this.sizeDiff,this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(l=this._updateRatio(l,t)),l=this._respectSize(l,t),this._propagate("resize",t),n.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,s=this;if(this._helper){var r=this._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&e.ui.hasScroll(r[0],"left")?0:s.sizeDiff.height,i=a?0:s.sizeDiff.width,l={width:s.helper.width()-i,height:s.helper.height()-o},c=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,u=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;n.animate||this.element.css(e.extend(l,{top:u,left:c})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,s,r,a,o,i=this.options;o={minWidth:n(i.minWidth)?i.minWidth:0,maxWidth:n(i.maxWidth)?i.maxWidth:1/0,minHeight:n(i.minHeight)?i.minHeight:0,maxHeight:n(i.maxHeight)?i.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),s<o.maxWidth&&(o.maxWidth=s),a<o.maxHeight&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(e){this.options,this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=(this.options,this.position),s=this.size,r=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"==r&&(e.left=t.left+(s.width-e.width),e.top=null),"nw"==r&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e},_respectSize:function(e,t){var s=(this.helper,this._vBoundaries),r=(this._aspectRatio||t.shiftKey,this.axis),a=n(e.width)&&s.maxWidth&&s.maxWidth<e.width,o=n(e.height)&&s.maxHeight&&s.maxHeight<e.height,i=n(e.width)&&s.minWidth&&s.minWidth>e.width,l=n(e.height)&&s.minHeight&&s.minHeight>e.height;i&&(e.width=s.minWidth),l&&(e.height=s.minHeight),a&&(e.width=s.maxWidth),o&&(e.height=s.maxHeight);var c=this.originalPosition.left+this.originalSize.width,u=this.position.top+this.size.height,d=/sw|nw|w/.test(r),f=/nw|ne|n/.test(r);i&&d&&(e.left=c-s.minWidth),a&&d&&(e.left=c-s.maxWidth),l&&f&&(e.top=u-s.minHeight),o&&f&&(e.top=u-s.maxHeight);var h=!e.width&&!e.height;return h&&!e.left&&e.top?e.top=null:h&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this.options,this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;n<this._proportionallyResizeElements.length;n++){var s=this._proportionallyResizeElements[n];if(!this.borderDif){var r=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],a=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=e.map(r,function(e,t){var n=parseInt(e,10)||0,s=parseInt(a[t],10)||0;return n+s})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||s.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var s=e.browser.msie&&e.browser.version<7,r=s?1:0,a=s?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=(this.options,this.originalSize),s=this.originalPosition;return{left:s.left+t,width:n.width-t}},n:function(e,t,n){var s=(this.options,this.originalSize),r=this.originalPosition;return{top:r.top+n,height:s.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,s){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,s]))},sw:function(t,n,s){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,s]))},ne:function(t,n,s){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,s]))},nw:function(t,n,s){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,s]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.24"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable"),n=t.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?s(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],s(n.alsoResize)):e.each(n.alsoResize,function(e){s(e)})},resize:function(t,n){var s=e(this).data("resizable"),r=s.options,a=s.originalSize,o=s.originalPosition,i={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},l=function(t,s){e(t).each(function(){var t=e(this),r=e(this).data("resizable-alsoresize"),a={},o=s&&s.length?s:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(r[t]||0)+(i[t]||0);n&&n>=0&&(a[t]=n||null)}),t.css(a)})};"object"!=typeof r.alsoResize||r.alsoResize.nodeType?l(r.alsoResize):e.each(r.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("resizable"),s=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height,i=a?0:n.sizeDiff.width,l={width:n.size.width-i,height:n.size.height-o},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,u=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:s.width,height:s.height}),n._updateCache(s),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n=e(this).data("resizable"),s=n.options,r=n.element,a=s.containment,o=a instanceof e?a.get(0):/parent/.test(a)?r.parent().get(0):a;if(o)if(n.containerElement=e(o),/document/.test(a)||a==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var i=e(o),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){l[e]=t(i.css("padding"+n))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-l[3],width:i.innerWidth()-l[1]};var c=n.containerOffset,u=n.containerSize.height,d=n.containerSize.width,f=e.ui.hasScroll(o,"left")?o.scrollWidth:d,h=e.ui.hasScroll(o)?o.scrollHeight:u;n.parentData={element:o,left:c.left,top:c.top,width:f,height:h}}},resize:function(t){var n=e(this).data("resizable"),s=n.options,r=(n.containerSize,n.containerOffset),a=(n.size,n.position),o=n._aspectRatio||t.shiftKey,i={top:0,left:0},l=n.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(i=r),a.left<(n._helper?r.left:0)&&(n.size.width=n.size.width+(n._helper?n.position.left-r.left:n.position.left-i.left),o&&(n.size.height=n.size.width/n.aspectRatio),n.position.left=s.helper?r.left:0),a.top<(n._helper?r.top:0)&&(n.size.height=n.size.height+(n._helper?n.position.top-r.top:n.position.top),o&&(n.size.width=n.size.height*n.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top;var c=Math.abs((n._helper?n.offset.left-i.left:n.offset.left-i.left)+n.sizeDiff.width),u=Math.abs((n._helper?n.offset.top-i.top:n.offset.top-r.top)+n.sizeDiff.height),d=n.containerElement.get(0)==n.element.parent().get(0),f=/relative|absolute/.test(n.containerElement.css("position"));d&&f&&(c-=n.parentData.left),c+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-c,o&&(n.size.height=n.size.width/n.aspectRatio)),u+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-u,o&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var t=e(this).data("resizable"),n=t.options,s=(t.position,t.containerOffset),r=t.containerPosition,a=t.containerElement,o=e(t.helper),i=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:i.left-r.left-s.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:i.left-r.left-s.left,width:l,height:c})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),n=t.options,s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.options,t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t){var n=e(this).data("resizable"),s=n.options,r=n.size,a=n.originalSize,o=n.originalPosition,i=n.axis;s._aspectRatio||t.shiftKey,s.grid="number"==typeof s.grid?[s.grid,s.grid]:s.grid;var l=Math.round((r.width-a.width)/(s.grid[0]||1))*(s.grid[0]||1),c=Math.round((r.height-a.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(i)?(n.size.width=a.width+l,n.size.height=a.height+c):/^(ne)$/.test(i)?(n.size.width=a.width+l,n.size.height=a.height+c,n.position.top=o.top-c):/^(sw)$/.test(i)?(n.size.width=a.width+l,n.size.height=a.height+c,n.position.left=o.left-l):(n.size.width=a.width+l,n.size.height=a.height+c,n.position.top=o.top-c,n.position.left=o.left-l)}});var t=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var t=this;this.element.addClass("ui-selectable"),this.dragged=!1;var n;this.refresh=function(){n=e(t.options.filter,t.element[0]),n.addClass("ui-selectee"),n.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=n.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(t){var n=this;if(this.opos=[t.pageX,t.pageY],!this.options.disabled){var s=this.options;this.selectees=e(s.filter,this.element[0]),this._trigger("start",t),e(s.appendTo).append(this.helper),this.helper.css({left:t.clientX,top:t.clientY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=e.data(this,"selectable-item");s.startselected=!0,!t.metaKey&&!t.ctrlKey&&(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,n._trigger("unselecting",t,{unselecting:s.element}))}),e(t.target).parents().andSelf().each(function(){var s=e.data(this,"selectable-item");if(s){var r=!t.metaKey&&!t.ctrlKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),s.unselecting=!r,s.selecting=r,s.selected=r,r?n._trigger("selecting",t,{selecting:s.element}):n._trigger("unselecting",t,{unselecting:s.element}),!1}})}},_mouseDrag:function(t){var n=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,r=this.opos[0],a=this.opos[1],o=t.pageX,i=t.pageY;if(r>o){var l=o;o=r,r=l}if(a>i){var l=i;i=a,a=l}return this.helper.css({left:r,top:a,width:o-r,height:i-a}),this.selectees.each(function(){var l=e.data(this,"selectable-item");if(l&&l.element!=n.element[0]){var c=!1;"touch"==s.tolerance?c=!(l.left>o||l.right<r||l.top>i||l.bottom<a):"fit"==s.tolerance&&(c=l.left>r&&l.right<o&&l.top>a&&l.bottom<i),c?(l.selected&&(l.$element.removeClass("ui-selected"),l.selected=!1),l.unselecting&&(l.$element.removeClass("ui-unselecting"),l.unselecting=!1),l.selecting||(l.$element.addClass("ui-selecting"),l.selecting=!0,n._trigger("selecting",t,{selecting:l.element}))):(l.selecting&&((t.metaKey||t.ctrlKey)&&l.startselected?(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.$element.addClass("ui-selected"),l.selected=!0):(l.$element.removeClass("ui-selecting"),l.selecting=!1,l.startselected&&(l.$element.addClass("ui-unselecting"),l.unselecting=!0),n._trigger("unselecting",t,{unselecting:l.element}))),l.selected&&!t.metaKey&&!t.ctrlKey&&!l.startselected&&(l.$element.removeClass("ui-selected"),l.selected=!1,l.$element.addClass("ui-unselecting"),l.unselecting=!0,n._trigger("unselecting",t,{unselecting:l.element})))}}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,this.options,e(".ui-unselecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,n._trigger("unselected",t,{unselected:s.element})}),e(".ui-selecting",this.element[0]).each(function(){var s=e.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,n._trigger("selected",t,{selected:s.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.extend(e.ui.selectable,{version:"1.8.24"})}(jQuery),function(e){e.widget("ui.sortable",e.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){e.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget()[n?"addClass":"removeClass"]("ui-sortable-disabled")):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var s=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var r=null,a=this;if(e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")==a?(r=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")==a&&(r=e(t.target)),!r)return!1;if(this.options.handle&&!n){var o=!1;if(e(this.options.handle,r).find("*").andSelf().each(function(){this==t.target&&(o=!0)}),!o)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,s){var r=this.options,a=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",r.cursor)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,a._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var n=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var r=this.items.length-1;r>=0;r--){var a=this.items[r],o=a.item[0],i=this._intersectsWithPointer(a);if(i&&a.instance===this.currentContainer&&o!=this.currentItem[0]&&this.placeholder[1==i?"next":"prev"]()[0]!=o&&!e.ui.contains(this.placeholder[0],o)&&("semi-dynamic"==this.options.type?!e.ui.contains(this.element[0],o):!0)){if(this.direction=1==i?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(a))break;this._rearrange(t,a),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,r=s.placeholder.offset();s.reverting=!0,e(this.helper).animate({left:r.left-this.offset.parent.left-s.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:r.top-this.offset.parent.top-s.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){var t=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("deactivate",null,t._uiHash(this)),this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",null,t._uiHash(this)),this.containers[n].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&s.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},n.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,s=this.positionAbs.top,r=s+this.helperProportions.height,a=e.left,o=a+e.width,i=e.top,l=i+e.height,c=this.offset.click.top,u=this.offset.click.left,d=s+c>i&&l>s+c&&t+u>a&&o>t+u;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?d:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&i<s+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var n="x"===this.options.axis||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=n&&s,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"==o||"down"==a?2:1:a&&("down"==a?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),r=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&s||"left"==a&&!s:r&&("down"==r&&n||"up"==r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!=e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!=e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],s=[],r=this._connectWith();if(r&&t)for(var a=r.length-1;a>=0;a--)for(var o=e(r[a]),i=o.length-1;i>=0;i--){var l=e.data(o[i],this.widgetName);l&&l!=this&&!l.options.disabled&&s.push([e.isFunction(l.options.items)?l.options.items.call(l.element):e(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var a=s.length-1;a>=0;a--)s[a][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){for(var e=this.currentItem.find(":data("+this.widgetName+"-item)"),t=0;t<this.items.length;t++)for(var n=0;n<e.length;n++)e[n]==this.items[t].item[0]&&this.items.splice(t,1)
},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,s=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],r=this._connectWith();if(r&&this.ready)for(var a=r.length-1;a>=0;a--)for(var o=e(r[a]),i=o.length-1;i>=0;i--){var l=e.data(o[i],this.widgetName);l&&l!=this&&!l.options.disabled&&(s.push([e.isFunction(l.options.items)?l.options.items.call(l.element[0],t,{item:this.currentItem}):e(l.options.items,l.element),l]),this.containers.push(l))}for(var a=s.length-1;a>=0;a--)for(var c=s[a][1],u=s[a][0],i=0,d=u.length;d>i;i++){var f=e(u[i]);f.data(this.widgetName+"-item",c),n.push({item:f,instance:c,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var s=this.items[n];if(s.instance==this.currentContainer||!this.currentContainer||s.item[0]==this.currentItem[0]){var r=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item;t||(s.width=r.outerWidth(),s.height=r.outerHeight());var a=r.offset();s.left=a.left,s.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var a=this.containers[n].element.offset();this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){var n=t||this,s=n.options;if(!s.placeholder||s.placeholder.constructor==String){var r=s.placeholder;s.placeholder={element:function(){var t=e(document.createElement(n.currentItem[0].nodeName)).addClass(r||n.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(t.style.visibility="hidden"),t},update:function(e,t){(!r||s.forcePlaceholderSize)&&(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}}n.placeholder=e(s.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),s.placeholder.update(n,n.placeholder)},_contactContainers:function(t){for(var n=null,s=null,r=this.containers.length-1;r>=0;r--)if(!e.ui.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(n&&e.ui.contains(this.containers[r].element[0],n.element[0]))continue;n=this.containers[r],s=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(n)if(1===this.containers.length)this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1;else if(this.currentContainer!=this.containers[s]){for(var a=1e4,o=null,i=this.positionAbs[this.containers[s].floating?"left":"top"],l=this.items.length-1;l>=0;l--)if(e.ui.contains(this.containers[s].element[0],this.items[l].item[0])){var c=this.containers[s].floating?this.items[l].item.offset().left:this.items[l].item.offset().top;Math.abs(c-i)<a&&(a=Math.abs(c-i),o=this.items[l],this.direction=c-i>0?"down":"up")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[s],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[s].element,!0),this._trigger("change",t,this._uiHash()),this.containers[s]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",t,this._uiHash(this)),this.containers[s].containerCache.over=1}},_createHelper:function(t){var n=this.options,s=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"==n.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!=n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==s[0].style.width||n.forceHelperSize)&&s.width(this.currentItem.width()),(""==s[0].style.height||n.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&e.browser.msie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;if("parent"==t.containment&&(t.containment=this.helper[0].parentNode),("document"==t.containment||"window"==t.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"==t.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"==t.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],s=e(t.containment).offset(),r="hidden"!=e(n).css("overflow");this.containment=[s.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,s.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,s.left+(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,s.top+(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var s="absolute"==t?1:-1,r=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*s+this.offset.parent.top*s-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*s),left:n.left+this.offset.relative.left*s+this.offset.parent.left*s-(e.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*s)}},_generatePosition:function(t){var n=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var a=t.pageX,o=t.pageY;if(this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid)){var i=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3]?i-this.offset.click.top<this.containment[1]?i+n.grid[1]:i-n.grid[1]:i:i;var l=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0];a=this.containment?l-this.offset.click.left<this.containment[0]||l-this.offset.click.left>this.containment[2]?l-this.offset.click.left<this.containment[0]?l+n.grid[0]:l-n.grid[0]:l:l}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_rearrange:function(e,t,n,s){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this,a=this.counter;window.setTimeout(function(){a==r.counter&&r.refreshPositions(!s)},0)},_clear:function(t,n){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var r in this._storedCSS)("auto"==this._storedCSS[r]||"static"==this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&s.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&s.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(s.push(function(e){this._trigger("remove",e,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var r=this.containers.length-1;r>=0;r--)n||s.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over&&(s.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[r])),this.containers[r].containerCache.over=0);if(this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var r=0;r<s.length;r++)s[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!n){for(var r=0;r<s.length;r++)s[r].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.extend(e.ui.sortable,{version:"1.8.24"})}(jQuery),function(e){e.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var t=this,n=t.options;if(t.running=0,t.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),t.headers=t.element.find(n.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){n.disabled||e(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){n.disabled||e(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){n.disabled||e(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){n.disabled||e(this).removeClass("ui-state-focus")}),t.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),n.navigation){var s=t.element.find("a").filter(n.navigationFilter).eq(0);if(s.length){var r=s.closest(".ui-accordion-header");t.active=r.length?r:s.closest(".ui-accordion-content").prev()}}t.active=t._findActive(t.active||n.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),t.active.next().addClass("ui-accordion-content-active"),t._createIcons(),t.resize(),t.element.attr("role","tablist"),t.headers.attr("role","tab").bind("keydown.accordion",function(e){return t._keydown(e)}).next().attr("role","tabpanel"),t.headers.not(t.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),t.active.length?t.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):t.headers.eq(0).attr("tabIndex",0),e.browser.safari||t.headers.find("a").attr("tabIndex",-1),n.event&&t.headers.bind(n.event.split(" ").join(".accordion ")+".accordion",function(e){t._clickHandler.call(t,e,this),e.preventDefault()})},_createIcons:function(){var t=this.options;t.icons&&(e("<span></span>").addClass("ui-icon "+t.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(t.icons.header).toggleClass(t.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var t=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var n=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(t.autoHeight||t.fillHeight)&&n.css("height",""),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"active"==t&&this.activate(n),"icons"==t&&(this._destroyIcons(),n&&this._createIcons()),"disabled"==t&&this.headers.add(this.headers.next())[n?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(t){if(!(this.options.disabled||t.altKey||t.ctrlKey)){var n=e.ui.keyCode,s=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(r+1)%s];break;case n.LEFT:case n.UP:a=this.headers[(r-1+s)%s];break;case n.SPACE:case n.ENTER:this._clickHandler({target:t.target},t.target),t.preventDefault()}return a?(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),a.focus(),!1):!0}},resize:function(){var t,n=this.options;if(n.fillSpace){if(e.browser.msie){var s=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}t=this.element.parent().height(),e.browser.msie&&this.element.parent().css("overflow",s),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else n.autoHeight&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).height("").height())}).height(t));return this},activate:function(e){this.options.active=e;var t=this._findActive(e)[0];return this._clickHandler({target:t},t),this},_findActive:function(t){return t?"number"==typeof t?this.headers.filter(":eq("+t+")"):this.headers.not(this.headers.not(t)):t===!1?e([]):this.headers.filter(":eq(0)")},_clickHandler:function(t,n){var s=this.options;if(!s.disabled){if(!t.target){if(!s.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),this.active.next().addClass("ui-accordion-content-active");var r=this.active.next(),a={options:s,newHeader:e([]),oldHeader:s.active,newContent:e([]),oldContent:r},o=this.active=e([]);return this._toggle(o,r,a),void 0}var i=e(t.currentTarget||n),l=i[0]===this.active[0];if(s.active=s.collapsible&&l?!1:this.headers.index(i),!(this.running||!s.collapsible&&l)){var c=this.active,o=i.next(),r=this.active.next(),a={options:s,newHeader:l&&s.collapsible?e([]):i,oldHeader:this.active,newContent:l&&s.collapsible?e([]):o,oldContent:r},u=this.headers.index(this.active[0])>this.headers.index(i[0]);this.active=l?e([]):i,this._toggle(o,r,a,l,u),c.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(s.icons.headerSelected).addClass(s.icons.header),l||(i.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(s.icons.header).addClass(s.icons.headerSelected),i.next().addClass("ui-accordion-content-active"))}}},_toggle:function(t,n,s,r,a){var o=this,i=o.options;o.toShow=t,o.toHide=n,o.data=s;var l=function(){return o?o._completed.apply(o,arguments):void 0};if(o._trigger("changestart",null,o.data),o.running=0===n.size()?t.size():n.size(),i.animated){var c={};c=i.collapsible&&r?{toShow:e([]),toHide:n,complete:l,down:a,autoHeight:i.autoHeight||i.fillSpace}:{toShow:t,toHide:n,complete:l,down:a,autoHeight:i.autoHeight||i.fillSpace},i.proxied||(i.proxied=i.animated),i.proxiedDuration||(i.proxiedDuration=i.duration),i.animated=e.isFunction(i.proxied)?i.proxied(c):i.proxied,i.duration=e.isFunction(i.proxiedDuration)?i.proxiedDuration(c):i.proxiedDuration;var u=e.ui.accordion.animations,d=i.duration,f=i.animated;f&&!u[f]&&!e.easing[f]&&(f="slide"),u[f]||(u[f]=function(e){this.slide(e,{easing:f,duration:d||700})}),u[f](c)}else i.collapsible&&r?t.toggle():(n.hide(),t.show()),l(!0);n.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),t.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(e){this.running=e?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),e.extend(e.ui.accordion,{version:"1.8.24",animations:{slide:function(t,n){if(t=e.extend({easing:"swing",duration:300},t,n),!t.toHide.size())return t.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},t),void 0;if(!t.toShow.size())return t.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},t),void 0;var s,r=t.toShow.css("overflow"),a=0,o={},i={},l=["height","paddingTop","paddingBottom"],c=t.toShow;s=c[0].style.width,c.width(c.parent().width()-parseFloat(c.css("paddingLeft"))-parseFloat(c.css("paddingRight"))-(parseFloat(c.css("borderLeftWidth"))||0)-(parseFloat(c.css("borderRightWidth"))||0)),e.each(l,function(n,s){i[s]="hide";var r=(""+e.css(t.toShow[0],s)).match(/^([\d+-.]+)(.*)$/);o[s]={value:r[1],unit:r[2]||"px"}}),t.toShow.css({height:0,overflow:"hidden"}).show(),t.toHide.filter(":hidden").each(t.complete).end().filter(":visible").animate(i,{step:function(e,n){"height"==n.prop&&(a=0===n.end-n.start?0:(n.now-n.start)/(n.end-n.start)),t.toShow[0].style[n.prop]=a*o[n.prop].value+o[n.prop].unit},duration:t.duration,easing:t.easing,complete:function(){t.autoHeight||t.toShow.css("height",""),t.toShow.css({width:s,overflow:r}),t.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})}(jQuery),function(e){var t=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var t,n=this,s=this.element[0].ownerDocument;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(s){if(!n.options.disabled&&!n.element.propAttr("readOnly")){t=!1;var r=e.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:n._move("previousPage",s);break;case r.PAGE_DOWN:n._move("nextPage",s);break;case r.UP:n._keyEvent("previous",s);break;case r.DOWN:n._keyEvent("next",s);break;case r.ENTER:case r.NUMPAD_ENTER:n.menu.active&&(t=!0,s.preventDefault());case r.TAB:if(!n.menu.active)return;n.menu.select(s);break;case r.ESCAPE:n.element.val(n.term),n.close(s);break;default:clearTimeout(n.searching),n.searching=setTimeout(function(){n.term!=n.element.val()&&(n.selectedItem=null,n.search(null,s))},n.options.delay)}}}).bind("keypress.autocomplete",function(e){t&&(t=!1,e.preventDefault())}).bind("focus.autocomplete",function(){n.options.disabled||(n.selectedItem=null,n.previous=n.element.val())}).bind("blur.autocomplete",function(e){n.options.disabled||(clearTimeout(n.searching),n.closing=setTimeout(function(){n.close(e),n._change(e)},150))}),this._initSource(),this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",s)[0]).mousedown(function(t){var s=n.menu.element[0];e(t.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(t){t.target!==n.element[0]&&t.target!==s&&!e.ui.contains(s,t.target)&&n.close()})},1),setTimeout(function(){clearTimeout(n.closing)},13)}).menu({focus:function(e,t){var s=t.item.data("item.autocomplete");!1!==n._trigger("focus",e,{item:s})&&/^key/.test(e.originalEvent.type)&&n.element.val(s.value)},selected:function(e,t){var r=t.item.data("item.autocomplete"),a=n.previous;n.element[0]!==s.activeElement&&(n.element.focus(),n.previous=a,setTimeout(function(){n.previous=a,n.selectedItem=r},1)),!1!==n._trigger("select",e,{item:r})&&n.element.val(r.value),n.term=n.element.val(),n.close(e),n.selectedItem=r},blur:function(){n.menu.element.is(":visible")&&n.element.val()!==n.term&&n.element.val(n.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),n.beforeunloadHandler=function(){n.element.removeAttr("autocomplete")},e(window).bind("beforeunload",n.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){e.Widget.prototype._setOption.apply(this,arguments),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(e(n||"body",this.element[0].ownerDocument)[0]),"disabled"===t&&n&&this.xhr&&this.xhr.abort()},_initSource:function(){var t,n,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,s){s(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},search:function(e,t){return e=null!=e?e:this.element.val(),this.term=this.element.val(),e.length<this.options.minLength?this.close(t):(clearTimeout(this.closing),this._trigger("search",t)!==!1?this._search(e):void 0)},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:e},this._response())},_response:function(){var e=this,n=++t;return function(s){n===t&&e.__response(s),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){!this.options.disabled&&e&&e.length?(e=this._normalize(e),this._suggest(e),this._trigger("open")):this.close()},close:function(e){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",e))},_change:function(e){this.previous!==this.element.val()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.deactivate(),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var s=this;e.each(n,function(e,n){s._renderItem(t,n)})},_renderItem:function(t,n){return e("<li></li>").data("item.autocomplete",n).append(e("<a></a>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.first()&&/^previous/.test(e)||this.menu.last()&&/^next/.test(e)?(this.element.val(this.term),this.menu.deactivate(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(t,n){var s=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}})}(jQuery),function(e){e.widget("ui.menu",{_create:function(){var t=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(n){e(n.target).closest(".ui-menu-item a").length&&(n.preventDefault(),t.select(n))}),this.refresh()},refresh:function(){var t=this,n=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");n.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(n){t.activate(n,e(this).parent())}).mouseleave(function(){t.deactivate()})},activate:function(e,t){if(this.deactivate(),this.hasScroll()){var n=t.offset().top-this.element.offset().top,s=this.element.scrollTop(),r=this.element.height();0>n?this.element.scrollTop(s+n):n>=r&&this.element.scrollTop(s+n-r+t.height())}this.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",e,{item:t})},deactivate:function(){this.active&&(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,t,n){if(!this.active)return this.activate(n,this.element.children(t)),void 0;var s=this.active[e+"All"](".ui-menu-item").eq(0);s.length?this.activate(n,s):this.activate(n,this.element.children(t))},nextPage:function(t){if(this.hasScroll()){if(!this.active||this.last())return this.activate(t,this.element.children(".ui-menu-item:first")),void 0;var n=this.active.offset().top,s=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n-s+e(this).height();return 10>t&&t>-10});r.length||(r=this.element.children(".ui-menu-item:last")),this.activate(t,r)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(t){if(this.hasScroll()){if(!this.active||this.first())return this.activate(t,this.element.children(".ui-menu-item:last")),void 0;var n=this.active.offset().top,s=this.element.height(),r=this.element.children(".ui-menu-item").filter(function(){var t=e(this).offset().top-n+s-e(this).height();return 10>t&&t>-10});r.length||(r=this.element.children(".ui-menu-item:first")),this.activate(t,r)}else this.activate(t,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[e.fn.prop?"prop":"attr"]("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})}(jQuery),function(e){var t,n,s,r,a="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,s=t.form,r=e([]);return n&&(r=s?e(s).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,i=this.options,u="checkbox"===this.type||"radio"===this.type,d="ui-state-hover"+(u?"":" ui-state-active"),f="ui-state-focus";null===i.label&&(i.label=this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter.button",function(){i.disabled||(e(this).addClass("ui-state-hover"),this===t&&e(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){i.disabled||e(this).removeClass(d)
}).bind("click.button",function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus.button",function(){o.buttonElement.addClass(f)}).bind("blur.button",function(){o.buttonElement.removeClass(f)}),u&&(this.element.bind("change.button",function(){r||o.refresh()}),this.buttonElement.bind("mousedown.button",function(e){i.disabled||(r=!1,n=e.pageX,s=e.pageY)}).bind("mouseup.button",function(e){i.disabled||(n!==e.pageX||s!==e.pageY)&&(r=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return i.disabled||r?!1:(e(this).toggleClass("ui-state-active"),o.buttonElement.attr("aria-pressed",o.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(i.disabled||r)return!1;e(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var t=o.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),t=this,e(document).one("mouseup",function(){t=null}),void 0)}).bind("mouseup.button",function(){return i.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(t){return i.disabled?!1:((t.keyCode==e.ui.keyCode.SPACE||t.keyCode==e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var e=this.element.parents().filter(":last"),t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible");var n=this.element.is(":checked");n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",n)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+o+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),e.Widget.prototype.destroy.call(this)},_setOption:function(t,n){return e.Widget.prototype._setOption.apply(this,arguments),"disabled"===t?(n?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var t=this.element.is(":disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var t=this.buttonElement.removeClass(i),n=e("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,r=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(r?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",n))):a.push("ui-button-text-only"),t.addClass(a.join(" "))}}),e.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,n){"disabled"===t&&this.buttons.button("option",t,n),e.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),e.Widget.prototype.destroy.call(this)}})}(jQuery),function(e,t){var n="ui-dialog ui-widget ui-widget-content ui-corner-all ",s={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var t=this,s=t.options,r=s.title||"&#160;",a=e.ui.dialog.getTitleId(t.element),o=(t.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(n+s.dialogClass).css({zIndex:s.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(n){s.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}).attr({role:"dialog","aria-labelledby":a}).mousedown(function(e){t.moveToTop(!1,e)}),i=(t.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),(t.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o)),l=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){l.addClass("ui-state-hover")},function(){l.removeClass("ui-state-hover")}).focus(function(){l.addClass("ui-state-focus")}).blur(function(){l.removeClass("ui-state-focus")}).click(function(e){return t.close(e),!1}).appendTo(i);(t.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(s.closeText).appendTo(l),e("<span></span>").addClass("ui-dialog-title").attr("id",a).html(r).prependTo(i),e.isFunction(s.beforeclose)&&!e.isFunction(s.beforeClose)&&(s.beforeClose=s.beforeclose),i.find("*").add(i).disableSelection(),s.draggable&&e.fn.draggable&&t._makeDraggable(),s.resizable&&e.fn.resizable&&t._makeResizable(),t._createButtons(s.buttons),t._isOpen=!1,e.fn.bgiframe&&o.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var e=this;return e.overlay&&e.overlay.destroy(),e.uiDialog.hide(),e.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),e.uiDialog.remove(),e.originalTitle&&e.element.attr("title",e.originalTitle),e},widget:function(){return this.uiDialog},close:function(t){var n,s,r=this;if(!1!==r._trigger("beforeClose",t))return r.overlay&&r.overlay.destroy(),r.uiDialog.unbind("keypress.ui-dialog"),r._isOpen=!1,r.options.hide?r.uiDialog.hide(r.options.hide,function(){r._trigger("close",t)}):(r.uiDialog.hide(),r._trigger("close",t)),e.ui.dialog.overlay.resize(),r.options.modal&&(n=0,e(".ui-dialog").each(function(){this!==r.uiDialog[0]&&(s=e(this).css("z-index"),isNaN(s)||(n=Math.max(n,s)))}),e.ui.dialog.maxZ=n),r},isOpen:function(){return this._isOpen},moveToTop:function(t,n){var s,r=this,a=r.options;return a.modal&&!t||!a.stack&&!a.modal?r._trigger("focus",n):(a.zIndex>e.ui.dialog.maxZ&&(e.ui.dialog.maxZ=a.zIndex),r.overlay&&(e.ui.dialog.maxZ+=1,r.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)),s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},e.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",e.ui.dialog.maxZ),r.element.attr(s),r._trigger("focus",n),r)},open:function(){if(!this._isOpen){var t=this,n=t.options,s=t.uiDialog;return t.overlay=n.modal?new e.ui.dialog.overlay(t):null,t._size(),t._position(n.position),s.show(n.show),t.moveToTop(!0),n.modal&&s.bind("keydown.ui-dialog",function(t){if(t.keyCode===e.ui.keyCode.TAB){var n=e(":tabbable",this),s=n.filter(":first"),r=n.filter(":last");return t.target!==r[0]||t.shiftKey?t.target===s[0]&&t.shiftKey?(r.focus(1),!1):void 0:(s.focus(1),!1)}}),e(t.element.find(":tabbable").get().concat(s.find(".ui-dialog-buttonpane :tabbable").get().concat(s.get()))).eq(0).focus(),t._isOpen=!0,t._trigger("open"),t}},_createButtons:function(t){var n=this,s=!1,r=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),a=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(r);n.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof t&&null!==t&&e.each(t,function(){return!(s=!0)}),s&&(e.each(t,function(t,s){s=e.isFunction(s)?{click:s,text:t}:s;var r=e('<button type="button"></button>').click(function(){s.click.apply(n.element[0],arguments)}).appendTo(a);e.each(s,function(e,t){"click"!==e&&(e in r?r[e](t):r.attr(e,t))}),e.fn.button&&r.button()}),r.appendTo(n.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n,s=this,r=s.options,a=e(document);s.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,o){n="auto"===r.height?"auto":e(this).height(),e(this).height(e(this).height()).addClass("ui-dialog-dragging"),s._trigger("dragStart",a,t(o))},drag:function(e,n){s._trigger("drag",e,t(n))},stop:function(o,i){r.position=[i.position.left-a.scrollLeft(),i.position.top-a.scrollTop()],e(this).removeClass("ui-dialog-dragging").height(n),s._trigger("dragStop",o,t(i)),e.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}n=n===t?this.options.resizable:n;var r=this,a=r.options,o=r.uiDialog.css("position"),i="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";r.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:r.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:r._minHeight(),handles:i,start:function(t,n){e(this).addClass("ui-dialog-resizing"),r._trigger("resizeStart",t,s(n))},resize:function(e,t){r._trigger("resize",e,s(t))},stop:function(t,n){e(this).removeClass("ui-dialog-resizing"),a.height=e(this).height(),a.width=e(this).width(),r._trigger("resizeStop",t,s(n)),e.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(t){var n,s=[],r=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(s=t.split?t.split(" "):[t[0],t[1]],1===s.length&&(s[1]=s[0]),e.each(["left","top"],function(e,t){+s[e]===s[e]&&(r[e]=s[e],s[e]=t)}),t={my:s.join(" "),at:s.join(" "),offset:r.join(" ")}),t=e.extend({},e.ui.dialog.prototype.options.position,t)):t=e.ui.dialog.prototype.options.position,n=this.uiDialog.is(":visible"),n||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},t)),n||this.uiDialog.hide()},_setOptions:function(t){var n=this,a={},o=!1;e.each(t,function(e,t){n._setOption(e,t),e in s&&(o=!0),e in r&&(a[e]=t)}),o&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,s){var r=this,a=r.uiDialog;switch(t){case"beforeclose":t="beforeClose";break;case"buttons":r._createButtons(s);break;case"closeText":r.uiDialogTitlebarCloseText.text(""+s);break;case"dialogClass":a.removeClass(r.options.dialogClass).addClass(n+s);break;case"disabled":s?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":var o=a.is(":data(draggable)");o&&!s&&a.draggable("destroy"),!o&&s&&r._makeDraggable();break;case"position":r._position(s);break;case"resizable":var i=a.is(":data(resizable)");i&&!s&&a.resizable("destroy"),i&&"string"==typeof s&&a.resizable("option","handles",s),!i&&s!==!1&&r._makeResizable(s);break;case"title":e(".ui-dialog-title",r.uiDialogTitlebar).html(""+(s||"&#160;"))}e.Widget.prototype._setOption.apply(r,arguments)},_size:function(){var t,n,s=this.options,r=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).height(),n=Math.max(0,s.minHeight-t),"auto"===s.height)if(e.support.minHeight)this.element.css({minHeight:n,height:"auto"});else{this.uiDialog.show();var a=this.element.css("height","auto").height();r||this.uiDialog.hide(),this.element.height(Math.max(a,n))}else this.element.height(Math.max(s.height-t,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),e.extend(e.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(e){var t=e.attr("id");return t||(this.uuid+=1,t=this.uuid),"ui-dialog-title-"+t},overlay:function(t){this.$el=e.ui.dialog.overlay.create(t)}}),e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(t){0===this.instances.length&&(setTimeout(function(){e.ui.dialog.overlay.instances.length&&e(document).bind(e.ui.dialog.overlay.events,function(t){return e(t.target).zIndex()<e.ui.dialog.overlay.maxZ?!1:void 0})},1),e(document).bind("keydown.dialog-overlay",function(n){t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===e.ui.keyCode.ESCAPE&&(t.close(n),n.preventDefault())}),e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return e.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},destroy:function(t){var n=e.inArray(t,this.instances);-1!=n&&this.oldInstances.push(this.instances.splice(n,1)[0]),0===this.instances.length&&e([document,window]).unbind(".dialog-overlay"),t.remove();var s=0;e.each(this.instances,function(){s=Math.max(s,this.css("z-index"))}),this.maxZ=s},height:function(){var t,n;return e.browser.msie&&e.browser.version<7?(t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),n>t?e(window).height()+"px":t+"px"):e(document).height()+"px"},width:function(){var t,n;return e.browser.msie?(t=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),n>t?e(window).width()+"px":t+"px"):e(document).width()+"px"},resize:function(){var t=e([]);e.each(e.ui.dialog.overlay.instances,function(){t=t.add(this)}),t.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}}),e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(e){var t=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var n=this,s=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=s.values&&s.values.length||1,i=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(s.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),s.range&&(s.range===!0&&(s.values||(s.values=[this._valueMin(),this._valueMin()]),s.values.length&&2!==s.values.length&&(s.values=[s.values[0],s.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===s.range||"max"===s.range?" ui-slider-range-"+s.range:"")));for(var l=r.length;o>l;l+=1)i.push(a);this.handles=r.add(e(i.join("")).appendTo(n.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).hover(function(){s.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){s.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("index.ui-slider-handle",t)}),this.handles.keydown(function(s){var r,a,o,i,l=e(this).data("index.ui-slider-handle");if(!n.options.disabled){switch(s.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(s.preventDefault(),!n._keySliding&&(n._keySliding=!0,e(this).addClass("ui-state-active"),r=n._start(s,l),r===!1))return}switch(i=n.options.step,a=o=n.options.values&&n.options.values.length?n.values(l):n.value(),s.keyCode){case e.ui.keyCode.HOME:o=n._valueMin();break;case e.ui.keyCode.END:o=n._valueMax();break;case e.ui.keyCode.PAGE_UP:o=n._trimAlignValue(a+(n._valueMax()-n._valueMin())/t);break;case e.ui.keyCode.PAGE_DOWN:o=n._trimAlignValue(a-(n._valueMax()-n._valueMin())/t);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(a===n._valueMax())return;o=n._trimAlignValue(a+i);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a===n._valueMin())return;o=n._trimAlignValue(a-i)}n._slide(s,l,o)}}).keyup(function(t){var s=e(this).data("index.ui-slider-handle");n._keySliding&&(n._keySliding=!1,n._stop(t,s),n._change(t,s),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(t){var n,s,r,a,o,i,l,c,u,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},s=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,o=this,this.handles.each(function(t){var n=Math.abs(s-o.values(t));r>n&&(r=n,a=e(this),i=t)}),d.range===!0&&this.values(1)===d.min&&(i+=1,a=e(this.handles[i])),l=this._start(t,i),l===!1?!1:(this._mouseSliding=!0,o._handleIndex=i,a.addClass("ui-state-active").focus(),c=a.offset(),u=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-c.left-a.width()/2,top:t.pageY-c.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,i,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,s,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=n/t,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),r=this._valueMax()-this._valueMin(),a=this._valueMin()+s*r,this._trimAlignValue(a)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var s,r,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>s||1===t&&s>n)&&(n=s),n!==this.values(t)&&(r=this.values(),r[t]=n,a=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),s=this.values(t?0:1),a!==!1&&this.values(t,n,!0))):n!==this.value()&&(a=this._trigger("slide",e,{handle:this.handles[t],value:n}),a!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var s,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(s=this.options.values,r=arguments[0],a=0;a<s.length;a+=1)s[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,n){var s,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;r>s;s+=1)this._change(null,s);this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,s;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(n[s]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,s=e-n;return 2*Math.abs(n)>=t&&(s+=n>0?t:-t),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,s,r,a,o=this.options.range,i=this.options,l=this,c=this._animateOff?!1:i.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){t=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=t+"%",e(this).stop(1,1)[c?"animate":"css"](u,i.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[c?"animate":"css"]({left:t+"%"},i.animate),1===s&&l.range[c?"animate":"css"]({width:t-n+"%"},{queue:!1,duration:i.animate})):(0===s&&l.range.stop(1,1)[c?"animate":"css"]({bottom:t+"%"},i.animate),1===s&&l.range[c?"animate":"css"]({height:t-n+"%"},{queue:!1,duration:i.animate}))),n=t}):(s=this.value(),r=this._valueMin(),a=this._valueMax(),t=a!==r?100*((s-r)/(a-r)):0,u["horizontal"===l.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[c?"animate":"css"](u,i.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:t+"%"},i.animate),"max"===o&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:t+"%"},i.animate),"max"===o&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))}}),e.extend(e.ui.slider,{version:"1.8.24"})}(jQuery),function(e,t){function n(){return++r}function s(){return++a}var r=0,a=0;e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(e,t){if("selected"==e){if(this.options.collapsible&&t==this.options.selected)return;this.select(t)}else this.options[e]=t,this._tabify()},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+n()},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var t=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+s());return e.cookie.apply(null,[t].concat(e.makeArray(arguments)))},_ui:function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var t=e(this);t.html(t.data("label.tabs")).removeData("label.tabs")})},_tabify:function(n){function s(t,n){t.css("display",""),!e.support.opacity&&n.opacity&&t[0].style.removeAttribute("filter")}var r=this,a=this.options,o=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=e(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return e("a",this)[0]}),this.panels=e([]),this.anchors.each(function(t,n){var s,i=e(n).attr("href"),l=i.split("#")[0];if(l&&(l===location.toString().split("#")[0]||(s=e("base")[0])&&l===s.href)&&(i=n.hash,n.href=i),o.test(i))r.panels=r.panels.add(r.element.find(r._sanitizeSelector(i)));else if(i&&"#"!==i){e.data(n,"href.tabs",i),e.data(n,"load.tabs",i.replace(/#.*$/,""));var c=r._tabId(n);n.href="#"+c;var u=r.element.find("#"+c);u.length||(u=e(a.panelTemplate).attr("id",c).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(r.panels[t-1]||r.list),u.data("destroy.tabs",!0)),r.panels=r.panels.add(u)}else a.disabled.push(t)}),n?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),a.selected===t?(location.hash&&this.anchors.each(function(e,t){return t.hash==location.hash?(a.selected=e,!1):void 0}),"number"!=typeof a.selected&&a.cookie&&(a.selected=parseInt(r._cookie(),10)),"number"!=typeof a.selected&&this.lis.filter(".ui-tabs-selected").length&&(a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),a.selected=a.selected||(this.lis.length?0:-1)):null===a.selected&&(a.selected=-1),a.selected=a.selected>=0&&this.anchors[a.selected]||a.selected<0?a.selected:0,a.disabled=e.unique(a.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(e){return r.lis.index(e)}))).sort(),-1!=e.inArray(a.selected,a.disabled)&&a.disabled.splice(e.inArray(a.selected,a.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),a.selected>=0&&this.anchors.length&&(r.element.find(r._sanitizeSelector(r.anchors[a.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(a.selected).addClass("ui-tabs-selected ui-state-active"),r.element.queue("tabs",function(){r._trigger("show",null,r._ui(r.anchors[a.selected],r.element.find(r._sanitizeSelector(r.anchors[a.selected].hash))[0]))}),this.load(a.selected)),e(window).bind("unload",function(){r.lis.add(r.anchors).unbind(".tabs"),r.lis=r.anchors=r.panels=null})):a.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[a.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),a.cookie&&this._cookie(a.selected,a.cookie);for(var i,l=0;i=this.lis[l];l++)e(i)[-1==e.inArray(l,a.disabled)||e(i).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(a.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==a.event){var c=function(e,t){t.is(":not(.ui-state-disabled)")&&t.addClass("ui-state-"+e)},u=function(e,t){t.removeClass("ui-state-"+e)};this.lis.bind("mouseover.tabs",function(){c("hover",e(this))}),this.lis.bind("mouseout.tabs",function(){u("hover",e(this))}),this.anchors.bind("focus.tabs",function(){c("focus",e(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){u("focus",e(this).closest("li"))})}var d,f;a.fx&&(e.isArray(a.fx)?(d=a.fx[0],f=a.fx[1]):d=f=a.fx);var h=f?function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.hide().removeClass("ui-tabs-hide").animate(f,f.duration||"normal",function(){s(n,f),r._trigger("show",null,r._ui(t,n[0]))})}:function(t,n){e(t).closest("li").addClass("ui-tabs-selected ui-state-active"),n.removeClass("ui-tabs-hide"),r._trigger("show",null,r._ui(t,n[0]))},m=d?function(e,t){t.animate(d,d.duration||"normal",function(){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),s(t,d),r.element.dequeue("tabs")})}:function(e,t){r.lis.removeClass("ui-tabs-selected ui-state-active"),t.addClass("ui-tabs-hide"),r.element.dequeue("tabs")};this.anchors.bind(a.event+".tabs",function(){var t=this,n=e(t).closest("li"),s=r.panels.filter(":not(.ui-tabs-hide)"),o=r.element.find(r._sanitizeSelector(t.hash));if(n.hasClass("ui-tabs-selected")&&!a.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||r.panels.filter(":animated").length||r._trigger("select",null,r._ui(this,o[0]))===!1)return this.blur(),!1;if(a.selected=r.anchors.index(this),r.abort(),a.collapsible){if(n.hasClass("ui-tabs-selected"))return a.selected=-1,a.cookie&&r._cookie(a.selected,a.cookie),r.element.queue("tabs",function(){m(t,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return a.cookie&&r._cookie(a.selected,a.cookie),r.element.queue("tabs",function(){h(t,o)
}),r.load(r.anchors.index(this)),this.blur(),!1}if(a.cookie&&r._cookie(a.selected,a.cookie),!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&r.element.queue("tabs",function(){m(t,s)}),r.element.queue("tabs",function(){h(t,o)}),r.load(r.anchors.index(this)),e.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},destroy:function(){var t=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var t=e.data(this,"href.tabs");t&&(this.href=t);var n=e(this).unbind(".tabs");e.each(["href","load","cache"],function(e,t){n.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){e.data(this,"destroy.tabs")?e(this).remove():e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),t.cookie&&this._cookie(null,t.cookie),this},add:function(n,s,r){r===t&&(r=this.anchors.length);var a=this,o=this.options,i=e(o.tabTemplate.replace(/#\{href\}/g,n).replace(/#\{label\}/g,s)),l=n.indexOf("#")?this._tabId(e("a",i)[0]):n.replace("#","");i.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var c=a.element.find("#"+l);return c.length||(c=e(o.panelTemplate).attr("id",l).data("destroy.tabs",!0)),c.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),r>=this.lis.length?(i.appendTo(this.list),c.appendTo(this.list[0].parentNode)):(i.insertBefore(this.lis[r]),c.insertBefore(this.panels[r])),o.disabled=e.map(o.disabled,function(e){return e>=r?++e:e}),this._tabify(),1==this.anchors.length&&(o.selected=0,i.addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[0],a.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[r],this.panels[r])),this},remove:function(t){t=this._getIndex(t);var n=this.options,s=this.lis.eq(t).remove(),r=this.panels.eq(t).remove();return s.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(t+(t+1<this.anchors.length?1:-1)),n.disabled=e.map(e.grep(n.disabled,function(e){return e!=t}),function(e){return e>=t?--e:e}),this._tabify(),this._trigger("remove",null,this._ui(s.find("a")[0],r[0])),this},enable:function(t){t=this._getIndex(t);var n=this.options;if(-1!=e.inArray(t,n.disabled))return this.lis.eq(t).removeClass("ui-state-disabled"),n.disabled=e.grep(n.disabled,function(e){return e!=t}),this._trigger("enable",null,this._ui(this.anchors[t],this.panels[t])),this},disable:function(e){e=this._getIndex(e);var t=this.options;return e!=t.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),t.disabled.push(e),t.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},select:function(e){if(e=this._getIndex(e),-1==e){if(!this.options.collapsible||-1==this.options.selected)return this;e=this.options.selected}return this.anchors.eq(e).trigger(this.options.event+".tabs"),this},load:function(t){t=this._getIndex(t);var n=this,s=this.options,r=this.anchors.eq(t)[0],a=e.data(r,"load.tabs");if(this.abort(),!a||0!==this.element.queue("tabs").length&&e.data(r,"cache.tabs"))return this.element.dequeue("tabs"),void 0;if(this.lis.eq(t).addClass("ui-state-processing"),s.spinner){var o=e("span",r);o.data("label.tabs",o.html()).html(s.spinner)}return this.xhr=e.ajax(e.extend({},s.ajaxOptions,{url:a,success:function(a,o){n.element.find(n._sanitizeSelector(r.hash)).html(a),n._cleanup(),s.cache&&e.data(r,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{s.ajaxOptions.success(a,o)}catch(i){}},error:function(e,a){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[t],n.panels[t]));try{s.ajaxOptions.error(e,a,t,r)}catch(o){}}})),n.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},length:function(){return this.anchors.length}}),e.extend(e.ui.tabs,{version:"1.8.24"}),e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(e,t){var n=this,s=this.options,r=n._rotate||(n._rotate=function(t){clearTimeout(n.rotation),n.rotation=setTimeout(function(){var e=s.selected;n.select(++e<n.anchors.length?e:0)},e),t&&t.stopPropagation()}),a=n._unrotate||(n._unrotate=t?function(){r()}:function(e){e.clientX&&n.rotate(null)});return e?(this.element.bind("tabsshow",r),this.anchors.bind(s.event+".tabs",a),r()):(clearTimeout(n.rotation),this.element.unbind("tabsshow",r),this.anchors.unbind(s.event+".tabs",a),delete this._rotate,delete this._unrotate),this}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.bind("mouseout",function(e){var n=$(e.target).closest(t);n.length&&n.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(n){var s=$(n.target).closest(t);!$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])&&s.length&&(s.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),s.addClass("ui-state-hover"),s.hasClass("ui-datepicker-prev")&&s.addClass("ui-datepicker-prev-hover"),s.hasClass("ui-datepicker-next")&&s.addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t)(null==t[n]||t[n]==undefined)&&(e[n]=t[n]);return e}function isArray(e){return e&&($.browser.safari&&"object"==typeof e&&e.length||e.constructor&&e.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.24"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,s){t.settings[n]=s}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var r=this._get(t,"showOn");if(("focus"==r||"both"==r)&&e.focus(this._showDatepicker),"button"==r||"both"==r){var a=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==o?a:$("<img/>").attr({src:o,alt:a,title:a}))),e[s?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var s=function(e){for(var t=0,n=0,s=0;s<e.length;s++)e[s].length>t&&(t=e[s].length,n=s);return n};t.setMonth(s(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(s(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,s){t.settings[n]=s}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,s,r){var a=this._dialogInst;if(!a){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},$.data(this._dialogInput[0],PROP_NAME,a)}if(extendRemove(a.settings,s||{}),t=t&&t.constructor==Date?this._formatDate(a,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,!this._pos){var i=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[i/2-100+c,l/2-150+u]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,a),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),"input"==s?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==s||"span"==s)&&t.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();if("input"==s)e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==s||"span"==s){var r=t.children("."+this._inlineClass);r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})}},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(t.hasClass(this.markerClassName)){var s=e.nodeName.toLowerCase();if("input"==s)e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==s||"span"==s){var r=t.children("."+this._inlineClass);r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e}},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==e)return!0;return!1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var s=this._getInst(e);if(2==arguments.length&&"string"==typeof t)return"defaults"==t?$.extend({},$.datepicker._defaults):s?"all"==t?$.extend({},s.settings):this._get(s,t):null;var r=t||{};if("string"==typeof t&&(r={},r[t]=n),s){this._curInst==s&&this._hideDatepicker();var a=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(s,"min"),i=this._getMinMaxDate(s,"max");extendRemove(s.settings,r),null!==o&&r.dateFormat!==undefined&&r.minDate===undefined&&(s.settings.minDate=this._formatDate(s,o)),null!==i&&r.dateFormat!==undefined&&r.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,i)),this._attachments($(e),s),this._autoSize(s),this._setDate(s,a),this._updateAlternate(s),this._updateDatepicker(s)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,s=t.dpDiv.is(".ui-datepicker-rtl");if(t._keyEvent=!0,$.datepicker._datepickerShowing)switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var r=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);r[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,r[0]);var a=$.datepicker._get(t,"onSelect");if(a){var o=$.datepicker._formatDate(t);a.apply(t.input?t.input[0]:null,[o,t])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,s?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,s?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36==e.keyCode&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),s=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||" ">s||!n||n.indexOf(s)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal)try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(s){$.datepicker.log(s)}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!=e.nodeName.toLowerCase()&&(e=$("input",e.parentNode)[0]),!$.datepicker._isDisabledDatepicker(e)&&$.datepicker._lastInput!=e){var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),s=n?n.apply(e,[e,t]):{};if(s!==!1){extendRemove(t.settings,s),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var r=!1;$(e).parents().each(function(){return r|="fixed"==$(this).css("position"),!r}),r&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var a={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),a=$.datepicker._checkOffset(t,a,r),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),!t.inline){var o=$.datepicker._get(t,"showAnim"),i=$.datepicker._get(t,"duration"),l=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[o]?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),i,l):t.dpDiv[o||"show"](o?i:null,l),(!o||!i)&&l(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}}}},_updateDatepicker:function(e){var t=this;t.maxRows=4;var n=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var s=e.dpDiv.find("iframe.ui-datepicker-cover");!s.length||s.css({left:-n[0],top:-n[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),a=r[1],o=17;if(e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",o*a+"em"),e.dpDiv[(1!=r[0]||1!=r[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus(),e.yearshtml){var i=e.yearshtml;setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,i=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?s-a:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+s>i&&i>s?Math.abs(t.left+s-i):0),t.top-=Math.min(t.top,t.top+r>l&&l>r?Math.abs(r+o):0),t},_findPos:function(e){for(var t=this._getInst(e),n=this._get(t,"isRTL");e&&("hidden"==e.type||1!=e.nodeType||$.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];var s=$(e).offset();return[s.left,s.top]},_hideDatepicker:function(e){var t=this._curInst;if(t&&(!e||t==$.data(e,PROP_NAME))&&this._datepickerShowing){var n=this._get(t,"showAnim"),s=this._get(t,"duration"),r=function(){$.datepicker._tidyDialog(t)};$.effects&&$.effects[n]?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),s,r):t.dpDiv["slideDown"==n?"slideUp":"fadeIn"==n?"fadeOut":"hide"](n?s:null,r),n||r(),this._datepickerShowing=!1;var a=this._get(t,"onClose");a&&a.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if($.datepicker._curInst){var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&0==t.parents("#"+$.datepicker._mainDivId).length&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var s=$(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,t+("M"==n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay)n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear;else{var s=new Date;n.selectedDay=s.getDate(),n.drawMonth=n.selectedMonth=s.getMonth(),n.drawYear=n.selectedYear=s.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var s=$(e),r=this._getInst(s[0]);r["selected"+("M"==n?"Month":"Year")]=r["draw"+("M"==n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,t,n,s){var r=$(e);if(!$(s).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(r[0])){var a=this._getInst(r[0]);a.selectedDay=a.currentDay=$("a",s).html(),a.selectedMonth=a.currentMonth=t,a.selectedYear=a.currentYear=n,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear))}},_clearDate:function(e){var t=$(e);this._getInst(t[0]),this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),s=this._getInst(n[0]);t=null!=t?t:this._formatDate(s),s.input&&s.input.val(t),this._updateAlternate(s);var r=this._get(s,"onSelect");r?r.apply(s.input?s.input[0]:null,[t,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),r=this.formatDate(n,s,this._getFormatConfig(e));$(t).each(function(){$(this).val(r)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1},parseDate:function(e,t,n){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""==t)return null;var s=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10);for(var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,i=(n?n.monthNames:null)||this._defaults.monthNames,l=-1,c=-1,u=-1,d=-1,f=!1,h=function(t){var n=C+1<e.length&&e.charAt(C+1)==t;return n&&C++,n},m=function(e){var n=h(e),s="@"==e?14:"!"==e?20:"y"==e&&n?4:"o"==e?3:2,r=new RegExp("^\\d{1,"+s+"}"),a=t.substring(_).match(r);if(!a)throw"Missing number at position "+_;return _+=a[0].length,parseInt(a[0],10)},g=function(e,n,s){var r=$.map(h(e)?s:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)}),a=-1;if($.each(r,function(e,n){var s=n[1];return t.substr(_,s.length).toLowerCase()==s.toLowerCase()?(a=n[0],_+=s.length,!1):void 0}),-1!=a)return a+1;throw"Unknown name at position "+_},p=function(){if(t.charAt(_)!=e.charAt(C))throw"Unexpected literal at position "+_;_++},_=0,C=0;C<e.length;C++)if(f)"'"!=e.charAt(C)||h("'")?p():f=!1;else switch(e.charAt(C)){case"d":u=m("d");break;case"D":g("D",r,a);break;case"o":d=m("o");break;case"m":c=m("m");break;case"M":c=g("M",o,i);break;case"y":l=m("y");break;case"@":var v=new Date(m("@"));l=v.getFullYear(),c=v.getMonth()+1,u=v.getDate();break;case"!":var v=new Date((m("!")-this._ticksTo1970)/1e4);l=v.getFullYear(),c=v.getMonth()+1,u=v.getDate();break;case"'":h("'")?p():f=!0;break;default:p()}if(_<t.length)throw"Extra/unparsed characters found in date: "+t.substring(_);if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(s>=l?0:-100)),d>-1)for(c=1,u=d;;){var x=this._getDaysInMonth(l,c-1);if(x>=u)break;c++,u-=x}var v=this._daylightSavingAdjust(new Date(l,c-1,u));if(v.getFullYear()!=l||v.getMonth()+1!=c||v.getDate()!=u)throw"Invalid date";return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var s=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,i=function(t){var n=f+1<e.length&&e.charAt(f+1)==t;return n&&f++,n},l=function(e,t,n){var s=""+t;if(i(e))for(;s.length<n;)s="0"+s;return s},c=function(e,t,n,s){return i(e)?s[t]:n[t]},u="",d=!1;if(t)for(var f=0;f<e.length;f++)if(d)"'"!=e.charAt(f)||i("'")?u+=e.charAt(f):d=!1;else switch(e.charAt(f)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),s,r);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),a,o);break;case"y":u+=i("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":i("'")?u+="'":d=!0;break;default:u+=e.charAt(f)}return u},_possibleChars:function(e){for(var t="",n=!1,s=function(t){var n=r+1<e.length&&e.charAt(r+1)==t;return n&&r++,n},r=0;r<e.length;r++)if(n)"'"!=e.charAt(r)||s("'")?t+=e.charAt(r):n=!1;else switch(e.charAt(r)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":n=!0;break;default:t+=e.charAt(r)}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!=e.lastVal){var n,s,r=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null;n=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{n=this.parseDate(r,a,o)||s}catch(i){this.log(i),a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}for(var s=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,r=s.getFullYear(),a=s.getMonth(),o=s.getDate(),i=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=i.exec(t);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(l[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(r,a))}l=i.exec(t)}return new Date(r,a,o)},a=null==t||""===t?n:"string"==typeof t?r(t):"number"==typeof t?isNaN(t)?n:s(t):new Date(t.getTime());return a=a&&"Invalid Date"==a.toString()?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var s=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(r!=e.selectedMonth||a!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(s?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""==e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");
e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),s=this._get(e,"showButtonPanel"),r=this._get(e,"hideIfNoPrevNext"),a=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),i=this._get(e,"showCurrentAtPos"),l=this._get(e,"stepMonths"),c=1!=o[0]||1!=o[1],u=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),d=this._getMinMaxDate(e,"min"),f=this._getMinMaxDate(e,"max"),h=e.drawMonth-i,m=e.drawYear;if(0>h&&(h+=12,m--),f){var g=this._daylightSavingAdjust(new Date(f.getFullYear(),f.getMonth()-o[0]*o[1]+1,f.getDate()));for(g=d&&d>g?d:g;this._daylightSavingAdjust(new Date(m,h,1))>g;)h--,0>h&&(h=11,m--)}e.drawMonth=h,e.drawYear=m;var p=this._get(e,"prevText");p=a?this.formatDate(p,this._daylightSavingAdjust(new Date(m,h-l,1)),this._getFormatConfig(e)):p;var _=this._canAdjustMonth(e,-1,m,h)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+p+"</span></a>":r?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+p+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+p+"</span></a>",C=this._get(e,"nextText");C=a?this.formatDate(C,this._daylightSavingAdjust(new Date(m,h+l,1)),this._getFormatConfig(e)):C;var v=this._canAdjustMonth(e,1,m,h)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+C+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+C+"</span></a>":r?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+C+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+C+"</span></a>",x=this._get(e,"currentText"),y=this._get(e,"gotoCurrent")&&e.currentDay?u:t;x=a?this.formatDate(x,y,this._getFormatConfig(e)):x;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",b=s?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,y)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+x+"</button>":"")+(n?"":S)+"</div>":"",w=parseInt(this._get(e,"firstDay"),10);w=isNaN(w)?0:w;for(var k=this._get(e,"showWeek"),I=this._get(e,"dayNames"),M=(this._get(e,"dayNamesShort"),this._get(e,"dayNamesMin")),T=this._get(e,"monthNames"),A=this._get(e,"monthNamesShort"),N=this._get(e,"beforeShowDay"),B=this._get(e,"showOtherMonths"),P=this._get(e,"selectOtherMonths"),R=(this._get(e,"calculateWeek")||this.iso8601Week,this._getDefaultDate(e)),O="",j=0;j<o[0];j++){var D="";this.maxRows=4;for(var E=0;E<o[1];E++){var q=this._daylightSavingAdjust(new Date(m,h,e.selectedDay)),V=" ui-corner-all",L="";if(c){if(L+='<div class="ui-datepicker-group',o[1]>1)switch(E){case 0:L+=" ui-datepicker-group-first",V=" ui-corner-"+(n?"right":"left");break;case o[1]-1:L+=" ui-datepicker-group-last",V=" ui-corner-"+(n?"left":"right");break;default:L+=" ui-datepicker-group-middle",V=""}L+='">'}L+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+V+'">'+(/all|left/.test(V)&&0==j?n?v:_:"")+(/all|right/.test(V)&&0==j?n?_:v:"")+this._generateMonthYearHeader(e,h,m,d,f,j>0||E>0,T,A)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";for(var F=k?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"",z=0;7>z;z++){var H=(z+w)%7;F+="<th"+((z+w+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+I[H]+'">'+M[H]+"</span></th>"}L+=F+"</tr></thead><tbody>";var J=this._getDaysInMonth(m,h);m==e.selectedYear&&h==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,J));var W=(this._getFirstDayOfMonth(m,h)-w+7)%7,K=Math.ceil((W+J)/7),U=c?this.maxRows>K?this.maxRows:K:K;this.maxRows=U;for(var Q=this._daylightSavingAdjust(new Date(m,h,1-W)),G=0;U>G;G++){L+="<tr>";for(var Y=k?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(Q)+"</td>":"",z=0;7>z;z++){var Z=N?N.apply(e.input?e.input[0]:null,[Q]):[!0,""],X=Q.getMonth()!=h,et=X&&!P||!Z[0]||d&&d>Q||f&&Q>f;Y+='<td class="'+((z+w+6)%7>=5?" ui-datepicker-week-end":"")+(X?" ui-datepicker-other-month":"")+(Q.getTime()==q.getTime()&&h==e.selectedMonth&&e._keyEvent||R.getTime()==Q.getTime()&&R.getTime()==q.getTime()?" "+this._dayOverClass:"")+(et?" "+this._unselectableClass+" ui-state-disabled":"")+(X&&!B?"":" "+Z[1]+(Q.getTime()==u.getTime()?" "+this._currentClass:"")+(Q.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+(X&&!B||!Z[2]?"":' title="'+Z[2]+'"')+(et?"":' data-handler="selectDay" data-event="click" data-month="'+Q.getMonth()+'" data-year="'+Q.getFullYear()+'"')+">"+(X&&!B?"&#xa0;":et?'<span class="ui-state-default">'+Q.getDate()+"</span>":'<a class="ui-state-default'+(Q.getTime()==t.getTime()?" ui-state-highlight":"")+(Q.getTime()==u.getTime()?" ui-state-active":"")+(X?" ui-priority-secondary":"")+'" href="#">'+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q)}L+=Y+"</tr>"}h++,h>11&&(h=0,m++),L+="</tbody></table>"+(c?"</div>"+(o[0]>0&&E==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),D+=L}O+=D}return O+=b+($.browser.msie&&parseInt($.browser.version,10)<7&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,O},_generateMonthYearHeader:function(e,t,n,s,r,a,o,i){var l=this._get(e,"changeMonth"),c=this._get(e,"changeYear"),u=this._get(e,"showMonthAfterYear"),d='<div class="ui-datepicker-title">',f="";if(a||!l)f+='<span class="ui-datepicker-month">'+o[t]+"</span>";else{var h=s&&s.getFullYear()==n,m=r&&r.getFullYear()==n;f+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!h||g>=s.getMonth())&&(!m||g<=r.getMonth())&&(f+='<option value="'+g+'"'+(g==t?' selected="selected"':"")+">"+i[g]+"</option>");f+="</select>"}if(u||(d+=f+(!a&&l&&c?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!c)d+='<span class="ui-datepicker-year">'+n+"</span>";else{var p=this._get(e,"yearRange").split(":"),_=(new Date).getFullYear(),C=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?_+parseInt(e,10):parseInt(e,10);return isNaN(t)?_:t},v=C(p[0]),x=Math.max(v,C(p[1]||""));for(v=s?Math.max(v,s.getFullYear()):v,x=r?Math.min(x,r.getFullYear()):x,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';x>=v;v++)e.yearshtml+='<option value="'+v+'"'+(v==n?' selected="selected"':"")+">"+v+"</option>";e.yearshtml+="</select>",d+=e.yearshtml,e.yearshtml=null}return d+=this._get(e,"yearSuffix"),u&&(d+=(!a&&l&&c?"":"&#xa0;")+f),d+="</div>"},_adjustInstDate:function(e,t,n){var s=e.drawYear+("Y"==n?t:0),r=e.drawMonth+("M"==n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(s,r))+("D"==n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(s,r,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),("M"==n||"Y"==n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return r=s&&r>s?s:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,s){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,s+(0>t?t:r[0]*r[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!s||t.getTime()<=s.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,s){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(s,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!=e&&"getDate"!=e&&"widget"!=e?"option"==e&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.24",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(e,t){e.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),e.Widget.prototype.destroy.apply(this,arguments)},value:function(e){return e===t?this._value():(this._setOption("value",e),this)},_setOption:function(t,n){"value"===t&&(this.options.value=n,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),e.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var e=this.options.value;return"number"!=typeof e&&(e=0),Math.min(this.options.max,Math.max(this.min,e))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value(),t=this._percentage();this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.attr("aria-valuenow",e)}}),e.extend(e.ui.progressbar,{version:"1.8.24"})}(jQuery),jQuery.effects||function(e,t){function n(t){var n;return t&&t.constructor==Array&&3==t.length?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3])]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:(n=/rgba\(0, 0, 0, 0\)/.exec(t))?c.transparent:c[e.trim(t).toLowerCase()]}function s(t,s){var r;do{if(r=(e.curCSS||e.css)(t,s),""!=r&&"transparent"!=r||e.nodeName(t,"body"))break;s="backgroundColor"}while(t=t.parentNode);return n(r)}function r(){var e,t,n=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(var r=n.length;r--;)e=n[r],"string"==typeof n[e]&&(t=e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),s[t]=n[e]);else for(e in n)"string"==typeof n[e]&&(s[e]=n[e]);return s}function a(t){var n,s;for(n in t)s=t[n],(null==s||e.isFunction(s)||n in d||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(s)))&&delete t[n];return t}function o(e,t){var n,s={_:0};for(n in t)e[n]!=t[n]&&(s[n]=t[n]);return s}function i(t,n,s,r){return"object"==typeof t&&(r=n,s=null,n=t,t=n.effect),e.isFunction(n)&&(r=n,s=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=s,s=n,n={}),e.isFunction(s)&&(r=s,s=null),n=n||{},s=s||n.duration,s=e.fx.off?0:"number"==typeof s?s:s in e.fx.speeds?e.fx.speeds[s]:e.fx.speeds._default,r=r||n.complete,[t,n,s,r]}function l(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects[t]?!1:!0}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,r){e.fx.step[r]=function(e){e.colorInit||(e.start=s(e.elem,r),e.end=n(e.end),e.colorInit=!0),e.elem.style[r]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},u=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,s,i){return e.isFunction(s)&&(i=s,s=null),this.queue(function(){var l,c=e(this),d=c.attr("style")||" ",f=a(r.call(this)),h=c.attr("class")||"";e.each(u,function(e,n){t[n]&&c[n+"Class"](t[n])}),l=a(r.call(this)),c.attr("class",h),c.animate(o(f,l),{queue:!1,duration:n,easing:s,complete:function(){e.each(u,function(e,n){t[n]&&c[n+"Class"](t[n])}),"object"==typeof c.attr("style")?(c.attr("style").cssText="",c.attr("style").cssText=d):c.attr("style",d),i&&i.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,s,r){return n?e.effects.animateClass.apply(this,[{add:t},n,s,r]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,s,r){return n?e.effects.animateClass.apply(this,[{remove:t},n,s,r]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,s,r,a,o){return"boolean"==typeof s||s===t?r?e.effects.animateClass.apply(this,[s?{add:n}:{remove:n},r,a,o]):this._toggleClass(n,s):e.effects.animateClass.apply(this,[{toggle:n},s,r,a])},switchClass:function(t,n,s,r,a){return e.effects.animateClass.apply(this,[{add:n,remove:t},s,r,a])}}),e.extend(e.effects,{version:"1.8.24",save:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)null!==t[n]&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return"toggle"==t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,s;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=e[1]/t.width}return{x:s,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},s=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;try{r.id}catch(a){r=document.body}return t.wrap(s),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),s=t.parent(),"static"==t.css("position")?(s.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,s){n[s]=t.css(s),isNaN(parseInt(n[s],10))&&(n[s]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),s.css(n).show()},removeWrapper:function(t){var n,s=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(n=t.parent().replaceWith(t),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n):t},setTransition:function(t,n,s,r){return r=r||{},e.each(n,function(e,n){var a=t.cssUnit(n);a[0]>0&&(r[n]=a[0]*s+a[1])}),r}}),e.fn.extend({effect:function(t){var n=i.apply(this,arguments),s={options:n[1],duration:n[2],callback:n[3]},r=s.options.mode,a=e.effects[t];return e.fx.off||!a?r?this[r](s.duration,s.callback):this.each(function(){s.callback&&s.callback.call(this)}):a.call(this,s)},_show:e.fn.show,show:function(e){if(l(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(l(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(l(t)||"boolean"==typeof t||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(t){var n=this.css(t),s=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(s=[parseFloat(n),t])}),s}});var f={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){f[t]=function(t){return Math.pow(t,e+2)}}),e.extend(f,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(f,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:n(-2*e+2)/-2+1}})}(jQuery),function(e){e.effects.blind=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(n,s),n.show();var o=e.effects.createWrapper(n).css({overflow:"hidden"}),i="vertical"==a?"height":"width",l="vertical"==a?o.height():o.width();"show"==r&&o.css(i,0);var c={};c[i]="show"==r?l:0,o.animate(c,t.duration,t.options.easing,function(){"hide"==r&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e){e.effects.bounce=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"effect"),a=t.options.direction||"up",o=t.options.distance||20,i=t.options.times||5,l=t.duration||250;/show|hide/.test(r)&&s.push("opacity"),e.effects.save(n,s),n.show(),e.effects.createWrapper(n);var c="up"==a||"down"==a?"top":"left",u="up"==a||"left"==a?"pos":"neg",o=t.options.distance||("top"==c?n.outerHeight(!0)/3:n.outerWidth(!0)/3);if("show"==r&&n.css("opacity",0).css(c,"pos"==u?-o:o),"hide"==r&&(o/=2*i),"hide"!=r&&i--,"show"==r){var d={opacity:1};d[c]=("pos"==u?"+=":"-=")+o,n.animate(d,l/2,t.options.easing),o/=2,i--}for(var f=0;i>f;f++){var h={},m={};h[c]=("pos"==u?"-=":"+=")+o,m[c]=("pos"==u?"+=":"-=")+o,n.animate(h,l/2,t.options.easing).animate(m,l/2,t.options.easing),o="hide"==r?2*o:o/2}if("hide"==r){var d={opacity:0};d[c]=("pos"==u?"-=":"+=")+o,n.animate(d,l/2,t.options.easing,function(){n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}else{var h={},m={};h[c]=("pos"==u?"-=":"+=")+o,m[c]=("pos"==u?"+=":"-=")+o,n.animate(h,l/2,t.options.easing).animate(m,l/2,t.options.easing,function(){e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)})}n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e){e.effects.clip=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(n,t.options.mode||"hide"),a=t.options.direction||"vertical";e.effects.save(n,s),n.show();var o=e.effects.createWrapper(n).css({overflow:"hidden"}),i="IMG"==n[0].tagName?o:n,l={size:"vertical"==a?"height":"width",position:"vertical"==a?"top":"left"},c="vertical"==a?i.height():i.width();"show"==r&&(i.css(l.size,0),i.css(l.position,c/2));var u={};u[l.size]="show"==r?c:0,u[l.position]="show"==r?0:c/2,i.animate(u,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.drop=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right","opacity"],r=e.effects.setMode(n,t.options.mode||"hide"),a=t.options.direction||"left";e.effects.save(n,s),n.show(),e.effects.createWrapper(n);var o="up"==a||"down"==a?"top":"left",i="up"==a||"left"==a?"pos":"neg",l=t.options.distance||("top"==o?n.outerHeight(!0)/2:n.outerWidth(!0)/2);"show"==r&&n.css("opacity",0).css(o,"pos"==i?-l:l);var c={opacity:"show"==r?1:0};c[o]=("show"==r?"pos"==i?"+=":"-=":"pos"==i?"-=":"+=")+l,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.explode=function(t){return this.queue(function(){var n=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3,s=t.options.pieces?Math.round(Math.sqrt(t.options.pieces)):3;t.options.mode="toggle"==t.options.mode?e(this).is(":visible")?"hide":"show":t.options.mode;var r=e(this).show().css("visibility","hidden"),a=r.offset();a.top-=parseInt(r.css("marginTop"),10)||0,a.left-=parseInt(r.css("marginLeft"),10)||0;for(var o=r.outerWidth(!0),i=r.outerHeight(!0),l=0;n>l;l++)for(var c=0;s>c;c++)r.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-c*(o/s),top:-l*(i/n)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:o/s,height:i/n,left:a.left+c*(o/s)+("show"==t.options.mode?(c-Math.floor(s/2))*(o/s):0),top:a.top+l*(i/n)+("show"==t.options.mode?(l-Math.floor(n/2))*(i/n):0),opacity:"show"==t.options.mode?0:1}).animate({left:a.left+c*(o/s)+("show"==t.options.mode?0:(c-Math.floor(s/2))*(o/s)),top:a.top+l*(i/n)+("show"==t.options.mode?0:(l-Math.floor(n/2))*(i/n)),opacity:"show"==t.options.mode?1:0},t.duration||500);setTimeout(function(){"show"==t.options.mode?r.css({visibility:"visible"}):r.css({visibility:"visible"}).hide(),t.callback&&t.callback.apply(r[0]),r.dequeue(),e("div.ui-effects-explode").remove()},t.duration||500)})}}(jQuery),function(e){e.effects.fade=function(t){return this.queue(function(){var n=e(this),s=e.effects.setMode(n,t.options.mode||"hide");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.fold=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"hide"),a=t.options.size||15,o=!!t.options.horizFirst,i=t.duration?t.duration/2:e.fx.speeds._default/2;e.effects.save(n,s),n.show();var l=e.effects.createWrapper(n).css({overflow:"hidden"}),c="show"==r!=o,u=c?["width","height"]:["height","width"],d=c?[l.width(),l.height()]:[l.height(),l.width()],f=/([0-9]+)%/.exec(a);f&&(a=parseInt(f[1],10)/100*d["hide"==r?0:1]),"show"==r&&l.css(o?{height:0,width:a}:{height:a,width:0});var h={},m={};h[u[0]]="show"==r?d[0]:a,m[u[1]]="show"==r?d[1]:0,l.animate(h,i,t.options.easing).animate(m,i,t.options.easing,function(){"hide"==r&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),function(e){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.options.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"==r&&(a.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,s),"show"==r&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.pulsate=function(t){return this.queue(function(){var n=e(this),s=e.effects.setMode(n,t.options.mode||"show"),r=2*(t.options.times||5)-1,a=t.duration?t.duration/2:e.fx.speeds._default/2,o=n.is(":visible"),i=0;o||(n.css("opacity",0).show(),i=1),("hide"==s&&o||"show"==s&&!o)&&r--;for(var l=0;r>l;l++)n.animate({opacity:i},a,t.options.easing),i=(i+1)%2;n.animate({opacity:i},a,t.options.easing,function(){0==i&&n.hide(),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}).dequeue()})}}(jQuery),function(e){e.effects.puff=function(t){return this.queue(function(){var n=e(this),s=e.effects.setMode(n,t.options.mode||"hide"),r=parseInt(t.options.percent,10)||150,a=r/100,o={height:n.height(),width:n.width()};e.extend(t.options,{fade:!0,mode:s,percent:"hide"==s?r:100,from:"hide"==s?o:{height:o.height*a,width:o.width*a}}),n.effect("scale",t.options,t.duration,t.callback),n.dequeue()})},e.effects.scale=function(t){return this.queue(function(){var n=e(this),s=e.extend(!0,{},t.options),r=e.effects.setMode(n,t.options.mode||"effect"),a=parseInt(t.options.percent,10)||(0==parseInt(t.options.percent,10)?0:"hide"==r?0:100),o=t.options.direction||"both",i=t.options.origin;"effect"!=r&&(s.origin=i||["middle","center"],s.restore=!0);var l={height:n.height(),width:n.width()};n.from=t.options.from||("show"==r?{height:0,width:0}:l);var c={y:"horizontal"!=o?a/100:1,x:"vertical"!=o?a/100:1};n.to={height:l.height*c.y,width:l.width*c.x},t.options.fade&&("show"==r&&(n.from.opacity=0,n.to.opacity=1),"hide"==r&&(n.from.opacity=1,n.to.opacity=0)),s.from=n.from,s.to=n.to,s.mode=r,n.effect("size",s,t.duration,t.callback),n.dequeue()})},e.effects.size=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],r=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],o=["fontSize"],i=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.effects.setMode(n,t.options.mode||"effect"),u=t.options.restore||!1,d=t.options.scale||"both",f=t.options.origin,h={height:n.height(),width:n.width()};if(n.from=t.options.from||h,n.to=t.options.to||h,f){var m=e.effects.getBaseline(f,h);n.from.top=(h.height-n.from.height)*m.y,n.from.left=(h.width-n.from.width)*m.x,n.to.top=(h.height-n.to.height)*m.y,n.to.left=(h.width-n.to.width)*m.x}var g={from:{y:n.from.height/h.height,x:n.from.width/h.width},to:{y:n.to.height/h.height,x:n.to.width/h.width}};("box"==d||"both"==d)&&(g.from.y!=g.to.y&&(s=s.concat(i),n.from=e.effects.setTransition(n,i,g.from.y,n.from),n.to=e.effects.setTransition(n,i,g.to.y,n.to)),g.from.x!=g.to.x&&(s=s.concat(l),n.from=e.effects.setTransition(n,l,g.from.x,n.from),n.to=e.effects.setTransition(n,l,g.to.x,n.to))),("content"==d||"both"==d)&&g.from.y!=g.to.y&&(s=s.concat(o),n.from=e.effects.setTransition(n,o,g.from.y,n.from),n.to=e.effects.setTransition(n,o,g.to.y,n.to)),e.effects.save(n,u?s:r),n.show(),e.effects.createWrapper(n),n.css("overflow","hidden").css(n.from),("content"==d||"both"==d)&&(i=i.concat(["marginTop","marginBottom"]).concat(o),l=l.concat(["marginLeft","marginRight"]),a=s.concat(i).concat(l),n.find("*[width]").each(function(){var n=e(this);u&&e.effects.save(n,a);var s={height:n.height(),width:n.width()};n.from={height:s.height*g.from.y,width:s.width*g.from.x},n.to={height:s.height*g.to.y,width:s.width*g.to.x},g.from.y!=g.to.y&&(n.from=e.effects.setTransition(n,i,g.from.y,n.from),n.to=e.effects.setTransition(n,i,g.to.y,n.to)),g.from.x!=g.to.x&&(n.from=e.effects.setTransition(n,l,g.from.x,n.from),n.to=e.effects.setTransition(n,l,g.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.options.easing,function(){u&&e.effects.restore(n,a)})})),n.animate(n.to,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity),"hide"==c&&n.hide(),e.effects.restore(n,u?s:r),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.shake=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right"],r=(e.effects.setMode(n,t.options.mode||"effect"),t.options.direction||"left"),a=t.options.distance||20,o=t.options.times||3,i=t.duration||t.options.duration||140;e.effects.save(n,s),n.show(),e.effects.createWrapper(n);var l="up"==r||"down"==r?"top":"left",c="up"==r||"left"==r?"pos":"neg",u={},d={},f={};u[l]=("pos"==c?"-=":"+=")+a,d[l]=("pos"==c?"+=":"-=")+2*a,f[l]=("pos"==c?"-=":"+=")+2*a,n.animate(u,i,t.options.easing);for(var h=1;o>h;h++)n.animate(d,i,t.options.easing).animate(f,i,t.options.easing);n.animate(d,i,t.options.easing).animate(u,i/2,t.options.easing,function(){e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments)}),n.queue("fx",function(){n.dequeue()}),n.dequeue()})}}(jQuery),function(e){e.effects.slide=function(t){return this.queue(function(){var n=e(this),s=["position","top","bottom","left","right"],r=e.effects.setMode(n,t.options.mode||"show"),a=t.options.direction||"left";e.effects.save(n,s),n.show(),e.effects.createWrapper(n).css({overflow:"hidden"});var o="up"==a||"down"==a?"top":"left",i="up"==a||"left"==a?"pos":"neg",l=t.options.distance||("top"==o?n.outerHeight(!0):n.outerWidth(!0));
"show"==r&&n.css(o,"pos"==i?isNaN(l)?"-"+l:-l:l);var c={};c[o]=("show"==r?"pos"==i?"+=":"-=":"pos"==i?"-=":"+=")+l,n.animate(c,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){"hide"==r&&n.hide(),e.effects.restore(n,s),e.effects.removeWrapper(n),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){e.effects.transfer=function(t){return this.queue(function(){var n=e(this),s=e(t.options.to),r=s.offset(),a={top:r.top,left:r.left,height:s.innerHeight(),width:s.innerWidth()},o=n.offset(),i=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.options.className).css({top:o.top,left:o.left,height:n.innerHeight(),width:n.innerWidth(),position:"absolute"}).animate(a,t.duration,t.options.easing,function(){i.remove(),t.callback&&t.callback.apply(n[0],arguments),n.dequeue()})})}}(jQuery),define("jquery-ui",["jquery"],function(){}),function(e){function t(e,t,r){var a=e.scrollTop;e.setSelectionRange?n(e,t,r):document.selection&&s(e,t,r),e.scrollTop=a}function n(e,t,n){var s=e.selectionStart,r=e.selectionEnd;if(s==r)t?s-n.tabString==e.value.substring(s-n.tabString.length,s)?(e.value=e.value.substring(0,s-n.tabString.length)+e.value.substring(s),e.focus(),e.setSelectionRange(s-n.tabString.length,s-n.tabString.length)):s-n.tabString==e.value.substring(s,s+n.tabString.length)&&(e.value=e.value.substring(0,s)+e.value.substring(s+n.tabString.length),e.focus(),e.setSelectionRange(s,s)):(e.value=e.value.substring(0,s)+n.tabString+e.value.substring(s),e.focus(),e.setSelectionRange(s+n.tabString.length,s+n.tabString.length));else{for(;s<e.value.length&&e.value.charAt(s).match(/[ \t]/);)s++;var a=e.value.split("\n"),o=new Array,i=0,l=0;for(var c in a)l=i+a[c].length,o.push({start:i,end:l,selected:s>=i&&l>s||l>=r&&r>i||i>s&&r>l}),i=l+1;var u=0;for(var c in o)if(o[c].selected){var d=o[c].start+u;t&&n.tabString==e.value.substring(d,d+n.tabString.length)?(e.value=e.value.substring(0,d)+e.value.substring(d+n.tabString.length),u-=n.tabString.length):t||(e.value=e.value.substring(0,d)+n.tabString+e.value.substring(d),u+=n.tabString.length)}e.focus();var f=s+(u>0?n.tabString.length:0>u?-n.tabString.length:0),h=r+u;e.setSelectionRange(f,h)}}function s(t,n,s){var r=document.selection.createRange();if(t==r.parentElement())if(""==r.text)if(n){var a=r.getBookmark();r.moveStart("character",-s.tabString.length),s.tabString==r.text?r.text="":(r.moveToBookmark(a),r.moveEnd("character",s.tabString.length),s.tabString==r.text&&(r.text="")),r.collapse(!0),r.select()}else r.text=s.tabString,r.collapse(!1),r.select();else{var o=r.text,i=o.length,l=o.split("\r\n"),c=document.body.createTextRange();c.moveToElementText(t),c.setEndPoint("EndToStart",r);var u=c.text,d=u.split("\r\n"),f=u.length,h=document.body.createTextRange();h.moveToElementText(t),h.setEndPoint("StartToEnd",r);var m=h.text,g=document.body.createTextRange();g.moveToElementText(t),g.setEndPoint("StartToEnd",c);var p=g.text,_=e(t).html();e("#r3").text(f+" + "+i+" + "+m.length+" = "+_.length),f+p.length<_.length?(d.push(""),f+=2,n&&s.tabString==l[0].substring(0,s.tabString.length)?l[0]=l[0].substring(s.tabString.length):n||(l[0]=s.tabString+l[0])):n&&s.tabString==d[d.length-1].substring(0,s.tabString.length)?d[d.length-1]=d[d.length-1].substring(s.tabString.length):n||(d[d.length-1]=s.tabString+d[d.length-1]);for(var C=1;C<l.length;C++)n&&s.tabString==l[C].substring(0,s.tabString.length)?l[C]=l[C].substring(s.tabString.length):n||(l[C]=s.tabString+l[C]);1==d.length&&0==f&&(n&&s.tabString==l[0].substring(0,s.tabString.length)?l[0]=l[0].substring(s.tabString.length):n||(l[0]=s.tabString+l[0])),f+i+m.length<_.length&&(l.push(""),i+=2),c.text=d.join("\r\n"),r.text=l.join("\r\n");var v=document.body.createTextRange();v.moveToElementText(t),f>0?v.setEndPoint("StartToEnd",c):v.setEndPoint("StartToStart",c),v.setEndPoint("EndToEnd",r),v.select()}}e.fn.tabby=function(n){var s=e.extend({},e.fn.tabby.defaults,n),r=e.fn.tabby.pressed;return this.each(function(){$this=e(this);var n=e.meta?e.extend({},s,$this.data()):s;$this.bind("keydown",function(s){var a=e.fn.tabby.catch_kc(s);return 16==a&&(r.shft=!0),17==a&&(r.ctrl=!0,setTimeout(function(){e.fn.tabby.pressed.ctrl=!1},1e3)),18==a&&(r.alt=!0,setTimeout(function(){e.fn.tabby.pressed.alt=!1},1e3)),9!=a||r.ctrl||r.alt?void 0:(s.preventDefault,r.last=a,setTimeout(function(){e.fn.tabby.pressed.last=null},0),t(e(s.target).get(0),r.shft,n),!1)}).bind("keyup",function(t){16==e.fn.tabby.catch_kc(t)&&(r.shft=!1)}).bind("blur",function(t){9==r.last&&e(t.target).one("focus",function(){r.last=null}).get(0).focus()})})},e.fn.tabby.catch_kc=function(e){return e.keyCode?e.keyCode:e.charCode?e.charCode:e.which},e.fn.tabby.pressed={shft:!1,ctrl:!1,alt:!1,last:null},e.fn.tabby.defaults={tabString:String.fromCharCode(9)}}(jQuery),define("amber_lib/jquery-tabby/jquery.textarea",["jquery","jquery-ui"],function(){}),window.CodeMirror=function(){function e(n,s){if(!(this instanceof e))return new e(n,s);this.options=s=s||{};for(var r in Yr)!s.hasOwnProperty(r)&&Yr.hasOwnProperty(r)&&(s[r]=Yr[r]);f(s);var a="string"==typeof s.value?0:s.value.first,o=this.display=t(n,a);o.wrapper.CodeMirror=this,c(this),s.autofocus&&!Rr&&ut(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new Fs},i(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var l=s.value;"string"==typeof l&&(l=new ca(s.value,s.mode)),nt(this,cs)(this,l),xr&&setTimeout($s(ct,this,!0),20),ft(this);var u;try{u=document.activeElement==o.input}catch(d){}u||s.autofocus&&!Rr?setTimeout($s(Tt,this),20):At(this),nt(this,function(){for(var e in $r)$r.propertyIsEnumerable(e)&&$r[e](this,s[e],Zr);for(var t=0;t<na.length;++t)na[t](this)})()}function t(e,t){var n={},s=n.input=Xs("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return br?s.style.width="1000px":s.setAttribute("wrap","off"),Pr&&(s.style.border="1px solid black"),s.setAttribute("autocorrect","off"),s.setAttribute("autocapitalize","off"),s.setAttribute("spellcheck","false"),n.inputDiv=Xs("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=Xs("div",[Xs("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=Xs("div",[Xs("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=Xs("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=Xs("div",null,"CodeMirror-gutter-filler"),n.lineDiv=Xs("div",null,"CodeMirror-code"),n.selectionDiv=Xs("div",null,null,"position: relative; z-index: 1"),n.cursor=Xs("div"," ","CodeMirror-cursor"),n.otherCursor=Xs("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),n.measure=Xs("div",null,"CodeMirror-measure"),n.lineSpace=Xs("div",[n.measure,n.selectionDiv,n.lineDiv,n.cursor,n.otherCursor],null,"position: relative; outline: none"),n.mover=Xs("div",[Xs("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Xs("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=Xs("div",null,null,"position: absolute; height: "+ma+"px; width: 1px;"),n.gutters=Xs("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Xs("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Xs("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),yr&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),Pr&&(s.style.width="0px"),br||(n.scroller.draggable=!0),Tr?(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"):yr&&(n.scrollbarH.style.minWidth=n.scrollbarV.style.minWidth="18px"),n.viewOffset=n.lastSizeC=0,n.showingFrom=n.showingTo=t,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new Fs,n.cachedCharWidth=n.cachedTextHeight=null,n.measureLineCache=[],n.measureLineCachePos=0,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),t.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),t.doc.frontier=t.doc.first,B(t,100),t.state.modeGen++,t.curOp&&at(t)}function s(e){e.options.lineWrapping?(e.display.wrapper.className+=" CodeMirror-wrap",e.display.sizer.style.minWidth=""):(e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-wrap",""),d(e)),a(e),at(e),J(e),setTimeout(function(){h(e)},100)}function r(e){var t=Z(e.display),n=e.options.lineWrapping,s=n&&Math.max(5,e.display.scroller.clientWidth/X(e.display)-3);return function(r){return qn(e.doc,r)?0:n?(Math.ceil(r.text.length/s)||1)*t:t}}function a(e){var t=e.doc,n=r(e);t.iter(function(e){var t=n(e);t!=e.height&&hs(e,t)})}function o(e){var t=ra[e.options.keyMap].style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(t?" cm-keymap-"+t:"")}function i(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),J(e)}function l(e){c(e),at(e),setTimeout(function(){g(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;er(t);for(var s=0;s<n.length;++s){var r=n[s],a=t.appendChild(Xs("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=s?"":"none"}function u(e,t){if(0==t.height)return 0;for(var n,s=t.text.length,r=t;n=jn(r);){var a=n.find();r=us(e,a.from.line),s+=a.from.ch-a.to.ch}for(r=t;n=Dn(r);){var a=n.find();s-=r.text.length-a.from.ch,r=us(e,a.to.line),s+=r.text.length-a.to.ch}return s}function d(e){var t=e.display,n=e.doc;t.maxLine=us(n,n.first),t.maxLineLength=u(n,t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var s=u(n,e);s>t.maxLineLength&&(t.maxLineLength=s,t.maxLine=e)})}function f(e){for(var t=!1,n=0;n<e.gutters.length;++n)"CodeMirror-linenumbers"==e.gutters[n]&&(e.lineNumbers?t=!0:e.gutters.splice(n--,1));!t&&e.lineNumbers&&e.gutters.push("CodeMirror-linenumbers")}function h(e){var t=e.display,n=e.doc.height,s=n+D(t);t.sizer.style.minHeight=t.heightForcer.style.top=s+"px",t.gutters.style.height=Math.max(s,t.scroller.clientHeight-ma)+"px";var r=Math.max(s,t.scroller.scrollHeight),a=t.scroller.scrollWidth>t.scroller.clientWidth,o=r>t.scroller.clientHeight;o?(t.scrollbarV.style.display="block",t.scrollbarV.style.bottom=a?ar(t.measure)+"px":"0",t.scrollbarV.firstChild.style.height=r-t.scroller.clientHeight+t.scrollbarV.clientHeight+"px"):t.scrollbarV.style.display="",a?(t.scrollbarH.style.display="block",t.scrollbarH.style.right=o?ar(t.measure)+"px":"0",t.scrollbarH.firstChild.style.width=t.scroller.scrollWidth-t.scroller.clientWidth+t.scrollbarH.clientWidth+"px"):t.scrollbarH.style.display="",a&&o?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=t.scrollbarFiller.style.width=ar(t.measure)+"px"):t.scrollbarFiller.style.display="",a&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=ar(t.measure)+"px",t.gutterFiller.style.width=t.gutters.offsetWidth+"px"):t.gutterFiller.style.display="",Ar&&0===ar(t.measure)&&(t.scrollbarV.style.minWidth=t.scrollbarH.style.minHeight=Nr?"18px":"12px")}function m(e,t,n){var s=e.scroller.scrollTop,r=e.wrapper.clientHeight;"number"==typeof n?s=n:n&&(s=n.top,r=n.bottom-n.top),s=Math.floor(s-j(e));var a=Math.ceil(s+r);return{from:gs(t,s),to:gs(t,a)}}function g(e){var t=e.display;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=C(t)-t.scroller.scrollLeft+e.doc.scrollLeft,s=t.gutters.offsetWidth,r=n+"px",a=t.lineDiv.firstChild;a;a=a.nextSibling)if(a.alignable)for(var o=0,i=a.alignable;o<i.length;++o)i[o].style.left=r;e.options.fixedGutter&&(t.gutters.style.left=n+s+"px")}}function p(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=_(e.options,t.first+t.size-1),s=e.display;if(n.length!=s.lineNumChars){var r=s.measure.appendChild(Xs("div",[Xs("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=r.firstChild.offsetWidth,o=r.offsetWidth-a;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(a,s.lineGutter.offsetWidth-o),s.lineNumWidth=s.lineNumInnerWidth+o,s.lineNumChars=s.lineNumInnerWidth?n.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",!0}return!1}function _(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function C(e){return sr(e.scroller).left-sr(e.sizer).left}function v(e,t,n){for(var s,r=e.display.showingFrom,a=e.display.showingTo,o=m(e.display,e.doc,n);x(e,t,o)&&(s=!0,M(e),h(e),n&&(n=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,"number"==typeof n?n:n.top)),o=m(e.display,e.doc,n),!(o.from>=e.display.showingFrom&&o.to<=e.display.showingTo));)t=[];return s&&(qs(e,"update",e),(e.display.showingFrom!=r||e.display.showingTo!=a)&&qs(e,"viewportChange",e,e.display.showingFrom,e.display.showingTo)),s}function x(e,t,n){var s=e.display,r=e.doc;if(!s.wrapper.clientWidth)return s.showingFrom=s.showingTo=r.first,s.viewOffset=0,void 0;if(!(0==t.length&&n.from>s.showingFrom&&n.to<s.showingTo)){p(e)&&(t=[{from:r.first,to:r.first+r.size}]);var a=s.sizer.style.marginLeft=s.gutters.offsetWidth+"px";s.scrollbarH.style.left=e.options.fixedGutter?a:"0";var o=1/0;if(e.options.lineNumbers)for(var i=0;i<t.length;++i)if(t[i].diff){o=t[i].from;break}var l=r.first+r.size,c=Math.max(n.from-e.options.viewportMargin,r.first),u=Math.min(l,n.to+e.options.viewportMargin);if(s.showingFrom<c&&c-s.showingFrom<20&&(c=Math.max(r.first,s.showingFrom)),s.showingTo>u&&s.showingTo-u<20&&(u=Math.min(l,s.showingTo)),Hr)for(c=ms(En(r,us(r,c)));l>u&&qn(r,us(r,u));)++u;var d=[{from:Math.max(s.showingFrom,r.first),to:Math.min(s.showingTo,l)}];if(d=d[0].from>=d[0].to?[]:S(d,t),Hr)for(var i=0;i<d.length;++i)for(var f,h=d[i];f=Dn(us(r,h.to-1));){var m=f.find().from.line;if(!(m>h.from)){d.splice(i--,1);break}h.to=m}for(var g=0,i=0;i<d.length;++i){var h=d[i];h.from<c&&(h.from=c),h.to>u&&(h.to=u),h.from>=h.to?d.splice(i--,1):g+=h.to-h.from}if(g==u-c&&c==s.showingFrom&&u==s.showingTo)return y(e),void 0;d.sort(function(e,t){return e.from-t.from});try{var _=document.activeElement}catch(C){}.7*(u-c)>g&&(s.lineDiv.style.display="none"),w(e,c,u,d,o),s.lineDiv.style.display="",_&&document.activeElement!=_&&_.offsetHeight&&_.focus();var v=c!=s.showingFrom||u!=s.showingTo||s.lastSizeC!=s.wrapper.clientHeight;v&&(s.lastSizeC=s.wrapper.clientHeight),s.showingFrom=c,s.showingTo=u,B(e,100);for(var x,b=s.lineDiv.offsetTop,k=s.lineDiv.firstChild;k;k=k.nextSibling)if(k.lineObj){if(yr){var I=k.offsetTop+k.offsetHeight;x=I-b,b=I}else{var M=sr(k);x=M.bottom-M.top}var T=k.lineObj.height-x;if(2>x&&(x=Z(s)),T>.001||-.001>T){hs(k.lineObj,x);var A=k.lineObj.widgets;if(A)for(var i=0;i<A.length;++i)A[i].height=A[i].node.offsetHeight}}return y(e),!0}}function y(e){var t=e.display.viewOffset=ps(e,us(e.doc,e.display.showingFrom));e.display.mover.style.top=t+"px"}function S(e,t){for(var n=0,s=t.length||0;s>n;++n){for(var r=t[n],a=[],o=r.diff||0,i=0,l=e.length;l>i;++i){var c=e[i];r.to<=c.from&&r.diff?a.push({from:c.from+o,to:c.to+o}):r.to<=c.from||r.from>=c.to?a.push(c):(r.from>c.from&&a.push({from:c.from,to:r.from}),r.to<c.to&&a.push({from:r.to+o,to:c.to+o}))}e=a}return e}function b(e){for(var t=e.display,n={},s={},r=t.gutters.firstChild,a=0;r;r=r.nextSibling,++a)n[e.options.gutters[a]]=r.offsetLeft,s[e.options.gutters[a]]=r.offsetWidth;return{fixedPos:C(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:s,wrapperWidth:t.wrapper.clientWidth}}function w(e,t,n,s,r){function a(t){var n=t.nextSibling;return br&&Or&&e.display.currentWheelTarget==t?(t.style.display="none",t.lineObj=null):t.parentNode.removeChild(t),n}var o=b(e),i=e.display,l=e.options.lineNumbers;s.length||br&&e.display.currentWheelTarget||er(i.lineDiv);var c=i.lineDiv,u=c.firstChild,d=s.shift(),f=t;for(e.doc.iter(t,n,function(t){if(d&&d.to==f&&(d=s.shift()),qn(e.doc,t)){if(0!=t.height&&hs(t,0),t.widgets&&u.previousSibling)for(var n=0;n<t.widgets.length;++n)if(t.widgets[n].showIfHidden){var i=u.previousSibling;if(/pre/i.test(i.nodeName)){var h=Xs("div",null,null,"position: relative");i.parentNode.replaceChild(h,i),h.appendChild(i),i=h}var m=i.appendChild(Xs("div",[t.widgets[n].node],"CodeMirror-linewidget"));I(t.widgets[n],m,i,o)}}else if(d&&d.from<=f&&d.to>f){for(;u.lineObj!=t;)u=a(u);l&&f>=r&&u.lineNumber&&nr(u.lineNumber,_(e.options,f)),u=u.nextSibling}else{if(t.widgets)for(var g,p=0,C=u;C&&20>p;++p,C=C.nextSibling)if(C.lineObj==t&&/div/i.test(C.nodeName)){g=C;break}var v=k(e,t,f,o,g);if(v!=g)c.insertBefore(v,u);else{for(;u!=g;)u=a(u);u=u.nextSibling}v.lineObj=t}++f});u;)u=a(u)}function k(e,t,n,s,r){var a,o=Xn(e,t),i=t.gutterMarkers,l=e.display;if(!(e.options.lineNumbers||i||t.bgClass||t.wrapClass||t.widgets))return o;if(r){r.alignable=null;for(var c,u=!0,d=0,f=r.firstChild;f;f=c)if(c=f.nextSibling,/\bCodeMirror-linewidget\b/.test(f.className)){for(var h=0,m=!0;h<t.widgets.length;++h){var g=t.widgets[h],p=!1;if(g.above||(p=m,m=!1),g.node==f.firstChild){I(g,f,r,s),++d,p&&r.insertBefore(o,f);break}}if(h==t.widgets.length){u=!1;break}}else r.removeChild(f);u&&d==t.widgets.length&&(a=r,r.className=t.wrapClass||"")}if(a||(a=Xs("div",null,t.wrapClass,"position: relative"),a.appendChild(o)),t.bgClass&&a.insertBefore(Xs("div",null,t.bgClass+" CodeMirror-linebackground"),a.firstChild),e.options.lineNumbers||i){var C=a.insertBefore(Xs("div",null,null,"position: absolute; left: "+(e.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px"),a.firstChild);if(e.options.fixedGutter&&(a.alignable||(a.alignable=[])).push(C),!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(a.lineNumber=C.appendChild(Xs("div",_(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.lineNumInnerWidth+"px"))),i)for(var v=0;v<e.options.gutters.length;++v){var x=e.options.gutters[v],y=i.hasOwnProperty(x)&&i[x];y&&C.appendChild(Xs("div",[y],"CodeMirror-gutter-elt","left: "+s.gutterLeft[x]+"px; width: "+s.gutterWidth[x]+"px"))}}if(yr&&(a.style.zIndex=2),t.widgets&&a!=r)for(var h=0,S=t.widgets;h<S.length;++h){var g=S[h],b=Xs("div",[g.node],"CodeMirror-linewidget");I(g,b,a,s),g.above?a.insertBefore(b,e.options.lineNumbers&&0!=t.height?C:o):a.appendChild(b),qs(g,"redraw")}return a}function I(e,t,n,s){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=s.wrapperWidth;t.style.left=s.fixedPos+"px",e.coverGutter||(r-=s.gutterTotalWidth,t.style.paddingLeft=s.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-s.gutterTotalWidth+"px"))}function M(e){var t=e.display,n=Ht(e.doc.sel.from,e.doc.sel.to);if(n||e.options.showCursorWhenSelecting?T(e):t.cursor.style.display=t.otherCursor.style.display="none",n?t.selectionDiv.style.display="none":A(e),e.options.moveInputWithCursor){var s=Q(e,e.doc.sel.head,"div"),r=sr(t.wrapper),a=sr(t.lineDiv);t.inputDiv.style.top=Math.max(0,Math.min(t.wrapper.clientHeight-10,s.top+a.top-r.top))+"px",t.inputDiv.style.left=Math.max(0,Math.min(t.wrapper.clientWidth-10,s.left+a.left-r.left))+"px"}}function T(e){var t=e.display,n=Q(e,e.doc.sel.head,"div");t.cursor.style.left=n.left+"px",t.cursor.style.top=n.top+"px",t.cursor.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",t.cursor.style.display="",n.other?(t.otherCursor.style.display="",t.otherCursor.style.left=n.other.left+"px",t.otherCursor.style.top=n.other.top+"px",t.otherCursor.style.height=.85*(n.other.bottom-n.other.top)+"px"):t.otherCursor.style.display="none"}function A(e){function t(e,t,n,s){0>t&&(t=0),o.appendChild(Xs("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?i-e:n)+"px; height: "+(s-t)+"px"))}function n(n,s,a,o){function c(t){return U(e,zt(n,t),"div",u)}var u=us(r,n),d=u.text.length,f=o?1/0:-1/0;return ir(_s(u),s||0,null==a?d:a,function(e,n,r){var u,h,m,g=c(e);if(e==n)u=g,h=m=g.left;else{if(u=c(n-1),"rtl"==r){var p=g;g=u,u=p}h=g.left,m=u.right}u.top-g.top>3&&(t(h,g.top,null,g.bottom),h=l,g.bottom<u.top&&t(h,g.bottom,null,u.top)),null==a&&n==d&&(m=i),null==s&&0==e&&(h=l),f=o?Math.min(u.top,f):Math.max(u.bottom,f),l+1>h&&(h=l),t(h,u.top,m-h,u.bottom)}),f}var s=e.display,r=e.doc,a=e.doc.sel,o=document.createDocumentFragment(),i=s.lineSpace.offsetWidth,l=E(e.display);if(a.from.line==a.to.line)n(a.from.line,a.from.ch,a.to.ch);else{for(var c,u,d=us(r,a.from.line),f=d,h=[a.from.line,a.from.ch];c=Dn(f);){var m=c.find();if(h.push(m.from.ch,m.to.line,m.to.ch),m.to.line==a.to.line){h.push(a.to.ch),u=!0;break}f=us(r,m.to.line)}if(u)for(var g=0;g<h.length;g+=3)n(h[g],h[g+1],h[g+2]);else{var p,_,C=us(r,a.to.line);p=a.from.ch?n(a.from.line,a.from.ch,null,!1):ps(e,d)-s.viewOffset,_=a.to.ch?n(a.to.line,jn(C)?null:0,a.to.ch,!0):ps(e,C)-s.viewOffset,_>p&&t(l,p,null,_)}}tr(s.selectionDiv,o),s.selectionDiv.style.display=""}function N(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursor.style.visibility=t.otherCursor.style.visibility="",t.blinker=setInterval(function(){t.cursor.style.visibility=t.otherCursor.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate)}}function B(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.showingTo&&e.state.highlight.set(t,$s(P,e))}function P(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.showingTo)){var n,s=+new Date+e.options.workTime,r=gn(t.mode,O(e,t.frontier)),a=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.showingTo+500),function(o){if(t.frontier>=e.display.showingFrom){var i=o.styles;o.styles=Gn(e,o,r);for(var l=!i||i.length!=o.styles.length,c=0;!l&&c<i.length;++c)l=i[c]!=o.styles[c];l&&(n&&n.end==t.frontier?n.end++:a.push(n={start:t.frontier,end:t.frontier+1})),o.stateAfter=gn(t.mode,r)}else Yn(e,o,r),o.stateAfter=0==t.frontier%5?gn(t.mode,r):null;return++t.frontier,+new Date>s?(B(e,e.options.workDelay),!0):void 0}),a.length&&nt(e,function(){for(var e=0;e<a.length;++e)at(this,a[e].start,a[e].end)})()}}function R(e,t){for(var n,s,r=e.doc,a=t,o=t-100;a>o;--a){if(a<=r.first)return r.first;var i=us(r,a-1);if(i.stateAfter)return a;var l=zs(i.text,null,e.options.tabSize);(null==s||n>l)&&(s=a-1,n=l)}return s}function O(e,t){var n=e.doc,s=e.display;if(!n.mode.startState)return!0;var r=R(e,t),a=r>n.first&&us(n,r-1).stateAfter;return a=a?gn(n.mode,a):pn(n.mode),n.iter(r,t,function(o){Yn(e,o,a);var i=r==t-1||0==r%5||r>=s.showingFrom&&r<s.showingTo;o.stateAfter=i?gn(n.mode,a):null,++r}),a}function j(e){return e.lineSpace.offsetTop}function D(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function E(e){var t=tr(e.measure,Xs("pre",null,null,"text-align: left")).appendChild(Xs("span","x"));return t.offsetLeft}function q(e,t,n,s){var r=-1;s=s||F(e,t);for(var a=n;;a+=r){var o=s[a];if(o)break;0>r&&0==a&&(r=1)}return{left:n>a?o.right:o.left,right:a>n?o.left:o.right,top:o.top,bottom:o.bottom}}function V(e,t){for(var n=e.display.measureLineCache,s=0;s<n.length;++s){var r=n[s];if(r.text==t.text&&r.markedSpans==t.markedSpans&&e.display.scroller.clientWidth==r.width&&r.classes==t.textClass+"|"+t.bgClass+"|"+t.wrapClass)return r}}function L(e,t){var n=V(e,t);n&&(n.text=n.measure=n.markedSpans=null)}function F(e,t){var n=V(e,t);if(n)return n.measure;var s=z(e,t),r=e.display.measureLineCache,a={text:t.text,width:e.display.scroller.clientWidth,markedSpans:t.markedSpans,measure:s,classes:t.textClass+"|"+t.bgClass+"|"+t.wrapClass};return 16==r.length?r[++e.display.measureLineCachePos%16]=a:r.push(a),s}function z(e,t){var n=e.display,s=Gs(t.text.length),r=Xn(e,t,s);if(xr&&!yr&&!e.options.lineWrapping&&r.childNodes.length>100){for(var a=document.createDocumentFragment(),o=10,i=r.childNodes.length,l=0,c=Math.ceil(i/o);c>l;++l){for(var u=Xs("div",null,null,"display: inline-block"),d=0;o>d&&i;++d)u.appendChild(r.firstChild),--i;a.appendChild(u)}r.appendChild(a)}tr(n.measure,r);var f=sr(n.lineDiv),h=[],m=Gs(t.text.length),g=r.offsetHeight;Sr&&n.measure.first!=r&&tr(n.measure,r);for(var p,l=0;l<s.length;++l)if(p=s[l]){for(var _=sr(p),C=Math.max(0,_.top-f.top),v=Math.min(_.bottom-f.top,g),d=0;d<h.length;d+=2){var x=h[d],y=h[d+1];if(!(x>v||C>y)&&(C>=x&&y>=v||x>=C&&v>=y||Math.min(v,y)-Math.max(C,x)>=v-C>>1)){h[d]=Math.min(C,x),h[d+1]=Math.max(v,y);break}}d==h.length&&h.push(C,v);var S=_.right;p.measureRight&&(S=sr(p.measureRight).left),m[l]={left:_.left-f.left,right:S-f.left,top:d}}for(var p,l=0;l<m.length;++l)if(p=m[l]){var b=p.top;p.top=h[b],p.bottom=h[b+1]}return m}function H(e,t){var n=!1;if(t.markedSpans)for(var s=0;s<t.markedSpans;++s){var r=t.markedSpans[s];!r.collapsed||null!=r.to&&r.to!=t.text.length||(n=!0)}var a=!n&&V(e,t);if(a)return q(e,t,t.text.length,a.measure).right;var o=Xn(e,t),i=o.appendChild(or(e.display.measure));return tr(e.display.measure,o),sr(i).right-sr(e.display.lineDiv).left}function J(e){e.display.measureLineCache.length=e.display.measureLineCachePos=0,e.display.cachedCharWidth=e.display.cachedTextHeight=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function W(e,t,n,s){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var a=Hn(t.widgets[r]);n.top+=a,n.bottom+=a}if("line"==s)return n;s||(s="local");var o=ps(e,t);if("local"!=s&&(o-=e.display.viewOffset),"page"==s){var i=sr(e.display.lineSpace);o+=i.top+(window.pageYOffset||(document.documentElement||document.body).scrollTop);var l=i.left+(window.pageXOffset||(document.documentElement||document.body).scrollLeft);n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function K(e,t,n){if("div"==n)return t;var s=t.left,r=t.top;"page"==n&&(s-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,r-=window.pageYOffset||(document.documentElement||document.body).scrollTop);var a=sr(e.display.lineSpace);if(s-=a.left,r-=a.top,"local"==n||!n){var o=sr(e.display.wrapper);s+=o.left,r+=o.top}return{left:s,top:r}}function U(e,t,n,s){return s||(s=us(e.doc,t.line)),W(e,s,q(e,s,t.ch),n)}function Q(e,t,n,s,r){function a(t,a){var o=q(e,s,t,r);return a?o.left=o.right:o.right=o.left,W(e,s,o,n)}function o(e,t){var n=i[t],s=n.level%2;return e==lr(n)&&t&&n.level<i[t-1].level?(n=i[--t],e=cr(n)-(n.level%2?0:1),s=!0):e==cr(n)&&t<i.length-1&&n.level<i[t+1].level&&(n=i[++t],e=lr(n)-n.level%2,s=!1),s&&e==n.to&&e>n.from?a(e-1):a(e,s)}s=s||us(e.doc,t.line),r||(r=F(e,s));var i=_s(s),l=t.ch;if(!i)return a(l);var c=gr(i,l),u=o(l,c);return null!=Ia&&(u.other=o(l,Ia)),u}function G(e,t,n){var s=new zt(e,t);return n&&(s.outside=!0),s}function $(e,t,n){var s=e.doc;if(n+=e.display.viewOffset,0>n)return G(s.first,0,!0);var r=gs(s,n),a=s.first+s.size-1;if(r>a)return G(s.first+s.size-1,us(s,a).text.length,!0);for(0>t&&(t=0);;){var o=us(s,r),i=Y(e,o,r,t,n),l=Dn(o),c=l&&l.find();if(!(l&&i.ch>=c.from.ch))return i;r=c.to.line}}function Y(e,t,n,s,r){function a(s){var r=Q(e,zt(n,s),"line",t,c);return i=!0,o>r.bottom?r.left-l:o<r.top?r.left+l:(i=!1,r.left)}var o=r-ps(e,t),i=!1,l=2*e.display.wrapper.clientWidth,c=F(e,t),u=_s(t),d=t.text.length,f=ur(t),h=dr(t),m=a(f),g=i,p=a(h),_=i;if(s>p)return G(n,h,_);for(;;){if(u?h==f||h==_r(t,f,1):1>=h-f){for(var C=p-s>s-m,v=C?f:h;Ca.test(t.text.charAt(v));)++v;var x=G(n,v,C?g:_);return x.after=C,x}var y=Math.ceil(d/2),S=f+y;if(u){S=f;for(var b=0;y>b;++b)S=_r(t,S,1)}var w=a(S);w>s?(h=S,p=w,(_=i)&&(p+=1e3),d=y):(f=S,m=w,g=i,d-=y)}}function Z(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Er){Er=Xs("pre");for(var t=0;49>t;++t)Er.appendChild(document.createTextNode("x")),Er.appendChild(Xs("br"));Er.appendChild(document.createTextNode("x"))}tr(e.measure,Er);var n=Er.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),er(e.measure),n||1}function X(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Xs("span","x"),n=Xs("pre",[t]);tr(e.measure,n);var s=t.offsetWidth;return s>2&&(e.cachedCharWidth=s),s||10}function et(e){e.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Jr},ha++||(fa=[])}function tt(e){var t=e.curOp,n=e.doc,s=e.display;if(e.curOp=null,t.updateMaxLine&&d(e),s.maxLineChanged&&!e.options.lineWrapping&&s.maxLine){var r=H(e,s.maxLine);s.sizer.style.minWidth=Math.max(0,r+3+ma)+"px",s.maxLineChanged=!1;var a=Math.max(0,s.sizer.offsetLeft+s.sizer.offsetWidth-s.scroller.clientWidth);a<n.scrollLeft&&!t.updateScrollPos&&xt(e,Math.min(s.scroller.scrollLeft,a),!0)}var o,i;if(t.updateScrollPos)o=t.updateScrollPos;else if(t.selectionChanged&&s.scroller.clientHeight){var l=Q(e,n.sel.head);o=rn(e,l.left,l.top,l.left,l.bottom)}(t.changes.length||o&&null!=o.scrollTop)&&(i=v(e,t.changes,o&&o.scrollTop),e.display.scroller.offsetHeight&&(e.doc.scrollTop=e.display.scroller.scrollTop)),!i&&t.selectionChanged&&M(e),t.updateScrollPos?(s.scroller.scrollTop=s.scrollbarV.scrollTop=n.scrollTop=o.scrollTop,s.scroller.scrollLeft=s.scrollbarH.scrollLeft=n.scrollLeft=o.scrollLeft,g(e),t.scrollToPos&&nn(e,Ut(e.doc,t.scrollToPos),t.scrollToPosMargin)):o&&tn(e),t.selectionChanged&&N(e),e.state.focused&&t.updateInput&&ct(e,t.userSelChange);var c=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(c)for(var f=0;f<c.length;++f)c[f].lines.length||Es(c[f],"hide");if(u)for(var f=0;f<u.length;++f)u[f].lines.length&&Es(u[f],"unhide");var h;if(--ha||(h=fa,fa=null),t.textChanged&&Es(e,"change",e,t.textChanged),t.cursorActivity&&Es(e,"cursorActivity",e),h)for(var f=0;f<h.length;++f)h[f]()}function nt(e,t){return function(){var n=e||this,s=!n.curOp;s&&et(n);try{var r=t.apply(n,arguments)}finally{s&&tt(n)}return r}}function st(e){return function(){var t,n=this.cm&&!this.cm.curOp;n&&et(this.cm);try{t=e.apply(this,arguments)}finally{n&&tt(this.cm)}return t}}function rt(e,t){var n,s=!e.curOp;s&&et(e);try{n=t()}finally{s&&tt(e)}return n}function at(e,t,n,s){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),e.curOp.changes.push({from:t,to:n,diff:s})}function ot(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){lt(e),e.state.focused&&ot(e)})}function it(e){function t(){var s=lt(e);s||n?(e.display.pollingFast=!1,ot(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function lt(e){var t=e.display.input,n=e.display.prevInput,s=e.doc,r=s.sel;if(!e.state.focused||ba(t)||dt(e))return!1;var a=t.value;if(a==n&&Ht(r.from,r.to))return!1;if(xr&&!Sr&&e.display.inputHasSelection===a)return ct(e,!0),!1;var o=!e.curOp;o&&et(e),r.shift=!1;for(var i=0,l=Math.min(n.length,a.length);l>i&&n.charCodeAt(i)==a.charCodeAt(i);)++i;var c=r.from,u=r.to;i<n.length?c=zt(c.line,c.ch-(n.length-i)):e.state.overwrite&&Ht(c,u)&&!e.state.pasteIncoming&&(u=zt(u.line,Math.min(us(s,u.line).text.length,u.ch+(a.length-i))));var d=e.curOp.updateInput;return jt(e.doc,{from:c,to:u,text:Sa(a.slice(i)),origin:e.state.pasteIncoming?"paste":"+input"},"end"),e.curOp.updateInput=d,a.length>1e3||a.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=a,o&&tt(e),e.state.pasteIncoming=!1,!0}function ct(e,t){var n,s,r=e.doc;if(Ht(r.sel.from,r.sel.to))t&&(e.display.prevInput=e.display.input.value="",xr&&!Sr&&(e.display.inputHasSelection=null));else{e.display.prevInput="",n=wa&&(r.sel.to.line-r.sel.from.line>100||(s=e.getSelection()).length>1e3);var a=n?"-":s||e.getSelection();e.display.input.value=a,e.state.focused&&Ws(e.display.input),xr&&!Sr&&(e.display.inputHasSelection=a)}e.display.inaccurateSelection=n}function ut(e){"nocursor"==e.options.readOnly||Rr&&document.activeElement==e.display.input||e.display.input.focus()}function dt(e){return e.options.readOnly||e.doc.cantEdit}function ft(e){function t(){e.state.focused&&setTimeout($s(ut,e),0)}function n(){o.cachedCharWidth=o.cachedTextHeight=null,J(e),rt(e,$s(at,e))
}function s(){for(var e=o.wrapper.parentNode;e&&e!=document.body;e=e.parentNode);e?setTimeout(s,5e3):Ds(window,"resize",n)}function r(t){e.options.onDragEvent&&e.options.onDragEvent(e,As(t))||Ps(t)}function a(){o.inaccurateSelection&&(o.prevInput="",o.inaccurateSelection=!1,o.input.value=e.getSelection(),Ws(o.input))}var o=e.display;js(o.scroller,"mousedown",nt(e,gt)),xr?js(o.scroller,"dblclick",nt(e,function(t){var n=mt(e,t);if(n&&!_t(e,t)&&!ht(e.display,t)){Ns(t);var s=fn(us(e.doc,n.line).text,n);$t(e.doc,s.from,s.to)}})):js(o.scroller,"dblclick",Ns),js(o.lineSpace,"selectstart",function(e){ht(o,e)||Ns(e)}),Fr||js(o.scroller,"contextmenu",function(t){Nt(e,t)}),js(o.scroller,"scroll",function(){o.scroller.clientHeight&&(vt(e,o.scroller.scrollTop),xt(e,o.scroller.scrollLeft,!0),Es(e,"scroll",e))}),js(o.scrollbarV,"scroll",function(){o.scroller.clientHeight&&vt(e,o.scrollbarV.scrollTop)}),js(o.scrollbarH,"scroll",function(){o.scroller.clientHeight&&xt(e,o.scrollbarH.scrollLeft)}),js(o.scroller,"mousewheel",function(t){yt(e,t)}),js(o.scroller,"DOMMouseScroll",function(t){yt(e,t)}),js(o.scrollbarH,"mousedown",t),js(o.scrollbarV,"mousedown",t),js(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),js(window,"resize",n),setTimeout(s,5e3),js(o.input,"keyup",nt(e,function(t){e.options.onKeyEvent&&e.options.onKeyEvent(e,As(t))||16==t.keyCode&&(e.doc.sel.shift=!1)})),js(o.input,"input",$s(it,e)),js(o.input,"keydown",nt(e,It)),js(o.input,"keypress",nt(e,Mt)),js(o.input,"focus",$s(Tt,e)),js(o.input,"blur",$s(At,e)),e.options.dragDrop&&(js(o.scroller,"dragstart",function(t){Ct(e,t)}),js(o.scroller,"dragenter",r),js(o.scroller,"dragover",r),js(o.scroller,"drop",nt(e,pt))),js(o.scroller,"paste",function(t){ht(o,t)||(ut(e),it(e))}),js(o.input,"paste",function(){e.state.pasteIncoming=!0,it(e)}),js(o.input,"cut",a),js(o.input,"copy",a),Tr&&js(o.sizer,"mouseup",function(){document.activeElement==o.input&&o.input.blur(),ut(e)})}function ht(e,t){for(var n=Rs(t);n!=e.wrapper;n=n.parentNode){if(!n)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className)||n.parentNode==e.sizer&&n!=e.mover)return!0}}function mt(e,t,n){var s=e.display;if(!n){var r=Rs(t);if(r==s.scrollbarH||r==s.scrollbarH.firstChild||r==s.scrollbarV||r==s.scrollbarV.firstChild||r==s.scrollbarFiller||r==s.gutterFiller)return null}var a,o,i=sr(s.lineSpace);try{a=t.clientX,o=t.clientY}catch(t){return null}return $(e,a-i.left,o-i.top)}function gt(e){function t(e){if(!Ht(_,e)){if(_=e,"single"==u)return $t(r.doc,Ut(o,l),e),void 0;if(g=Ut(o,g),p=Ut(o,p),"double"==u){var t=fn(us(o,e.line).text,e);Jt(e,g)?$t(r.doc,t.from,p):$t(r.doc,g,t.to)}else"triple"==u&&(Jt(e,g)?$t(r.doc,p,Ut(o,zt(e.line,0))):$t(r.doc,g,Ut(o,zt(e.line+1,0))))}}function n(e){var s=++v,i=mt(r,e,!0);if(i)if(Ht(i,f)){var l=e.clientY<C.top?-20:e.clientY>C.bottom?20:0;l&&setTimeout(nt(r,function(){v==s&&(a.scroller.scrollTop+=l,n(e))}),50)}else{r.state.focused||Tt(r),f=i,t(i);var c=m(a,o);(i.line>=c.to||i.line<c.from)&&setTimeout(nt(r,function(){v==s&&n(e)}),150)}}function s(e){v=1/0;var n=mt(r,e);n&&t(n),Ns(e),ut(r),Ds(document,"mousemove",x),Ds(document,"mouseup",y)}var r=this,a=r.display,o=r.doc,i=o.sel;if(i.shift=e.shiftKey,ht(a,e))return br||(a.scroller.draggable=!1,setTimeout(function(){a.scroller.draggable=!0},100)),void 0;if(!_t(r,e)){var l=mt(r,e);switch(Os(e)){case 3:return Fr&&Nt.call(r,r,e),void 0;case 2:return l&&$t(r.doc,l),setTimeout($s(ut,r),20),Ns(e),void 0}if(!l)return Rs(e)==a.scroller&&Ns(e),void 0;r.state.focused||Tt(r);var c=+new Date,u="single";if(Vr&&Vr.time>c-400&&Ht(Vr.pos,l))u="triple",Ns(e),setTimeout($s(ut,r),20),hn(r,l.line);else if(qr&&qr.time>c-400&&Ht(qr.pos,l)){u="double",Vr={time:c,pos:l},Ns(e);var d=fn(us(o,l.line).text,l);$t(r.doc,d.from,d.to)}else qr={time:c,pos:l};var f=l;if(r.options.dragDrop&&va&&!dt(r)&&!Ht(i.from,i.to)&&!Jt(l,i.from)&&!Jt(i.to,l)&&"single"==u){var h=nt(r,function(t){br&&(a.scroller.draggable=!1),r.state.draggingText=!1,Ds(document,"mouseup",h),Ds(a.scroller,"drop",h),Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)<10&&(Ns(t),$t(r.doc,l),ut(r))});return br&&(a.scroller.draggable=!0),r.state.draggingText=h,a.scroller.dragDrop&&a.scroller.dragDrop(),js(document,"mouseup",h),js(a.scroller,"drop",h),void 0}Ns(e),"single"==u&&$t(r.doc,Ut(o,l));var g=i.from,p=i.to,_=l,C=sr(a.wrapper),v=0,x=nt(r,function(e){xr||Os(e)?n(e):s(e)}),y=nt(r,s);js(document,"mousemove",x),js(document,"mouseup",y)}}function pt(e){var t=this;if(!(ht(t.display,e)||t.options.onDragEvent&&t.options.onDragEvent(t,As(e)))){Ns(e);var n=mt(t,e,!0),s=e.dataTransfer.files;if(n&&!dt(t))if(s&&s.length&&window.FileReader&&window.File)for(var r=s.length,a=Array(r),o=0,i=function(e,s){var i=new FileReader;i.onload=function(){a[s]=i.result,++o==r&&(n=Ut(t.doc,n),jt(t.doc,{from:n,to:n,text:Sa(a.join("\n")),origin:"paste"},"around"))},i.readAsText(e)},l=0;r>l;++l)i(s[l],l);else{if(t.state.draggingText&&!Jt(n,t.doc.sel.from)&&!Jt(t.doc.sel.to,n))return t.state.draggingText(e),setTimeout($s(ut,t),20),void 0;try{var a=e.dataTransfer.getData("Text");if(a){var c=t.doc.sel.from,u=t.doc.sel.to;Zt(t.doc,n,n),t.state.draggingText&&Ft(t.doc,"",c,u,"paste"),t.replaceSelection(a,null,"paste"),ut(t),Tt(t)}}catch(e){}}}}function _t(e,t){var n=e.display;try{var s=t.clientX,r=t.clientY}catch(t){return!1}if(s>=Math.floor(sr(n.gutters).right))return!1;if(Ns(t),!Ls(e,"gutterClick"))return!0;var a=sr(n.lineDiv);if(r>a.bottom)return!0;r-=a.top-n.viewOffset;for(var o=0;o<e.options.gutters.length;++o){var i=n.gutters.childNodes[o];if(i&&sr(i).right>=s){var l=gs(e.doc,r),c=e.options.gutters[o];qs(e,"gutterClick",e,l,c,t);break}}return!0}function Ct(e,t){if(xr&&!e.state.draggingText)return Ps(t),void 0;if(!ht(e.display,t)){var n=e.getSelection();if(t.dataTransfer.setData("Text",n),t.dataTransfer.setDragImage){var s=Xs("img",null,null,"position: fixed; left: 0; top: 0;");Ir&&(s.width=s.height=1,e.display.wrapper.appendChild(s),s._top=s.offsetTop),Mr&&(e.display.dragImg?s=e.display.dragImg:(e.display.dragImg=s,s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",e.display.wrapper.appendChild(s))),t.dataTransfer.setDragImage(s,0,0),Ir&&s.parentNode.removeChild(s)}}}function vt(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,vr||v(e,[],t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),vr&&v(e,[]))}function xt(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,g(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function yt(e,t){var n=t.wheelDeltaX,s=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==s&&t.detail&&t.axis==t.VERTICAL_AXIS?s=t.detail:null==s&&(s=t.wheelDelta);var r=e.display,a=r.scroller;if(n&&a.scrollWidth>a.clientWidth||s&&a.scrollHeight>a.clientHeight){if(s&&Or&&br)for(var o=t.target;o!=a;o=o.parentNode)if(o.lineObj){e.display.currentWheelTarget=o;break}if(n&&!vr&&!Ir&&null!=Kr)return s&&vt(e,Math.max(0,Math.min(a.scrollTop+s*Kr,a.scrollHeight-a.clientHeight))),xt(e,Math.max(0,Math.min(a.scrollLeft+n*Kr,a.scrollWidth-a.clientWidth))),Ns(t),r.wheelStartX=null,void 0;if(s&&null!=Kr){var i=s*Kr,l=e.doc.scrollTop,c=l+r.wrapper.clientHeight;0>i?l=Math.max(0,l+i-50):c=Math.min(e.doc.height,c+i+50),v(e,[],{top:l,bottom:c})}20>Wr&&(null==r.wheelStartX?(r.wheelStartX=a.scrollLeft,r.wheelStartY=a.scrollTop,r.wheelDX=n,r.wheelDY=s,setTimeout(function(){if(null!=r.wheelStartX){var e=a.scrollLeft-r.wheelStartX,t=a.scrollTop-r.wheelStartY,n=t&&r.wheelDY&&t/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,n&&(Kr=(Kr*Wr+n)/(Wr+1),++Wr)}},200)):(r.wheelDX+=n,r.wheelDY+=s))}}function St(e,t,n){if("string"==typeof t&&(t=sa[t],!t))return!1;e.display.pollingFast&&lt(e)&&(e.display.pollingFast=!1);var s=e.doc,r=s.sel.shift,a=!1;try{dt(e)&&(e.state.suppressEdits=!0),n&&(s.sel.shift=!1),a=t(e)!=ga}finally{s.sel.shift=r,e.state.suppressEdits=!1}return a}function bt(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function wt(e,t){var n=_n(e.options.keyMap),s=n.auto;clearTimeout(Ur),s&&!vn(t)&&(Ur=setTimeout(function(){_n(e.options.keyMap)==n&&(e.options.keyMap=s.call?s.call(null,e):s)},50));var r=xn(t,!0),a=!1;if(!r)return!1;var o=bt(e);return a=t.shiftKey?Cn("Shift-"+r,o,function(t){return St(e,t,!0)})||Cn(r,o,function(t){return"string"==typeof t&&/^go[A-Z]/.test(t)?St(e,t):void 0}):Cn(r,o,function(t){return St(e,t)}),"stop"==a&&(a=!1),a&&(Ns(t),N(e),Sr&&(t.oldKeyCode=t.keyCode,t.keyCode=0)),a}function kt(e,t,n){var s=Cn("'"+n+"'",bt(e),function(t){return St(e,t,!0)});return s&&(Ns(t),N(e)),s}function It(e){var t=this;if(t.state.focused||Tt(t),xr&&27==e.keyCode&&(e.returnValue=!1),!t.options.onKeyEvent||!t.options.onKeyEvent(t,As(e))){var n=e.keyCode;t.doc.sel.shift=16==n||e.shiftKey;var s=wt(t,e);Ir&&(Gr=s?n:null,!s&&88==n&&!wa&&(Or?e.metaKey:e.ctrlKey)&&t.replaceSelection(""))}}function Mt(e){var t=this;if(!t.options.onKeyEvent||!t.options.onKeyEvent(t,As(e))){var n=e.keyCode,s=e.charCode;if(Ir&&n==Gr)return Gr=null,Ns(e),void 0;if(!(Ir&&(!e.which||e.which<10)||Tr)||!wt(t,e)){var r=String.fromCharCode(null==s?n:s);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!dt(this)&&this.doc.mode.electricChars.indexOf(r)>-1&&setTimeout(nt(t,function(){ln(t,t.doc.sel.to.line,"smart")}),75),kt(t,e,r)||(xr&&!Sr&&(t.display.inputHasSelection=null),it(t))}}}function Tt(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(Es(e,"focus",e),e.state.focused=!0,-1==e.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(e.display.wrapper.className+=" CodeMirror-focused"),ct(e,!0)),ot(e),N(e))}function At(e){e.state.focused&&(Es(e,"blur",e),e.state.focused=!1,e.display.wrapper.className=e.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.doc.sel.shift=!1)},150)}function Nt(e,t){function n(){if(null!=r.input.selectionStart){var e=r.input.value=" "+(Ht(a.from,a.to)?"":r.input.value);r.prevInput=" ",r.input.selectionStart=1,r.input.selectionEnd=e.length}}function s(){if(r.inputDiv.style.position="relative",r.input.style.cssText=l,Sr&&(r.scrollbarV.scrollTop=r.scroller.scrollTop=i),ot(e),null!=r.input.selectionStart){(!xr||Sr)&&n(),clearTimeout(Qr);var t=0,s=function(){" "==r.prevInput&&0==r.input.selectionStart?nt(e,sa.selectAll)(e):t++<10?Qr=setTimeout(s,500):ct(e)};Qr=setTimeout(s,200)}}var r=e.display,a=e.doc.sel;if(!ht(r,t)){var o=mt(e,t),i=r.scroller.scrollTop;if(o&&!Ir){(Ht(a.from,a.to)||Jt(o,a.from)||!Jt(o,a.to))&&nt(e,Zt)(e.doc,o,o);var l=r.input.style.cssText;if(r.inputDiv.style.position="absolute",r.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: white; outline: none;"+"border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",ut(e),ct(e,!0),Ht(a.from,a.to)&&(r.input.value=r.prevInput=" "),xr&&!Sr&&n(),Fr){Ps(t);var c=function(){Ds(window,"mouseup",c),setTimeout(s,20)};js(window,"mouseup",c)}else setTimeout(s,50)}}}function Bt(e){return e.text?zt(e.from.line+e.text.length-1,Js(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Pt(e,t,n){if(!Jt(t.from,n))return Ut(e,n);var s=t.text.length-1-(t.to.line-t.from.line);if(n.line>t.to.line+s){var r=n.line-s,a=e.first+e.size-1;return r>a?zt(a,us(e,a).text.length):Qt(n,us(e,r).text.length)}if(n.line==t.to.line+s)return Qt(n,Js(t.text).length+(1==t.text.length?t.from.ch:0)+us(e,t.to.line).text.length-t.to.ch);var o=n.line-t.from.line;return Qt(n,t.text[o].length+(o?0:t.from.ch))}function Rt(e,t,n){if(n&&"object"==typeof n)return{anchor:Pt(e,t,n.anchor),head:Pt(e,t,n.head)};if("start"==n)return{anchor:t.from,head:t.from};var s=Bt(t);if("around"==n)return{anchor:t.from,head:s};if("end"==n)return{anchor:s,head:s};var r=function(e){if(Jt(e,t.from))return e;if(!Jt(t.to,e))return s;var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=s.ch-t.to.ch),zt(n,r)};return{anchor:r(e.sel.anchor),head:r(e.sel.head)}}function Ot(e,t){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,update:function(t,n,s,r){t&&(this.from=Ut(e,t)),n&&(this.to=Ut(e,n)),s&&(this.text=s),void 0!==r&&(this.origin=r)},cancel:function(){this.canceled=!0}};return Es(e,"beforeChange",e,n),e.cm&&Es(e.cm,"beforeChange",e.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function jt(e,t,n,s){if(e.cm){if(!e.cm.curOp)return nt(e.cm,jt)(e,t,n,s);if(e.cm.state.suppressEdits)return}if(!(Ls(e,"beforeChange")||e.cm&&Ls(e.cm,"beforeChange"))||(t=Ot(e,t))){var r=zr&&!s&&Rn(e,t.from,t.to);if(r){for(var a=r.length-1;a>=1;--a)Dt(e,{from:r[a].from,to:r[a].to,text:[""]});r.length&&Dt(e,{from:r[0].from,to:r[0].to,text:t.text},n)}else Dt(e,t,n)}}function Dt(e,t,n){var s=Rt(e,t,n);ys(e,t,s,e.cm?e.cm.curOp.id:0/0),Vt(e,t,s,Bn(e,t));var r=[];ls(e,function(e,n){n||-1!=Ks(r,e.history)||(Ms(e.history,t),r.push(e.history)),Vt(e,t,null,Bn(e,t))})}function Et(e,t){if(!e.cm||!e.cm.state.suppressEdits){var n=e.history,s=("undo"==t?n.done:n.undone).pop();if(s){n.dirtyCounter+="undo"==t?-1:1;var r={changes:[],anchorBefore:s.anchorAfter,headBefore:s.headAfter,anchorAfter:s.anchorBefore,headAfter:s.headBefore};("undo"==t?n.undone:n.done).push(r);for(var a=s.changes.length-1;a>=0;--a){var o=s.changes[a];o.origin=t,r.changes.push(xs(e,o));var i=a?Rt(e,o,null):{anchor:s.anchorBefore,head:s.headBefore};Vt(e,o,i,Pn(e,o));var l=[];ls(e,function(e,t){t||-1!=Ks(l,e.history)||(Ms(e.history,o),l.push(e.history)),Vt(e,o,null,Pn(e,o))})}}}}function qt(e,t){function n(e){return zt(e.line+t,e.ch)}e.first+=t,e.cm&&at(e.cm,e.first,e.first,t),e.sel.head=n(e.sel.head),e.sel.anchor=n(e.sel.anchor),e.sel.from=n(e.sel.from),e.sel.to=n(e.sel.to)}function Vt(e,t,n,s){if(e.cm&&!e.cm.curOp)return nt(e.cm,Vt)(e,t,n,s);if(t.to.line<e.first)return qt(e,t.text.length-1-(t.to.line-t.from.line)),void 0;if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);qt(e,r),t={from:zt(e.first,0),to:zt(t.to.line+r,t.to.ch),text:[Js(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:zt(a,us(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ds(e,t.from,t.to),n||(n=Rt(e,t,null)),e.cm?Lt(e.cm,t,s,n):as(e,t,s,n)}}function Lt(e,t,n,s){var a=e.doc,o=e.display,i=t.from,l=t.to,c=!1,d=i.line;e.options.lineWrapping||(d=ms(En(a,us(a,i.line))),a.iter(d,l.line+1,function(e){return e==o.maxLine?(c=!0,!0):void 0})),Jt(a.sel.head,t.from)||Jt(t.to,a.sel.head)||(e.curOp.cursorActivity=!0),as(a,t,n,s,r(e)),e.options.lineWrapping||(a.iter(d,i.line+t.text.length,function(e){var t=u(a,e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,c=!1)}),c&&(e.curOp.updateMaxLine=!0)),a.frontier=Math.min(a.frontier,i.line),B(e,400);var f=t.text.length-(l.line-i.line)-1;if(at(e,i.line,l.line+1,f),Ls(e,"change")){var h={from:i,to:l,text:t.text,removed:t.removed,origin:t.origin};if(e.curOp.textChanged){for(var m=e.curOp.textChanged;m.next;m=m.next);m.next=h}else e.curOp.textChanged=h}}function Ft(e,t,n,s,r){if(s||(s=n),Jt(s,n)){var a=s;s=n,n=a}"string"==typeof t&&(t=Sa(t)),jt(e,{from:n,to:s,text:t,origin:r},null)}function zt(e,t){return this instanceof zt?(this.line=e,this.ch=t,void 0):new zt(e,t)}function Ht(e,t){return e.line==t.line&&e.ch==t.ch}function Jt(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function Wt(e){return zt(e.line,e.ch)}function Kt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ut(e,t){if(t.line<e.first)return zt(e.first,0);var n=e.first+e.size-1;return t.line>n?zt(n,us(e,n).text.length):Qt(t,us(e,t.line).text.length)}function Qt(e,t){var n=e.ch;return null==n||n>t?zt(e.line,t):0>n?zt(e.line,0):e}function Gt(e,t){return t>=e.first&&t<e.first+e.size}function $t(e,t,n,s){if(e.sel.shift||e.sel.extend){var r=e.sel.anchor;if(n){var a=Jt(t,r);a!=Jt(n,r)?(r=t,t=n):a!=Jt(t,n)&&(t=n)}Zt(e,r,t,s)}else Zt(e,t,n||t,s);e.cm&&(e.cm.curOp.userSelChange=!0)}function Yt(e,t,n){var s={anchor:t,head:n};return Es(e,"beforeSelectionChange",e,s),e.cm&&Es(e.cm,"beforeSelectionChange",e.cm,s),s.anchor=Ut(e,s.anchor),s.head=Ut(e,s.head),s}function Zt(e,t,n,s,r){if(!r&&Ls(e,"beforeSelectionChange")||e.cm&&Ls(e.cm,"beforeSelectionChange")){var a=Yt(e,t,n);n=a.head,t=a.anchor}var o=e.sel;if(o.goalColumn=null,(r||!Ht(t,o.anchor))&&(t=en(e,t,s,"push"!=r)),(r||!Ht(n,o.head))&&(n=en(e,n,s,"push"!=r)),!Ht(o.anchor,t)||!Ht(o.head,n)){o.anchor=t,o.head=n;var i=Jt(n,t);o.from=i?n:t,o.to=i?t:n,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=e.cm.curOp.cursorActivity=!0),qs(e,"cursorActivity",e)}}function Xt(e){Zt(e.doc,e.doc.sel.from,e.doc.sel.to,null,"push")}function en(e,t,n,s){var r=!1,a=t,o=n||1;e.cantEdit=!1;e:for(;;){var i=us(e,a.line);if(i.markedSpans)for(var l=0;l<i.markedSpans.length;++l){var c=i.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(u.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(s&&(Es(u,"beforeCursorEnter"),u.explicitlyCleared)){if(i.markedSpans){--l;continue}break}if(!u.atomic)continue;var d=u.find()[0>o?"from":"to"];if(Ht(d,a)&&(d.ch+=o,d.ch<0?d=d.line>e.first?Ut(e,zt(d.line-1)):null:d.ch>i.text.length&&(d=d.line<e.first+e.size-1?zt(d.line+1,0):null),!d)){if(r)return s?(e.cantEdit=!0,zt(e.first,0)):en(e,t,n,!0);r=!0,d=t,o=-o}a=d;continue e}}return a}}function tn(e){var t=nn(e,e.doc.sel.head,e.options.cursorScrollMargin);if(e.state.focused){var n=e.display,s=sr(n.sizer),r=null,a=j(e.display);if(t.top+a+s.top<0?r=!0:t.bottom+a+s.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!Br){var o="none"==n.cursor.style.display;o&&(n.cursor.style.display="",n.cursor.style.left=t.left+"px",n.cursor.style.top=t.top-n.viewOffset+"px"),n.cursor.scrollIntoView(r),o&&(n.cursor.style.display="none")}}}function nn(e,t,n){for(null==n&&(n=0);;){var s=!1,r=Q(e,t),a=rn(e,r.left,r.top-n,r.left,r.bottom+n),o=e.doc.scrollTop,i=e.doc.scrollLeft;if(null!=a.scrollTop&&(vt(e,a.scrollTop),Math.abs(e.doc.scrollTop-o)>1&&(s=!0)),null!=a.scrollLeft&&(xt(e,a.scrollLeft),Math.abs(e.doc.scrollLeft-i)>1&&(s=!0)),!s)return r}}function sn(e,t,n,s,r){var a=rn(e,t,n,s,r);null!=a.scrollTop&&vt(e,a.scrollTop),null!=a.scrollLeft&&xt(e,a.scrollLeft)}function rn(e,t,n,s,r){var a=e.display,o=j(a);n+=o,r+=o,0>n&&(n=0);var i=a.scroller.clientHeight-ma,l=a.scroller.scrollTop,c={},u=e.doc.height+D(a),d=o+10>n,f=r+o>u-10;if(l>n)c.scrollTop=d?0:n;else if(r>l+i){var h=Math.min(n,(f?u:r)-i);h!=l&&(c.scrollTop=h)}var m=a.scroller.clientWidth-ma,g=a.scroller.scrollLeft;t+=a.gutters.offsetWidth,s+=a.gutters.offsetWidth;var p=a.gutters.offsetWidth,_=p+10>t;return g+p>t||_?(_&&(t=0),c.scrollLeft=Math.max(0,t-10-p)):s>m+g-3&&(c.scrollLeft=s+10-m),c}function an(e,t,n){e.curOp.updateScrollPos={scrollLeft:null==t?e.doc.scrollLeft:t,scrollTop:null==n?e.doc.scrollTop:n}}function on(e,t,n){var s=e.curOp.updateScrollPos||(e.curOp.updateScrollPos={scrollLeft:e.doc.scrollLeft,scrollTop:e.doc.scrollTop}),r=e.display.scroller;s.scrollTop=Math.max(0,Math.min(r.scrollHeight-r.clientHeight,s.scrollTop+n)),s.scrollLeft=Math.max(0,Math.min(r.scrollWidth-r.clientWidth,s.scrollLeft+t))}function ln(e,t,n,s){var r=e.doc;if(n||(n="add"),"smart"==n)if(e.doc.mode.indent)var a=O(e,t);else n="prev";var o,i=e.options.tabSize,l=us(r,t),c=zs(l.text,null,i),u=l.text.match(/^\s*/)[0];if("smart"==n&&(o=e.doc.mode.indent(a,l.text.slice(u.length),l.text),o==ga)){if(!s)return;n="prev"}"prev"==n?o=t>r.first?zs(us(r,t-1).text,null,i):0:"add"==n?o=c+e.options.indentUnit:"subtract"==n&&(o=c-e.options.indentUnit),o=Math.max(0,o);var d="",f=0;if(e.options.indentWithTabs)for(var h=Math.floor(o/i);h;--h)f+=i,d+="	";o>f&&(d+=Hs(o-f)),d!=u&&Ft(e.doc,d,zt(t,0),zt(t,u.length),"+input"),l.stateAfter=null}function cn(e,t,n){var s=t,r=t,a=e.doc;return"number"==typeof t?r=us(a,Kt(a,t)):s=ms(t),null==s?null:n(r,s)?(at(e,s,s+1),r):null}function un(e,t,n,s,r){function a(){var t=i+n;return t<e.first||t>=e.first+e.size?d=!1:(i=t,u=us(e,t))}function o(e){var t=(r?_r:Cr)(u,l,n,!0);if(null==t){if(e||!a())return d=!1;l=r?(0>n?dr:ur)(u):0>n?u.text.length:0}else l=t;return!0}var i=t.line,l=t.ch,c=n,u=us(e,i),d=!0;if("char"==s)o();else if("column"==s)o(!0);else if("word"==s||"group"==s)for(var f=null,h="group"==s,m=!0;!(0>n)||o(!m);m=!1){var g=u.text.charAt(l)||"\n",p=Ys(g)?"w":h?/\s/.test(g)?null:"p":null;if(f&&f!=p){0>n&&(n=1,o());break}if(p&&(f=p),n>0&&!o(!m))break}var _=en(e,zt(i,l),c,!0);return d||(_.hitSide=!0),_}function dn(e,t,n,s){var r,a=e.doc,o=t.left;if("page"==s){var i=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(i-(0>n?1.5:.5)*Z(e.display))}else"line"==s&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=$(e,o,r);if(!l.outside)break;if(0>n?0>=r:r>=a.height){l.hitSide=!0;break}r+=5*n}return l}function fn(e,t){var n=t.ch,s=t.ch;if(e){t.after===!1||s==e.length?--n:++s;for(var r=e.charAt(n),a=Ys(r)?Ys:/\s/.test(r)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Ys(e)};n>0&&a(e.charAt(n-1));)--n;for(;s<e.length&&a(e.charAt(s));)++s}return{from:zt(t.line,n),to:zt(t.line,s)}}function hn(e,t){$t(e.doc,zt(t,0),Ut(e.doc,zt(t+1,0)))}function mn(t,n,s,r){e.defaults[t]=n,s&&($r[t]=r?function(e,t,n){n!=Zr&&s(e,t,n)}:s)}function gn(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var s in t){var r=t[s];r instanceof Array&&(r=r.concat([])),n[s]=r}return n}function pn(e,t,n){return e.startState?e.startState(t,n):!0}function _n(e){return"string"==typeof e?ra[e]:e}function Cn(e,t,n){function s(t){t=_n(t);var r=t[e];if(r===!1)return"stop";if(null!=r&&n(r))return!0;if(t.nofallthrough)return"stop";var a=t.fallthrough;if(null==a)return!1;if("[object Array]"!=Object.prototype.toString.call(a))return s(a);for(var o=0,i=a.length;i>o;++o){var l=s(a[o]);if(l)return l}return!1}for(var r=0;r<t.length;++r){var a=s(t[r]);if(a)return a}}function vn(e){var t=ka[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function xn(e,t){if(Ir&&34==e.keyCode&&e["char"])return!1;var n=ka[e.keyCode];return null==n||e.altGraphKey?!1:(e.altKey&&(n="Alt-"+n),(Lr?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(Lr?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),!t&&e.shiftKey&&(n="Shift-"+n),n)}function yn(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0}function Sn(e,t){this.lines=[],this.type=t,this.doc=e}function bn(e,t,n,s,r){if(s&&s.shared)return kn(e,t,n,s,r);if(e.cm&&!e.cm.curOp)return nt(e.cm,bn)(e,t,n,s,r);var a=new Sn(e,r);if("range"==r&&!Jt(t,n))return a;s&&Qs(s,a),a.replacedWith&&(a.collapsed=!0,a.replacedWith=Xs("span",[a.replacedWith],"CodeMirror-widget")),a.collapsed&&(Hr=!0),a.addToHistory&&ys(e,{from:t,to:n,origin:"markText"},{head:e.sel.head,anchor:e.sel.anchor},0/0);var o,i,l,c=t.line,u=0,d=e.cm;if(e.iter(c,n.line+1,function(s){d&&a.collapsed&&!d.options.lineWrapping&&En(e,s)==d.display.maxLine&&(l=!0);var r={from:null,to:null,marker:a};u+=s.text.length,c==t.line&&(r.from=t.ch,u-=t.ch),c==n.line&&(r.to=n.ch,u-=s.text.length-n.ch),a.collapsed&&(c==n.line&&(i=On(s,n.ch)),c==t.line?o=On(s,t.ch):hs(s,0)),Tn(s,r),++c}),a.collapsed&&e.iter(t.line,n.line+1,function(t){qn(e,t)&&hs(t,0)}),a.clearOnEnter&&js(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(zr=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed){if(o!=i)throw new Error("Inserting collapsed marker overlapping an existing one");a.size=u,a.atomic=!0}return d&&(l&&(d.curOp.updateMaxLine=!0),(a.className||a.startStyle||a.endStyle||a.collapsed)&&at(d,t.line,n.line+1),a.atomic&&Xt(d)),a}function wn(e,t){this.markers=e,this.primary=t;for(var n=0,s=this;n<e.length;++n)e[n].parent=this,js(e[n],"clear",function(){s.clear()})}function kn(e,t,n,s,r){s=Qs(s),s.shared=!1;var a=[bn(e,t,n,s,r)],o=a[0],i=s.replacedWith;return ls(e,function(e){i&&(s.replacedWith=i.cloneNode(!0)),a.push(bn(e,Ut(e,t),Ut(e,n),s,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=Js(a)}),new wn(a,o)}function In(e,t){if(e)for(var n=0;n<e.length;++n){var s=e[n];if(s.marker==t)return s}}function Mn(e,t){for(var n,s=0;s<e.length;++s)e[s]!=t&&(n||(n=[])).push(e[s]);return n}function Tn(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function An(e,t,n){if(e)for(var s,r=0;r<e.length;++r){var a=e[r],o=a.marker,i=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(i||"bookmark"==o.type&&a.from==t&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(s||(s=[])).push({from:a.from,to:l?null:a.to,marker:o})}}return s}function Nn(e,t,n){if(e)for(var s,r=0;r<e.length;++r){var a=e[r],o=a.marker,i=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(i||"bookmark"==o.type&&a.from==t&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(s||(s=[])).push({from:l?null:a.from-t,to:null==a.to?null:a.to-t,marker:o})}}return s}function Bn(e,t){var n=Gt(e,t.from.line)&&us(e,t.from.line).markedSpans,s=Gt(e,t.to.line)&&us(e,t.to.line).markedSpans;if(!n&&!s)return null;var r=t.from.ch,a=t.to.ch,o=Ht(t.from,t.to),i=An(n,r,o),l=Nn(s,a,o),c=1==t.text.length,u=Js(t.text).length+(c?r:0);if(i)for(var d=0;d<i.length;++d){var f=i[d];if(null==f.to){var h=In(l,f.marker);h?c&&(f.to=null==h.to?null:h.to+u):f.to=r}}if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null!=f.to&&(f.to+=u),null==f.from){var h=In(i,f.marker);h||(f.from=u,c&&(i||(i=[])).push(f))}else f.from+=u,c&&(i||(i=[])).push(f)}var m=[i];if(!c){var g,p=t.text.length-2;if(p>0&&i)for(var d=0;d<i.length;++d)null==i[d].to&&(g||(g=[])).push({from:null,to:null,marker:i[d].marker});for(var d=0;p>d;++d)m.push(g);m.push(l)}return m}function Pn(e,t){var n=bs(e,t),s=Bn(e,t);if(!n)return s;if(!s)return n;for(var r=0;r<n.length;++r){var a=n[r],o=s[r];if(a&&o)e:for(var i=0;i<o.length;++i){for(var l=o[i],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(n[r]=o)}return n}function Rn(e,t,n){var s=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||s&&-1!=Ks(s,n)||(s||(s=[])).push(n)}}),!s)return null;for(var r=[{from:t,to:n}],a=0;a<s.length;++a)for(var o=s[a],i=o.find(),l=0;l<r.length;++l){var c=r[l];if(!Jt(c.to,i.from)&&!Jt(i.to,c.from)){var u=[l,1];(Jt(c.from,i.from)||!o.inclusiveLeft&&Ht(c.from,i.from))&&u.push({from:c.from,to:i.from}),(Jt(i.to,c.to)||!o.inclusiveRight&&Ht(c.to,i.to))&&u.push({from:i.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function On(e,t){var n,s=Hr&&e.markedSpans;if(s)for(var r,a=0;a<s.length;++a)r=s[a],r.marker.collapsed&&(null==r.from||r.from<t)&&(null==r.to||r.to>t)&&(!n||n.width<r.marker.width)&&(n=r.marker);return n}function jn(e){return On(e,-1)}function Dn(e){return On(e,e.text.length+1)}function En(e,t){for(var n;n=jn(t);)t=us(e,n.find().from.line);return t}function qn(e,t){var n=Hr&&t.markedSpans;if(n)for(var s,r=0;r<n.length;++r)if(s=n[r],s.marker.collapsed){if(null==s.from)return!0;if(0==s.from&&s.marker.inclusiveLeft&&Vn(e,t,s))return!0}}function Vn(e,t,n){if(null==n.to){var s=n.marker.find().to,r=us(e,s.line);return Vn(e,r,In(r.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var a,o=0;o<t.markedSpans.length;++o)if(a=t.markedSpans[o],a.marker.collapsed&&a.from==n.to&&(a.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vn(e,t,a))return!0}function Ln(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Fn(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function zn(e){return function(){var t=!this.cm.curOp;t&&et(this.cm);try{var n=e.apply(this,arguments)}finally{t&&tt(this.cm)}return n}}function Hn(e){return null!=e.height?e.height:(e.node.parentNode&&1==e.node.parentNode.nodeType||tr(e.cm.display.measure,Xs("div",[e.node],null,"position: relative")),e.height=e.node.offsetHeight)}function Jn(e,t,n,s){var r=new aa(e,n,s);return r.noHScroll&&(e.display.alignWidgets=!0),cn(e,t,function(t){if((t.widgets||(t.widgets=[])).push(r),r.line=t,!qn(e.doc,t)||r.showIfHidden){var n=ps(e,t)<e.display.scroller.scrollTop;hs(t,t.height+Hn(r)),n&&on(e,0,r.height)}return!0}),r}function Wn(e,t,n){var s={text:e};return Fn(s,t),s.height=n?n(s):1,s}function Kn(e,t,n,s){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ln(e),Fn(e,n);var r=s?s(e):1;r!=e.height&&hs(e,r)}function Un(e){e.parent=null,Ln(e)}function Qn(e,t,n,s,r){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var o,i="",l=null,c=new yn(t,e.options.tabSize);for(""==t&&n.blankLine&&n.blankLine(s);!c.eol();){c.pos>e.options.maxHighlightLength?(a=!1,c.pos=Math.min(t.length,c.start+5e4),o=null):o=n.token(c,s);var u=c.current();c.start=c.pos,a&&l==o?i+=u:(i&&r(i,l),i=u,l=o)}i&&r(i,l)}function Gn(e,t,n){var s=[e.state.modeGen];Qn(e,t.text,e.doc.mode,n,function(e,t){s.push(e,t)});for(var r=0;r<e.state.overlays.length;++r){var a=e.state.overlays[r],o=1;Qn(e,t.text,a.mode,!0,function(e,t){for(var n=o,r=e.length;r;){var i=s[o],l=i.length;r>=l?r-=l:(s.splice(o,1,i.slice(0,r),s[o+1],i.slice(r)),r=0),o+=2}if(t)if(a.opaque)s.splice(n,o-n,e,t),o=n+2;else for(;o>n;n+=2){var i=s[n+1];s[n+1]=i?i+" "+t:t}})}return s}function $n(e,t){return t.styles&&t.styles[0]==e.state.modeGen||(t.styles=Gn(e,t,t.stateAfter=O(e,ms(t)))),t.styles}function Yn(e,t,n){var s=e.doc.mode,r=new yn(t.text,e.options.tabSize);for(""==t.text&&s.blankLine&&s.blankLine(n);!r.eol()&&r.pos<=e.options.maxHighlightLength;)s.token(r,n),r.start=r.pos}function Zn(e){return e?oa[e]||(oa[e]="cm-"+e.replace(/ +/g," cm-")):null}function Xn(e,t,n){for(var s,r,a,o=t,i=!0;s=jn(o);)i=!1,o=us(e.doc,s.find().from.line),r||(r=o);var l={pre:Xs("pre"),col:0,pos:0,display:!n,measure:null,addedOne:!1,cm:e};o.textClass&&(l.pre.className=o.textClass);do{l.measure=o==t&&n,l.pos=0,l.addToken=l.measure?ts:es,(xr||br)&&e.getOption("lineWrapping")&&(l.addToken=ns(l.addToken)),n&&a&&o!=t&&!l.addedOne&&(n[0]=l.pre.appendChild(or(e.display.measure)),l.addedOne=!0);var c=rs(o,l,$n(e,o));a=o==r,c&&(o=us(e.doc,c.to.line),i=!1)}while(c);n&&!l.addedOne&&(n[0]=l.pre.appendChild(i?Xs("span"," "):or(e.display.measure))),l.pre.firstChild||qn(e.doc,t)||l.pre.appendChild(document.createTextNode(" "));var u;if(n&&xr&&(u=_s(o))){var d=u.length-1;u[d].from==u[d].to&&--d;var f=u[d],h=u[d-1];if(f.from+1==f.to&&h&&f.level<h.level){var m=n[l.pos-1];m&&m.parentNode.insertBefore(m.measureRight=or(e.display.measure),m.nextSibling)}}return Es(e,"renderLine",e,t,l.pre),l.pre}function es(e,t,n,s,r){if(t){if(ia.test(t))for(var a=document.createDocumentFragment(),o=0;;){ia.lastIndex=o;var i=ia.exec(t),l=i?i.index-o:t.length-o;if(l&&(a.appendChild(document.createTextNode(t.slice(o,o+l))),e.col+=l),!i)break;if(o+=l+1,"	"==i[0]){var c=e.cm.options.tabSize,u=c-e.col%c;a.appendChild(Xs("span",Hs(u),"cm-tab")),e.col+=u}else{var d=Xs("span","•","cm-invalidchar");d.title="\\u"+i[0].charCodeAt(0).toString(16),a.appendChild(d),e.col+=1}}else{e.col+=t.length;var a=document.createTextNode(t)}if(n||s||r||e.measure){var f=n||"";return s&&(f+=s),r&&(f+=r),e.pre.appendChild(Xs("span",[a],f))}e.pre.appendChild(a)}}function ts(e,t,n,s,r){for(var a=e.cm.options.lineWrapping,o=0;o<t.length;++o){var i=t.charAt(o),l=0==o;i>=""&&"">i&&o<t.length-1?(i=t.slice(o,o+2),++o):o&&a&&rr(t,o)&&e.pre.appendChild(Xs("wbr"));var c=e.measure[e.pos]=es(e,i,n,l&&s,o==t.length-1&&r);xr&&a&&" "==i&&o&&!/\s/.test(t.charAt(o-1))&&o<t.length-1&&!/\s/.test(t.charAt(o+1))&&(c.style.whiteSpace="normal"),e.pos+=i.length
}t.length&&(e.addedOne=!0)}function ns(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}return function(n,s,r,a,o){return e(n,s.replace(/ {3,}/,t),r,a,o)}}function ss(e,t,n){n&&(e.display||(n=n.cloneNode(!0)),e.pre.appendChild(n),e.measure&&t&&(e.measure[e.pos]=n,e.addedOne=!0)),e.pos+=t}function rs(e,t,n){var s=e.markedSpans;if(s)for(var r,a,o,i,l,c=e.text,u=c.length,d=0,f=1,h="",m=0;;){if(m==d){a=o=i="",l=null,m=1/0;for(var g=null,p=0;p<s.length;++p){var _=s[p],C=_.marker;_.from<=d&&(null==_.to||_.to>d)?(null!=_.to&&m>_.to&&(m=_.to,o=""),C.className&&(a+=" "+C.className),C.startStyle&&_.from==d&&(i+=" "+C.startStyle),C.endStyle&&_.to==m&&(o+=" "+C.endStyle),C.collapsed&&(!l||l.marker.width<C.width)&&(l=_)):_.from>d&&m>_.from&&(m=_.from),"bookmark"==C.type&&_.from==d&&C.replacedWith&&(g=C.replacedWith)}if(l&&(l.from||0)==d&&(ss(t,(null==l.to?u:l.to)-d,null!=l.from&&l.marker.replacedWith),null==l.to))return l.marker.find();g&&!l&&ss(t,0,g)}if(d>=u)break;for(var v=Math.min(u,m);;){if(h){var x=d+h.length;if(!l){var y=x>v?h.slice(0,v-d):h;t.addToken(t,y,r?r+a:a,i,d+y.length==m?o:"")}if(x>=v){h=h.slice(v-d),d=v;break}d=x,i=""}h=n[f++],r=Zn(n[f++])}}else for(var f=1;f<n.length;f+=2)t.addToken(t,n[f],Zn(n[f+1]))}function as(e,t,n,s,r){function a(e){return n?n[e]:null}function o(e,n,s){Kn(e,n,s,r),qs(e,"change",e,t)}var i=t.from,l=t.to,c=t.text,u=us(e,i.line),d=us(e,l.line),f=Js(c),h=a(c.length-1),m=l.line-i.line;if(0==i.ch&&0==l.ch&&""==f){for(var g=0,p=c.length-1,_=[];p>g;++g)_.push(Wn(c[g],a(g),r));o(d,d.text,h),m&&e.remove(i.line,m),_.length&&e.insert(i.line,_)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,i.ch)+f+u.text.slice(l.ch),h);else{for(var _=[],g=1,p=c.length-1;p>g;++g)_.push(Wn(c[g],a(g),r));_.push(Wn(f+u.text.slice(l.ch),h,r)),o(u,u.text.slice(0,i.ch)+c[0],a(0)),e.insert(i.line+1,_)}else if(1==c.length)o(u,u.text.slice(0,i.ch)+c[0]+d.text.slice(l.ch),a(0)),e.remove(i.line+1,m);else{o(u,u.text.slice(0,i.ch)+c[0],a(0)),o(d,f+d.text.slice(l.ch),h);for(var g=1,p=c.length-1,_=[];p>g;++g)_.push(Wn(c[g],a(g),r));m>1&&e.remove(i.line+1,m-1),e.insert(i.line+1,_)}qs(e,"change",e,t),Zt(e,s.anchor,s.head,null,!0)}function os(e){this.lines=e,this.parent=null;for(var t=0,n=e.length,s=0;n>t;++t)e[t].parent=this,s+=e[t].height;this.height=s}function is(e){this.children=e;for(var t=0,n=0,s=0,r=e.length;r>s;++s){var a=e[s];t+=a.chunkSize(),n+=a.height,a.parent=this}this.size=t,this.height=n,this.parent=null}function ls(e,t,n){function s(e,r,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var i=e.linked[o];if(i.doc!=r){var l=a&&i.sharedHist;(!n||l)&&(t(i.doc,l),s(i.doc,e,l))}}}s(e,null,!0)}function cs(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,at(e)}function us(e,t){for(t-=e.first;!e.lines;)for(var n=0;;++n){var s=e.children[n],r=s.chunkSize();if(r>t){e=s;break}t-=r}return e.lines[t]}function ds(e,t,n){var s=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var a=e.text;r==n.line&&(a=a.slice(0,n.ch)),r==t.line&&(a=a.slice(t.ch)),s.push(a),++r}),s}function fs(e,t,n){var s=[];return e.iter(t,n,function(e){s.push(e.text)}),s}function hs(e,t){for(var n=t-e.height,s=e;s;s=s.parent)s.height+=n}function ms(e){if(null==e.parent)return null;for(var t=e.parent,n=Ks(t.lines,e),s=t.parent;s;t=s,s=s.parent)for(var r=0;s.children[r]!=t;++r)n+=s.children[r].chunkSize();return n+t.first}function gs(e,t){var n=e.first;e:do{for(var s=0,r=e.children.length;r>s;++s){var a=e.children[s],o=a.height;if(o>t){e=a;continue e}t-=o,n+=a.chunkSize()}return n}while(!e.lines);for(var s=0,r=e.lines.length;r>s;++s){var i=e.lines[s],l=i.height;if(l>t)break;t-=l}return n+s}function ps(e,t){t=En(e.doc,t);for(var n=0,s=t.parent,r=0;r<s.lines.length;++r){var a=s.lines[r];if(a==t)break;n+=a.height}for(var o=s.parent;o;s=o,o=s.parent)for(var r=0;r<o.children.length;++r){var i=o.children[r];if(i==s)break;n+=i.height}return n}function _s(e){var t=e.order;return null==t&&(t=e.order=Ma(e.text)),t}function Cs(){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,dirtyCounter:0}}function vs(e,t,n,s){var r=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,s),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[a]=n.markedSpans),++a})}function xs(e,t){var n={from:t.from,to:Bt(t),text:ds(e,t.from,t.to)};return vs(e,n,t.from.line,t.to.line+1),ls(e,function(e){vs(e,n,t.from.line,t.to.line+1)},!0),n}function ys(e,t,n,s){var r=e.history;r.undone.length=0;var a=+new Date,o=Js(r.done);if(o&&(r.lastOp==s||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))){var i=Js(o.changes);Ht(t.from,t.to)&&Ht(t.from,i.to)?i.to=Bt(t):o.changes.push(xs(e,t)),o.anchorAfter=n.anchor,o.headAfter=n.head}else{for(o={changes:[xs(e,t)],anchorBefore:e.sel.anchor,headBefore:e.sel.head,anchorAfter:n.anchor,headAfter:n.head},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift();r.dirtyCounter<0?r.dirtyCounter=0/0:r.dirtyCounter++}r.lastTime=a,r.lastOp=s,r.lastOrigin=t.origin}function Ss(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function bs(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var s=0,r=[];s<t.text.length;++s)r.push(Ss(n[s]));return r}function ws(e,t){for(var n=0,s=[];n<e.length;++n){var r=e[n],a=r.changes,o=[];s.push({changes:o,anchorBefore:r.anchorBefore,headBefore:r.headBefore,anchorAfter:r.anchorAfter,headAfter:r.headAfter});for(var i=0;i<a.length;++i){var l,c=a[i];if(o.push({from:c.from,to:c.to,text:c.text}),t)for(var u in c)(l=u.match(/^spans_(\d+)$/))&&Ks(t,Number(l[1]))>-1&&(Js(o)[u]=c[u],delete c[u])}}return s}function ks(e,t,n,s){n<e.line?e.line+=s:t<e.line&&(e.line=t,e.ch=0)}function Is(e,t,n,s){for(var r=0;r<e.length;++r){for(var a=e[r],o=!0,i=0;i<a.changes.length;++i){var l=a.changes[i];if(a.copied||(l.from=Wt(l.from),l.to=Wt(l.to)),n<l.from.line)l.from.line+=s,l.to.line+=s;else if(t<=l.to.line){o=!1;break}}a.copied||(a.anchorBefore=Wt(a.anchorBefore),a.headBefore=Wt(a.headBefore),a.anchorAfter=Wt(a.anchorAfter),a.readAfter=Wt(a.headAfter),a.copied=!0),o?(ks(a.anchorBefore),ks(a.headBefore),ks(a.anchorAfter),ks(a.headAfter)):(e.splice(0,r+1),r=0)}}function Ms(e,t){var n=t.from.line,s=t.to.line,r=t.text.length-(s-n)-1;Is(e.done,n,s,r),Is(e.undone,n,s,r)}function Ts(){Ps(this)}function As(e){return e.stop||(e.stop=Ts),e}function Ns(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Bs(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ps(e){Ns(e),Bs(e)}function Rs(e){return e.target||e.srcElement}function Os(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Or&&e.ctrlKey&&1==t&&(t=3),t}function js(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var s=e._handlers||(e._handlers={}),r=s[t]||(s[t]=[]);r.push(n)}}function Ds(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var s=e._handlers&&e._handlers[t];if(!s)return;for(var r=0;r<s.length;++r)if(s[r]==n){s.splice(r,1);break}}}function Es(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var s=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,s)}function qs(e,t){function n(e){return function(){e.apply(null,r)}}var s=e._handlers&&e._handlers[t];if(s){var r=Array.prototype.slice.call(arguments,2);fa||(++ha,fa=[],setTimeout(Vs,0));for(var a=0;a<s.length;++a)fa.push(n(s[a]))}}function Vs(){--ha;var e=fa;fa=null;for(var t=0;t<e.length;++t)e[t]()}function Ls(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Fs(){this.id=null}function zs(e,t,n,s,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var a=s||0,o=r||0;t>a;++a)"	"==e.charAt(a)?o+=n-o%n:++o;return o}function Hs(e){for(;pa.length<=e;)pa.push(Js(pa)+" ");return pa[e]}function Js(e){return e[e.length-1]}function Ws(e){Pr?(e.selectionStart=0,e.selectionEnd=e.value.length):e.select()}function Ks(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,s=e.length;s>n;++n)if(e[n]==t)return n;return-1}function Us(e,t){function n(){}n.prototype=e;var s=new n;return t&&Qs(t,s),s}function Qs(e,t){t||(t={});for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Gs(e){for(var t=[],n=0;e>n;++n)t.push(void 0);return t}function $s(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Ys(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||_a.test(e))}function Zs(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Xs(e,t,n,s){var r=document.createElement(e);if(n&&(r.className=n),s&&(r.style.cssText=s),"string"==typeof t)nr(r,t);else if(t)for(var a=0;a<t.length;++a)r.appendChild(t[a]);return r}function er(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function tr(e,t){return er(e).appendChild(t)}function nr(e,t){Sr?(e.innerHTML="",e.appendChild(document.createTextNode(t))):e.textContent=t}function sr(e){return e.getBoundingClientRect()}function rr(){return!1}function ar(e){if(null!=xa)return xa;var t=Xs("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return tr(e,t),t.offsetWidth&&(xa=t.offsetHeight-t.clientHeight),xa||0}function or(e){if(null==ya){var t=Xs("span","​");tr(e,Xs("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ya=t.offsetWidth<=1&&t.offsetHeight>2&&!yr)}return ya?Xs("span","​"):Xs("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function ir(e,t,n,s){if(!e)return s(t,n,"ltr");for(var r=0;r<e.length;++r){var a=e[r];(a.from<n&&a.to>t||t==n&&a.to==t)&&s(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr")}}function lr(e){return e.level%2?e.to:e.from}function cr(e){return e.level%2?e.from:e.to}function ur(e){var t=_s(e);return t?lr(t[0]):0}function dr(e){var t=_s(e);return t?cr(Js(t)):e.text.length}function fr(e,t){var n=us(e.doc,t),s=En(e.doc,n);s!=n&&(t=ms(s));var r=_s(s),a=r?r[0].level%2?dr(s):ur(s):0;return zt(t,a)}function hr(e,t){for(var n,s;n=Dn(s=us(e.doc,t));)t=n.find().to.line;var r=_s(s),a=r?r[0].level%2?ur(s):dr(s):s.text.length;return zt(t,a)}function mr(e,t,n){var s=e[0].level;return t==s?!0:n==s?!1:n>t}function gr(e,t){for(var n,s=0;s<e.length;++s){var r=e[s];if(r.from<t&&r.to>t)return Ia=null,s;if(r.from==t||r.to==t){if(null!=n)return mr(e,r.level,e[n].level)?(Ia=n,s):(Ia=s,n);n=s}}return Ia=null,n}function pr(e,t,n,s){if(!s)return t+n;do t+=n;while(t>0&&Ca.test(e.text.charAt(t)));return t}function _r(e,t,n,s){var r=_s(e);if(!r)return Cr(e,t,n,s);for(var a=gr(r,t),o=r[a],i=pr(e,t,o.level%2?-n:n,s);;){if(i>o.from&&i<o.to)return i;if(i==o.from||i==o.to)return gr(r,i)==a?i:(o=r[a+=n],n>0==o.level%2?o.to:o.from);if(o=r[a+=n],!o)return null;i=n>0==o.level%2?pr(e,o.to,-1,s):pr(e,o.from,1,s)}}function Cr(e,t,n,s){var r=t+n;if(s)for(;r>0&&Ca.test(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var vr=/gecko\/\d/i.test(navigator.userAgent),xr=/MSIE \d/.test(navigator.userAgent),yr=xr&&(null==document.documentMode||document.documentMode<8),Sr=xr&&(null==document.documentMode||document.documentMode<9),br=/WebKit\//.test(navigator.userAgent),wr=br&&/Qt\/\d+\.\d+/.test(navigator.userAgent),kr=/Chrome\//.test(navigator.userAgent),Ir=/Opera\//.test(navigator.userAgent),Mr=/Apple Computer/.test(navigator.vendor),Tr=/KHTML\//.test(navigator.userAgent),Ar=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Nr=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Br=/PhantomJS/.test(navigator.userAgent),Pr=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Rr=Pr||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Or=Pr||/Mac/.test(navigator.platform),jr=/windows/i.test(navigator.platform),Dr=Ir&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Dr&&(Dr=Number(Dr[1]));var Er,qr,Vr,Lr=Or&&(wr||Ir&&(null==Dr||12.11>Dr)),Fr=vr||xr&&!Sr,zr=!1,Hr=!1,Jr=0,Wr=0,Kr=null;xr?Kr=-.53:vr?Kr=15:kr?Kr=-.7:Mr&&(Kr=-1/3);var Ur,Qr,Gr=null;e.Pos=zt,e.prototype={constructor:e,focus:function(){window.focus(),ut(this),Tt(this),it(this)},setOption:function(e,t){var n=this.options,s=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,$r.hasOwnProperty(e)&&nt(this,$r[e])(this,t,s))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(("string"==typeof e?t[n].name:t[n])==e)return t.splice(n,1),!0},addOverlay:nt(null,function(t,n){var s=t.token?t:e.getMode(this.options,t);if(s.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:s,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,at(this)}),removeOverlay:nt(null,function(e){for(var t=this.state.overlays,n=0;n<t.length;++n)if(t[n].modeSpec==e)return t.splice(n,1),this.state.modeGen++,at(this),void 0}),indentLine:nt(null,function(e,t,n){"string"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Gt(this.doc,e)&&ln(this,e,t,n)}),indentSelection:nt(null,function(e){var t=this.doc.sel;if(Ht(t.from,t.to))return ln(this,t.from.line,e);for(var n=t.to.line-(t.to.ch?0:1),s=t.from.line;n>=s;++s)ln(this,s,e)}),getTokenAt:function(e){var t=this.doc;e=Ut(t,e);for(var n=O(this,e.line),s=this.doc.mode,r=us(t,e.line),a=new yn(r.text,this.options.tabSize);a.pos<e.ch&&!a.eol();){a.start=a.pos;var o=s.token(a,n)}return{start:a.start,end:a.pos,string:a.current(),className:o||null,type:o||null,state:n}},getStateAfter:function(e){var t=this.doc;return e=Kt(t,null==e?t.first+t.size-1:e),O(this,e+1)},cursorCoords:function(e,t){var n,s=this.doc.sel;return n=null==e?s.head:"object"==typeof e?Ut(this.doc,e):e?s.from:s.to,Q(this,n,t||"page")},charCoords:function(e,t){return U(this,Ut(this.doc,e),t||"page")},coordsChar:function(e,t){return e=K(this,e,t||"page"),$(this,e.left,e.top)},defaultTextHeight:function(){return Z(this.display)},defaultCharWidth:function(){return X(this.display)},setGutterMarker:nt(null,function(e,t,n){return cn(this,e,function(e){var s=e.gutterMarkers||(e.gutterMarkers={});return s[t]=n,!n&&Zs(s)&&(e.gutterMarkers=null),!0})}),clearGutter:nt(null,function(e){var t=this,n=t.doc,s=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,at(t,s,s+1),Zs(n.gutterMarkers)&&(n.gutterMarkers=null)),++s})}),addLineClass:nt(null,function(e,t,n){return cn(this,e,function(e){var s="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[s]){if(new RegExp("\\b"+n+"\\b").test(e[s]))return!1;e[s]+=" "+n}else e[s]=n;return!0})}),removeLineClass:nt(null,function(e,t,n){return cn(this,e,function(e){var s="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",r=e[s];if(!r)return!1;if(null==n)e[s]=null;else{var a=r.replace(new RegExp("^"+n+"\\b\\s*|\\s*\\b"+n+"\\b"),"");if(a==r)return!1;e[s]=a||null}return!0})}),addLineWidget:nt(null,function(e,t,n){return Jn(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!Gt(this.doc,e))return null;var t=e;if(e=us(this.doc,e),!e)return null}else{var t=ms(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(e,t,n,s,r){var a=this.display;e=Q(this,Ut(this.doc,e));var o=e.bottom,i=e.left;if(t.style.position="absolute",a.sizer.appendChild(t),"over"==s)o=e.top;else if("above"==s||"near"==s){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==s||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),i+t.offsetWidth>c&&(i=c-t.offsetWidth)}t.style.top=o+j(a)+"px",t.style.left=t.style.right="","right"==r?(i=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?i=0:"middle"==r&&(i=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=i+"px"),n&&sn(this,i,o,i+t.offsetWidth,o+t.offsetHeight)},triggerOnKeyDown:nt(null,It),execCommand:function(e){return sa[e](this)},findPosH:function(e,t,n,s){var r=1;0>t&&(r=-1,t=-t);for(var a=0,o=Ut(this.doc,e);t>a&&(o=un(this.doc,o,r,n,s),!o.hitSide);++a);return o},moveH:nt(null,function(e,t){var n,s=this.doc.sel;n=s.shift||s.extend||Ht(s.from,s.to)?un(this.doc,s.head,e,t,this.options.rtlMoveVisually):0>e?s.from:s.to,$t(this.doc,n,n,e)}),deleteH:nt(null,function(e,t){var n=this.doc.sel;Ht(n.from,n.to)?Ft(this.doc,"",n.from,un(this.doc,n.head,e,t,!1),"+delete"):Ft(this.doc,"",n.from,n.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(e,t,n,s){var r=1,a=s;0>t&&(r=-1,t=-t);for(var o=0,i=Ut(this.doc,e);t>o;++o){var l=Q(this,i,"div");if(null==a?a=l.left:l.left=a,i=dn(this,l,r,n),i.hitSide)break}return i},moveV:nt(null,function(e,t){var n=this.doc.sel,s=Q(this,n.head,"div");null!=n.goalColumn&&(s.left=n.goalColumn);var r=dn(this,s,e,t);"page"==t&&on(this,0,U(this,r,"div").top-s.top),$t(this.doc,r,r,e),n.goalColumn=s.left}),toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:nt(null,function(e,t){an(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller,t=ma;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:nt(null,function(e,t){"number"==typeof e&&(e=zt(e,0)),t||(t=0);var n=e;e&&null==e.line||(this.curOp.scrollToPos=e?Ut(this.doc,e):this.doc.sel.head,this.curOp.scrollToPosMargin=t,n=Q(this,this.curOp.scrollToPos));var s=rn(this,n.left,n.top-t,n.right,n.bottom+t);an(this,s.scrollLeft,s.scrollTop)}),setSize:function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.refresh()},on:function(e,t){js(this,e,t)},off:function(e,t){Ds(this,e,t)},operation:function(e){return rt(this,e)},refresh:nt(null,function(){J(this),an(this,this.doc.scrollLeft,this.doc.scrollTop),at(this)}),swapDoc:nt(null,function(e){var t=this.doc;return t.cm=null,cs(this,e),J(this),ct(this,!0),an(this,e.scrollLeft,e.scrollTop),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};var $r=e.optionHandlers={},Yr=e.defaults={},Zr=e.Init={toString:function(){return"CodeMirror.Init"}};mn("value","",function(e,t){e.setValue(t)},!0),mn("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),mn("indentUnit",2,n,!0),mn("indentWithTabs",!1),mn("smartIndent",!0),mn("tabSize",4,function(e){n(e),J(e),at(e)},!0),mn("electricChars",!0),mn("rtlMoveVisually",!jr),mn("theme","default",function(e){i(e),l(e)},!0),mn("keyMap","default",o),mn("extraKeys",null),mn("onKeyEvent",null),mn("onDragEvent",null),mn("lineWrapping",!1,s,!0),mn("gutters",[],function(e){f(e.options),l(e)},!0),mn("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?C(e.display)+"px":"0",e.refresh()},!0),mn("coverGutterNextToScrollbar",!1,h,!0),mn("lineNumbers",!1,function(e){f(e.options),l(e)},!0),mn("firstLineNumber",1,l,!0),mn("lineNumberFormatter",function(e){return e},l,!0),mn("showCursorWhenSelecting",!1,M,!0),mn("readOnly",!1,function(e,t){"nocursor"==t?(At(e),e.display.input.blur()):t||ct(e,!0)}),mn("dragDrop",!0),mn("cursorBlinkRate",530),mn("cursorScrollMargin",0),mn("cursorHeight",1),mn("workTime",100),mn("workDelay",100),mn("flattenSpans",!0),mn("pollInterval",100),mn("undoDepth",40,function(e,t){e.doc.history.undoDepth=t}),mn("historyEventDelay",500),mn("viewportMargin",10,function(e){e.refresh()},!0),mn("maxHighlightLength",1e4,function(e){n(e),e.refresh()},!0),mn("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),mn("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),mn("autofocus",null);var Xr=e.modes={},ea=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var s=2;s<arguments.length;++s)n.dependencies.push(arguments[s])}Xr[t]=n},e.defineMIME=function(e,t){ea[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ea.hasOwnProperty(t))t=ea[t];else if(t&&"string"==typeof t.name&&ea.hasOwnProperty(t.name)){var n=ea[t.name];t=Us(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){n=e.resolveMode(n);var s=Xr[n.name];if(!s)return e.getMode(t,"text/plain");var r=s(t,n);if(ta.hasOwnProperty(n.name)){var a=ta[n.name];for(var o in a)a.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=a[o])}return r.name=n.name,r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ta=e.modeExtensions={};e.extendMode=function(e,t){var n=ta.hasOwnProperty(e)?ta[e]:ta[e]={};Qs(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ca.prototype[e]=t},e.defineOption=mn;var na=[];e.defineInitHook=function(e){na.push(e)},e.copyState=gn,e.startState=pn,e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);t=n.state,e=n.mode}return n||{mode:e,state:t}};var sa=e.commands={selectAll:function(e){e.setSelection(zt(e.firstLine(),0),zt(e.lastLine()))},killLine:function(e){var t=e.getCursor(!0),n=e.getCursor(!1),s=!Ht(t,n);s||e.getLine(t.line).length!=t.ch?e.replaceRange("",t,s?n:zt(t.line),"+delete"):e.replaceRange("",t,zt(t.line+1,0),"+delete")},deleteLine:function(e){var t=e.getCursor().line;e.replaceRange("",zt(t,0),zt(t),"+delete")},undo:function(e){e.undo()},redo:function(e){e.redo()},goDocStart:function(e){e.extendSelection(zt(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(zt(e.lastLine()))},goLineStart:function(e){e.extendSelection(fr(e,e.getCursor().line))},goLineStartSmart:function(e){var t=e.getCursor(),n=fr(e,t.line),s=e.getLineHandle(n.line),r=_s(s);if(r&&0!=r[0].level)e.extendSelection(n);else{var a=Math.max(0,s.text.search(/\S/)),o=t.line==n.line&&t.ch<=a&&t.ch;e.extendSelection(zt(n.line,o?0:a))}},goLineEnd:function(e){e.extendSelection(hr(e,e.getCursor().line))},goLineRight:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div"))},goLineLeft:function(e){var t=e.charCoords(e.getCursor(),"div").top+5;e.extendSelection(e.coordsChar({left:0,top:t},"div"))},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	","end","+input")},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.replaceSelection("	","end","+input")},transposeChars:function(e){var t=e.getCursor(),n=e.getLine(t.line);t.ch>0&&t.ch<n.length-1&&e.replaceRange(n.charAt(t.ch)+n.charAt(t.ch-1),zt(t.line,t.ch-1),zt(t.line,t.ch+1))},newlineAndIndent:function(e){nt(e,function(){e.replaceSelection("\n","end","+input"),e.indentLine(e.getCursor().line,null,!0)})()},toggleOverwrite:function(e){e.toggleOverwrite()}},ra=e.keyMap={};ra.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ra.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ra.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},ra["default"]=Or?ra.macDefault:ra.pcDefault,ra.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},e.lookupKey=Cn,e.isModifierKey=vn,e.keyName=xn,e.fromTextArea=function(t,n){function s(){t.value=c.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=document.body;try{r=document.activeElement}catch(a){}n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(js(t.form,"submit",s),!n.leaveSubmitMethodAlone)){var o=t.form,i=o.submit;try{var l=o.submit=function(){s(),o.submit=i,o.submit(),o.submit=l}}catch(a){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c.save=s,c.getTextArea=function(){return t},c.toTextArea=function(){s(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(Ds(t.form,"submit",s),"function"==typeof t.form.submit&&(t.form.submit=i))},c},yn.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=zs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return zs(this.string,null,this.tabSize)},match:function(e,t,n){if("string"!=typeof e){var s=this.string.slice(this.pos).match(e);return s&&s.index>0?null:(s&&t!==!1&&(this.pos+=s[0].length),s)}var r=function(e){return n?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return r(a)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},e.StringStream=yn,e.TextMarker=Sn,Sn.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;t&&et(e);for(var n=null,s=null,r=0;r<this.lines.length;++r){var a=this.lines[r],o=In(a.markedSpans,this);null!=o.to&&(s=ms(a)),a.markedSpans=Mn(a.markedSpans,o),null!=o.from?n=ms(a):this.collapsed&&!qn(this.doc,a)&&e&&hs(a,Z(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var r=0;r<this.lines.length;++r){var i=En(e.doc,this.lines[r]),l=u(e.doc,i);l>e.display.maxLineLength&&(e.display.maxLine=i,e.display.maxLineLength=l,e.display.maxLineChanged=!0)}null!=n&&e&&at(e,n,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.collapsed&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Xt(e)),t&&tt(e),qs(this,"clear")}},Sn.prototype.find=function(){for(var e,t,n=0;n<this.lines.length;++n){var s=this.lines[n],r=In(s.markedSpans,this);if(null!=r.from||null!=r.to){var a=ms(s);null!=r.from&&(e=zt(a,r.from)),null!=r.to&&(t=zt(a,r.to))}}return"bookmark"==this.type?e:e&&{from:e,to:t}},Sn.prototype.changed=function(){var e=this.find(),t=this.doc.cm;if(e&&t){var n=us(this.doc,e.from.line);if(L(t,n),e.from.line>=t.display.showingFrom&&e.from.line<t.display.showingTo){for(var s=t.display.lineDiv.firstChild;s;s=s.nextSibling)if(s.lineObj==n){s.offsetHeight!=n.height&&hs(n,s.offsetHeight);break}rt(t,function(){t.curOp.selectionChanged=!0})}}},Sn.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Ks(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Sn.prototype.detachLine=function(e){if(this.lines.splice(Ks(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},e.SharedTextMarker=wn,wn.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();qs(this,"clear")}},wn.prototype.find=function(){return this.primary.find()};var aa=e.LineWidget=function(e,t,n){for(var s in n)n.hasOwnProperty(s)&&(this[s]=n[s]);this.cm=e,this.node=t};aa.prototype.clear=zn(function(){var e=this.line.widgets,t=ms(this.line);if(null!=t&&e){for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(this.line.widgets=null),hs(this.line,Math.max(0,this.line.height-Hn(this))),at(this.cm,t,t+1)}}),aa.prototype.changed=zn(function(){var e=this.height;this.height=null;var t=Hn(this)-e;if(t){hs(this.line,this.line.height+t);var n=ms(this.line);at(this.cm,n,n+1)}});var oa={},ia=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;os.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,s=e+t;s>n;++n){var r=this.lines[n];this.height-=r.height,Un(r),qs(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.splice.apply(e,[e.length,0].concat(this.lines))},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var s=0,r=t.length;r>s;++s)t[s].parent=this},iterN:function(e,t,n){for(var s=e+t;s>e;++e)if(n(this.lines[e]))return!0
}},is.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var s=this.children[n],r=s.chunkSize();if(r>e){var a=Math.min(t,r-e),o=s.height;if(s.removeInner(e,a),this.height-=o-s.height,r==a&&(this.children.splice(n--,1),s.parent=null),0==(t-=a))break;e=0}else e-=r}if(this.size-t<25){var i=[];this.collapse(i),this.children=[new os(i)],this.children[0].parent=this}},collapse:function(e){for(var t=0,n=this.children.length;n>t;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var s=0,r=this.children.length;r>s;++s){var a=this.children[s],o=a.chunkSize();if(o>=e){if(a.insertInner(e,t,n),a.lines&&a.lines.length>50){for(;a.lines.length>50;){var i=a.lines.splice(a.lines.length-25,25),l=new os(i);a.height-=l.height,this.children.splice(s+1,0,l),l.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new is(t);if(e.parent){e.size-=n.size,e.height-=n.height;var s=Ks(e.parent.children,e);e.parent.children.splice(s+1,0,n)}else{var r=new is(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var s=0,r=this.children.length;r>s;++s){var a=this.children[s],o=a.chunkSize();if(o>e){var i=Math.min(t,o-e);if(a.iterN(e,i,n))return!0;if(0==(t-=i))break;e=0}else e-=o}}};var la=0,ca=e.Doc=function(e,t,n){if(!(this instanceof ca))return new ca(e,t,n);null==n&&(n=0),is.call(this,[new os([Wn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=Cs(),this.frontier=n;var s=zt(n,0);this.sel={from:s,to:s,head:s,anchor:s,shift:!1,extend:!1,goalColumn:null},this.id=++la,this.modeOption=t,"string"==typeof e&&(e=Sa(e)),as(this,{from:s,to:s,text:e},null,{head:s,anchor:s})};ca.prototype=Us(is.prototype,{constructor:ca,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,s=0,r=t.length;r>s;++s)n+=t[s].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=fs(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:function(e){var t=zt(this.first,0),n=this.first+this.size-1;jt(this,{from:t,to:zt(n,us(this,n).text.length),text:Sa(e),origin:"setValue"},{head:t,anchor:t},!0)},replaceRange:function(e,t,n,s){t=Ut(this,t),n=n?Ut(this,n):t,Ft(this,e,t,n,s)},getRange:function(e,t,n){var s=ds(this,Ut(this,e),Ut(this,t));return n===!1?s:s.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},setLine:function(e,t){Gt(this,e)&&Ft(this,t,zt(e,0),Ut(this,zt(e)))},removeLine:function(e){e?Ft(this,"",Ut(this,zt(e-1)),Ut(this,zt(e))):Ft(this,"",zt(0,0),Ut(this,zt(1,0)))},getLineHandle:function(e){return Gt(this,e)?us(this,e):void 0},getLineNumber:function(e){return ms(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ut(this,e)},getCursor:function(e){var t,n=this.sel;return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||e===!1?n.to:n.from,Wt(t)},somethingSelected:function(){return!Ht(this.sel.head,this.sel.anchor)},setCursor:st(function(e,t,n){var s=Ut(this,"number"==typeof e?zt(e,t||0):e);n?$t(this,s):Zt(this,s,s)}),setSelection:st(function(e,t){Zt(this,Ut(this,e),Ut(this,t||e))}),extendSelection:st(function(e,t){$t(this,Ut(this,e),t&&Ut(this,t))}),getSelection:function(e){return this.getRange(this.sel.from,this.sel.to,e)},replaceSelection:function(e,t,n){jt(this,{from:this.sel.from,to:this.sel.to,text:Sa(e),origin:n},t||"around")},undo:st(function(){Et(this,"undo")}),redo:st(function(){Et(this,"redo")}),setExtending:function(e){this.sel.extend=e},historySize:function(){var e=this.history;return{undo:e.done.length,redo:e.undone.length}},clearHistory:function(){this.history=Cs()},markClean:function(){this.history.dirtyCounter=0,this.history.lastOp=this.history.lastOrigin=null},isClean:function(){return 0==this.history.dirtyCounter},getHistory:function(){return{done:ws(this.history.done),undone:ws(this.history.undone)}},setHistory:function(e){var t=this.history=Cs();t.done=e.done.slice(0),t.undone=e.undone.slice(0)},markText:function(e,t,n){return bn(this,Ut(this,e),Ut(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft};return e=Ut(this,e),bn(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Ut(this,e);var t=[],n=us(this,e.line).markedSpans;if(n)for(var s=0;s<n.length;++s){var r=n[s];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var s=0;s<n.length;++s)null!=n[s].from&&e.push(n[s].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(s){var r=s.text.length+1;return r>e?(t=e,!0):(e-=r,++n,void 0)}),Ut(this,zt(n,t))},indexFromPos:function(e){e=Ut(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ca(fs(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var s=new ca(fs(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(s.history=this.history),(this.linked||(this.linked=[])).push({doc:s,sharedHist:e.sharedHist}),s.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],s},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var s=this.linked[n];if(s.doc==t){this.linked.splice(n,1),t.unlinkDoc(this);break}}if(t.history==this.history){var r=[t.id];ls(t,function(e){r.push(e.id)},!0),t.history=Cs(),t.history.done=ws(this.history.done,r),t.history.undone=ws(this.history.undone,r)}},iterLinkedDocs:function(e){ls(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ca.prototype.eachLine=ca.prototype.iter;var ua="iter insert remove copy getEditor".split(" ");for(var da in ca.prototype)ca.prototype.hasOwnProperty(da)&&Ks(ua,da)<0&&(e.prototype[da]=function(e){return function(){return e.apply(this.doc,arguments)}}(ca.prototype[da]));e.e_stop=Ps,e.e_preventDefault=Ns,e.e_stopPropagation=Bs;var fa,ha=0;e.on=js,e.off=Ds,e.signal=Es;var ma=30,ga=e.Pass={toString:function(){return"CodeMirror.Pass"}};Fs.prototype={set:function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)}},e.countColumn=zs;var pa=[""],_a=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ca=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;e.replaceGetRect=function(e){sr=e};var va=function(){if(Sr)return!1;var e=Xs("div");return"draggable"in e||"dragDrop"in e}();vr?rr=function(e,t){return 36==e.charCodeAt(t-1)&&39==e.charCodeAt(t)}:Mr&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?rr=function(e,t){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(e.slice(t-1,t+1))}:br&&(rr=function(e,t){return t>1&&45==e.charCodeAt(t-1)&&/\w/.test(e.charAt(t-2))&&/[^\-?\.]/.test(e.charAt(t))?!0:/[~!#%&*)=+}\]|\"\.>,:;][({[<]|\?[\w~`@#$%\^&*(_=+{[|><]/.test(e.slice(t-1,t+1))});var xa,ya,Sa=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],s=e.length;s>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var a=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)};e.splitLines=Sa;var ba=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},wa=function(){var e=Xs("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),ka={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};e.keyNames=ka,function(){for(var e=0;10>e;e++)ka[e+48]=String(e);for(var e=65;90>=e;e++)ka[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)ka[e+111]=ka[e+63235]="F"+e}();var Ia,Ma=function(){function e(e){return 255>=e?t.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1791>=e?n.charAt(e-1536):e>=1792&&2220>=e?"r":"L"}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",n="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,a=/[LRr]/,o=/[Lb1n]/,i=/[1n]/,l="L";return function(t){if(!s.test(t))return!1;for(var n,c=t.length,u=[],d=0;c>d;++d)u.push(n=e(t.charCodeAt(d)));for(var d=0,f=l;c>d;++d){var n=u[d];"m"==n?u[d]=f:f=n}for(var d=0,h=l;c>d;++d){var n=u[d];"1"==n&&"r"==h?u[d]="n":a.test(n)&&(h=n,"r"==n&&(u[d]="R"))}for(var d=1,f=u[0];c-1>d;++d){var n=u[d];"+"==n&&"1"==f&&"1"==u[d+1]?u[d]="1":","!=n||f!=u[d+1]||"1"!=f&&"n"!=f||(u[d]=f),f=n}for(var d=0;c>d;++d){var n=u[d];if(","==n)u[d]="N";else if("%"==n){for(var m=d+1;c>m&&"%"==u[m];++m);for(var g=d&&"!"==u[d-1]||c-1>m&&"1"==u[m]?"1":"N",p=d;m>p;++p)u[p]=g;d=m-1}}for(var d=0,h=l;c>d;++d){var n=u[d];"L"==h&&"1"==n?u[d]="L":a.test(n)&&(h=n)}for(var d=0;c>d;++d)if(r.test(u[d])){for(var m=d+1;c>m&&r.test(u[m]);++m);for(var _="L"==(d?u[d-1]:l),C="L"==(c-1>m?u[m]:l),g=_||C?"L":"R",p=d;m>p;++p)u[p]=g;d=m-1}for(var v,x=[],d=0;c>d;)if(o.test(u[d])){var y=d;for(++d;c>d&&o.test(u[d]);++d);x.push({from:y,to:d,level:0})}else{var S=d,b=x.length;for(++d;c>d&&"L"!=u[d];++d);for(var p=S;d>p;)if(i.test(u[p])){p>S&&x.splice(b,0,{from:S,to:p,level:1});var w=p;for(++p;d>p&&i.test(u[p]);++p);x.splice(b,0,{from:w,to:p,level:2}),S=p}else++p;d>S&&x.splice(b,0,{from:S,to:d,level:1})}return 1==x[0].level&&(v=t.match(/^\s+/))&&(x[0].from=v[0].length,x.unshift({from:0,to:v[0].length,level:0})),1==Js(x).level&&(v=t.match(/\s+$/))&&(Js(x).to-=v[0].length,x.push({from:c-v[0].length,to:c,level:0})),x[0].level!=Js(x).level&&x.push({from:c,to:c,level:x[0].level}),x}}();return e.version="3.13",e}(),define("amber_lib/codemirror/lib/codemirror",function(){}),CodeMirror.defineMode("smalltalk",function(e){var t=/[+\-/\\*~<>=@%|&?!.:;^]/,n=/true|false|nil|self|super|thisContext/,s=function(e,t){this.next=e,this.parent=t},r=function(e,t,n){this.name=e,this.context=t,this.eos=n},a=function(){this.context=new s(o,null),this.expectVariable=!0,this.indentation=0,this.userIndentationDelta=0};a.prototype.userIndent=function(t){this.userIndentationDelta=t>0?t/e.indentUnit-this.indentation:0};var o=function(e,a,o){var u=new r(null,a,!1),d=e.next();return'"'===d?u=i(e,new s(i,a)):"'"===d?u=l(e,new s(l,a)):"#"===d?(e.eatWhile(/[^ .]/),u.name="string-2"):"$"===d?(e.eatWhile(/[^ ]/),u.name="string-2"):"|"===d&&o.expectVariable?u.context=new s(c,a):/[\[\]{}()]/.test(d)?(u.name="bracket",u.eos=/[\[{(]/.test(d),"["===d?o.indentation++:"]"===d&&(o.indentation=Math.max(0,o.indentation-1))):t.test(d)?(e.eatWhile(t),u.name="operator",u.eos=";"!==d):/\d/.test(d)?(e.eatWhile(/[\w\d]/),u.name="number"):/[\w_]/.test(d)?(e.eatWhile(/[\w\d_]/),u.name=o.expectVariable?n.test(e.current())?"keyword":"variable":null):u.eos=o.expectVariable,u},i=function(e,t){return e.eatWhile(/[^"]/),new r("comment",e.eat('"')?t.parent:t,!0)},l=function(e,t){return e.eatWhile(/[^']/),new r("string",e.eat("'")?t.parent:t,!1)},c=function(e,t){var n=new r(null,t,!1),s=e.next();return"|"===s?(n.context=t.parent,n.eos=!0):(e.eatWhile(/[^|]/),n.name="variable"),n};return{startState:function(){return new a},token:function(e,t){if(t.userIndent(e.indentation()),e.eatSpace())return null;var n=t.context.next(e,t.context,t);return t.context=n.context,t.expectVariable=n.eos,t.lastToken=n,n.name},blankLine:function(e){e.userIndent(0)},indent:function(t,n){var s=t.context.next===o&&n&&"]"===n.charAt(0)?-1:t.userIndentationDelta;return(t.indentation+s)*e.indentUnit},electricChars:"]"}}),CodeMirror.defineMIME("text/x-stsrc",{name:"smalltalk"}),define("amber_inc/CodeMirror/smalltalk",["amber_lib/codemirror/lib/codemirror"],function(){}),CodeMirror.showHint=function(e,t,n){function s(){return e.somethingSelected()?void 0:n.async?(t(e,o,n),void 0):o(t(e,n))}function r(e){return"string"==typeof e?e:e.text}function a(e,t,n){n.hint?n.hint(e,t,n):e.replaceRange(r(n),t.from,t.to)}function o(t){function o(e){if(e=Math.max(0,Math.min(e,_.length-1)),v!=e){var n=C.childNodes[v];n.className=n.className.replace(" CodeMirror-hint-active",""),n=C.childNodes[v=e],n.className+=" CodeMirror-hint-active",n.offsetTop<C.scrollTop?C.scrollTop=n.offsetTop-3:n.offsetTop+n.offsetHeight>C.scrollTop+C.clientHeight&&(C.scrollTop=n.offsetTop+n.offsetHeight-C.clientHeight+3),CodeMirror.signal(t,"select",_[v],n)}}function u(){return Math.floor(C.clientHeight/C.firstChild.offsetHeight)||1}function d(){q=setTimeout(m,100)}function f(){clearTimeout(q)}function h(){var t=e.getScrollInfo(),n=e.getWrapperElement().getBoundingClientRect(),s=I+V.top-t.top,r=s;return M||(r+=C.offsetHeight),r<=n.top||r>=n.bottom?m():(C.style.top=s+"px",C.style.left=k+V.left-t.left+"px",void 0)}function m(n){F||(F=!0,clearTimeout(L),C.parentNode.removeChild(C),e.removeKeyMap(O),e.off("cursorActivity",p),e.off("blur",d),e.off("focus",f),e.off("scroll",h),n!==!0&&CodeMirror.signal(t,"close"))}function g(){a(e,t,_[v]),m()}function p(){clearTimeout(L);var t=e.getCursor(),n=e.getLine(t.line);t.line!=z.line||n.length-t.ch!=H-z.ch||t.ch<i||e.somethingSelected()||t.ch&&c.test(n.charAt(t.ch-1))?m():L=setTimeout(function(){m(!0),l=!0,s()},70)}if(t&&t.list.length){var _=t.list;if(!l&&n.completeSingle!==!1&&1==_.length)return a(e,t,_[0]),CodeMirror.signal(t,"close"),!0;var C=document.createElement("ul"),v=0;C.className="CodeMirror-hints";for(var x=0;x<_.length;++x){var y=C.appendChild(document.createElement("li")),S=_[x],b="CodeMirror-hint"+(x?"":" CodeMirror-hint-active");null!=S.className&&(b=S.className+" "+b),y.className=b,S.render?S.render(y,t,S):y.appendChild(document.createTextNode(S.displayText||r(S))),y.hintId=x}var w=e.cursorCoords(n.alignWithWord!==!1?t.from:null),k=w.left,I=w.bottom,M=!0;C.style.left=k+"px",C.style.top=I+"px",document.body.appendChild(C),CodeMirror.signal(t,"shown");var T=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),A=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),N=C.getBoundingClientRect(),B=N.right-T,P=N.bottom-A;if(B>0&&(N.right-N.left>T&&(C.style.width=T-5+"px",B-=N.right-N.left-T),C.style.left=(k=w.left-B)+"px"),P>0){var R=N.bottom-N.top;N.top-(w.bottom-w.top)-R>0?(P=R+(w.bottom-w.top),M=!1):R>A&&(C.style.height=A-5+"px",P-=R-A),C.style.top=(I=w.bottom-P)+"px"}var O,j={Up:function(){o(v-1)},Down:function(){o(v+1)},PageUp:function(){o(v-u())},PageDown:function(){o(v+u())},Home:function(){o(0)},End:function(){o(_.length-1)},Enter:g,Tab:g,Esc:m};if(n.customKeys){O={};for(var D in n.customKeys)if(n.customKeys.hasOwnProperty(D)){var E=n.customKeys[D];j.hasOwnProperty(E)&&(E=j[E]),O[D]=E}}else O=j;e.addKeyMap(O),e.on("cursorActivity",p);var q;e.on("blur",d),e.on("focus",f);var V=e.getScrollInfo();e.on("scroll",h),CodeMirror.on(C,"dblclick",function(e){var t=e.target||e.srcElement;null!=t.hintId&&(v=t.hintId,g())}),CodeMirror.on(C,"click",function(e){var t=e.target||e.srcElement;null!=t.hintId&&o(t.hintId)}),CodeMirror.on(C,"mousedown",function(){setTimeout(function(){e.focus()},20)});var L,L,F=!1,z=e.getCursor(),H=e.getLine(z.line).length;return CodeMirror.signal(t,"select",_[0],C.firstChild),!0}}n||(n={});var i=e.getCursor().ch,l=!1,c=n.closeCharacters||/[\s()\[\]{};:]/;return s()},define("amber_lib/codemirror/addon/hint/show-hint",["../../lib/codemirror"],function(){}),define("amber_lib/require-css/normalize",["require","module"],function(){function e(e,s,o){if(0===e.indexOf("data:"))return e;if(e=r(e),e.match(/^\//)||e.match(a))return e;var i=o.match(a),l=s.match(a);return!l||i&&i[1]==l[1]&&i[2]==l[2]?n(t(e,s),o):t(e,s)}function t(e,t){"./"==e.substr(0,2)&&(e=e.substr(2));var n=t.split("/"),s=e.split("/");for(n.pop();curPart=s.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function n(e,t){var n=t.split("/");for(n.pop(),t=n.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var s=e.split("/");for(out="";n.shift();)out+="../";for(;curPart=s.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var s=/([^:])\/+/g,r=function(e){return e.replace(s,"$1/")},a=/[^\:\/]*:\/\/([^\/])*/,o=function(t,n,s,a){n=r(n),s=r(s);for(var o,i,t,l=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;o=l.exec(t);){i=o[3]||o[2]||o[5]||o[6]||o[4];var c;c=a&&"/"==i.substr(0,1)?a+i:e(i,n,s);var u=o[5]||o[6]?1:0;t=t.substr(0,l.lastIndex-i.length-u-1)+c+t.substr(l.lastIndex-u-1),l.lastIndex=l.lastIndex+(c.length-i.length)}return t};return o.convertURIBase=e,o}),define("amber_lib/require-css/css",["./normalize"],function(e){function t(e,t){for(var n=0,s=e.length;s>n;n++)if(e[n]===t)return n;return-1}if("undefined"==typeof window)return{load:function(e,t,n){n()}};var n=!1,s=document.getElementsByTagName("head")[0],r=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),a=!1;r&&(r[1]||r[7]?(a=parseInt(r[1])<6||parseInt(r[7])<=9,r="trident"):r[2]?(a=!0,r="webkit"):r[3]||(r[4]?(a=parseInt(r[4])<18,r="gecko"):n&&alert("Engine detection failed")));var o={},i=/^\/|([^\:\/]*:)/;o.pluginBuilder="./css-builder";var l=[],c={},u=[];o.addBuffer=function(e){-1==t(l,e)&&-1==t(u,e)&&(l.push(e),u.push(e))},o.setBuffer=function(t,n){var s=window.location.pathname.split("/");s.pop(),s=s.join("/")+"/";var r=require.toUrl("base_url").split("/");r.pop();var a=r.join("/")+"/";a=e.convertURIBase(a,s,"/"),a.match(i)||(a="/"+a),"/"!=a.substr(a.length-1,1)&&(a+="/"),o.inject(e(t,a,s));for(var u=0;u<l.length;u++)(n&&".less"==l[u].substr(l[u].length-5,5)||!n&&".css"==l[u].substr(l[u].length-4,4))&&(!function(e){c[e]=c[e]||!0,setTimeout(function(){"function"==typeof c[e]&&c[e](),delete c[e]},7)}(l[u]),l.splice(u--,1))},o.attachBuffer=function(e,n){for(var s=0;s<l.length;s++)if(l[s]==e)return c[e]=n,!0;return c[e]===!0?(c[e]=n,!0):-1!=t(u,e)?(n(),!0):void 0};var d=function(e,t){setTimeout(function(){for(var n=0;n<document.styleSheets.length;n++){var s=document.styleSheets[n];if(s.href==e.href)return t()}d(e,t)},10)},f=function(e,t){setTimeout(function(){try{return e.sheet.cssRules,t()}catch(n){}f(e,t)},10)};if("trident"==r&&a)var h=[],m=[],g=0,p=function(e,t){var n;m.push({url:e,cb:t}),n=h.shift(),!n&&g++<31&&(n=document.createElement("style"),s.appendChild(n)),n&&_(n)},_=function(e){var t=m.shift();if(!t)return e.onload=v,h.push(e),void 0;e.onload=function(){t.cb(t.ss),_(e)};var n=e.styleSheet;t.ss=n.imports[n.addImport(t.url)]};var C=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},v=function(){};o.linkLoad=function(e,t){var o=setTimeout(function(){n&&alert("timeout"),t()},1e3*T-100),i=function(){clearTimeout(o),l&&(l.onload=v),setTimeout(t,7)};if(a)if("webkit"==r){var l=C(e);d(l,i),s.appendChild(l)}else if("gecko"==r){var c=document.createElement("style");c.textContent='@import "'+e+'"',f(c,i),s.appendChild(c)}else"trident"==r&&p(e,i);else{var l=C(e);l.onload=i,s.appendChild(l)}};var x,y=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],S={},b=function(e,t,n){if(S[e])return t(S[e]),void 0;var s,r,a;if("undefined"!=typeof XMLHttpRequest)s=new XMLHttpRequest;else if("undefined"!=typeof ActiveXObject)for(r=0;3>r;r+=1){a=y[r];try{s=new ActiveXObject(a)}catch(o){}if(s){y=[a];break}}s.open("GET",e,requirejs.inlineRequire?!1:!0),s.onreadystatechange=function(){var r,a;4===s.readyState&&(r=s.status,r>399&&600>r?(a=new Error(e+" HTTP status: "+r),a.xhr=s,n(a)):(S[e]=s.responseText,t(s.responseText)))},s.send(null)},w=0;o.inject=function(e){31>w&&(x=document.createElement("style"),x.type="text/css",s.appendChild(x),w++),x.styleSheet?x.styleSheet.cssText+=e:x.appendChild(document.createTextNode(e))};var k=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,I=window.location.pathname.split("/");I.pop(),I=I.join("/")+"/";var M=function(t,n,s){t.match(i)||(t="/"+e.convertURIBase(t,I,"/")),b(t,function(r){r=e(r,t,I);for(var a,o=[],i=[],l=[];a=k.exec(r);){var c=a[4]||a[5]||a[7]||a[8]||a[9];o.push(c),i.push(k.lastIndex-a[0].length),l.push(a[0].length)}for(var u=0,d=0;d<o.length;d++)(function(e){M(o[e],function(t){r=r.substr(0,i[e])+t+r.substr(i[e]+l[e]);for(var s=t.length-l[e],a=e+1;a<o.length;a++)i[a]+=s;u++,u==o.length&&n(r)},s)})(d);0==o.length&&n(r)},s)};o.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)};var T,A=!1;return o.load=function(e,t,s,r,i){T=T||r.waitSeconds||7;var l=e+(i?".less":".css");if(!o.attachBuffer(l,s)){var c=t.toUrl(l);!A&&n&&(alert(a?"hacking links":"not hacking"),A=!0),i?M(c,function(e){i&&(e=i(e,function(e){o.inject(e),setTimeout(s,7)}))}):o.linkLoad(c,s)}},n&&(o.inspect=function(){return stylesheet.styleSheet?stylesheet.styleSheet.cssText:stylesheet.innerHTML?stylesheet.innerHTML:void 0}),o}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("amber_lib/codemirror/theme/ambiance.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("amber_lib/codemirror/lib/codemirror.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("amber_lib/codemirror/addon/hint/show-hint.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("amber_inc/CodeMirror/amber.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.addBuffer("amber_css/amber.css")}),requirejs.s.contexts._.nextTick=requirejs.nextTick,define("amber_vm/nil",["./boot"],function(e){return e.nil}),define("amber_vm/_st",["./smalltalk","./nil"],function(e,t){return function(n){return null==n?t:n.klass?n:e.JSObjectProxy._on_(n)}}),define("amber_core/Kernel-Objects",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st"],function(e,t,n){e.addPackage("Kernel-Objects"),e.packages["Kernel-Objects"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Object",e.nil,[],"Kernel-Objects"),e.Object.comment="**I am the root of the Smalltalk class system**. All classes in the system are subclasses of me.\n\nI provide default behavior common to all normal objects, such as:\n\n- accessing\n- copying\n- comparison\n- error handling\n- message sending\n- reflection\n\nAlso utility messages that all objects should respond to are defined here.\n\nI have no instance variable.\n\n##Access\n\nInstance variables can be accessed with `#instVarAt:` and `#instVarAt:put:`. `#instanceVariableNames` answers a collection of all instance variable names.\nAccessing JavaScript properties of an object is done through `#basicAt:`, `#basicAt:put:` and `basicDelete:`.\n\n##Copying\n\nCopying an object is handled by `#copy` and `#deepCopy`. The first one performs a shallow copy of the receiver, while the second one performs a deep copy.\nThe hook method `#postCopy` can be overriden in subclasses to copy fields as necessary to complete the full copy. It will be sent by the copy of the receiver.\n\n##Comparison\n\nI understand equality `#=` and identity `#==` comparison.\n\n##Error handling\n\n- `#halt` is the typical message to use for inserting breakpoints during debugging.\n- `#error:` throws a generic error exception\n- `#doesNotUnderstand:` handles the fact that there was an attempt to send the given message to the receiver but the receiver does not understand this message.\n	Overriding this message can be useful to implement proxies for example.",e.addMethod(e.method({selector:"->",category:"converting",fn:function(s){function r(){return e.Association||("undefined"==typeof Association?t:Association)}var a=this;return e.withContext(function(){var e;return e=n(r())._key_value_(a,s)},function(t){t.fill(a,"->",{anObject:s},e.Object)})},args:["anObject"],source:"-> anObject\n	^ Association key: self value: anObject",messageSends:["key:value:"],referencedClasses:["Association"]}),e.Object),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq_eq(t)},function(s){s.fill(n,"=",{anObject:t},e.Object)})},args:["anObject"],source:"= anObject\n	^ self == anObject",messageSends:["=="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=s._identityHash(),e.sendIdx.identityHash=1,a=n(r).__eq(n(t)._identityHash())},function(n){n.fill(s,"==",{anObject:t},e.Object)})},args:["anObject"],source:"== anObject\n	^ self identityHash = anObject identityHash",messageSends:["=","identityHash"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){function s(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var r,a=this;return e.withContext(function(t){var o;return r=n(s())._new(),n(n(a._class())._allInstanceVariableNames())._do_(function(s){return e.withContext(function(){return n(r)._at_put_(s,n(a._instVarAt_(s))._asJSON())},function(e){e.fillBlock({each:s},t,1)})}),o=r},function(t){t.fill(a,"asJSON",{variables:r},e.Object)})},args:[],source:"asJSON\n	| variables |\n	variables := HashedCollection new.\n	self class allInstanceVariableNames do: [ :each |\n		variables at: each put: (self instVarAt: each) asJSON ].\n	^ variables",messageSends:["new","do:","allInstanceVariableNames","class","at:put:","asJSON","instVarAt:"],referencedClasses:["HashedCollection"]}),e.Object),e.addMethod(e.method({selector:"asJSONString",category:"converting",fn:function(){function s(){return e.JSON||("undefined"==typeof JSON?t:JSON)}var r=this;return e.withContext(function(){var e;return e=n(s())._stringify_(r._asJSON())},function(t){t.fill(r,"asJSONString",{},e.Object)})},args:[],source:"asJSONString\n	^ JSON stringify: self asJSON",messageSends:["stringify:","asJSON"],referencedClasses:["JSON"]}),e.Object),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asString()},function(n){n.fill(t,"asJavascript",{},e.Object)})},args:[],source:"asJavascript\n	^ self asString",messageSends:["asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._printString()},function(n){n.fill(t,"asString",{},e.Object)})},args:[],source:"asString\n	^ self printString",messageSends:["printString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n[t]},function(s){s.fill(n,"basicAt:",{aString:t},e.Object)})},args:["aString"],source:"basicAt: aString\n	<return self[aString]>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicAt:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s[t]=n},function(r){r.fill(s,"basicAt:put:",{aString:t,anObject:n},e.Object)})},args:["aString","anObject"],source:"basicAt: aString put: anObject\n	<return self[aString] = anObject>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicDelete:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return delete n[t],t},function(s){s.fill(n,"basicDelete:",{aString:t},e.Object)})},args:["aString"],source:"basicDelete: aString\n	<delete self[aString]; return aString>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicPerform:",category:"message handling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._basicPerform_withArguments_(t,[])},function(s){s.fill(n,"basicPerform:",{aString:t},e.Object)})},args:["aString"],source:"basicPerform: aString\n	^ self basicPerform: aString withArguments: #()",messageSends:["basicPerform:withArguments:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"basicPerform:withArguments:",category:"message handling",fn:function(t,n){var s=this;return e.withContext(function(){return s[t].apply(s,n)},function(r){r.fill(s,"basicPerform:withArguments:",{aString:t,aCollection:n},e.Object)})},args:["aString","aCollection"],source:"basicPerform: aString withArguments: aCollection\n	<return self[aString].apply(self, aCollection);>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"class",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.klass},function(n){n.fill(t,"class",{},e.Object)})},args:[],source:"class\n	<return self.klass>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"copy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._shallowCopy())._postCopy()},function(n){n.fill(t,"copy",{},e.Object)})},args:[],source:"copy\n	^ self shallowCopy postCopy",messageSends:["postCopy","shallowCopy"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e=t.klass._new();for(var n in t)/^@.+/.test(n)&&(e[n]=t[n]._deepCopy());return e},function(n){n.fill(t,"deepCopy",{},e.Object)})},args:[],source:"deepCopy\n	<\n		var copy = self.klass._new();\n		for(var i in self) {\n		if(/^@.+/.test(i)) {\n			copy[i] = self[i]._deepCopy();\n		}\n		}\n		return copy;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"deprecatedAPI",category:"error handling",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d;return r=console,a=e.getThisContext()._home(),s.sendIdx.home=1,o=n(a)._asString(),s.sendIdx.asString=1,i=n(o).__comma(" is deprecated! (in "),l=n(e.getThisContext()._home())._home(),s.sendIdx.home=2,c=n(l)._asString(),u=n(i).__comma(c),s.sendIdx[","]=2,d=n(u).__comma(")"),s.sendIdx[","]=1,n(r)._warn_(d),t
},function(n){n.fill(t,"deprecatedAPI",{},e.Object)})},args:[],source:"deprecatedAPI\n	\"Just a simple way to deprecate methods.\n	#deprecatedAPI is in the 'error handling' protocol even if it doesn't throw an error,\n	but it could in the future.\"\n	console warn: thisContext home asString, ' is deprecated! (in ', thisContext home home asString, ')'",messageSends:["warn:",",","asString","home"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"doesNotUnderstand:",category:"error handling",fn:function(s){function r(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var a=this;return e.withContext(function(){var e,t;return e=n(r())._new(),n(e)._receiver_(a),n(e)._message_(s),t=n(e)._signal(),a},function(t){t.fill(a,"doesNotUnderstand:",{aMessage:s},e.Object)})},args:["aMessage"],source:"doesNotUnderstand: aMessage\n	MessageNotUnderstood new\n		receiver: self;\n		message: aMessage;\n		signal",messageSends:["receiver:","new","message:","signal"],referencedClasses:["MessageNotUnderstood"]}),e.Object),e.addMethod(e.method({selector:"error:",category:"error handling",fn:function(s){function r(){return e.Error||("undefined"==typeof Error?t:Error)}var a=this;return e.withContext(function(){return n(r())._signal_(s),a},function(t){t.fill(a,"error:",{aString:s},e.Object)})},args:["aString"],source:"error: aString\n	Error signal: aString",messageSends:["signal:"],referencedClasses:["Error"]}),e.Object),e.addMethod(e.method({selector:"halt",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Halt encountered"),t},function(n){n.fill(t,"halt",{},e.Object)})},args:[],source:"halt\n	self error: 'Halt encountered'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var n=t.identityHash;return n?n:(n=e.nextId(),Object.defineProperty(t,"identityHash",{value:n}),n)},function(n){n.fill(t,"identityHash",{},e.Object)})},args:[],source:"identityHash\n	<\n	var hash=self.identityHash;\n	if (hash) return hash;\n	hash=smalltalk.nextId();\n	Object.defineProperty(self, 'identityHash', {value:hash});\n	return hash;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"ifNil:",{aBlock:t},e.Object)})},args:["aBlock"],source:'ifNil: aBlock\n	"inlined in the Compiler"\n	^ self',messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNil:ifNotNil:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(s)._value_(r)},function(n){n.fill(r,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:s},e.Object)})},args:["aBlock","anotherBlock"],source:'ifNil: aBlock ifNotNil: anotherBlock\n	"inlined in the Compiler"\n	^ anotherBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNotNil:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._value_(s)},function(n){n.fill(s,"ifNotNil:",{aBlock:t},e.Object)})},args:["aBlock"],source:'ifNotNil: aBlock\n	"inlined in the Compiler"\n	^ aBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ifNotNil:ifNil:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(t)._value_(r)},function(n){n.fill(r,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:s},e.Object)})},args:["aBlock","anotherBlock"],source:'ifNotNil: aBlock ifNil: anotherBlock\n	"inlined in the Compiler"\n	^ aBlock value: self',messageSends:["value:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"initialize",{},e.Object)})},args:[],source:"initialize",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"inspect",category:"inspecting",fn:function(){function s(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var r=this;return e.withContext(function(){return n(s())._inspect_(r),r},function(t){t.fill(r,"inspect",{},e.Object)})},args:[],source:"inspect\n	InspectorHandler inspect: self",messageSends:["inspect:"],referencedClasses:["InspectorHandler"]}),e.Object),e.addMethod(e.method({selector:"inspectOn:",category:"inspecting",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(a)._at_put_("#self",o),t.sendIdx["at:put:"]=1,n(n(o._class())._allInstanceVariableNames())._do_(function(s){return e.withContext(function(){return n(a)._at_put_(s,o._instVarAt_(s))},function(e){e.fillBlock({each:s},t,1)})}),n(s)._setLabel_(o._printString()),i=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.Object)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	self class allInstanceVariableNames do: [ :each |\n		variables at: each put: (self instVarAt: each) ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","do:","allInstanceVariableNames","class","instVarAt:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.Object),e.addMethod(e.method({selector:"instVarAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@"+t]},function(s){s.fill(n,"instVarAt:",{aString:t},e.Object)})},args:["aString"],source:"instVarAt: aString\n	< return self['@'+aString] >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"instVarAt:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s["@"+t]=n,s},function(r){r.fill(s,"instVarAt:put:",{aString:t,anObject:n},e.Object)})},args:["aString","anObject"],source:"instVarAt: aString put: anObject\n	< self['@' + aString] = anObject >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isBehavior",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBehavior",{},e.Object)})},args:[],source:"isBehavior\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isBoolean",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBoolean",{},e.Object)})},args:[],source:"isBoolean\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isClass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isClass",{},e.Object)})},args:[],source:"isClass\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isCompiledMethod",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isCompiledMethod",{},e.Object)})},args:[],source:"isCompiledMethod\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isImmutable",{},e.Object)})},args:[],source:"isImmutable\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isKindOf:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._isMemberOf_(t),a=e.assert(r)?!0:n(s._class())._inheritsFrom_(t)},function(n){n.fill(s,"isKindOf:",{aClass:t},e.Object)})},args:["aClass"],source:"isKindOf: aClass\n	^ (self isMemberOf: aClass)\n		ifTrue: [ true ]\n		ifFalse: [ self class inheritsFrom: aClass ]",messageSends:["ifTrue:ifFalse:","isMemberOf:","inheritsFrom:","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isMemberOf:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._class()).__eq(t)},function(n){n.fill(s,"isMemberOf:",{aClass:t},e.Object)})},args:["aClass"],source:"isMemberOf: aClass\n	^ self class = aClass",messageSends:["=","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isMetaclass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isMetaclass",{},e.Object)})},args:[],source:"isMetaclass\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isNil",{},e.Object)})},args:[],source:"isNil\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isNumber",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isNumber",{},e.Object)})},args:[],source:"isNumber\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isPackage",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isPackage",{},e.Object)})},args:[],source:"isPackage\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isParseFailure",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isParseFailure",{},e.Object)})},args:[],source:"isParseFailure\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isString",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isString",{},e.Object)})},args:[],source:"isString\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"isSymbol",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSymbol",{},e.Object)})},args:[],source:"isSymbol\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"notNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._isNil())._not()},function(n){n.fill(t,"notNil",{},e.Object)})},args:[],source:"notNil\n	^ self isNil not",messageSends:["not","isNil"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"perform:",category:"message handling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._perform_withArguments_(t,[])},function(s){s.fill(n,"perform:",{aString:t},e.Object)})},args:["aString"],source:"perform: aString\n	^ self perform: aString withArguments: #()",messageSends:["perform:withArguments:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"perform:withArguments:",category:"message handling",fn:function(t,n){var s=this;return e.withContext(function(){return e.send(s,t._asSelector(),n)},function(r){r.fill(s,"perform:withArguments:",{aString:t,aCollection:n},e.Object)})},args:["aString","aCollection"],source:"perform: aString withArguments: aCollection\n	<return smalltalk.send(self, aString._asSelector(), aCollection)>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"postCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"postCopy",{},e.Object)})},args:[],source:"postCopy",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c;return a=s._class(),r.sendIdx["class"]=1,o=n(a)._name(),r.sendIdx.name=1,i=n(o)._first(),l=n(i)._isVowel(),c=e.assert(l)?"an ":"a ",n(t)._nextPutAll_(c),r.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(n(s._class())._name()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Object)})},args:["aStream"],source:"printOn: aStream\n	\"Append to the aStream, a string representing the receiver.\"\n	\n	aStream nextPutAll: (self class name first isVowel\n		ifTrue: [ 'an ' ]\n		ifFalse: [ 'a ' ]).\n	aStream nextPutAll: self class name",messageSends:["nextPutAll:","ifTrue:ifFalse:","isVowel","first","name","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"printString",category:"printing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a;return a=n(s())._streamContents_(function(n){return e.withContext(function(){return r._printOn_(n)},function(e){e.fillBlock({stream:n},t,1)})})},function(t){t.fill(r,"printString",{},e.Object)})},args:[],source:'printString\n	"Answer a String representation of the receiver."\n\n	^ String streamContents: [ :stream | self printOn: stream ]',messageSends:["streamContents:","printOn:"],referencedClasses:["String"]}),e.Object),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPut_(s),s},function(n){n.fill(s,"putOn:",{aStream:t},e.Object)})},args:["aStream"],source:"putOn: aStream\n	aStream nextPut: self",messageSends:["nextPut:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"respondsTo:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._class())._canUnderstand_(t)},function(n){n.fill(s,"respondsTo:",{aSelector:t},e.Object)})},args:["aSelector"],source:"respondsTo: aSelector\n	^ self class canUnderstand: aSelector",messageSends:["canUnderstand:","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e=t.klass._new();for(var n in t)/^@.+/.test(n)&&(e[n]=t[n]);return e},function(n){n.fill(t,"shallowCopy",{},e.Object)})},args:[],source:"shallowCopy\n	<\n		var copy = self.klass._new();\n		for(var i in self) {\n		if(/^@.+/.test(i)) {\n			copy[i] = self[i];\n		}\n		}\n		return copy;\n	>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"shouldNotImplement",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("This method should not be implemented in ".__comma(n(t._class())._name())),t},function(n){n.fill(t,"shouldNotImplement",{},e.Object)})},args:[],source:"shouldNotImplement\n	self error: 'This method should not be implemented in ', self class name",messageSends:["error:",",","name","class"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object not indexable"),t},function(n){n.fill(t,"size",{},e.Object)})},args:[],source:"size\n	self error: 'Object not indexable'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"subclassResponsibility",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("This method is a responsibility of a subclass"),t},function(n){n.fill(t,"subclassResponsibility",{},e.Object)})},args:[],source:"subclassResponsibility\n	self error: 'This method is a responsibility of a subclass'",messageSends:["error:"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"test",category:"converting",fn:function(){var t,n=this;return e.withContext(function(){return t=1,n._halt(),n},function(s){s.fill(n,"test",{a:t},e.Object)})},args:[],source:"test\n	| a |\n	a := 1.\n	self halt",messageSends:["halt"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"throw:",category:"error handling",fn:function(t){var n=this;return e.withContext(function(){throw t},function(s){s.fill(n,"throw:",{anObject:t},e.Object)})},args:["anObject"],source:"throw: anObject\n	< throw anObject >",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"try:catch:",category:"error handling",fn:function(t,n){var s=this;return e.withContext(function(){try{return t._value()}catch(e){return n._value_(e)}return s},function(r){r.fill(s,"try:catch:",{aBlock:t,anotherBlock:n},e.Object)})},args:["aBlock","anotherBlock"],source:"try: aBlock catch: anotherBlock\n	<try{return aBlock._value()} catch(e) {return anotherBlock._value_(e)}>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.valueOf()},function(n){n.fill(t,"value",{},e.Object)})},args:[],source:"value\n	<return self.valueOf()>",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"yourself",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"yourself",{},e.Object)})},args:[],source:"yourself\n	^ self",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"~=",category:"comparing",fn:function(t){var s=this;return e.withContext(function(e){var r;return r=n(s.__eq(t)).__eq(!1),e.sendIdx["="]=1,r},function(n){n.fill(s,"~=",{anObject:t},e.Object)})},args:["anObject"],source:"~= anObject\n	^ (self = anObject) = false",messageSends:["="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"~~",category:"comparing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s.__eq_eq(t)).__eq(!1)},function(n){n.fill(s,"~~",{anObject:t},e.Object)})},args:["anObject"],source:"~~ anObject\n	^ (self == anObject) = false",messageSends:["=","=="],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"class"},function(n){n.fill(t,"heliosClass",{},e.Object.klass)})},args:[],source:"heliosClass\n	\"Should be an Helios extension. Unfortunately, since helios can browse remote\n	environments, we can't extend base classes\"\n	\n	^ 'class'",messageSends:[],referencedClasses:[]}),e.Object.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"initialize",{},e.Object.klass)})},args:[],source:'initialize\n	"no op"',messageSends:[],referencedClasses:[]}),e.Object.klass),e.addClass("Boolean",e.Object,[],"Kernel-Objects"),e.Boolean.comment="I define the protocol for logic testing operations and conditional control structures for the logical values (see the `controlling` protocol).\n\nI have two instances, `true` and `false`.\n\nI am directly mapped to JavaScript Boolean. The `true` and `false` objects are the JavaScript boolean objects.\n\n## Usage Example:\n\n    aBoolean not ifTrue: [ ... ] ifFalse: [ ... ]",e.addMethod(e.method({selector:"&",category:"controlling",fn:function(t){var n=this;return e.withContext(function(){return 1==n?t:!1},function(s){s.fill(n,"&",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"& aBoolean\n	<\n		if(self == true) {\n		return aBoolean;\n		} else {\n		return false;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t._isBoolean&&t._isBoolean()?Boolean(1==n)==t:!1},function(s){s.fill(n,"=",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"= aBoolean\n	<\n		if(! aBoolean._isBoolean || ! aBoolean._isBoolean()) {\n			return false;\n		}\n		return Boolean(self == true) == aBoolean\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq(t)},function(s){s.fill(n,"==",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"== aBoolean\n	^ self = aBoolean",messageSends:["="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"and:",category:"controlling",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=s.__eq(!0),o=n(a)._ifTrue_ifFalse_(t,function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"and:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:"and: aBlock\n	^ self = true\n		ifTrue: aBlock\n		ifFalse: [ false ]",messageSends:["ifTrue:ifFalse:","="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asBit",category:"converting",fn:function(){var t=this;return e.withContext(function(){var n;return n=e.assert(t)?1:0},function(n){n.fill(t,"asBit",{},e.Boolean)})},args:[],source:"asBit\n	^ self ifTrue: [ 1 ] ifFalse: [ 0 ]",messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.Boolean)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toString()},function(n){n.fill(t,"asString",{},e.Boolean)})},args:[],source:"asString\n	< return self.toString() >",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"deepCopy",{},e.Boolean)})},args:[],source:"deepCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifFalse:",category:"controlling",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._ifTrue_ifFalse_(function(){return e.withContext(function(){},function(e){e.fillBlock({},s,1)})},t)},function(s){s.fill(n,"ifFalse:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:'ifFalse: aBlock\n	"inlined in the Compiler"\n	^ self ifTrue: [] ifFalse: aBlock',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifFalse:ifTrue:",category:"controlling",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._ifTrue_ifFalse_(n,t)},function(r){r.fill(s,"ifFalse:ifTrue:",{aBlock:t,anotherBlock:n},e.Boolean)})},args:["aBlock","anotherBlock"],source:'ifFalse: aBlock ifTrue: anotherBlock\n	"inlined in the Compiler"\n	^ self ifTrue: anotherBlock ifFalse: aBlock',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifTrue:",category:"controlling",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._ifTrue_ifFalse_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"ifTrue:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:'ifTrue: aBlock\n	"inlined in the Compiler"\n	^ self ifTrue: aBlock ifFalse: []',messageSends:["ifTrue:ifFalse:"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"ifTrue:ifFalse:",category:"controlling",fn:function(t,n){var s=this;return e.withContext(function(){return 1==s?t._value():n._value()},function(r){r.fill(s,"ifTrue:ifFalse:",{aBlock:t,anotherBlock:n},e.Boolean)})},args:["aBlock","anotherBlock"],source:'ifTrue: aBlock ifFalse: anotherBlock\n	"inlined in the Compiler"\n	<\n		if(self == true) {\n		return aBlock._value();\n		} else {\n		return anotherBlock._value();\n		}\n	>',messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"isBoolean",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBoolean",{},e.Boolean)})},args:[],source:"isBoolean\n	^ true",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.Boolean)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"not",category:"controlling",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__eq(!1)},function(n){n.fill(t,"not",{},e.Boolean)})},args:[],source:"not\n	^ self = false",messageSends:["="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"or:",category:"controlling",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=s.__eq(!0),o=n(a)._ifTrue_ifFalse_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},r,1)})},t)},function(n){n.fill(s,"or:",{aBlock:t},e.Boolean)})},args:["aBlock"],source:"or: aBlock\n	^ self = true\n		ifTrue: [ true ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","="],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_(s._asString()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Boolean)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"shallowCopy",{},e.Boolean)})},args:[],source:"shallowCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.Boolean),e.addMethod(e.method({selector:"|",category:"controlling",fn:function(t){var n=this;return e.withContext(function(){return 1==n?!0:t},function(s){s.fill(n,"|",{aBoolean:t},e.Boolean)})},args:["aBoolean"],source:"| aBoolean\n	<\n		if(self == true) {\n		return true;\n		} else {\n		return aBoolean;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Boolean),e.addClass("Date",e.Object,[],"Kernel-Objects"),e.Date.comment="I am used to work with both dates and times. Therefore `Date today` and `Date now` are both valid in\nAmber and answer the same date object.\n\nDate directly maps to the `Date()` JavaScript constructor, and Amber date objects are JavaScript date objects.\n\n## API\n\nThe class-side `instance creation` protocol contains some convenience methods for creating date/time objects such as `#fromSeconds:`.\n\nArithmetic and comparison is supported (see the `comparing` and `arithmetic` protocols).\n\nThe `converting` protocol provides convenience methods for various convertions (to numbers, strings, etc.).",e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(s){s.fill(n,"+",{aDate:t},e.Date)})},args:["aDate"],source:"+ aDate\n	<return self + aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n-t},function(s){s.fill(n,"-",{aDate:t},e.Date)})},args:["aDate"],source:"- aDate\n	<return self - aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>n},function(s){s.fill(n,"<",{aDate:t},e.Date)})},args:["aDate"],source:"< aDate\n	<return self < aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>=n},function(s){s.fill(n,"<=",{aDate:t},e.Date)})},args:["aDate"],source:"<= aDate\n	<return self <= aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>t},function(s){s.fill(n,">",{aDate:t},e.Date)})},args:["aDate"],source:"> aDate\n	<return self >> aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>=t},function(s){s.fill(n,">=",{aDate:t},e.Date)})},args:["aDate"],source:">= aDate\n	<return self >>= aDate>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asDateString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toDateString()},function(n){n.fill(t,"asDateString",{},e.Date)})},args:[],source:"asDateString\n	<return self.toDateString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asLocaleString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toLocaleString()},function(n){n.fill(t,"asLocaleString",{},e.Date)})},args:[],source:"asLocaleString\n	<return self.toLocaleString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asMilliseconds",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._time()},function(n){n.fill(t,"asMilliseconds",{},e.Date)})},args:[],source:"asMilliseconds\n	^ self time",messageSends:["time"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asMilliseconds()},function(n){n.fill(t,"asNumber",{},e.Date)})},args:[],source:"asNumber\n	^ self asMilliseconds",messageSends:["asMilliseconds"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toString()},function(n){n.fill(t,"asString",{},e.Date)})},args:[],source:"asString\n	<return self.toString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"asTimeString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toTimeString()},function(n){n.fill(t,"asTimeString",{},e.Date)})},args:[],source:"asTimeString\n	<return self.toTimeString()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"day",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._dayOfWeek()},function(n){n.fill(t,"day",{},e.Date)})},args:[],source:"day\n	^ self dayOfWeek",messageSends:["dayOfWeek"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"day:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._dayOfWeek_(t),n},function(s){s.fill(n,"day:",{aNumber:t},e.Date)})},args:["aNumber"],source:"day: aNumber\n	self dayOfWeek: aNumber",messageSends:["dayOfWeek:"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfMonth",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getDate()},function(n){n.fill(t,"dayOfMonth",{},e.Date)})},args:[],source:"dayOfMonth\n	<return self.getDate()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfMonth:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setDate(t),n},function(s){s.fill(n,"dayOfMonth:",{aNumber:t},e.Date)})},args:["aNumber"],source:"dayOfMonth: aNumber\n	<self.setDate(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfWeek",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getDay()+1},function(n){n.fill(t,"dayOfWeek",{},e.Date)})},args:[],source:"dayOfWeek\n	<return self.getDay() + 1>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"dayOfWeek:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setDay(t-1)},function(s){s.fill(n,"dayOfWeek:",{aNumber:t},e.Date)})},args:["aNumber"],source:"dayOfWeek: aNumber\n	<return self.setDay(aNumber - 1)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"hours",category:"accessing",fn:function(){var t=this;
return e.withContext(function(){return t.getHours()},function(n){n.fill(t,"hours",{},e.Date)})},args:[],source:"hours\n	<return self.getHours()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"hours:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setHours(t),n},function(s){s.fill(n,"hours:",{aNumber:t},e.Date)})},args:["aNumber"],source:"hours: aNumber\n	<self.setHours(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"milliseconds",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMilliseconds()},function(n){n.fill(t,"milliseconds",{},e.Date)})},args:[],source:"milliseconds\n	<return self.getMilliseconds()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"milliseconds:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMilliseconds(t),n},function(s){s.fill(n,"milliseconds:",{aNumber:t},e.Date)})},args:["aNumber"],source:"milliseconds: aNumber\n	<self.setMilliseconds(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"minutes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMinutes()},function(n){n.fill(t,"minutes",{},e.Date)})},args:[],source:"minutes\n	<return self.getMinutes()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"minutes:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMinutes(t),n},function(s){s.fill(n,"minutes:",{aNumber:t},e.Date)})},args:["aNumber"],source:"minutes: aNumber\n	<self.setMinutes(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"month",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getMonth()+1},function(n){n.fill(t,"month",{},e.Date)})},args:[],source:"month\n	<return self.getMonth() + 1>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"month:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setMonth(t-1),n},function(s){s.fill(n,"month:",{aNumber:t},e.Date)})},args:["aNumber"],source:"month: aNumber\n	<self.setMonth(aNumber - 1)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_(s._asString()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Date)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"seconds",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getSeconds()},function(n){n.fill(t,"seconds",{},e.Date)})},args:[],source:"seconds\n	<return self.getSeconds()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"seconds:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setSeconds(t),n},function(s){s.fill(n,"seconds:",{aNumber:t},e.Date)})},args:["aNumber"],source:"seconds: aNumber\n	<self.setSeconds(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"time",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getTime()},function(n){n.fill(t,"time",{},e.Date)})},args:[],source:"time\n	<return self.getTime()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"time:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setTime(t),n},function(s){s.fill(n,"time:",{aNumber:t},e.Date)})},args:["aNumber"],source:"time: aNumber\n	<self.setTime(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"year",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.getFullYear()},function(n){n.fill(t,"year",{},e.Date)})},args:[],source:"year\n	<return self.getFullYear()>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"year:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.setFullYear(t),n},function(s){s.fill(n,"year:",{aNumber:t},e.Date)})},args:["aNumber"],source:"year: aNumber\n	<self.setFullYear(aNumber)>",messageSends:[],referencedClasses:[]}),e.Date),e.addMethod(e.method({selector:"fromMilliseconds:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new_(t)},function(s){s.fill(n,"fromMilliseconds:",{aNumber:t},e.Date.klass)})},args:["aNumber"],source:"fromMilliseconds: aNumber\n	^ self new: aNumber",messageSends:["new:"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"fromSeconds:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e;return e=s._fromMilliseconds_(n(t).__star(1e3))},function(n){n.fill(s,"fromSeconds:",{aNumber:t},e.Date.klass)})},args:["aNumber"],source:"fromSeconds: aNumber\n	^ self fromMilliseconds: aNumber * 1000",messageSends:["fromMilliseconds:","*"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new_(t)},function(s){s.fill(n,"fromString:",{aString:t},e.Date.klass)})},args:["aString"],source:"fromString: aString\n	\"Example: Date fromString('2011/04/15 00:00:00')\"\n	^ self new: aString",messageSends:["new:"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Date.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"millisecondsToRun:",category:"instance creation",fn:function(s){function r(){return e.Date||("undefined"==typeof Date?t:Date)}var a,o=this;return e.withContext(function(e){var t;return a=n(r())._now(),e.sendIdx.now=1,n(s)._value(),t=n(n(r())._now()).__minus(a)},function(t){t.fill(o,"millisecondsToRun:",{aBlock:s,t:a},e.Date.klass)})},args:["aBlock"],source:"millisecondsToRun: aBlock\n	| t |\n	t := Date now.\n	aBlock value.\n	^ Date now - t",messageSends:["now","value","-"],referencedClasses:["Date"]}),e.Date.klass),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return new Date(t)},function(s){s.fill(n,"new:",{anObject:t},e.Date.klass)})},args:["anObject"],source:"new: anObject\n	<return new Date(anObject)>",messageSends:[],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"now",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._today()},function(n){n.fill(t,"now",{},e.Date.klass)})},args:[],source:"now\n	^ self today",messageSends:["today"],referencedClasses:[]}),e.Date.klass),e.addMethod(e.method({selector:"today",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._new()},function(n){n.fill(t,"today",{},e.Date.klass)})},args:[],source:"today\n	^ self new",messageSends:["new"],referencedClasses:[]}),e.Date.klass),e.addClass("Number",e.Object,[],"Kernel-Objects"),e.Number.comment="I am the Amber representation for all numbers.\nI am directly mapped to JavaScript Number.\n\n## API\n\nI provide all necessary methods for arithmetic operations, comparison, conversion and so on with numbers.\n\nMy instances can also be used to evaluate a block a fixed number of times:\n\n	5 timesRepeat: [ Transcript show: 'This will be printed 5 times'; cr ].\n	\n	1 to: 5 do: [ :aNumber| Transcript show: aNumber asString; cr ].\n	\n	1 to: 10 by: 2 do: [ :aNumber| Transcript show: aNumber asString; cr ].",e.addMethod(e.method({selector:"&",category:"converting",fn:function(t){var n=this;return e.withContext(function(){return n&t},function(s){s.fill(n,"&",{aNumber:t},e.Number)})},args:["aNumber"],source:"& aNumber\n	<return self & aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"*",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n*t},function(s){s.fill(n,"*",{aNumber:t},e.Number)})},args:["aNumber"],source:'* aNumber\n	"Inlined in the Compiler"\n	<return self * aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"**",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._raisedTo_(t)},function(s){s.fill(n,"**",{exponent:t},e.Number)})},args:["exponent"],source:"** exponent\n	^ self raisedTo: exponent",messageSends:["raisedTo:"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(s){s.fill(n,"+",{aNumber:t},e.Number)})},args:["aNumber"],source:'+ aNumber\n	"Inlined in the Compiler"\n	<return self + aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n-t},function(s){s.fill(n,"-",{aNumber:t},e.Number)})},args:["aNumber"],source:'- aNumber\n	"Inlined in the Compiler"\n	<return self - aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"/",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n/t},function(s){s.fill(n,"/",{aNumber:t},e.Number)})},args:["aNumber"],source:'/ aNumber\n	"Inlined in the Compiler"\n	<return self / aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"//",category:"arithmetic",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s.__slash(t))._floor()},function(n){n.fill(s,"//",{aNumber:t},e.Number)})},args:["aNumber"],source:"// aNumber\n	^ (self / aNumber) floor",messageSends:["floor","/"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>n},function(s){s.fill(n,"<",{aNumber:t},e.Number)})},args:["aNumber"],source:'< aNumber\n	"Inlined in the Compiler"\n	<return self < aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t>=n},function(s){s.fill(n,"<=",{aNumber:t},e.Number)})},args:["aNumber"],source:'<= aNumber\n	"Inlined in the Compiler"\n	<return self <= aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return t._isNumber&&t._isNumber()?Number(n)==t:!1},function(s){s.fill(n,"=",{aNumber:t},e.Number)})},args:["aNumber"],source:"= aNumber\n	<\n		if(! aNumber._isNumber || ! aNumber._isNumber()) {\n			return false;\n		}\n		return Number(self) == aNumber\n	>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>t},function(s){s.fill(n,">",{aNumber:t},e.Number)})},args:["aNumber"],source:'> aNumber\n	"Inlined in the Compiler"\n	<return self >> aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return n>=t},function(s){s.fill(n,">=",{aNumber:t},e.Number)})},args:["aNumber"],source:'>= aNumber\n	"Inlined in the Compiler"\n	<return self >>= aNumber>',messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"@",category:"converting",fn:function(s){function r(){return e.Point||("undefined"==typeof Point?t:Point)}var a=this;return e.withContext(function(){var e;return e=n(r())._x_y_(a,s)},function(t){t.fill(a,"@",{aNumber:s},e.Number)})},args:["aNumber"],source:"@ aNumber\n	^ Point x: self y: aNumber",messageSends:["x:y:"],referencedClasses:["Point"]}),e.Number),e.addMethod(e.method({selector:"\\\\",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return n%t},function(s){s.fill(n,"\\\\",{aNumber:t},e.Number)})},args:["aNumber"],source:"\\\\ aNumber\n	<return self % aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"abs",category:"arithmetic",fn:function(){var t=this;return e.withContext(function(){return Math.abs(t)},function(n){n.fill(t,"abs",{},e.Number)})},args:[],source:"abs\n	<return Math.abs(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcCos",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.acos(t)},function(n){n.fill(t,"arcCos",{},e.Number)})},args:[],source:"arcCos\n	<return Math.acos(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcSin",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.asin(t)},function(n){n.fill(t,"arcSin",{},e.Number)})},args:[],source:"arcSin\n	<return Math.asin(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"arcTan",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.atan(t)},function(n){n.fill(t,"arcTan",{},e.Number)})},args:[],source:"arcTan\n	<return Math.atan(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.Number)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n("(".__comma(t._printString())).__comma(")"),e.sendIdx[","]=1,s},function(n){n.fill(t,"asJavascript",{},e.Number)})},args:[],source:"asJavascript\n	^ '(', self printString, ')'",messageSends:[",","printString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asNumber",{},e.Number)})},args:[],source:"asNumber\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"asPoint",category:"converting",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)}var r=this;return e.withContext(function(){var e;return e=n(s())._x_y_(r,r)},function(t){t.fill(r,"asPoint",{},e.Number)})},args:[],source:"asPoint\n	^ Point x: self y: self",messageSends:["x:y:"],referencedClasses:["Point"]}),e.Number),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return String(t)},function(n){n.fill(t,"asString",{},e.Number)})},args:[],source:"asString\n	< return String(self) >",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"atRandom",category:"converting",fn:function(){function s(){return e.Random||("undefined"==typeof Random?t:Random)}var r=this;return e.withContext(function(){var e;return e=n(n(n(n(n(s())._new())._next()).__star(r))._truncated()).__plus(1)},function(t){t.fill(r,"atRandom",{},e.Number)})},args:[],source:"atRandom\n	^ (Random new next * self) truncated + 1",messageSends:["+","truncated","*","next","new"],referencedClasses:["Random"]}),e.Number),e.addMethod(e.method({selector:"ceiling",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.ceil(t)},function(n){n.fill(t,"ceiling",{},e.Number)})},args:[],source:"ceiling\n	<return Math.ceil(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"copy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"copy",{},e.Number)})},args:[],source:"copy\n	^ self",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"cos",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.cos(t)},function(n){n.fill(t,"cos",{},e.Number)})},args:[],source:"cos\n	<return Math.cos(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copy()},function(n){n.fill(t,"deepCopy",{},e.Number)})},args:[],source:"deepCopy\n	^ self copy",messageSends:["copy"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"even",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=0..__eq(t.__backslash_backslash(2))},function(n){n.fill(t,"even",{},e.Number)})},args:[],source:"even\n	^ 0 = (self \\\\ 2)",messageSends:["=","\\\\"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"floor",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.floor(t)},function(n){n.fill(t,"floor",{},e.Number)})},args:[],source:"floor\n	<return Math.floor(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asString()).__comma("n")},function(n){n.fill(t,"identityHash",{},e.Number)})},args:[],source:"identityHash\n	^ self asString, 'n'",messageSends:[",","asString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.Number)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isNumber",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isNumber",{},e.Number)})},args:[],source:"isNumber\n	^ true",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"isZero",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__eq(0)},function(n){n.fill(t,"isZero",{},e.Number)})},args:[],source:"isZero\n	^ self = 0",messageSends:["="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"ln",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.log(t)},function(n){n.fill(t,"ln",{},e.Number)})},args:[],source:"ln\n	<return Math.log(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"log",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.log(t)/Math.LN10},function(n){n.fill(t,"log",{},e.Number)})},args:[],source:"log\n	<return Math.log(self) / Math.LN10;>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"log:",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){return Math.log(n)/Math.log(t)},function(s){s.fill(n,"log:",{aNumber:t},e.Number)})},args:["aNumber"],source:"log: aNumber\n	<return Math.log(self) / Math.log(aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"max:",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return Math.max(n,t)},function(s){s.fill(n,"max:",{aNumber:t},e.Number)})},args:["aNumber"],source:"max: aNumber\n	<return Math.max(self, aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"min:",category:"arithmetic",fn:function(t){var n=this;return e.withContext(function(){return Math.min(n,t)},function(s){s.fill(n,"min:",{aNumber:t},e.Number)})},args:["aNumber"],source:"min: aNumber\n	<return Math.min(self, aNumber);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"negated",category:"arithmetic",fn:function(){var t=this;return e.withContext(function(){var e;return e=0..__minus(t)},function(n){n.fill(t,"negated",{},e.Number)})},args:[],source:"negated\n	^ 0 - self",messageSends:["-"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"negative",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__lt(0)},function(n){n.fill(t,"negative",{},e.Number)})},args:[],source:'negative\n	"Answer whether the receiver is mathematically negative."\n\n	^ self < 0',messageSends:["<"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"odd",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._even())._not()},function(n){n.fill(t,"odd",{},e.Number)})},args:[],source:"odd\n	^ self even not",messageSends:["not","even"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"positive",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__gt_eq(0)},function(n){n.fill(t,"positive",{},e.Number)})},args:[],source:'positive\n	"Answer whether the receiver is positive or equal to 0. (ST-80 protocol)."\n\n	^ self >= 0',messageSends:[">="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_(s._asString()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Number)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self asString",messageSends:["nextPutAll:","asString"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"printShowingDecimalPlaces:",category:"printing",fn:function(t){var n=this;return e.withContext(function(){return n.toFixed(t)},function(s){s.fill(n,"printShowingDecimalPlaces:",{placesDesired:t},e.Number)})},args:["placesDesired"],source:"printShowingDecimalPlaces: placesDesired\n	<return self.toFixed(placesDesired)>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"raisedTo:",category:"mathematical functions",fn:function(t){var n=this;return e.withContext(function(){return Math.pow(n,t)},function(s){s.fill(n,"raisedTo:",{exponent:t},e.Number)})},args:["exponent"],source:"raisedTo: exponent\n	<return Math.pow(self, exponent);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"rounded",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Math.round(t)},function(n){n.fill(t,"rounded",{},e.Number)})},args:[],source:"rounded\n	<return Math.round(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sign",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){var n,s;return n=t._isZero(),e.assert(n)?0:(s=t._positive(),e.assert(s)?1:-1)},function(n){n.fill(t,"sign",{},e.Number)})},args:[],source:"sign\n	self isZero \n		ifTrue: [ ^ 0 ].\n	self positive\n		ifTrue: [ ^ 1 ]\n		ifFalse: [ ^ -1 ].",messageSends:["ifTrue:","isZero","ifTrue:ifFalse:","positive"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sin",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.sin(t)},function(n){n.fill(t,"sin",{},e.Number)})},args:[],source:"sin\n	<return Math.sin(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"sqrt",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.sqrt(t)},function(n){n.fill(t,"sqrt",{},e.Number)})},args:[],source:"sqrt\n	<return Math.sqrt(self)>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"squared",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__star(t)},function(n){n.fill(t,"squared",{},e.Number)})},args:[],source:"squared\n	^ self * self",messageSends:["*"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"tan",category:"mathematical functions",fn:function(){var t=this;return e.withContext(function(){return Math.tan(t)},function(n){n.fill(t,"tan",{},e.Number)})},args:[],source:"tan\n	<return Math.tan(self);>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"timesRepeat:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){return s=1,n(function(){return e.withContext(function(){return n(s).__gt(r)},function(e){e.fillBlock({},a,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._value(),s=n(s).__plus(1)},function(e){e.fillBlock({},a,2)})}),r},function(n){n.fill(r,"timesRepeat:",{aBlock:t,count:s},e.Number)})},args:["aBlock"],source:"timesRepeat: aBlock\n	| count |\n	count := 1.\n	[ count > self ] whileFalse: [\n		aBlock value.\n		count := count + 1 ]",messageSends:["whileFalse:",">","value","+"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"to:",category:"converting",fn:function(s){function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a,o,i,l,c=this;return e.withContext(function(t){var u;return o=c._truncated(),t.sendIdx.truncated=1,i=n(n(s)._truncated()).__plus(1),t.sendIdx["+"]=1,l=1,a=n(r())._new(),n(n(i).__minus(o))._timesRepeat_(function(){return e.withContext(function(e){return n(a)._at_put_(l,o),l=n(l).__plus(1),e.sendIdx["+"]=2,o=n(o).__plus(1)},function(e){e.fillBlock({},t,1)})}),u=a},function(t){t.fill(c,"to:",{aNumber:s,array:a,first:o,last:i,count:l},e.Number)})},args:["aNumber"],source:"to: aNumber\n	| array first last count |\n	first := self truncated.\n	last := aNumber truncated + 1.\n	count := 1.\n	array := Array new.\n	(last - first) timesRepeat: [\n		array at: count put: first.\n		count := count + 1.\n		first := first + 1 ].\n	^ array",messageSends:["truncated","+","new","timesRepeat:","-","at:put:"],referencedClasses:["Array"]}),e.Number),e.addMethod(e.method({selector:"to:by:",category:"converting",fn:function(s,r){function a(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i,l,c=this;return e.withContext(function(t){var u,d,f;return i=c,o=n(a())._new(),l=1,u=n(r).__eq(0),e.assert(u)&&c._error_("step must be non-zero"),d=n(r).__lt(0),e.assert(d)?(n(function(){return e.withContext(function(){return n(i).__gt_eq(s)},function(e){e.fillBlock({},t,3)})})._whileTrue_(function(){return e.withContext(function(e){return n(o)._at_put_(l,i),e.sendIdx["at:put:"]=1,l=n(l).__plus(1),e.sendIdx["+"]=1,i=n(i).__plus(r),e.sendIdx["+"]=2,i},function(e){e.fillBlock({},t,4)})}),t.sendIdx["whileTrue:"]=1):n(function(){return e.withContext(function(){return n(i).__lt_eq(s)},function(e){e.fillBlock({},t,6)})})._whileTrue_(function(){return e.withContext(function(e){return n(o)._at_put_(l,i),l=n(l).__plus(1),e.sendIdx["+"]=3,i=n(i).__plus(r)},function(e){e.fillBlock({},t,7)})}),f=o},function(t){t.fill(c,"to:by:",{stop:s,step:r,array:o,value:i,pos:l},e.Number)})},args:["stop","step"],source:"to: stop by: step\n	| array value pos |\n	value := self.\n	array := Array new.\n	pos := 1.\n	step = 0 ifTrue: [ self error: 'step must be non-zero' ].\n	step < 0\n		ifTrue: [ [ value >= stop ] whileTrue: [\n					array at: pos put: value.\n					pos := pos + 1.\n					value := value + step ]]\n		ifFalse: [ [ value <= stop ] whileTrue: [\n					array at: pos put: value.\n				pos := pos + 1.\n					value := value + step ]].\n	^ array",messageSends:["new","ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","at:put:","+","<="],referencedClasses:["Array"]}),e.Number),e.addMethod(e.method({selector:"to:by:do:",category:"enumerating",fn:function(t,s,r){var a,o=this;return e.withContext(function(i){var l,c;return a=o,l=n(s).__eq(0),e.assert(l)&&o._error_("step must be non-zero"),c=n(s).__lt(0),e.assert(c)?(n(function(){return e.withContext(function(){return n(a).__gt_eq(t)},function(e){e.fillBlock({},i,3)})})._whileTrue_(function(){return e.withContext(function(e){return n(r)._value_(a),e.sendIdx["value:"]=1,a=n(a).__plus(s),e.sendIdx["+"]=1,a},function(e){e.fillBlock({},i,4)})}),i.sendIdx["whileTrue:"]=1):n(function(){return e.withContext(function(){return n(a).__lt_eq(t)},function(e){e.fillBlock({},i,6)})})._whileTrue_(function(){return e.withContext(function(){return n(r)._value_(a),a=n(a).__plus(s)},function(e){e.fillBlock({},i,7)})}),o},function(n){n.fill(o,"to:by:do:",{stop:t,step:s,aBlock:r,value:a},e.Number)})},args:["stop","step","aBlock"],source:"to: stop by: step do: aBlock\n	| value |\n	value := self.\n	step = 0 ifTrue: [ self error: 'step must be non-zero' ].\n	step < 0\n		ifTrue: [ [ value >= stop ] whileTrue: [\n					aBlock value: value.\n					value := value + step ]]\n		ifFalse: [ [ value <= stop ] whileTrue: [\n					aBlock value: value.\n					value := value + step ]]",messageSends:["ifTrue:","=","error:","ifTrue:ifFalse:","<","whileTrue:",">=","value:","+","<="],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"to:do:",category:"enumerating",fn:function(t,s){var r,a=this;return e.withContext(function(o){return r=a,n(function(){return e.withContext(function(){return n(r).__lt_eq(t)},function(e){e.fillBlock({},o,1)})})._whileTrue_(function(){return e.withContext(function(){return n(s)._value_(r),r=n(r).__plus(1)},function(e){e.fillBlock({},o,2)})}),a},function(n){n.fill(a,"to:do:",{stop:t,aBlock:s,nextValue:r},e.Number)})},args:["stop","aBlock"],source:'to: stop do: aBlock\n	"Evaluate aBlock for each number from self to aNumber."\n	| nextValue |\n	nextValue := self.\n	[ nextValue <= stop ]\n		whileTrue:\n			[ aBlock value: nextValue.\n			nextValue := nextValue + 1 ]',messageSends:["whileTrue:","<=","value:","+"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"truncated",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t>=0?Math.floor(t):-1*Math.floor(-1*t)},function(n){n.fill(t,"truncated",{},e.Number)})},args:[],source:"truncated\n	<\n		if(self >>= 0) {\n			return Math.floor(self);\n		} else {\n			return Math.floor(self * (-1)) * (-1);\n		};\n	>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"|",category:"converting",fn:function(t){var n=this;return e.withContext(function(){return n|t},function(s){s.fill(n,"|",{aNumber:t},e.Number)})},args:["aNumber"],source:"| aNumber\n	<return self | aNumber>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"e",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return Math.E},function(n){n.fill(t,"e",{},e.Number.klass)})},args:[],source:"e\n	<return Math.E;>",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Number.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addMethod(e.method({selector:"pi",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return Math.PI},function(n){n.fill(t,"pi",{},e.Number.klass)})},args:[],source:"pi\n	<return Math.PI>",messageSends:[],referencedClasses:[]}),e.Number.klass),e.addClass("Point",e.Object,["x","y"],"Kernel-Objects"),e.Point.comment='I represent an x-y pair of numbers usually designating a geometric coordinate.\n\n## API\n\nInstances are traditionally created using the binary `#@` message to a number:\n\n	100@120\n\nPoints can then be arithmetically manipulated:\n\n	100@100 + (10@10)\n\n...or for example:\n\n	(100@100) * 2\n\n**NOTE:** Creating a point with a negative y-value will need a space after `@` in order to avoid a parsing error:\n\n	100@ -100 "but 100@-100 would not parse"',e.addMethod(e.method({selector:"*",category:"arithmetic",fn:function(s){function r(){return e.Point||("undefined"==typeof Point?t:Point)
}var a=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=a._x(),e.sendIdx.x=1,o=n(s)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__star(i),e.sendIdx["*"]=1,c=a._y(),e.sendIdx.y=1,u=n(c).__star(n(n(s)._asPoint())._y()),d=n(r())._x_y_(l,u)},function(t){t.fill(a,"*",{aPoint:s},e.Point)})},args:["aPoint"],source:"* aPoint\n	^ Point x: self x * aPoint asPoint x y: self y * aPoint asPoint y",messageSends:["x:y:","*","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"+",category:"arithmetic",fn:function(s){function r(){return e.Point||("undefined"==typeof Point?t:Point)}var a=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=a._x(),e.sendIdx.x=1,o=n(s)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__plus(i),e.sendIdx["+"]=1,c=a._y(),e.sendIdx.y=1,u=n(c).__plus(n(n(s)._asPoint())._y()),d=n(r())._x_y_(l,u)},function(t){t.fill(a,"+",{aPoint:s},e.Point)})},args:["aPoint"],source:"+ aPoint\n	^ Point x: self x + aPoint asPoint x y: self y + aPoint asPoint y",messageSends:["x:y:","+","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"-",category:"arithmetic",fn:function(s){function r(){return e.Point||("undefined"==typeof Point?t:Point)}var a=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=a._x(),e.sendIdx.x=1,o=n(s)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__minus(i),e.sendIdx["-"]=1,c=a._y(),e.sendIdx.y=1,u=n(c).__minus(n(n(s)._asPoint())._y()),d=n(r())._x_y_(l,u)},function(t){t.fill(a,"-",{aPoint:s},e.Point)})},args:["aPoint"],source:"- aPoint\n	^ Point x: self x - aPoint asPoint x y: self y - aPoint asPoint y",messageSends:["x:y:","-","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"/",category:"arithmetic",fn:function(s){function r(){return e.Point||("undefined"==typeof Point?t:Point)}var a=this;return e.withContext(function(e){var t,o,i,l,c,u,d;return t=a._x(),e.sendIdx.x=1,o=n(s)._asPoint(),e.sendIdx.asPoint=1,i=n(o)._x(),l=n(t).__slash(i),e.sendIdx["/"]=1,c=a._y(),e.sendIdx.y=1,u=n(c).__slash(n(n(s)._asPoint())._y()),d=n(r())._x_y_(l,u)},function(t){t.fill(a,"/",{aPoint:s},e.Point)})},args:["aPoint"],source:"/ aPoint\n	^ Point x: self x / aPoint asPoint x y: self y / aPoint asPoint y",messageSends:["x:y:","/","x","asPoint","y"],referencedClasses:["Point"]}),e.Point),e.addMethod(e.method({selector:"=",category:"arithmetic",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d;return a=n(t)._class(),r.sendIdx["class"]=1,o=n(a).__eq(s._class()),r.sendIdx["="]=1,d=n(o)._and_(function(){return e.withContext(function(e){return i=n(t)._x(),e.sendIdx.x=1,l=n(i).__eq(s._x()),e.sendIdx["="]=2,c=n(t)._y(),e.sendIdx.y=1,u=n(c).__eq(s._y()),n(l).__and(u)},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"=",{aPoint:t},e.Point)})},args:["aPoint"],source:"= aPoint\n	^ aPoint class = self class and: [\n		(aPoint x = self x) & (aPoint y = self y) ]",messageSends:["and:","=","class","&","x","y"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"asPoint",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asPoint",{},e.Point)})},args:[],source:"asPoint\n	^ self",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){var a;return n(s["@x"])._printOn_(t),r.sendIdx["printOn:"]=1,n(t)._nextPutAll_("@"),a=n(n(s["@y"])._notNil())._and_(function(){return e.withContext(function(){return n(s["@y"])._negative()},function(e){e.fillBlock({},r,1)})}),e.assert(a)&&n(t)._space(),n(s["@y"])._printOn_(t),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Point)})},args:["aStream"],source:'printOn: aStream\n	"Print receiver in classic x@y notation."\n\n	x printOn: aStream.\n	\n	aStream nextPutAll: \'@\'.\n	(y notNil and: [ y negative ]) ifTrue: [\n			"Avoid ambiguous @- construct"\n			aStream space ].\n	\n	y printOn: aStream',messageSends:["printOn:","nextPutAll:","ifTrue:","and:","notNil","negative","space"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"translateBy:",category:"transforming",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=n(n(t)._x()).__plus(s["@x"]),e.sendIdx["+"]=1,a=n(r).__at(n(n(t)._y()).__plus(s["@y"]))},function(n){n.fill(s,"translateBy:",{delta:t},e.Point)})},args:["delta"],source:'translateBy: delta\n	"Answer a Point translated by delta (an instance of Point)."\n	^ (delta x + x) @ (delta y + y)',messageSends:["@","+","x","y"],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"x",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@x"]},function(n){n.fill(t,"x",{},e.Point)})},args:[],source:"x\n	^ x",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"x:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@x"]=t,n},function(s){s.fill(n,"x:",{aNumber:t},e.Point)})},args:["aNumber"],source:"x: aNumber\n	x := aNumber",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"y",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@y"]},function(n){n.fill(t,"y",{},e.Point)})},args:[],source:"y\n	^ y",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"y:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@y"]=t,n},function(s){s.fill(n,"y:",{aNumber:t},e.Point)})},args:["aNumber"],source:"y: aNumber\n	y := aNumber",messageSends:[],referencedClasses:[]}),e.Point),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"magnitude"},function(n){n.fill(t,"heliosClass",{},e.Point.klass)})},args:[],source:"heliosClass\n	^ 'magnitude'",messageSends:[],referencedClasses:[]}),e.Point.klass),e.addMethod(e.method({selector:"x:y:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._x_(t),n(e)._y_(s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"x:y:",{aNumber:t,anotherNumber:s},e.Point.klass)})},args:["aNumber","anotherNumber"],source:"x: aNumber y: anotherNumber\n	^ self new\n		x: aNumber;\n		y: anotherNumber;\n		yourself",messageSends:["x:","new","y:","yourself"],referencedClasses:[]}),e.Point.klass),e.addClass("Random",e.Object,[],"Kernel-Objects"),e.Random.comment="I an used to generate a random number and I am implemented as a trivial wrapper around javascript `Math.random()`.\n\n## API\n\nThe typical use case it to use the `#next` method like the following:\n\n	Random new next\n\nThis will return a float x where x < 1 and x > 0. If you want a random integer from 1 to 10 you can use `#atRandom`\n\n	10 atRandom\n\nA random number in a specific interval can be obtained with the following:\n\n	(3 to: 7) atRandom\n\nBe aware that `#to:` does not create an Interval as in other Smalltalk implementations but in fact an `Array` of numbers, so it's better to use:\n\n	5 atRandom + 2\n\nSince `#atRandom` is implemented in `SequencableCollection` you can easy pick an element at random:\n\n	#('a' 'b' 'c') atRandom\n\nAs well as letter from a `String`:\n\n	'abc' atRandom\n\nSince Amber does not have Characters this will return a `String` of length 1 like for example `'b'`.",e.addMethod(e.method({selector:"next",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return Math.random()},function(n){n.fill(t,"next",{},e.Random)})},args:[],source:"next\n	<return Math.random()>",messageSends:[],referencedClasses:[]}),e.Random),e.addMethod(e.method({selector:"next:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=n(1.._to_(t))._collect_(function(t){return e.withContext(function(){return s._next()},function(e){e.fillBlock({each:t},r,1)})})},function(n){n.fill(s,"next:",{anInteger:t},e.Random)})},args:["anInteger"],source:"next: anInteger\n	^ (1 to: anInteger) collect: [ :each | self next ]",messageSends:["collect:","to:","next"],referencedClasses:[]}),e.Random),e.addClass("UndefinedObject",e.Object,[],"Kernel-Objects"),e.UndefinedObject.comment="I describe the behavior of my sole instance, `nil`. `nil` represents a prior value for variables that have not been initialized, or for results which are meaningless.\n\n`nil` is the Smalltalk equivalent of the `undefined` JavaScript object.\n\n__note:__ When sending messages to the `undefined` JavaScript object, it will be replaced by `nil`.",e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=null},function(n){n.fill(t,"asJSON",{},e.UndefinedObject)})},args:[],source:"asJSON\n	^ null",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"deepCopy",{},e.UndefinedObject)})},args:[],source:"deepCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._ifNil_ifNotNil_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"ifNil:",{aBlock:t},e.UndefinedObject)})},args:["aBlock"],source:'ifNil: aBlock\n	"inlined in the Compiler"\n	^ self ifNil: aBlock ifNotNil: []',messageSends:["ifNil:ifNotNil:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNil:ifNotNil:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(t)._value()},function(n){n.fill(r,"ifNil:ifNotNil:",{aBlock:t,anotherBlock:s},e.UndefinedObject)})},args:["aBlock","anotherBlock"],source:'ifNil: aBlock ifNotNil: anotherBlock\n	"inlined in the Compiler"\n	^ aBlock value',messageSends:["value"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNotNil:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"ifNotNil:",{aBlock:t},e.UndefinedObject)})},args:["aBlock"],source:'ifNotNil: aBlock\n	"inlined in the Compiler"\n	^ self',messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"ifNotNil:ifNil:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(s)._value()},function(n){n.fill(r,"ifNotNil:ifNil:",{aBlock:t,anotherBlock:s},e.UndefinedObject)})},args:["aBlock","anotherBlock"],source:'ifNotNil: aBlock ifNil: anotherBlock\n	"inlined in the Compiler"\n	^ anotherBlock value',messageSends:["value"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.UndefinedObject)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"isNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isNil",{},e.UndefinedObject)})},args:[],source:"isNil\n	^ true",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"notNil",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"notNil",{},e.UndefinedObject)})},args:[],source:"notNil\n	^ false",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_("nil"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.UndefinedObject)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: 'nil'",messageSends:["nextPutAll:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"shallowCopy",{},e.UndefinedObject)})},args:[],source:"shallowCopy\n	^ self",messageSends:[],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:",category:"class creation",fn:function(n,s){var r=this;return e.withContext(function(){var e;return e=r._subclass_instanceVariableNames_package_(n,s,t)},function(t){t.fill(r,"subclass:instanceVariableNames:",{aString:n,anotherString:s},e.UndefinedObject)})},args:["aString","anotherString"],source:"subclass: aString instanceVariableNames: anotherString\n	^ self subclass: aString instanceVariableNames: anotherString package: nil",messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:category:",category:"class creation",fn:function(t,n,s){var r=this;return e.withContext(function(){var e;return r._deprecatedAPI(),e=r._subclass_instanceVariableNames_package_(t,n,s)},function(a){a.fill(r,"subclass:instanceVariableNames:category:",{aString:t,aString2:n,aString3:s},e.UndefinedObject)})},args:["aString","aString2","aString3"],source:'subclass: aString instanceVariableNames: aString2 category: aString3\n	"Kept for compatibility."\n	self deprecatedAPI.\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.UndefinedObject),e.addMethod(e.method({selector:"subclass:instanceVariableNames:package:",category:"class creation",fn:function(s,r,a){function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(){var e;return e=n(n(o())._new())._superclass_subclass_instanceVariableNames_package_(i,n(s)._asString(),r,a)},function(t){t.fill(i,"subclass:instanceVariableNames:package:",{aString:s,aString2:r,aString3:a},e.UndefinedObject)})},args:["aString","aString2","aString3"],source:"subclass: aString instanceVariableNames: aString2 package: aString3\n	^ ClassBuilder new\n		superclass: self subclass: aString asString instanceVariableNames: aString2 package: aString3",messageSends:["superclass:subclass:instanceVariableNames:package:","new","asString"],referencedClasses:["ClassBuilder"]}),e.UndefinedObject),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._error_("You cannot create new instances of UndefinedObject. Use nil"),t},function(n){n.fill(t,"new",{},e.UndefinedObject.klass)})},args:[],source:"new\n		self error: 'You cannot create new instances of UndefinedObject. Use nil'",messageSends:["error:"],referencedClasses:[]}),e.UndefinedObject.klass)}),define("amber_core/Kernel-Classes",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Classes"),e.packages["Kernel-Classes"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Behavior",e.Object,[],"Kernel-Classes"),e.Behavior.comment="I am the superclass of all class objects.\n\nI define the protocol for creating instances of a class with `#basicNew` and `#new` (see `boot.js` for class constructors details).\n\nMy instances know about the subclass/superclass relationships between classes, contain the description that instances are created from,\nand hold the method dictionary that's associated with each class.\n\nI also provides methods for compiling methods, examining the method dictionary, and iterating over the class hierarchy.",e.addMethod(e.method({selector:">>",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._methodAt_(t)},function(s){s.fill(n,">>",{aString:t},e.Behavior)})},args:["aString"],source:">> aString\n	^ self methodAt: aString",messageSends:["methodAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"addCompiledMethod:",category:"compiling",fn:function(s){function r(){return e.MethodAdded||("undefined"==typeof MethodAdded?t:MethodAdded)}function a(){return e.MethodModified||("undefined"==typeof MethodModified?t:MethodModified)}function o(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}var i,l,c=this;return e.withContext(function(u){var d,f,h,m,g,p,_,C;return i=n(c._methodDictionary())._at_ifAbsent_(n(s)._selector(),function(){return e.withContext(function(){return t},function(e){e.fillBlock({},u,1)})}),d=c._protocols(),f=n(s)._protocol(),u.sendIdx.protocol=1,h=n(d)._includes_(f),e.assert(h)||n(c._organization())._addElement_(n(s)._protocol()),c._basicAddCompiledMethod_(s),m=i,($receiver=m)==t||null==$receiver?(g=n(r())._new(),u.sendIdx["new"]=1,n(g)._method_(s),u.sendIdx["method:"]=1,p=n(g)._yourself(),u.sendIdx.yourself=1,l=p):(_=n(a())._new(),n(_)._oldMethod_(i),n(_)._method_(s),C=n(_)._yourself(),l=C),n(n(o())._current())._announce_(l),c},function(t){t.fill(c,"addCompiledMethod:",{aMethod:s,oldMethod:i,announcement:l},e.Behavior)})},args:["aMethod"],source:"addCompiledMethod: aMethod\n	| oldMethod announcement |\n	\n	oldMethod := self methodDictionary\n		at: aMethod selector\n		ifAbsent: [ nil ].\n	\n	(self protocols includes: aMethod protocol)\n		ifFalse: [ self organization addElement: aMethod protocol ].\n\n	self basicAddCompiledMethod: aMethod.\n	\n	announcement := oldMethod\n		ifNil: [\n			MethodAdded new\n					method: aMethod;\n					yourself ]\n		ifNotNil: [\n			MethodModified new\n					oldMethod: oldMethod;\n					method: aMethod;\n					yourself ].\n					\n					\n	SystemAnnouncer current\n				announce: announcement",messageSends:["at:ifAbsent:","methodDictionary","selector","ifFalse:","includes:","protocols","protocol","addElement:","organization","basicAddCompiledMethod:","ifNil:ifNotNil:","method:","new","yourself","oldMethod:","announce:","current"],referencedClasses:["MethodAdded","MethodModified","SystemAnnouncer"]}),e.Behavior),e.addMethod(e.method({selector:"allInstanceVariableNames",category:"accessing",fn:function(){var s,r=this;return e.withContext(function(e){var a,o;return s=n(r._instanceVariableNames())._copy(),a=r._superclass(),e.sendIdx.superclass=1,($receiver=a)==t||null==$receiver||n(s)._addAll_(n(r._superclass())._allInstanceVariableNames()),o=s},function(t){t.fill(r,"allInstanceVariableNames",{result:s},e.Behavior)})},args:[],source:"allInstanceVariableNames\n	| result |\n	result := self instanceVariableNames copy.\n	self superclass ifNotNil: [\n		result addAll: self superclass allInstanceVariableNames ].\n	^ result",messageSends:["copy","instanceVariableNames","ifNotNil:","superclass","addAll:","allInstanceVariableNames"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSelectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return r=t._allSuperclasses(),a=t._selectors(),s.sendIdx.selectors=1,i=n(r)._inject_into_(a,function(t,r){return e.withContext(function(){return n(t)._addAll_(n(r)._selectors()),o=n(t)._yourself()},function(e){e.fillBlock({acc:t,each:r},s,1)})})},function(n){n.fill(t,"allSelectors",{},e.Behavior)})},args:[],source:"allSelectors\n	^ self allSuperclasses\n		inject: self selectors\n		into: [ :acc :each | acc addAll: each selectors; yourself ]",messageSends:["inject:into:","allSuperclasses","selectors","addAll:","yourself"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSubclasses",category:"accessing",fn:function(){var t,s,r=this;return e.withContext(function(a){var o;return t=r._subclasses(),a.sendIdx.subclasses=1,s=1,n(function(){return e.withContext(function(){return n(s).__gt(n(t)._size())},function(e){e.fillBlock({},a,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._addAll_(n(n(t)._at_(s))._subclasses()),s=n(s).__plus(1)},function(e){e.fillBlock({},a,2)})}),o=t},function(n){n.fill(r,"allSubclasses",{subclasses:t,index:s},e.Behavior)})},args:[],source:"allSubclasses\n	\"Answer an collection of the receiver's and the receiver's descendent's subclasses. \"\n\n	| subclasses index |\n	\n	subclasses := self subclasses.\n	index := 1.\n	[ index > subclasses size ]\n		whileFalse: [ subclasses addAll: (subclasses at: index) subclasses.\n			index := index + 1 ].\n\n	^ subclasses",messageSends:["subclasses","whileFalse:",">","size","addAll:","at:","+"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSubclassesDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){return n(s._allSubclasses())._do_(function(s){return e.withContext(function(){return n(t)._value_(s)},function(e){e.fillBlock({each:s},r,1)})}),s},function(n){n.fill(s,"allSubclassesDo:",{aBlock:t},e.Behavior)})},args:["aBlock"],source:'allSubclassesDo: aBlock\n	"Evaluate the argument, aBlock, for each of the receiver\'s subclasses."\n\n	self allSubclasses do: [ :each |\n    	aBlock value: each ]',messageSends:["do:","allSubclasses","value:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"allSuperclasses",category:"accessing",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(e){var a,o,i,l,c,u;return a=r._superclass(),e.sendIdx.superclass=1,($receiver=a)==t||null==$receiver?o=[]:(i=r._superclass(),e.sendIdx.superclass=2,l=n(s())._with_(i),n(l)._addAll_(n(r._superclass())._allSuperclasses()),c=n(l)._yourself(),u=c)},function(t){t.fill(r,"allSuperclasses",{},e.Behavior)})},args:[],source:"allSuperclasses\n	\n	self superclass ifNil: [ ^ #() ].\n	\n	^ (OrderedCollection with: self superclass)\n		addAll: self superclass allSuperclasses;\n		yourself",messageSends:["ifNil:","superclass","addAll:","with:","allSuperclasses","yourself"],referencedClasses:["OrderedCollection"]}),e.Behavior),e.addMethod(e.method({selector:"basicAddCompiledMethod:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.addMethod(t,n),n},function(s){s.fill(n,"basicAddCompiledMethod:",{aMethod:t},e.Behavior)})},args:["aMethod"],source:"basicAddCompiledMethod: aMethod\n	<smalltalk.addMethod(aMethod, self)>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"basicNew",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return new t.fn},function(n){n.fill(t,"basicNew",{},e.Behavior)})},args:[],source:"basicNew\n	<return new self.fn()>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"basicRemoveCompiledMethod:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.removeMethod(t,n),n},function(s){s.fill(n,"basicRemoveCompiledMethod:",{aMethod:t},e.Behavior)})},args:["aMethod"],source:"basicRemoveCompiledMethod: aMethod\n	<smalltalk.removeMethod(aMethod,self)>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"canUnderstand:",category:"testing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i;return i=n(n(n(s._methodDictionary())._keys())._includes_(n(t)._asString()))._or_(function(){return e.withContext(function(r){return a=s._superclass(),r.sendIdx.superclass=1,o=n(a)._notNil(),n(o)._and_(function(){return e.withContext(function(){return n(s._superclass())._canUnderstand_(t)},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"canUnderstand:",{aSelector:t},e.Behavior)})},args:["aSelector"],source:"canUnderstand: aSelector\n	^ (self methodDictionary keys includes: aSelector asString) or: [\n		self superclass notNil and: [ self superclass canUnderstand: aSelector ]]",messageSends:["or:","includes:","keys","methodDictionary","asString","and:","notNil","superclass","canUnderstand:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"comment",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n._basicAt_("comment"),s=($receiver=e)==t||null==$receiver?"":e},function(t){t.fill(n,"comment",{},e.Behavior)})},args:[],source:"comment\n	^ (self basicAt: 'comment') ifNil: [ '' ]",messageSends:["ifNil:","basicAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"comment:",category:"accessing",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.ClassCommentChanged||("undefined"==typeof ClassCommentChanged?t:ClassCommentChanged)}var o=this;return e.withContext(function(){var e,t;return o._basicAt_put_("comment",s),e=n(a())._new(),n(e)._theClass_(o),t=n(e)._yourself(),n(n(r())._current())._announce_(t),o},function(t){t.fill(o,"comment:",{aString:s},e.Behavior)})},args:["aString"],source:"comment: aString\n	self basicAt: 'comment' put: aString.\n	SystemAnnouncer current\n		announce: (ClassCommentChanged new\n			theClass: self;\n			yourself)",messageSends:["basicAt:put:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassCommentChanged"]}),e.Behavior),e.addMethod(e.method({selector:"commentStamp",category:"accessing",fn:function(){function s(){return e.ClassCommentReader||("undefined"==typeof ClassCommentReader?t:ClassCommentReader)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._class_(r),t=n(e)._yourself(),a=t},function(t){t.fill(r,"commentStamp",{},e.Behavior)})},args:[],source:"commentStamp\n	^ ClassCommentReader new\n	class: self;\n	yourself",messageSends:["class:","new","yourself"],referencedClasses:["ClassCommentReader"]}),e.Behavior),e.addMethod(e.method({selector:"commentStamp:prior:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._commentStamp()},function(r){r.fill(s,"commentStamp:prior:",{aStamp:t,prior:n},e.Behavior)})},args:["aStamp","prior"],source:"commentStamp: aStamp prior: prior\n		^ self commentStamp",messageSends:["commentStamp"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"compile:",category:"compiling",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._compile_category_(t,"")},function(s){s.fill(n,"compile:",{aString:t},e.Behavior)})},args:["aString"],source:"compile: aString\n	^ self compile: aString category: ''",messageSends:["compile:category:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"compile:category:",category:"compiling",fn:function(s,r){function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o=this;return e.withContext(function(){var e;return e=n(n(a())._new())._install_forClass_category_(s,o,r)},function(t){t.fill(o,"compile:category:",{aString:s,anotherString:r},e.Behavior)})},args:["aString","anotherString"],source:"compile: aString category: anotherString\n	^ Compiler new\n		install: aString\n		forClass: self\n		category: anotherString",messageSends:["install:forClass:category:","new"],referencedClasses:["Compiler"]}),e.Behavior),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return""},function(n){n.fill(t,"definition",{},e.Behavior)})},args:[],source:"definition\n	^ ''",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"includesBehavior:",category:"testing",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=n(s.__eq_eq(t))._or_(function(){return e.withContext(function(){return s._inheritsFrom_(t)},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"includesBehavior:",{aClass:t},e.Behavior)})},args:["aClass"],source:"includesBehavior: aClass\n	^ self == aClass or: [\n			self inheritsFrom: aClass ]",messageSends:["or:","==","inheritsFrom:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"includesSelector:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._methodDictionary())._includesKey_(t)},function(n){n.fill(s,"includesSelector:",{aString:t},e.Behavior)})},args:["aString"],source:"includesSelector: aString\n	^ self methodDictionary includesKey: aString",messageSends:["includesKey:","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"inheritsFrom:",category:"testing",fn:function(s){var r=this;return e.withContext(function(a){var o,i,l,c;return o=r._superclass(),a.sendIdx.superclass=1,($receiver=o)==t||null==$receiver?!1:(i=r._superclass(),a.sendIdx.superclass=2,l=n(s).__eq_eq(i),c=n(l)._or_(function(){return e.withContext(function(){return n(r._superclass())._inheritsFrom_(s)},function(e){e.fillBlock({},a,2)})}))},function(t){t.fill(r,"inheritsFrom:",{aClass:s},e.Behavior)})},args:["aClass"],source:"inheritsFrom: aClass\n	self superclass ifNil: [ ^ false ].\n\n	^ aClass == self superclass or: [ \n		self superclass inheritsFrom: aClass ]",messageSends:["ifNil:","superclass","or:","==","inheritsFrom:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"instanceVariableNames",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.iVarNames},function(n){n.fill(t,"instanceVariableNames",{},e.Behavior)})},args:[],source:"instanceVariableNames\n	<return self.iVarNames>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"isBehavior",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBehavior",{},e.Behavior)})},args:[],source:"isBehavior\n	^ true",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"javascriptConstructor",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.fn},function(n){n.fill(t,"javascriptConstructor",{},e.Behavior)})},args:[],source:'javascriptConstructor\n	"Answer the JS constructor used to instantiate. See boot.js"\n	\n	<return self.fn>',messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"javascriptConstructor:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return e.setClassConstructor(n,t),n},function(s){s.fill(n,"javascriptConstructor:",{aJavaScriptFunction:t},e.Behavior)})},args:["aJavaScriptFunction"],source:'javascriptConstructor: aJavaScriptFunction\n	"Set the JS constructor used to instantiate.\n	See the JS counter-part in boot.js `smalltalk.setClassConstructor\'"\n	\n	<smalltalk.setClassConstructor(self, aJavaScriptFunction);>',messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"lookupSelector:",category:"accessing",fn:function(s){var r,a=this;return e.withContext(function(o){var i,l,c={};try{return r=a,n(function(){return e.withContext(function(){return n(r).__eq(t)},function(e){e.fillBlock({},o,1)})})._whileFalse_(function(){return e.withContext(function(){if(i=n(r)._includesSelector_(s),e.assert(i))throw l=n(r)._methodAt_(s),c=[l];return r=n(r)._superclass()},function(e){e.fillBlock({},o,2)})}),t}catch(u){if(u===c)return u[0];throw u}},function(t){t.fill(a,"lookupSelector:",{selector:s,lookupClass:r},e.Behavior)})},args:["selector"],source:'lookupSelector: selector\n	"Look up the given selector in my methodDictionary.\n	Return the corresponding method if found.\n	Otherwise chase the superclass chain and try again.\n	Return nil if no method is found."\n	\n	| lookupClass |\n	\n	lookupClass := self.\n	[ lookupClass = nil ] whileFalse: [\n		(lookupClass includesSelector: selector)\n				ifTrue: [ ^ lookupClass methodAt: selector ].\n			lookupClass := lookupClass superclass ].\n	^ nil',messageSends:["whileFalse:","=","ifTrue:","includesSelector:","methodAt:","superclass"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodAt:",category:"accessing",fn:function(t){var s=this;
return e.withContext(function(){var e;return e=n(s._methodDictionary())._at_(t)},function(n){n.fill(s,"methodAt:",{aString:t},e.Behavior)})},args:["aString"],source:"methodAt: aString\n	^ self methodDictionary at: aString",messageSends:["at:","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodDictionary",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var n=e.HashedCollection._new(),s=t.methods;for(var r in s)s[r].selector&&n._at_put_(s[r].selector,s[r]);return n},function(n){n.fill(t,"methodDictionary",{},e.Behavior)})},args:[],source:"methodDictionary\n	<var dict = smalltalk.HashedCollection._new();\n	var methods = self.methods;\n	for(var i in methods) {\n		if(methods[i].selector) {\n			dict._at_put_(methods[i].selector, methods[i]);\n		}\n	};\n	return dict>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methods",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._methodDictionary())._values()},function(n){n.fill(t,"methods",{},e.Behavior)})},args:[],source:"methods\n	^ self methodDictionary values",messageSends:["values","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodsFor:",category:"accessing",fn:function(s){function r(){return e.ClassCategoryReader||("undefined"==typeof ClassCategoryReader?t:ClassCategoryReader)}var a=this;return e.withContext(function(){var e,t,o;return e=n(r())._new(),n(e)._class_category_(a,s),t=n(e)._yourself(),o=t},function(t){t.fill(a,"methodsFor:",{aString:s},e.Behavior)})},args:["aString"],source:"methodsFor: aString\n	^ ClassCategoryReader new\n		class: self category: aString;\n		yourself",messageSends:["class:category:","new","yourself"],referencedClasses:["ClassCategoryReader"]}),e.Behavior),e.addMethod(e.method({selector:"methodsFor:stamp:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._methodsFor_(t)},function(r){r.fill(s,"methodsFor:stamp:",{aString:t,aStamp:n},e.Behavior)})},args:["aString","aStamp"],source:'methodsFor: aString stamp: aStamp\n	"Added for compatibility, right now ignores stamp."\n	^ self methodsFor: aString',messageSends:["methodsFor:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"methodsInProtocol:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=n(n(s._methodDictionary())._values())._select_(function(s){return e.withContext(function(){return n(n(s)._protocol()).__eq(t)},function(e){e.fillBlock({each:s},r,1)})})},function(n){n.fill(s,"methodsInProtocol:",{aString:t},e.Behavior)})},args:["aString"],source:"methodsInProtocol: aString\n	^ self methodDictionary values select: [ :each | each protocol = aString ]",messageSends:["select:","values","methodDictionary","=","protocol"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return n.className||t},function(t){t.fill(n,"name",{},e.Behavior)})},args:[],source:"name\n	<return self.className || nil>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._basicNew())._initialize()},function(n){n.fill(t,"new",{},e.Behavior)})},args:[],source:"new\n	^ self basicNew initialize",messageSends:["initialize","basicNew"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"organization",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("organization")},function(n){n.fill(t,"organization",{},e.Behavior)})},args:[],source:"organization\n	^ self basicAt: 'organization'",messageSends:["basicAt:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"ownMethods",category:"accessing",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(t){var a,o;return o=n(n(r._ownProtocols())._inject_into_(n(s())._new(),function(s,a){return e.withContext(function(){return n(s).__comma(r._methodsInProtocol_(a))},function(e){e.fillBlock({acc:s,each:a},t,1)})}))._sorted_(function(s,r){return e.withContext(function(e){return a=n(s)._selector(),e.sendIdx.selector=1,n(a).__lt_eq(n(r)._selector())},function(e){e.fillBlock({a:s,b:r},t,2)})})},function(t){t.fill(r,"ownMethods",{},e.Behavior)})},args:[],source:'ownMethods\n	"Answer the methods of the receiver that are not package extensions"\n\n	^ (self ownProtocols \n		inject: OrderedCollection new\n		into: [ :acc :each | acc, (self methodsInProtocol: each) ])\n			sorted: [ :a :b | a selector <= b selector ]',messageSends:["sorted:","inject:into:","ownProtocols","new",",","methodsInProtocol:","<=","selector"],referencedClasses:["OrderedCollection"]}),e.Behavior),e.addMethod(e.method({selector:"ownProtocols",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._protocols())._reject_(function(t){return e.withContext(function(){return n(t)._match_("^\\*")},function(e){e.fillBlock({each:t},s,1)})})},function(n){n.fill(t,"ownProtocols",{},e.Behavior)})},args:[],source:"ownProtocols\n	\"Answer the protocols of the receiver that are not package extensions\"\n\n	^ self protocols reject: [ :each |\n		each match: '^\\*' ]",messageSends:["reject:","protocols","match:"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"protocols",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t._organization())._elements())._sorted()},function(n){n.fill(t,"protocols",{},e.Behavior)})},args:[],source:"protocols\n	^ self organization elements sorted",messageSends:["sorted","elements","organization"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"protocolsDo:",category:"enumerating",fn:function(s){function r(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}function a(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i=this;return e.withContext(function(t){return o=n(r())._new(),t.sendIdx["new"]=1,n(n(i._methodDictionary())._values())._do_(function(s){return e.withContext(function(t){return n(n(o)._at_ifAbsentPut_(n(s)._category(),function(){return e.withContext(function(){return n(a())._new()},function(e){e.fillBlock({},t,2)})}))._add_(s)},function(e){e.fillBlock({m:s},t,1)})}),t.sendIdx["do:"]=1,n(i._protocols())._do_(function(r){return e.withContext(function(){return n(s)._value_value_(r,n(o)._at_(r))},function(e){e.fillBlock({category:r},t,3)})}),i},function(t){t.fill(i,"protocolsDo:",{aBlock:s,methodsByCategory:o},e.Behavior)})},args:["aBlock"],source:'protocolsDo: aBlock\n	"Execute aBlock for each method category with\n	its collection of methods in the sort order of category name."\n\n	| methodsByCategory |\n	methodsByCategory := HashedCollection new.\n	self methodDictionary values do: [ :m |\n		(methodsByCategory at: m category ifAbsentPut: [ Array new ])\n			add: m ].\n	self protocols do: [ :category |\n		aBlock value: category value: (methodsByCategory at: category) ]',messageSends:["new","do:","values","methodDictionary","add:","at:ifAbsentPut:","category","protocols","value:value:","at:"],referencedClasses:["HashedCollection","Array"]}),e.Behavior),e.addMethod(e.method({selector:"prototype",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.fn.prototype},function(n){n.fill(t,"prototype",{},e.Behavior)})},args:[],source:"prototype\n	<return self.fn.prototype>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"recompile",category:"compiling",fn:function(){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._new())._recompile_(r)},function(t){t.fill(r,"recompile",{},e.Behavior)})},args:[],source:"recompile\n	^ Compiler new recompile: self",messageSends:["recompile:","new"],referencedClasses:["Compiler"]}),e.Behavior),e.addMethod(e.method({selector:"removeCompiledMethod:",category:"compiling",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.MethodRemoved||("undefined"==typeof MethodRemoved?t:MethodRemoved)}var o=this;return e.withContext(function(t){var i,l,c,u;return o._basicRemoveCompiledMethod_(s),n(o._methods())._detect_ifNone_(function(r){return e.withContext(function(e){return i=n(r)._protocol(),e.sendIdx.protocol=1,l=n(s)._protocol(),e.sendIdx.protocol=2,n(i).__eq(l)},function(e){e.fillBlock({each:r},t,1)})},function(){return e.withContext(function(){return n(o._organization())._removeElement_(n(s)._protocol())},function(e){e.fillBlock({},t,2)})}),c=n(a())._new(),n(c)._method_(s),u=n(c)._yourself(),n(n(r())._current())._announce_(u),o},function(t){t.fill(o,"removeCompiledMethod:",{aMethod:s},e.Behavior)})},args:["aMethod"],source:"removeCompiledMethod: aMethod\n	self basicRemoveCompiledMethod: aMethod.\n	\n	self methods\n		detect: [ :each | each protocol = aMethod protocol ]\n		ifNone: [ self organization removeElement: aMethod protocol ].\n	\n	SystemAnnouncer current\n		announce: (MethodRemoved new\n			method: aMethod;\n			yourself)",messageSends:["basicRemoveCompiledMethod:","detect:ifNone:","methods","=","protocol","removeElement:","organization","announce:","current","method:","new","yourself"],referencedClasses:["SystemAnnouncer","MethodRemoved"]}),e.Behavior),e.addMethod(e.method({selector:"selectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._methodDictionary())._keys()},function(n){n.fill(t,"selectors",{},e.Behavior)})},args:[],source:"selectors\n	^ self methodDictionary keys",messageSends:["keys","methodDictionary"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"subclasses",{},e.Behavior)})},args:[],source:"subclasses\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"superclass",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return n.superclass||t},function(t){t.fill(n,"superclass",{},e.Behavior)})},args:[],source:"superclass\n	<return self.superclass || nil>",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"theMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._class()},function(n){n.fill(t,"theMetaClass",{},e.Behavior)})},args:[],source:"theMetaClass\n	^ self class",messageSends:["class"],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"theNonMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"theNonMetaClass",{},e.Behavior)})},args:[],source:"theNonMetaClass\n	^ self",messageSends:[],referencedClasses:[]}),e.Behavior),e.addMethod(e.method({selector:"withAllSubclasses",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._with_(r),n(e)._addAll_(r._allSubclasses()),t=n(e)._yourself(),a=t},function(t){t.fill(r,"withAllSubclasses",{},e.Behavior)})},args:[],source:"withAllSubclasses\n	^ (Array with: self) addAll: self allSubclasses; yourself",messageSends:["addAll:","with:","allSubclasses","yourself"],referencedClasses:["Array"]}),e.Behavior),e.addClass("Class",e.Behavior,[],"Kernel-Classes"),e.Class.comment="I am __the__ class object.\n\nMy instances are the classes of the system.\nClass creation is done throught a `ClassBuilder` instance.",e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e="smalltalk.".__comma(t._name())},function(n){n.fill(t,"asJavascript",{},e.Class)})},args:[],source:"asJavascript\n	^ 'smalltalk.', self name",messageSends:[",","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"category",category:"accessing",fn:function(){var s=this;return e.withContext(function(e){var r,a;return r=s._package(),e.sendIdx["package"]=1,a=($receiver=r)==t||null==$receiver?"Unclassified":n(s._package())._name()},function(t){t.fill(s,"category",{},e.Class)})},args:[],source:"category\n	^ self package ifNil: [ 'Unclassified' ] ifNotNil: [ self package name ]",messageSends:["ifNil:ifNotNil:","package","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a,o,i,l,c,u,d;return d=n(s())._streamContents_(function(d){return e.withContext(function(t){return n(d)._nextPutAll_(n(r._superclass())._asString()),t.sendIdx["nextPutAll:"]=1,n(d)._nextPutAll_(" subclass: #"),t.sendIdx["nextPutAll:"]=2,n(d)._nextPutAll_(r._name()),t.sendIdx["nextPutAll:"]=3,a=n(s())._lf(),t.sendIdx.lf=1,o=n(s())._tab(),t.sendIdx.tab=1,i=n(a).__comma(o),t.sendIdx[","]=1,n(d)._nextPutAll_(i),t.sendIdx["nextPutAll:"]=4,l=n(d)._nextPutAll_("instanceVariableNames: '"),t.sendIdx["nextPutAll:"]=5,n(r._instanceVariableNames())._do_separatedBy_(function(s){return e.withContext(function(e){return n(d)._nextPutAll_(s)},function(e){e.fillBlock({each:s},t,2)})},function(){return e.withContext(function(e){return n(d)._nextPutAll_(" ")},function(e){e.fillBlock({},t,3)})}),c=n("'".__comma(n(s())._lf())).__comma(n(s())._tab()),t.sendIdx[","]=2,n(d)._nextPutAll_(c),t.sendIdx["nextPutAll:"]=8,n(d)._nextPutAll_("package: '"),t.sendIdx["nextPutAll:"]=9,n(d)._nextPutAll_(r._category()),t.sendIdx["nextPutAll:"]=10,u=n(d)._nextPutAll_("'")},function(e){e.fillBlock({stream:d},t,1)})})},function(t){t.fill(r,"definition",{},e.Class)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream\n			nextPutAll: self superclass asString;\n			nextPutAll: ' subclass: #';\n			nextPutAll: self name;\n			nextPutAll: String lf, String tab;\n			nextPutAll: 'instanceVariableNames: '''.\n		self instanceVariableNames\n			do: [ :each | stream nextPutAll: each ]\n			separatedBy: [ stream nextPutAll: ' ' ].\n		stream\n			nextPutAll: '''', String lf, String tab;\n			nextPutAll: 'package: ''';\n			nextPutAll: self category;\n			nextPutAll: '''' ]",messageSends:["streamContents:","nextPutAll:","asString","superclass","name",",","lf","tab","do:separatedBy:","instanceVariableNames","category"],referencedClasses:["String"]}),e.Class),e.addMethod(e.method({selector:"isClass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isClass",{},e.Class)})},args:[],source:"isClass\n	^ true",messageSends:[],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"package",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("pkg")},function(n){n.fill(t,"package",{},e.Class)})},args:[],source:"package\n	^ self basicAt: 'pkg'",messageSends:["basicAt:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"package:",category:"accessing",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.ClassMoved||("undefined"==typeof ClassMoved?t:ClassMoved)}var o,i=this;return e.withContext(function(t){var l,c,u,d,f;return l=i._package(),t.sendIdx["package"]=1,c=n(l).__eq(s),e.assert(c)?i:(o=i._package(),i._basicAt_put_("pkg",s),u=n(o)._organization(),t.sendIdx.organization=1,n(u)._removeElement_(i),n(n(s)._organization())._addElement_(i),d=n(a())._new(),n(d)._theClass_(i),n(d)._oldPackage_(o),f=n(d)._yourself(),n(n(r())._current())._announce_(f),i)},function(t){t.fill(i,"package:",{aPackage:s,oldPackage:o},e.Class)})},args:["aPackage"],source:"package: aPackage\n	| oldPackage |\n	\n	self package = aPackage ifTrue: [ ^ self ].\n	\n	oldPackage := self package.\n	\n	self basicAt: 'pkg' put: aPackage.\n	oldPackage organization removeElement: self.\n	aPackage organization addElement: self.\n\n	SystemAnnouncer current announce: (ClassMoved new\n		theClass: self;\n		oldPackage: oldPackage;\n		yourself)",messageSends:["ifTrue:","=","package","basicAt:put:","removeElement:","organization","addElement:","announce:","current","theClass:","new","oldPackage:","yourself"],referencedClasses:["SystemAnnouncer","ClassMoved"]}),e.Class),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_(s._name()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Class)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self name",messageSends:["nextPutAll:","name"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"rename:",category:"accessing",fn:function(s){function r(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var a=this;return e.withContext(function(){return n(n(r())._new())._renameClass_to_(a,s),a},function(t){t.fill(a,"rename:",{aString:s},e.Class)})},args:["aString"],source:"rename: aString\n	ClassBuilder new renameClass: self to: aString",messageSends:["renameClass:to:","new"],referencedClasses:["ClassBuilder"]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:",category:"class creation",fn:function(n,s){var r=this;return e.withContext(function(){var e;return e=r._subclass_instanceVariableNames_package_(n,s,t)},function(t){t.fill(r,"subclass:instanceVariableNames:",{aString:n,anotherString:s},e.Class)})},args:["aString","anotherString"],source:'subclass: aString instanceVariableNames: anotherString\n	"Kept for compatibility."\n	^ self subclass: aString instanceVariableNames: anotherString package: nil',messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:category:",category:"class creation",fn:function(t,n,s){var r=this;return e.withContext(function(){var e;return r._deprecatedAPI(),e=r._subclass_instanceVariableNames_package_(t,n,s)},function(a){a.fill(r,"subclass:instanceVariableNames:category:",{aString:t,aString2:n,aString3:s},e.Class)})},args:["aString","aString2","aString3"],source:'subclass: aString instanceVariableNames: aString2 category: aString3\n	"Kept for compatibility."\n	self deprecatedAPI.\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["deprecatedAPI","subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",category:"class creation",fn:function(t,n,s,r,a){var o=this;return e.withContext(function(){var e;return e=o._subclass_instanceVariableNames_package_(t,n,a)},function(i){i.fill(o,"subclass:instanceVariableNames:classVariableNames:poolDictionaries:category:",{aString:t,aString2:n,classVars:s,pools:r,aString3:a},e.Class)})},args:["aString","aString2","classVars","pools","aString3"],source:'subclass: aString instanceVariableNames: aString2 classVariableNames: classVars poolDictionaries: pools category: aString3\n	"Just ignore class variables and pools. Added for compatibility."\n	^ self subclass: aString instanceVariableNames: aString2 package: aString3',messageSends:["subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.Class),e.addMethod(e.method({selector:"subclass:instanceVariableNames:package:",category:"class creation",fn:function(s,r,a){function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(){var e;return e=n(n(o())._new())._superclass_subclass_instanceVariableNames_package_(i,n(s)._asString(),r,a)},function(t){t.fill(i,"subclass:instanceVariableNames:package:",{aString:s,aString2:r,aString3:a},e.Class)})},args:["aString","aString2","aString3"],source:"subclass: aString instanceVariableNames: aString2 package: aString3\n	^ ClassBuilder new\n		superclass: self subclass: aString asString instanceVariableNames: aString2 package: aString3",messageSends:["superclass:subclass:instanceVariableNames:package:","new","asString"],referencedClasses:["ClassBuilder"]}),e.Class),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.subclasses._copy()},function(n){n.fill(t,"subclasses",{},e.Class)})},args:[],source:"subclasses\n	<return self.subclasses._copy()>",messageSends:[],referencedClasses:[]}),e.Class),e.addClass("Metaclass",e.Behavior,[],"Kernel-Classes"),e.Metaclass.comment="I am the root of the class hierarchy.\n\nMy instances are metaclasses, one for each real class, and have a single instance, which they hold onto: the class that they are the metaclass of.",e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n("smalltalk.".__comma(n(t._instanceClass())._name())).__comma(".klass"),e.sendIdx[","]=1,s},function(n){n.fill(t,"asJavascript",{},e.Metaclass)})},args:[],source:"asJavascript\n	^ 'smalltalk.', self instanceClass name, '.klass'",messageSends:[",","name","instanceClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a,o;return o=n(s())._streamContents_(function(s){return e.withContext(function(t){return n(s)._nextPutAll_(r._asString()),t.sendIdx["nextPutAll:"]=1,a=n(s)._nextPutAll_(" instanceVariableNames: '"),t.sendIdx["nextPutAll:"]=2,n(r._instanceVariableNames())._do_separatedBy_(function(r){return e.withContext(function(e){return n(s)._nextPutAll_(r)},function(e){e.fillBlock({each:r},t,2)})},function(){return e.withContext(function(e){return n(s)._nextPutAll_(" ")},function(e){e.fillBlock({},t,3)})}),n(s)._nextPutAll_("'")},function(e){e.fillBlock({stream:s},t,1)})})},function(t){t.fill(r,"definition",{},e.Metaclass)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream\n			nextPutAll: self asString;\n			nextPutAll: ' instanceVariableNames: '''.\n		self instanceVariableNames\n			do: [ :each | stream nextPutAll: each ]\n			separatedBy: [ stream nextPutAll: ' ' ].\n		stream nextPutAll: '''' ]",messageSends:["streamContents:","nextPutAll:","asString","do:separatedBy:","instanceVariableNames"],referencedClasses:["String"]}),e.Metaclass),e.addMethod(e.method({selector:"instanceClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.instanceClass},function(n){n.fill(t,"instanceClass",{},e.Metaclass)})},args:[],source:"instanceClass\n	<return self.instanceClass>",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"instanceVariableNames:",category:"accessing",fn:function(s){function r(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var a=this;return e.withContext(function(){return n(n(r())._new())._class_instanceVariableNames_(a,s),a},function(t){t.fill(a,"instanceVariableNames:",{aCollection:s},e.Metaclass)})},args:["aCollection"],source:"instanceVariableNames: aCollection\n	ClassBuilder new\n		class: self instanceVariableNames: aCollection",messageSends:["class:instanceVariableNames:","new"],referencedClasses:["ClassBuilder"]}),e.Metaclass),e.addMethod(e.method({selector:"isMetaclass",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isMetaclass",{},e.Metaclass)})},args:[],source:"isMetaclass\n	^ true",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(e){var r;return n(t)._nextPutAll_(n(s._instanceClass())._name()),e.sendIdx["nextPutAll:"]=1,r=n(t)._nextPutAll_(" class"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Metaclass)})},args:["aStream"],source:"printOn: aStream\n	aStream\n		nextPutAll: self instanceClass name;\n		nextPutAll: ' class'",messageSends:["nextPutAll:","name","instanceClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"subclasses",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(n(n(t._instanceClass())._subclasses())._select_(function(t){return e.withContext(function(){return n(n(t)._isMetaclass())._not()},function(e){e.fillBlock({each:t},s,1)})}))._collect_(function(t){return e.withContext(function(){return n(t)._theMetaClass()},function(e){e.fillBlock({each:t},s,2)})})},function(n){n.fill(t,"subclasses",{},e.Metaclass)})},args:[],source:"subclasses\n	^ (self instanceClass subclasses \n		select: [ :each | each isMetaclass not ])\n		collect: [ :each | each theMetaClass ]",messageSends:["collect:","select:","subclasses","instanceClass","not","isMetaclass","theMetaClass"],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"theMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"theMetaClass",{},e.Metaclass)})},args:[],source:"theMetaClass\n	^ self",messageSends:[],referencedClasses:[]}),e.Metaclass),e.addMethod(e.method({selector:"theNonMetaClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._instanceClass()},function(n){n.fill(t,"theNonMetaClass",{},e.Metaclass)})},args:[],source:"theNonMetaClass\n	^ self instanceClass",messageSends:["instanceClass"],referencedClasses:[]}),e.Metaclass),e.addClass("ClassBuilder",e.Object,[],"Kernel-Classes"),e.ClassBuilder.comment="I am responsible for compiling new classes or modifying existing classes in the system.\n\nRather than using me directly to compile a class, use `Class >> subclass:instanceVariableNames:package:`.",e.addMethod(e.method({selector:"addSubclassOf:named:instanceVariableNames:package:",category:"class definition",fn:function(s,r,a,o){function i(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var l,c,u=this;return e.withContext(function(){var d,f,h,m;if(l=n(n(i())._current())._at_(r),c=u._createPackageNamed_(o),d=l,($receiver=d)==t||null==$receiver);else if(n(l)._package_(c),f=n(n(l)._superclass()).__eq_eq(s),!e.assert(f))return h=u._migrateClassNamed_superclass_instanceVariableNames_package_(r,s,a,o);return m=u._basicAddSubclassOf_named_instanceVariableNames_package_(s,r,a,o)},function(t){t.fill(u,"addSubclassOf:named:instanceVariableNames:package:",{aClass:s,className:r,aCollection:a,packageName:o,theClass:l,thePackage:c},e.ClassBuilder)})},args:["aClass","className","aCollection","packageName"],source:"addSubclassOf: aClass named: className instanceVariableNames: aCollection package: packageName\n	| theClass thePackage |\n	\n	theClass := Smalltalk current at: className.\n	thePackage := self createPackageNamed: packageName.\n	\n	theClass ifNotNil: [\n		theClass package: thePackage.\n		theClass superclass == aClass ifFalse: [\n			^ self\n				migrateClassNamed: className\n				superclass: aClass\n				instanceVariableNames: aCollection\n				package: packageName ] ].\n		\n	^ self\n		basicAddSubclassOf: aClass\n		named: className\n		instanceVariableNames: aCollection\n		package: packageName",messageSends:["at:","current","createPackageNamed:","ifNotNil:","package:","ifFalse:","==","superclass","migrateClassNamed:superclass:instanceVariableNames:package:","basicAddSubclassOf:named:instanceVariableNames:package:"],referencedClasses:["Smalltalk"]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicAddSubclassOf:named:instanceVariableNames:package:",category:"private",fn:function(t,n,s,r){var a=this;return e.withContext(function(){return e.addClass(n,t,s,r),e[n]},function(o){o.fill(a,"basicAddSubclassOf:named:instanceVariableNames:package:",{aClass:t,aString:n,aCollection:s,packageName:r},e.ClassBuilder)})},args:["aClass","aString","aCollection","packageName"],source:"basicAddSubclassOf: aClass named: aString instanceVariableNames: aCollection package: packageName\n	<\n		smalltalk.addClass(aString, aClass, aCollection, packageName);\n		return smalltalk[aString]\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicClass:instanceVariableNames:",category:"private",fn:function(t,n){var s=this;return e.withContext(function(){return s._basicClass_instanceVariables_(t,s._instanceVariableNamesFor_(n)),s},function(r){r.fill(s,"basicClass:instanceVariableNames:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"basicClass: aClass instanceVariableNames: aString\n	self basicClass: aClass instanceVariables: (self instanceVariableNamesFor: aString)",messageSends:["basicClass:instanceVariables:","instanceVariableNamesFor:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicClass:instanceVariables:",category:"private",fn:function(t,s){var r=this;return e.withContext(function(){var a;return a=n(t)._isMetaclass(),e.assert(a)||r._error_(n(n(t)._name()).__comma(" is not a metaclass")),n(t)._basicAt_put_("iVarNames",s),r},function(n){n.fill(r,"basicClass:instanceVariables:",{aClass:t,aCollection:s},e.ClassBuilder)})},args:["aClass","aCollection"],source:"basicClass: aClass instanceVariables: aCollection\n\n	aClass isMetaclass ifFalse: [ self error: aClass name, ' is not a metaclass' ].\n	aClass basicAt: 'iVarNames' put: aCollection",messageSends:["ifFalse:","isMetaclass","error:",",","name","basicAt:put:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicRemoveClass:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.removeClass(t),n},function(s){s.fill(n,"basicRemoveClass:",{aClass:t},e.ClassBuilder)})},args:["aClass"],source:"basicRemoveClass: aClass\n	<smalltalk.removeClass(aClass)>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicRenameClass:to:",category:"private",fn:function(t,n){var s=this;return e.withContext(function(){return e[n]=t,delete e[t.className],t.className=n,s},function(r){r.fill(s,"basicRenameClass:to:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"basicRenameClass: aClass to: aString\n	<\n		smalltalk[aString] = aClass;\n		delete smalltalk[aClass.className];\n		aClass.className = aString;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"basicSwapClassNames:with:",category:"private",fn:function(t,n){var s=this;return e.withContext(function(){var e=t.className;return t.className=n.className,n.className=e,s},function(r){r.fill(s,"basicSwapClassNames:with:",{aClass:t,anotherClass:n},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"basicSwapClassNames: aClass with: anotherClass\n	<\n		var tmp = aClass.className;\n		aClass.className = anotherClass.className;\n		anotherClass.className = tmp;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"class:instanceVariableNames:",category:"class definition",fn:function(s,r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassDefinitionChanged||("undefined"==typeof ClassDefinitionChanged?t:ClassDefinitionChanged)}var i=this;return e.withContext(function(){var e,t;return i._basicClass_instanceVariableNames_(s,r),i._setupClass_(s),e=n(o())._new(),n(e)._theClass_(s),t=n(e)._yourself(),n(n(a())._current())._announce_(t),i},function(t){t.fill(i,"class:instanceVariableNames:",{aClass:s,ivarNames:r},e.ClassBuilder)
})},args:["aClass","ivarNames"],source:"class: aClass instanceVariableNames: ivarNames\n	self basicClass: aClass instanceVariableNames: ivarNames.\n	self setupClass: aClass.\n	\n	SystemAnnouncer current\n		announce: (ClassDefinitionChanged new\n			theClass: aClass;\n			yourself)",messageSends:["basicClass:instanceVariableNames:","setupClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassDefinitionChanged"]}),e.ClassBuilder),e.addMethod(e.method({selector:"copyClass:named:",category:"copying",fn:function(s,r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassAdded||("undefined"==typeof ClassAdded?t:ClassAdded)}var i,l=this;return e.withContext(function(){var e,t,c;return i=l._addSubclassOf_named_instanceVariableNames_package_(n(s)._superclass(),r,n(s)._instanceVariableNames(),n(n(s)._package())._name()),l._copyClass_to_(s,i),e=n(o())._new(),n(e)._theClass_(i),t=n(e)._yourself(),n(n(a())._current())._announce_(t),c=i},function(t){t.fill(l,"copyClass:named:",{aClass:s,className:r,newClass:i},e.ClassBuilder)})},args:["aClass","className"],source:"copyClass: aClass named: className\n	| newClass |\n\n	newClass := self\n		addSubclassOf: aClass superclass\n		named: className\n		instanceVariableNames: aClass instanceVariableNames\n		package: aClass package name.\n\n	self copyClass: aClass to: newClass.\n	\n	SystemAnnouncer current\n		announce: (ClassAdded new\n			theClass: newClass;\n			yourself).\n	\n	^ newClass",messageSends:["addSubclassOf:named:instanceVariableNames:package:","superclass","instanceVariableNames","name","package","copyClass:to:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassAdded"]}),e.ClassBuilder),e.addMethod(e.method({selector:"copyClass:to:",category:"copying",fn:function(s,r){function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g,p,_;return n(r)._comment_(n(s)._comment()),i=n(s)._methodDictionary(),t.sendIdx.methodDictionary=1,l=n(i)._values(),t.sendIdx.values=1,n(l)._do_(function(s){return e.withContext(function(e){return c=n(a())._new(),e.sendIdx["new"]=1,u=n(s)._source(),e.sendIdx.source=1,d=n(s)._category(),e.sendIdx.category=1,n(c)._install_forClass_category_(u,r,d)},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["do:"]=1,f=n(r)._class(),t.sendIdx["class"]=1,h=n(s)._class(),t.sendIdx["class"]=2,m=n(h)._instanceVariableNames(),o._basicClass_instanceVariables_(f,m),g=n(s)._class(),t.sendIdx["class"]=3,p=n(g)._methodDictionary(),_=n(p)._values(),n(_)._do_(function(s){return e.withContext(function(){return n(n(a())._new())._install_forClass_category_(n(s)._source(),n(r)._class(),n(s)._category())},function(e){e.fillBlock({each:s},t,2)})}),o._setupClass_(r),o},function(t){t.fill(o,"copyClass:to:",{aClass:s,anotherClass:r},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"copyClass: aClass to: anotherClass\n\n	anotherClass comment: aClass comment.\n\n	aClass methodDictionary values do: [ :each |\n		Compiler new install: each source forClass: anotherClass category: each category ].\n\n	self basicClass: anotherClass class instanceVariables: aClass class instanceVariableNames.\n\n	aClass class methodDictionary values do: [ :each |\n		Compiler new install: each source forClass: anotherClass class category: each category ].\n\n	self setupClass: anotherClass",messageSends:["comment:","comment","do:","values","methodDictionary","install:forClass:category:","new","source","category","basicClass:instanceVariables:","class","instanceVariableNames","setupClass:"],referencedClasses:["Compiler"]}),e.ClassBuilder),e.addMethod(e.method({selector:"createPackageNamed:",category:"private",fn:function(s){function r(){return e.Package||("undefined"==typeof Package?t:Package)}function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(t){var o;return o=n(r())._named_ifAbsent_(s,function(){return e.withContext(function(){return n(n(a())._current())._createPackage_(s)},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(o,"createPackageNamed:",{aString:s},e.ClassBuilder)})},args:["aString"],source:"createPackageNamed: aString\n	^ Package named: aString ifAbsent: [\n		Smalltalk current createPackage: aString ]",messageSends:["named:ifAbsent:","createPackage:","current"],referencedClasses:["Package","Smalltalk"]}),e.ClassBuilder),e.addMethod(e.method({selector:"installMethod:forClass:category:",category:"method definition",fn:function(t,s,r){var a=this;return e.withContext(function(){return n(t)._category_(r),n(s)._addCompiledMethod_(t),a._setupClass_(s),t},function(n){n.fill(a,"installMethod:forClass:category:",{aCompiledMethod:t,aBehavior:s,aString:r},e.ClassBuilder)})},args:["aCompiledMethod","aBehavior","aString"],source:"installMethod: aCompiledMethod forClass: aBehavior category: aString\n	aCompiledMethod category: aString.\n	aBehavior addCompiledMethod: aCompiledMethod.\n	self setupClass: aBehavior.\n	^ aCompiledMethod",messageSends:["category:","addCompiledMethod:","setupClass:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"instanceVariableNamesFor:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(s){var r;return r=n(n(t)._tokenize_(" "))._reject_(function(t){return e.withContext(function(){return n(t)._isEmpty()},function(e){e.fillBlock({each:t},s,1)})})},function(n){n.fill(s,"instanceVariableNamesFor:",{aString:t},e.ClassBuilder)})},args:["aString"],source:"instanceVariableNamesFor: aString\n	^ (aString tokenize: ' ') reject: [ :each | each isEmpty ]",messageSends:["reject:","tokenize:","isEmpty"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"migrateClass:superclass:",category:"class migration",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o;return a=n(t)._name(),e.sendIdx.name=1,o=r._migrateClassNamed_superclass_instanceVariableNames_package_(a,s,n(t)._instanceVariableNames(),n(n(t)._package())._name())},function(n){n.fill(r,"migrateClass:superclass:",{aClass:t,anotherClass:s},e.ClassBuilder)})},args:["aClass","anotherClass"],source:"migrateClass: aClass superclass: anotherClass\n	^ self\n		migrateClassNamed: aClass name\n		superclass: anotherClass\n		instanceVariableNames: aClass instanceVariableNames\n		package: aClass package name",messageSends:["migrateClassNamed:superclass:instanceVariableNames:package:","name","instanceVariableNames","package"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"migrateClassNamed:superclass:instanceVariableNames:package:",category:"class migration",fn:function(s,r,a,o){function i(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function l(){return e.Error||("undefined"==typeof Error?t:Error)}function c(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function u(){return e.ClassMigrated||("undefined"==typeof ClassMigrated?t:ClassMigrated)}var d,f,h,m=this;return e.withContext(function(t){var g,p,_,C,v,x,y,S,b;return h="new*".__comma(s),t.sendIdx[","]=1,g=n(i())._current(),t.sendIdx.current=1,d=n(g)._at_(s),f=m._addSubclassOf_named_instanceVariableNames_package_(r,h,a,o),m._basicSwapClassNames_with_(d,f),t.sendIdx["basicSwapClassNames:with:"]=1,n(function(){return e.withContext(function(){return m._copyClass_to_(d,f)},function(e){e.fillBlock({},t,1)})})._on_do_(l(),function(s){return e.withContext(function(e){return m._basicSwapClassNames_with_(d,f),p=m._basicRemoveClass_(f),e.sendIdx["basicRemoveClass:"]=1,n(s)._signal()},function(e){e.fillBlock({exception:s},t,2)})}),m._rawRenameClass_to_(d,h),t.sendIdx["rawRenameClass:to:"]=1,_=m._rawRenameClass_to_(f,s),C=n(d)._subclasses(),v=function(n){return e.withContext(function(){return m._migrateClass_superclass_(n,f)},function(e){e.fillBlock({each:n},t,3)})},x=n("Recompiling ".__comma(n(f)._name())).__comma("..."),t.sendIdx[","]=2,n(C)._do_displayingProgress_(v,x),m._basicRemoveClass_(d),y=n(u())._new(),n(y)._theClass_(f),n(y)._oldClass_(d),S=n(y)._yourself(),n(n(c())._current())._announce_(S),b=f},function(t){t.fill(m,"migrateClassNamed:superclass:instanceVariableNames:package:",{className:s,aClass:r,aCollection:a,packageName:o,oldClass:d,newClass:f,tmp:h},e.ClassBuilder)})},args:["className","aClass","aCollection","packageName"],source:"migrateClassNamed: className superclass: aClass instanceVariableNames: aCollection package: packageName\n	| oldClass newClass tmp |\n	\n	tmp := 'new*', className.\n	oldClass := Smalltalk current at: className.\n	\n	newClass := self\n		addSubclassOf: aClass\n		named: tmp\n		instanceVariableNames: aCollection\n		package: packageName.\n\n	self basicSwapClassNames: oldClass with: newClass.\n\n	[ self copyClass: oldClass to: newClass ]\n		on: Error\n		do: [ :exception |\n			self\n				basicSwapClassNames: oldClass with: newClass;\n				basicRemoveClass: newClass.\n			exception signal ].\n\n	self\n		rawRenameClass: oldClass to: tmp;\n		rawRenameClass: newClass to: className.\n\n	oldClass subclasses \n		do: [ :each | self migrateClass: each superclass: newClass ]\n		displayingProgress: 'Recompiling ', newClass name, '...'.\n\n	self basicRemoveClass: oldClass.\n	\n	SystemAnnouncer current announce: (ClassMigrated new\n		theClass: newClass;\n		oldClass: oldClass;\n		yourself).\n	\n	^ newClass",messageSends:[",","at:","current","addSubclassOf:named:instanceVariableNames:package:","basicSwapClassNames:with:","on:do:","copyClass:to:","basicRemoveClass:","signal","rawRenameClass:to:","do:displayingProgress:","subclasses","migrateClass:superclass:","name","announce:","theClass:","new","oldClass:","yourself"],referencedClasses:["Smalltalk","Error","SystemAnnouncer","ClassMigrated"]}),e.ClassBuilder),e.addMethod(e.method({selector:"rawRenameClass:to:",category:"private",fn:function(t,n){var s=this;return e.withContext(function(){return e[n]=t,s},function(r){r.fill(s,"rawRenameClass:to:",{aClass:t,aString:n},e.ClassBuilder)})},args:["aClass","aString"],source:"rawRenameClass: aClass to: aString\n	<\n		smalltalk[aString] = aClass;\n	>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"renameClass:to:",category:"class migration",fn:function(s,r){function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function o(){return e.ClassRenamed||("undefined"==typeof ClassRenamed?t:ClassRenamed)}var i=this;return e.withContext(function(){var e,t;return i._basicRenameClass_to_(s,r),n(s)._recompile(),e=n(o())._new(),n(e)._theClass_(s),t=n(e)._yourself(),n(n(a())._current())._announce_(t),i},function(t){t.fill(i,"renameClass:to:",{aClass:s,className:r},e.ClassBuilder)})},args:["aClass","className"],source:'renameClass: aClass to: className\n	self basicRenameClass: aClass to: className.\n	\n	"Recompile the class to fix potential issues with super sends"\n	aClass recompile.\n	\n	SystemAnnouncer current\n		announce: (ClassRenamed new\n			theClass: aClass;\n			yourself)',messageSends:["basicRenameClass:to:","recompile","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassRenamed"]}),e.ClassBuilder),e.addMethod(e.method({selector:"setupClass:",category:"public",fn:function(t){var n=this;return e.withContext(function(){return e.init(t),n},function(s){s.fill(n,"setupClass:",{aClass:t},e.ClassBuilder)})},args:["aClass"],source:"setupClass: aClass\n	<smalltalk.init(aClass);>",messageSends:[],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"superclass:subclass:",category:"class definition",fn:function(n,s){var r=this;return e.withContext(function(){var e;return e=r._superclass_subclass_instanceVariableNames_package_(n,s,"",t)},function(t){t.fill(r,"superclass:subclass:",{aClass:n,className:s},e.ClassBuilder)})},args:["aClass","className"],source:"superclass: aClass subclass: className\n	^ self superclass: aClass subclass: className instanceVariableNames: '' package: nil",messageSends:["superclass:subclass:instanceVariableNames:package:"],referencedClasses:[]}),e.ClassBuilder),e.addMethod(e.method({selector:"superclass:subclass:instanceVariableNames:package:",category:"class definition",fn:function(s,r,a,o){function i(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function l(){return e.ClassAdded||("undefined"==typeof ClassAdded?t:ClassAdded)}var c,u=this;return e.withContext(function(){var e,d,f,h,m;return e=u._instanceVariableNamesFor_(a),d=($receiver=o)==t||null==$receiver?"unclassified":o,c=u._addSubclassOf_named_instanceVariableNames_package_(s,r,e,d),u._setupClass_(c),f=n(l())._new(),n(f)._theClass_(c),h=n(f)._yourself(),n(n(i())._current())._announce_(h),m=c},function(t){t.fill(u,"superclass:subclass:instanceVariableNames:package:",{aClass:s,className:r,ivarNames:a,packageName:o,newClass:c},e.ClassBuilder)})},args:["aClass","className","ivarNames","packageName"],source:"superclass: aClass subclass: className instanceVariableNames: ivarNames package: packageName\n	| newClass |\n	\n	newClass := self addSubclassOf: aClass\n		named: className instanceVariableNames: (self instanceVariableNamesFor: ivarNames)\n		package: (packageName ifNil: [ 'unclassified' ]).\n	self setupClass: newClass.\n	\n	SystemAnnouncer current\n		announce: (ClassAdded new\n			theClass: newClass;\n			yourself).\n	\n	^ newClass",messageSends:["addSubclassOf:named:instanceVariableNames:package:","instanceVariableNamesFor:","ifNil:","setupClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassAdded"]}),e.ClassBuilder),e.addClass("ClassCategoryReader",e.Object,["class","category"],"Kernel-Classes"),e.ClassCategoryReader.comment="I provide a mechanism for retrieving class descriptions stored on a file in the Smalltalk chunk format.",e.addMethod(e.method({selector:"class:category:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s["@class"]=t,s["@category"]=n,s},function(r){r.fill(s,"class:category:",{aClass:t,aString:n},e.ClassCategoryReader)})},args:["aClass","aString"],source:"class: aClass category: aString\n	class := aClass.\n	category := aString",messageSends:[],referencedClasses:[]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"compileMethod:",category:"private",fn:function(s){function r(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var a=this;return e.withContext(function(){return n(n(r())._new())._install_forClass_category_(s,a["@class"],a["@category"]),a},function(t){t.fill(a,"compileMethod:",{aString:s},e.ClassCategoryReader)})},args:["aString"],source:"compileMethod: aString\n	Compiler new install: aString forClass: class category: category",messageSends:["install:forClass:category:","new"],referencedClasses:["Compiler"]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.ClassCategoryReader.superclass.fn.prototype._initialize.apply(n(t),[]),t},function(n){n.fill(t,"initialize",{},e.ClassCategoryReader)})},args:[],source:"initialize\n	super initialize.",messageSends:["initialize"],referencedClasses:[]}),e.ClassCategoryReader),e.addMethod(e.method({selector:"scanFrom:",category:"fileIn",fn:function(s){function r(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var a,o=this;return e.withContext(function(t){return n(function(){return e.withContext(function(){return a=n(s)._nextChunk(),n(a)._isEmpty()},function(e){e.fillBlock({},t,1)})})._whileFalse_(function(){return e.withContext(function(){return o._compileMethod_(a)},function(e){e.fillBlock({},t,2)})}),n(n(r())._new())._setupClass_(o["@class"]),o},function(t){t.fill(o,"scanFrom:",{aChunkParser:s,chunk:a},e.ClassCategoryReader)})},args:["aChunkParser"],source:"scanFrom: aChunkParser\n	| chunk |\n	[ chunk := aChunkParser nextChunk.\n	chunk isEmpty ] whileFalse: [\n		self compileMethod: chunk ].\n	ClassBuilder new setupClass: class",messageSends:["whileFalse:","nextChunk","isEmpty","compileMethod:","setupClass:","new"],referencedClasses:["ClassBuilder"]}),e.ClassCategoryReader),e.addClass("ClassCommentReader",e.Object,["class"],"Kernel-Classes"),e.ClassCommentReader.comment="I provide a mechanism for retrieving class comments stored on a file.\n\nSee also `ClassCategoryReader`.",e.addMethod(e.method({selector:"class:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@class"]=t,n},function(s){s.fill(n,"class:",{aClass:t},e.ClassCommentReader)})},args:["aClass"],source:"class: aClass\n	class := aClass",messageSends:[],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.ClassCommentReader.superclass.fn.prototype._initialize.apply(n(t),[]),t},function(n){n.fill(t,"initialize",{},e.ClassCommentReader)})},args:[],source:"initialize\n	super initialize.",messageSends:["initialize"],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"scanFrom:",category:"fileIn",fn:function(t){var s,r=this;return e.withContext(function(){var a;return s=n(t)._nextChunk(),a=n(s)._isEmpty(),e.assert(a)||r._setComment_(s),r},function(n){n.fill(r,"scanFrom:",{aChunkParser:t,chunk:s},e.ClassCommentReader)})},args:["aChunkParser"],source:"scanFrom: aChunkParser\n	| chunk |\n	chunk := aChunkParser nextChunk.\n	chunk isEmpty ifFalse: [\n		self setComment: chunk ].",messageSends:["nextChunk","ifFalse:","isEmpty","setComment:"],referencedClasses:[]}),e.ClassCommentReader),e.addMethod(e.method({selector:"setComment:",category:"private",fn:function(t){var s=this;return e.withContext(function(){return n(s["@class"])._comment_(t),s},function(n){n.fill(s,"setComment:",{aString:t},e.ClassCommentReader)})},args:["aString"],source:"setComment: aString\n	class comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.ClassCommentReader),e.addClass("ClassSorterNode",e.Object,["theClass","level","nodes"],"Kernel-Classes"),e.ClassSorterNode.comment="I provide an algorithm for sorting classes alphabetically.\n\nSee [Issue #143](https://github.com/amber-smalltalk/amber/issues/143) on GitHub.",e.addMethod(e.method({selector:"getNodesFrom:",category:"accessing",fn:function(s){function r(){return e.ClassSorterNode||("undefined"==typeof ClassSorterNode?t:ClassSorterNode)}var a,o,i=this;return e.withContext(function(t){var l;return a=[],o=[],n(s)._do_(function(s){return e.withContext(function(t){return l=n(n(s)._superclass()).__eq(i._theClass()),e.assert(l)?n(a)._add_(s):n(o)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),i["@nodes"]=n(a)._collect_(function(s){return e.withContext(function(){return n(r())._on_classes_level_(s,o,n(i._level()).__plus(1))},function(e){e.fillBlock({each:s},t,4)})}),i},function(t){t.fill(i,"getNodesFrom:",{aCollection:s,children:a,others:o},e.ClassSorterNode)})},args:["aCollection"],source:"getNodesFrom: aCollection\n	| children others |\n	children := #().\n	others := #().\n	aCollection do: [ :each |\n		(each superclass = self theClass)\n			ifTrue: [ children add: each ]\n			ifFalse: [ others add: each ]].\n	nodes:= children collect: [ :each |\n		ClassSorterNode on: each classes: others level: self level + 1 ]",messageSends:["do:","ifTrue:ifFalse:","=","superclass","theClass","add:","collect:","on:classes:level:","+","level"],referencedClasses:["ClassSorterNode"]}),e.ClassSorterNode),e.addMethod(e.method({selector:"level",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@level"]},function(n){n.fill(t,"level",{},e.ClassSorterNode)})},args:[],source:"level\n	^ level",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"level:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@level"]=t,n},function(s){s.fill(n,"level:",{anInteger:t},e.ClassSorterNode)})},args:["anInteger"],source:"level: anInteger\n	level := anInteger",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@nodes"]},function(n){n.fill(t,"nodes",{},e.ClassSorterNode)})},args:[],source:"nodes\n	^ nodes",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ClassSorterNode)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.ClassSorterNode)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"traverseClassesWith:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i;return a=s._theClass(),r.sendIdx.theClass=1,n(t)._add_(a),n(n(s._nodes())._sorted_(function(t,s){return e.withContext(function(e){return o=n(t)._theClass(),e.sendIdx.theClass=2,i=n(o)._name(),e.sendIdx.name=1,n(i).__lt_eq(n(n(s)._theClass())._name())},function(e){e.fillBlock({a:t,b:s},r,1)})}))._do_(function(s){return e.withContext(function(){return n(s)._traverseClassesWith_(t)},function(e){e.fillBlock({aNode:s},r,2)})}),s},function(n){n.fill(s,"traverseClassesWith:",{aCollection:t},e.ClassSorterNode)})},args:["aCollection"],source:'traverseClassesWith: aCollection\n	"sort classes alphabetically Issue #143"\n\n	aCollection add: self theClass.\n	(self nodes sorted: [ :a :b | a theClass name <= b theClass name ]) do: [ :aNode |\n		aNode traverseClassesWith: aCollection ].',messageSends:["add:","theClass","do:","sorted:","nodes","<=","name","traverseClassesWith:"],referencedClasses:[]}),e.ClassSorterNode),e.addMethod(e.method({selector:"on:classes:level:",category:"instance creation",fn:function(t,s,r){var a=this;return e.withContext(function(){var e,o,i;return e=a._new(),n(e)._theClass_(t),n(e)._level_(r),n(e)._getNodesFrom_(s),o=n(e)._yourself(),i=o},function(n){n.fill(a,"on:classes:level:",{aClass:t,aCollection:s,anInteger:r},e.ClassSorterNode.klass)})},args:["aClass","aCollection","anInteger"],source:"on: aClass classes: aCollection level: anInteger\n	^ self new\n		theClass: aClass;\n		level: anInteger;\n		getNodesFrom: aCollection;\n		yourself",messageSends:["theClass:","new","level:","getNodesFrom:","yourself"],referencedClasses:[]}),e.ClassSorterNode.klass)}),define("amber_core/Kernel-Methods",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(smalltalk,nil,_st){smalltalk.addPackage("Kernel-Methods"),smalltalk.packages["Kernel-Methods"].transport={type:"amd",amdNamespace:"amber_core"},smalltalk.addClass("BlockClosure",smalltalk.Object,[],"Kernel-Methods"),smalltalk.BlockClosure.comment="I represent a lexical closure.\nI am is directly mapped to JavaScript Function.\n\n## API\n\n1. Evaluation\n\n    My instances get evaluated with the `#value*` methods in the 'evaluating' protocol.\n\n    Example: ` [ :x | x + 1 ] value: 3 \"Answers 4\" `\n\n2. Control structures\n\n    Blocks are used (together with `Boolean`) for control structures (methods in the `controlling` protocol).\n\n    Example: `aBlock whileTrue: [ ... ]`\n\n3. Error handling\n\n    I provide the `#on:do:` method for handling exceptions.\n\n    Example: ` aBlock on: MessageNotUnderstood do: [ :ex | ... ] `",smalltalk.addMethod(smalltalk.method({selector:"applyTo:arguments:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){return n.apply(e,t)},function(s){s.fill(n,"applyTo:arguments:",{anObject:e,aCollection:t},smalltalk.BlockClosure)})},args:["anObject","aCollection"],source:"applyTo: anObject arguments: aCollection\n	<return self.apply(anObject, aCollection)>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"asCompiledMethod:",category:"converting",fn:function(e){var t=this;return smalltalk.withContext(function(){return smalltalk.method({selector:e,fn:t})},function(n){n.fill(t,"asCompiledMethod:",{aString:e},smalltalk.BlockClosure)})},args:["aString"],source:"asCompiledMethod: aString\n	<return smalltalk.method({selector:aString, fn:self});>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"compiledSource",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.toString()},function(t){t.fill(e,"compiledSource",{},smalltalk.BlockClosure)})},args:[],source:"compiledSource\n	<return self.toString()>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"currySelf",category:"converting",fn:function(){var e=this;return smalltalk.withContext(function(){return function(){var t=[this];return t.push.apply(t,arguments),e.apply(null,t)}},function(t){t.fill(e,"currySelf",{},smalltalk.BlockClosure)})},args:[],source:"currySelf\n	\"Transforms [ :selfarg :x :y | stcode ] block\n	which represents JS function (selfarg, x, y, ...) {jscode}\n	into function (x, y, ...) {jscode} that takes selfarg from 'this'.\n	IOW, it is usable as JS method and first arg takes the receiver.\"\n	\n	<\n		return function () {\n			var args = [ this ];\n			args.push.apply(args, arguments);\n			return self.apply(null, args);\n		}\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"ensure:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){try{return t._value()}finally{e._value()}return t},function(n){n.fill(t,"ensure:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"ensure: aBlock\n	<try{return self._value()}finally{aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"fork",category:"timeout/interval",fn:function(){function e(){return smalltalk.ForkPool||("undefined"==typeof ForkPool?nil:ForkPool)}var t=this;return smalltalk.withContext(function(){return _st(_st(e())._default())._fork_(t),t},function(e){e.fill(t,"fork",{},smalltalk.BlockClosure)})},args:[],source:"fork\n	ForkPool default fork: self",messageSends:["fork:","default"],referencedClasses:["ForkPool"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"new",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){return new e},function(t){t.fill(e,"new",{},smalltalk.BlockClosure)})},args:[],source:'new\n	"Use the receiver as a JS constructor.\n	*Do not* use this method to instanciate Smalltalk objects!"\n	<return new self()>',messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._newWithValues_([e])},function(n){n.fill(t,"newValue:",{anObject:e},smalltalk.BlockClosure)})},args:["anObject"],source:"newValue: anObject\n	^ self newWithValues: { anObject }",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var s;return s=n._newWithValues_([e,t])},function(s){s.fill(n,"newValue:value:",{anObject:e,anObject2:t},smalltalk.BlockClosure)})},args:["anObject","anObject2"],source:"newValue: anObject value: anObject2\n	^ self newWithValues: { anObject. anObject2 }.",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newValue:value:value:",category:"evaluating",fn:function(e,t,n){var s=this;return smalltalk.withContext(function(){var r;return r=s._newWithValues_([e,t,n])},function(r){r.fill(s,"newValue:value:value:",{anObject:e,anObject2:t,anObject3:n},smalltalk.BlockClosure)})},args:["anObject","anObject2","anObject3"],source:"newValue: anObject value: anObject2 value: anObject3\n	^ self newWithValues: { anObject. anObject2. anObject3 }.",messageSends:["newWithValues:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"newWithValues:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=function(){};n.prototype=t.prototype;var s=new n,r=t.apply(s,e);return"object"==typeof r?r:s},function(n){n.fill(t,"newWithValues:",{aCollection:e},smalltalk.BlockClosure)})},args:["aCollection"],source:"newWithValues: aCollection\n	\"Use the receiver as a JavaScript constructor with a variable number of arguments.\n	Answer the object created using the operator `new`.\n\n	This algorithm was inspired by http://stackoverflow.com/a/6069331.\n\n	Here's a general breakdown of what's going on:\n	1) Create a new, empty constructor function.\n	2) Set it's prototype to the receiver's prototype. Because the receiver is a `BlockClosure`, it is also a JavaScript function.\n	3) Instantiate a new object using the constructor function just created. \n		This forces the interpreter to set the internal [[prototype]] property to what was set on the function before. \n   		This has to be done, as we have no access to the [[prototype]] property externally.\n	4) Apply `self` to the object I just instantiated.\"\n\n	<\n		var constructor = function() {};\n		constructor.prototype = self.prototype;\n		var object = new constructor;\n		var result = self.apply(object, aCollection);\n		return typeof result === \"object\" ? result : object;\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"numArgs",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.length},function(t){t.fill(e,"numArgs",{},smalltalk.BlockClosure)})},args:[],source:"numArgs\n	<return self.length>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"on:do:",category:"error handling",fn:function(e,t){function n(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var s=this;return smalltalk.withContext(function(r){var a,o;return o=s._try_catch_(s,function(s){var o;return smalltalk.withContext(function(){return o=_st(_st(n())._current())._asSmalltalkException_(s),a=_st(o)._isKindOf_(e),smalltalk.assert(a)?_st(t)._value_(o):_st(o)._resignal()},function(e){e.fillBlock({error:s,smalltalkError:o},r,1)})})},function(n){n.fill(s,"on:do:",{anErrorClass:e,aBlock:t},smalltalk.BlockClosure)})},args:["anErrorClass","aBlock"],source:'on: anErrorClass do: aBlock\n	"All exceptions thrown in the Smalltalk stack are cought.\n	Convert all JS exceptions to JavaScriptException instances."\n	\n	^ self try: self catch: [ :error | | smalltalkError |\n		smalltalkError := Smalltalk current asSmalltalkException: error.\n		(smalltalkError isKindOf: anErrorClass)\n		ifTrue: [ aBlock value: smalltalkError ]\n		ifFalse: [ smalltalkError resignal ] ]',messageSends:["try:catch:","asSmalltalkException:","current","ifTrue:ifFalse:","isKindOf:","value:","resignal"],referencedClasses:["Smalltalk"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return nil},function(t){t.fill(e,"receiver",{},smalltalk.BlockClosure)})},args:[],source:"receiver\n	^ nil",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"timeToRun",category:"evaluating",fn:function(){function e(){return smalltalk.Date||("undefined"==typeof Date?nil:Date)
}var t=this;return smalltalk.withContext(function(){var n;return n=_st(e())._millisecondsToRun_(t)},function(e){e.fill(t,"timeToRun",{},smalltalk.BlockClosure)})},args:[],source:'timeToRun\n	"Answer the number of milliseconds taken to execute this block."\n\n	^ Date millisecondsToRun: self',messageSends:["millisecondsToRun:"],referencedClasses:["Date"]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){return e()},function(t){t.fill(e,"value",{},smalltalk.BlockClosure)})},args:[],source:"value\n	<return self();>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){return t(e)},function(n){n.fill(t,"value:",{anArg:e},smalltalk.BlockClosure)})},args:["anArg"],source:"value: anArg\n	<return self(anArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){return n(e,t)},function(s){s.fill(n,"value:value:",{firstArg:e,secondArg:t},smalltalk.BlockClosure)})},args:["firstArg","secondArg"],source:"value: firstArg value: secondArg\n	<return self(firstArg, secondArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"value:value:value:",category:"evaluating",fn:function(e,t,n){var s=this;return smalltalk.withContext(function(){return s(e,t,n)},function(r){r.fill(s,"value:value:value:",{firstArg:e,secondArg:t,thirdArg:n},smalltalk.BlockClosure)})},args:["firstArg","secondArg","thirdArg"],source:"value: firstArg value: secondArg value: thirdArg\n	<return self(firstArg, secondArg, thirdArg);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithInterval:",category:"timeout/interval",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=setInterval(t,e);return smalltalk.Timeout._on_(n)},function(n){n.fill(t,"valueWithInterval:",{aNumber:e},smalltalk.BlockClosure)})},args:["aNumber"],source:"valueWithInterval: aNumber\n	<\n		var interval = setInterval(self, aNumber);\n		return smalltalk.Timeout._on_(interval);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithPossibleArguments:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){return t.apply(null,e)},function(n){n.fill(t,"valueWithPossibleArguments:",{aCollection:e},smalltalk.BlockClosure)})},args:["aCollection"],source:"valueWithPossibleArguments: aCollection\n	<return self.apply(null, aCollection);>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"valueWithTimeout:",category:"timeout/interval",fn:function(e){var t=this;return smalltalk.withContext(function(){var n=setTimeout(t,e);return smalltalk.Timeout._on_(n)},function(n){n.fill(t,"valueWithTimeout:",{aNumber:e},smalltalk.BlockClosure)})},args:["aNumber"],source:"valueWithTimeout: aNumber\n	<\n		var timeout = setTimeout(self, aNumber);\n		return smalltalk.Timeout._on_(timeout);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileFalse",category:"controlling",fn:function(){var e=this;return smalltalk.withContext(function(t){return e._whileFalse_(function(){return smalltalk.withContext(function(){},function(e){e.fillBlock({},t,1)})}),e},function(t){t.fill(e,"whileFalse",{},smalltalk.BlockClosure)})},args:[],source:"whileFalse\n	self whileFalse: []",messageSends:["whileFalse:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileFalse:",category:"controlling",fn:function(e){var t=this;return smalltalk.withContext(function(){for(;!smalltalk.assert(t._value());)e._value();return t},function(n){n.fill(t,"whileFalse:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"whileFalse: aBlock\n	<while(!smalltalk.assert(self._value())) {aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileTrue",category:"controlling",fn:function(){var e=this;return smalltalk.withContext(function(t){return e._whileTrue_(function(){return smalltalk.withContext(function(){},function(e){e.fillBlock({},t,1)})}),e},function(t){t.fill(e,"whileTrue",{},smalltalk.BlockClosure)})},args:[],source:"whileTrue\n	self whileTrue: []",messageSends:["whileTrue:"],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addMethod(smalltalk.method({selector:"whileTrue:",category:"controlling",fn:function(e){var t=this;return smalltalk.withContext(function(){for(;smalltalk.assert(t._value());)e._value();return t},function(n){n.fill(t,"whileTrue:",{aBlock:e},smalltalk.BlockClosure)})},args:["aBlock"],source:"whileTrue: aBlock\n	<while(smalltalk.assert(self._value())) {aBlock._value()}>",messageSends:[],referencedClasses:[]}),smalltalk.BlockClosure),smalltalk.addClass("CompiledMethod",smalltalk.Object,[],"Kernel-Methods"),smalltalk.CompiledMethod.comment="I represent a class method of the system. I hold the source and compiled code of a class method.\n\n## API\nMy instances can be accessed using `Behavior >> #methodAt:`\n\n    Object methodAt: 'asString'\n\nSource code access:\n\n	(String methodAt: 'lines') source\n\nReferenced classes:\n\n	(String methodAt: 'lines') referencedClasses\n\nMessages sent from an instance:\n	\n	(String methodAt: 'lines') messageSends",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.args||[]},function(t){t.fill(e,"arguments",{},smalltalk.CompiledMethod)})},args:[],source:"arguments\n	<return self.args || []>",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"category",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e._basicAt_("category"),n=($receiver=t)==nil||null==$receiver?e._defaultCategory():t},function(t){t.fill(e,"category",{},smalltalk.CompiledMethod)})},args:[],source:"category\n	^ (self basicAt: 'category') ifNil: [ self defaultCategory ]",messageSends:["ifNil:","basicAt:","defaultCategory"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"category:",category:"accessing",fn:function(e){function t(){return smalltalk.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?nil:SystemAnnouncer)}function n(){return smalltalk.MethodMoved||("undefined"==typeof MethodMoved?nil:MethodMoved)}var s,r=this;return smalltalk.withContext(function(a){var o,i,l,c,u,d,f,h;return s=r._protocol(),a.sendIdx.protocol=1,r._basicAt_put_("category",e),o=_st(n())._new(),_st(o)._method_(r),_st(o)._oldProtocol_(s),i=_st(o)._yourself(),_st(_st(t())._current())._announce_(i),l=r._methodClass(),a.sendIdx.methodClass=1,($receiver=l)==nil||null==$receiver||(c=r._methodClass(),a.sendIdx.methodClass=2,u=_st(c)._organization(),a.sendIdx.organization=1,_st(u)._addElement_(e),d=r._methodClass(),a.sendIdx.methodClass=3,f=_st(d)._methods(),h=_st(f)._select_(function(e){return smalltalk.withContext(function(){return _st(_st(e)._protocol()).__eq(s)},function(t){t.fillBlock({each:e},a,2)})}),_st(h)._ifEmpty_(function(){return smalltalk.withContext(function(){return _st(_st(r._methodClass())._organization())._removeElement_(s)},function(e){e.fillBlock({},a,3)})})),r},function(t){t.fill(r,"category:",{aString:e,oldProtocol:s},smalltalk.CompiledMethod)})},args:["aString"],source:"category: aString\n	| oldProtocol |\n	oldProtocol := self protocol.\n	self basicAt: 'category' put: aString.\n\n	SystemAnnouncer current announce: (MethodMoved new\n		method: self;\n		oldProtocol: oldProtocol;\n		yourself).\n\n	self methodClass ifNotNil: [\n		self methodClass organization addElement: aString.\n	\n		(self methodClass methods\n			select: [ :each | each protocol = oldProtocol ])\n			ifEmpty: [ self methodClass organization removeElement: oldProtocol ] ]",messageSends:["protocol","basicAt:put:","announce:","current","method:","new","oldProtocol:","yourself","ifNotNil:","methodClass","addElement:","organization","ifEmpty:","select:","methods","=","removeElement:"],referencedClasses:["SystemAnnouncer","MethodMoved"]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"defaultCategory",category:"defaults",fn:function(){var e=this;return smalltalk.withContext(function(){return"as yet unclassified"},function(t){t.fill(e,"defaultCategory",{},smalltalk.CompiledMethod)})},args:[],source:"defaultCategory\n	^ 'as yet unclassified'",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"fn",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("fn")},function(t){t.fill(e,"fn",{},smalltalk.CompiledMethod)})},args:[],source:"fn\n	^ self basicAt: 'fn'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"fn:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("fn",e),t},function(n){n.fill(t,"fn:",{aBlock:e},smalltalk.CompiledMethod)})},args:["aBlock"],source:"fn: aBlock\n	self basicAt: 'fn' put: aBlock",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isCompiledMethod",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isCompiledMethod",{},smalltalk.CompiledMethod)})},args:[],source:"isCompiledMethod\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isOverridden",category:"testing",fn:function(){var e,t=this;return smalltalk.withContext(function(n){var s,r={};try{return e=t._selector(),_st(t._methodClass())._allSubclassesDo_(function(t){return smalltalk.withContext(function(){if(s=_st(t)._includesSelector_(e),smalltalk.assert(s))throw r=[!0]},function(e){e.fillBlock({each:t},n,1)})}),!1}catch(a){if(a===r)return a[0];throw a}},function(n){n.fill(t,"isOverridden",{selector:e},smalltalk.CompiledMethod)})},args:[],source:"isOverridden\n	| selector |\n    \n    selector := self selector.\n    self methodClass allSubclassesDo: [ :each |\n	    (each includesSelector: selector)\n        	ifTrue: [ ^ true ] ].\n	^ false",messageSends:["selector","allSubclassesDo:","methodClass","ifTrue:","includesSelector:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"isOverride",category:"testing",fn:function(){var e,t=this;return smalltalk.withContext(function(n){var s,r,a;return s=t._methodClass(),n.sendIdx.methodClass=1,e=_st(s)._superclass(),n.sendIdx.superclass=1,r=e,($receiver=r)==nil||null==$receiver?!1:a=_st(_st(_st(t._methodClass())._superclass())._lookupSelector_(t._selector()))._notNil()},function(n){n.fill(t,"isOverride",{superclass:e},smalltalk.CompiledMethod)})},args:[],source:"isOverride\n	| superclass |\n    \n    superclass := self methodClass superclass.\n	superclass ifNil: [ ^ false ].\n	\n    ^ (self methodClass superclass lookupSelector: self selector) notNil",messageSends:["superclass","methodClass","ifNil:","notNil","lookupSelector:","selector"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"messageSends",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("messageSends")},function(t){t.fill(e,"messageSends",{},smalltalk.CompiledMethod)})},args:[],source:"messageSends\n	^ self basicAt: 'messageSends'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"methodClass",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("methodClass")},function(t){t.fill(e,"methodClass",{},smalltalk.CompiledMethod)})},args:[],source:"methodClass\n	^ self basicAt: 'methodClass'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"protocol",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._category()},function(t){t.fill(e,"protocol",{},smalltalk.CompiledMethod)})},args:[],source:"protocol\n	^ self category",messageSends:["category"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"protocol:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._category_(e),t},function(n){n.fill(t,"protocol:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"protocol: aString\n	self category: aString",messageSends:["category:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"referencedClasses",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("referencedClasses")},function(t){t.fill(e,"referencedClasses",{},smalltalk.CompiledMethod)})},args:[],source:"referencedClasses\n	^ self basicAt: 'referencedClasses'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._basicAt_("selector")},function(t){t.fill(e,"selector",{},smalltalk.CompiledMethod)})},args:[],source:"selector\n	^ self basicAt: 'selector'",messageSends:["basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("selector",e),t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"selector: aString\n	self basicAt: 'selector' put: aString",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"sendTo:arguments:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var s;return s=_st(n._fn())._applyTo_arguments_(e,t)},function(s){s.fill(n,"sendTo:arguments:",{anObject:e,aCollection:t},smalltalk.CompiledMethod)})},args:["anObject","aCollection"],source:"sendTo: anObject arguments: aCollection\n	^ self fn applyTo: anObject arguments: aCollection",messageSends:["applyTo:arguments:","fn"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"source",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e._basicAt_("source"),n=($receiver=t)==nil||null==$receiver?"":t},function(t){t.fill(e,"source",{},smalltalk.CompiledMethod)})},args:[],source:"source\n	^ (self basicAt: 'source') ifNil: [ '' ]",messageSends:["ifNil:","basicAt:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addMethod(smalltalk.method({selector:"source:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t._basicAt_put_("source",e),t},function(n){n.fill(t,"source:",{aString:e},smalltalk.CompiledMethod)})},args:["aString"],source:"source: aString\n	self basicAt: 'source' put: aString",messageSends:["basicAt:put:"],referencedClasses:[]}),smalltalk.CompiledMethod),smalltalk.addClass("ForkPool",smalltalk.Object,["poolSize","maxPoolSize","queue","worker"],"Kernel-Methods"),smalltalk.ForkPool.comment="I am responsible for handling forked blocks.\nThe pool size sets the maximum concurrent forked blocks.\n\n## API\n\nThe default instance is accessed with `#default`.\nThe maximum concurrent forked blocks can be set with `#maxPoolSize:`.\n\nForking is done via `BlockClosure >> #fork`",smalltalk.addMethod(smalltalk.method({selector:"addWorker",category:"private",fn:function(){var e=this;return smalltalk.withContext(function(){return _st(e["@worker"])._valueWithTimeout_(0),e["@poolSize"]=_st(e["@poolSize"]).__plus(1),e},function(t){t.fill(e,"addWorker",{},smalltalk.ForkPool)})},args:[],source:"addWorker\n	worker valueWithTimeout: 0.\n	poolSize := poolSize + 1",messageSends:["valueWithTimeout:","+"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",category:"defaults",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._class())._defaultMaxPoolSize()},function(t){t.fill(e,"defaultMaxPoolSize",{},smalltalk.ForkPool)})},args:[],source:"defaultMaxPoolSize\n	^ self class defaultMaxPoolSize",messageSends:["defaultMaxPoolSize","class"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"fork:",category:"actions",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(t["@poolSize"]).__lt(t._maxPoolSize()),smalltalk.assert(n)&&t._addWorker(),_st(t["@queue"])._nextPut_(e),t},function(n){n.fill(t,"fork:",{aBlock:e},smalltalk.ForkPool)})},args:["aBlock"],source:"fork: aBlock\n	poolSize < self maxPoolSize ifTrue: [ self addWorker ].\n	queue nextPut: aBlock",messageSends:["ifTrue:","<","maxPoolSize","addWorker","nextPut:"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"initialize",category:"initialization",fn:function(){function e(){return smalltalk.Queue||("undefined"==typeof Queue?nil:Queue)}var t=this;return smalltalk.withContext(function(){return smalltalk.ForkPool.superclass.fn.prototype._initialize.apply(_st(t),[]),t["@poolSize"]=0,t["@queue"]=_st(e())._new(),t["@worker"]=t._makeWorker(),t},function(e){e.fill(t,"initialize",{},smalltalk.ForkPool)})},args:[],source:"initialize\n	super initialize.\n	\n	poolSize := 0.\n	queue := Queue new.\n	worker := self makeWorker",messageSends:["initialize","new","makeWorker"],referencedClasses:["Queue"]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"makeWorker",category:"initialization",fn:function(){function e(){return smalltalk.Object||("undefined"==typeof Object?nil:Object)}var t,n=this;return smalltalk.withContext(function(s){var r,a;return t=_st(e())._new(),a=function(){var e;return smalltalk.withContext(function(s){return n["@poolSize"]=_st(n["@poolSize"]).__minus(1),n["@poolSize"],e=_st(n["@queue"])._nextIfAbsent_(function(){return smalltalk.withContext(function(){return t},function(e){e.fillBlock({},s,2)})}),r=_st(e).__eq_eq(t),smalltalk.assert(r)?void 0:_st(function(){return smalltalk.withContext(function(){return _st(e)._value()},function(e){e.fillBlock({},s,4)})})._ensure_(function(){return smalltalk.withContext(function(){return n._addWorker()},function(e){e.fillBlock({},s,5)})})},function(t){t.fillBlock({block:e},s,1)})}},function(e){e.fill(n,"makeWorker",{sentinel:t},smalltalk.ForkPool)})},args:[],source:"makeWorker\n	| sentinel |\n	sentinel := Object new.\n	^ [ | block |\n		poolSize := poolSize - 1.\n		block := queue nextIfAbsent: [ sentinel ].\n		block == sentinel ifFalse: [\n			[ block value ] ensure: [ self addWorker ] ]]",messageSends:["new","-","nextIfAbsent:","ifFalse:","==","ensure:","value","addWorker"],referencedClasses:["Object"]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@maxPoolSize"],n=($receiver=t)==nil||null==$receiver?e._defaultMaxPoolSize():t},function(t){t.fill(e,"maxPoolSize",{},smalltalk.ForkPool)})},args:[],source:"maxPoolSize\n	^ maxPoolSize ifNil: [ self defaultMaxPoolSize ]",messageSends:["ifNil:","defaultMaxPoolSize"],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.addMethod(smalltalk.method({selector:"maxPoolSize:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@maxPoolSize"]=e,t},function(n){n.fill(t,"maxPoolSize:",{anInteger:e},smalltalk.ForkPool)})},args:["anInteger"],source:"maxPoolSize: anInteger\n	maxPoolSize := anInteger",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool),smalltalk.ForkPool.klass.iVarNames=["default"],smalltalk.addMethod(smalltalk.method({selector:"default",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@default"],($receiver=t)==nil||null==$receiver?(e["@default"]=e._new(),n=e["@default"]):n=t,n},function(t){t.fill(e,"default",{},smalltalk.ForkPool.klass)})},args:[],source:"default\n	^ default ifNil: [ default := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addMethod(smalltalk.method({selector:"defaultMaxPoolSize",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return 100},function(t){t.fill(e,"defaultMaxPoolSize",{},smalltalk.ForkPool.klass)})},args:[],source:"defaultMaxPoolSize\n	^ 100",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addMethod(smalltalk.method({selector:"resetDefault",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e["@default"]=nil,e},function(t){t.fill(e,"resetDefault",{},smalltalk.ForkPool.klass)})},args:[],source:"resetDefault\n	default := nil",messageSends:[],referencedClasses:[]}),smalltalk.ForkPool.klass),smalltalk.addClass("Message",smalltalk.Object,["selector","arguments"],"Kernel-Methods"),smalltalk.Message.comment="In general, the system does not use instances of me for efficiency reasons.\nHowever, when a message is not understood by its receiver, the interpreter will make up an instance of it in order to capture the information involved in an actual message transmission.\nThis instance is sent it as an argument with the message `#doesNotUnderstand:` to the receiver.\n\nSee boot.js, `messageNotUnderstood` and its counterpart `Object >> #doesNotUnderstand:`\n\n## API\n\nBesides accessing methods, `#sendTo:` provides a convenient way to send a message to an object.",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@arguments"]},function(t){t.fill(e,"arguments",{},smalltalk.Message)})},args:[],source:"arguments\n	^ arguments",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"arguments:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@arguments"]=e,t},function(n){n.fill(t,"arguments:",{anArray:e},smalltalk.Message)})},args:["anArray"],source:"arguments: anArray\n	arguments := anArray",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return smalltalk.Message.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._selector()),n.sendIdx["nextPutAll:"]=2,s=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.Message)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream\n		nextPutAll: '(';\n		nextPutAll: self selector;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","selector"],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@selector"]},function(t){t.fill(e,"selector",{},smalltalk.Message)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@selector"]=e,t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.Message)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"sendTo:",category:"actions",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(e)._perform_withArguments_(t._selector(),t._arguments())},function(n){n.fill(t,"sendTo:",{anObject:e},smalltalk.Message)})},args:["anObject"],source:"sendTo: anObject\n	^ anObject perform: self selector withArguments: self arguments",messageSends:["perform:withArguments:","selector","arguments"],referencedClasses:[]}),smalltalk.Message),smalltalk.addMethod(smalltalk.method({selector:"selector:arguments:",category:"instance creation",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var s,r,a;return s=n._new(),_st(s)._selector_(e),_st(s)._arguments_(t),r=_st(s)._yourself(),a=r},function(s){s.fill(n,"selector:arguments:",{aString:e,anArray:t},smalltalk.Message.klass)})},args:["aString","anArray"],source:"selector: aString arguments: anArray\n	^ self new\n		selector: aString;\n		arguments: anArray;\n		yourself",messageSends:["selector:","new","arguments:","yourself"],referencedClasses:[]}),smalltalk.Message.klass),smalltalk.addClass("MessageSend",smalltalk.Object,["receiver","message"],"Kernel-Methods"),smalltalk.MessageSend.comment="I encapsulate message sends to objects. Arguments can be either predefined or supplied when the message send is performed. \n\n## API\n\nUse `#value` to perform a message send with its predefined arguments and `#value:*` if additonal arguments have to supplied.",smalltalk.addMethod(smalltalk.method({selector:"arguments",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._arguments()},function(t){t.fill(e,"arguments",{},smalltalk.MessageSend)})},args:[],source:"arguments\n	^ message arguments",messageSends:["arguments"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"arguments:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t["@message"])._arguments_(e),t},function(n){n.fill(t,"arguments:",{aCollection:e},smalltalk.MessageSend)})},args:["aCollection"],source:"arguments: aCollection\n	message arguments: aCollection",messageSends:["arguments:"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"initialize",category:"initialization",fn:function(){function e(){return smalltalk.Message||("undefined"==typeof Message?nil:Message)}var t=this;return smalltalk.withContext(function(){return smalltalk.MessageSend.superclass.fn.prototype._initialize.apply(_st(t),[]),t["@message"]=_st(e())._new(),t},function(e){e.fill(t,"initialize",{},smalltalk.MessageSend)})},args:[],source:"initialize\n	super initialize.\n	message := Message new",messageSends:["initialize","new"],referencedClasses:["Message"]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return smalltalk.MessageSend.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._receiver()),n.sendIdx["nextPutAll:"]=2,_st(e)._nextPutAll_(" >> "),n.sendIdx["nextPutAll:"]=3,_st(e)._nextPutAll_(t._selector()),n.sendIdx["nextPutAll:"]=4,s=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.MessageSend)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream\n		nextPutAll: '(';\n		nextPutAll: self receiver;\n		nextPutAll: ' >> ';\n		nextPutAll: self selector;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","receiver","selector"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@receiver"]},function(t){t.fill(e,"receiver",{},smalltalk.MessageSend)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"receiver:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@receiver"]=e,t},function(n){n.fill(t,"receiver:",{anObject:e},smalltalk.MessageSend)})},args:["anObject"],source:"receiver: anObject\n	receiver := anObject",messageSends:[],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._selector()},function(t){t.fill(e,"selector",{},smalltalk.MessageSend)})},args:[],source:"selector\n	^ message selector",messageSends:["selector"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"selector:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t["@message"])._selector_(e),t},function(n){n.fill(t,"selector:",{aString:e},smalltalk.MessageSend)})},args:["aString"],source:"selector: aString\n	message selector: aString",messageSends:["selector:"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value",category:"evaluating",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e["@message"])._sendTo_(e._receiver())},function(t){t.fill(e,"value",{},smalltalk.MessageSend)})},args:[],source:"value\n	^ message sendTo: self receiver",messageSends:["sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:",category:"evaluating",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,s,r;return n=t["@message"],_st(n)._arguments_([e]),s=_st(n)._sendTo_(t._receiver()),r=s},function(n){n.fill(t,"value:",{anObject:e},smalltalk.MessageSend)})},args:["anObject"],source:"value: anObject\n	^ message \n		arguments: { anObject };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:value:",category:"evaluating",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var s,r,a;return s=n["@message"],_st(s)._arguments_([e,t]),r=_st(s)._sendTo_(n._receiver()),a=r},function(s){s.fill(n,"value:value:",{firstArgument:e,secondArgument:t},smalltalk.MessageSend)})},args:["firstArgument","secondArgument"],source:"value: firstArgument value: secondArgument\n	^ message \n		arguments: { firstArgument. secondArgument };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"value:value:value:",category:"evaluating",fn:function(e,t,n){var s=this;return smalltalk.withContext(function(){var r,a,o;return r=s["@message"],_st(r)._arguments_([e,t,n]),a=_st(r)._sendTo_(s._receiver()),o=a},function(r){r.fill(s,"value:value:value:",{firstArgument:e,secondArgument:t,thirdArgument:n},smalltalk.MessageSend)})},args:["firstArgument","secondArgument","thirdArgument"],source:"value: firstArgument value: secondArgument value: thirdArgument\n	^ message \n		arguments: { firstArgument. secondArgument. thirdArgument };\n		sendTo: self receiver",messageSends:["arguments:","sendTo:","receiver"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addMethod(smalltalk.method({selector:"valueWithPossibleArguments:",category:"evaluating",fn:function(e){var t=this;
return smalltalk.withContext(function(){var n;return t._arguments_(e),n=t._value()},function(n){n.fill(t,"valueWithPossibleArguments:",{aCollection:e},smalltalk.MessageSend)})},args:["aCollection"],source:"valueWithPossibleArguments: aCollection\n	self arguments: aCollection.\n	^ self value",messageSends:["arguments:","value"],referencedClasses:[]}),smalltalk.MessageSend),smalltalk.addClass("MethodContext",smalltalk.Object,[],"Kernel-Methods"),smalltalk.MethodContext.comment="I hold all the dynamic state associated with the execution of either a method activation resulting from a message send. I am used to build the call stack while debugging.\n\nMy instances are JavaScript `SmalltalkMethodContext` objects defined in `boot.js`.",smalltalk.addMethod(smalltalk.method({selector:"asString",category:"converting",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s,r;return n=e._isBlockContext(),smalltalk.assert(n)?(s="a block (in ".__comma(_st(e._methodContext())._asString()),t.sendIdx[","]=2,r=_st(s).__comma(")"),t.sendIdx[","]=1):(r=_st(_st(_st(_st(e._receiver())._class())._name()).__comma(" >> ")).__comma(e._selector()),t.sendIdx[","]=3),r},function(t){t.fill(e,"asString",{},smalltalk.MethodContext)})},args:[],source:"asString\n	^ self isBlockContext\n		ifTrue: [ 'a block (in ', self methodContext asString, ')' ]\n		ifFalse: [ self receiver class name, ' >> ', self selector ]",messageSends:["ifTrue:ifFalse:","isBlockContext",",","asString","methodContext","name","class","receiver","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"evaluatedSelector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.evaluatedSelector},function(t){t.fill(e,"evaluatedSelector",{},smalltalk.MethodContext)})},args:[],source:"evaluatedSelector\n	<return self.evaluatedSelector>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"home",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.homeContext},function(t){t.fill(e,"home",{},smalltalk.MethodContext)})},args:[],source:"home\n	<return self.homeContext>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"index",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.index||0},function(t){t.fill(e,"index",{},smalltalk.MethodContext)})},args:[],source:"index\n	<return self.index || 0>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"isBlockContext",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._selector())._isNil()},function(t){t.fill(e,"isBlockContext",{},smalltalk.MethodContext)})},args:[],source:'isBlockContext\n	"Block context do not have selectors."\n	\n	^ self selector isNil',messageSends:["isNil","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"locals",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.locals||{}},function(t){t.fill(e,"locals",{},smalltalk.MethodContext)})},args:[],source:"locals\n	<return self.locals || {}>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"method",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s,r,a,o;return n=e._methodContext(),t.sendIdx.methodContext=1,($receiver=n)==nil||null==$receiver?o=n:(s=e._methodContext(),t.sendIdx.methodContext=2,r=_st(s)._receiver(),a=_st(r)._class(),o=_st(a)._lookupSelector_(_st(e._methodContext())._selector())),o},function(t){t.fill(e,"method",{},smalltalk.MethodContext)})},args:[],source:"method\n	^ self methodContext ifNotNil: [\n		self methodContext receiver class lookupSelector: self methodContext selector ]",messageSends:["ifNotNil:","methodContext","lookupSelector:","class","receiver","selector"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"methodContext",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n,s;if(t=e._isBlockContext(),!smalltalk.assert(t))return e;if(n=e._outerContext(),($receiver=n)==nil||null==$receiver)s=n;else{var r;r=$receiver,s=_st(r)._methodContext()}return s},function(t){t.fill(e,"methodContext",{},smalltalk.MethodContext)})},args:[],source:"methodContext\n	self isBlockContext ifFalse: [ ^ self ].\n	\n	^ self outerContext ifNotNil: [ :outer |\n		outer methodContext ]",messageSends:["ifFalse:","isBlockContext","ifNotNil:","outerContext","methodContext"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"outerContext",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.outerContext||e.homeContext},function(t){t.fill(e,"outerContext",{},smalltalk.MethodContext)})},args:[],source:"outerContext\n	<return self.outerContext || self.homeContext>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"printOn:",category:"printing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return smalltalk.MethodContext.superclass.fn.prototype._printOn_.apply(_st(t),[e]),_st(e)._nextPutAll_("("),n.sendIdx["nextPutAll:"]=1,_st(e)._nextPutAll_(t._asString()),n.sendIdx["nextPutAll:"]=2,s=_st(e)._nextPutAll_(")"),t},function(n){n.fill(t,"printOn:",{aStream:e},smalltalk.MethodContext)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream \n		nextPutAll: '(';\n		nextPutAll: self asString;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","asString"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"receiver",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.receiver},function(t){t.fill(e,"receiver",{},smalltalk.MethodContext)})},args:[],source:"receiver\n	<return self.receiver>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"selector",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.selector?smalltalk.convertSelector(e.selector):nil},function(t){t.fill(e,"selector",{},smalltalk.MethodContext)})},args:[],source:"selector\n	<\n		if(self.selector) {\n			return smalltalk.convertSelector(self.selector);\n		} else {\n			return nil;\n		}\n	>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"sendIndexAt:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t.sendIdx[e]||0},function(n){n.fill(t,"sendIndexAt:",{aSelector:e},smalltalk.MethodContext)})},args:["aSelector"],source:"sendIndexAt: aSelector\n	<return self.sendIdx[aSelector] || 0>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"sendIndexes",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e.sendIdx},function(t){t.fill(e,"sendIndexes",{},smalltalk.MethodContext)})},args:[],source:"sendIndexes\n	<return self.sendIdx>",messageSends:[],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addMethod(smalltalk.method({selector:"temps",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return e._deprecatedAPI(),t=e._locals()},function(t){t.fill(e,"temps",{},smalltalk.MethodContext)})},args:[],source:"temps\n	self deprecatedAPI.\n	\n	^ self locals",messageSends:["deprecatedAPI","locals"],referencedClasses:[]}),smalltalk.MethodContext),smalltalk.addClass("NativeFunction",smalltalk.Object,[],"Kernel-Methods"),smalltalk.NativeFunction.comment="I am a wrapper around native functions, such as `WebSocket`.\nFor 'normal' functions (whose constructor is the JavaScript `Function` object), use `BlockClosure`.\n\n## API\n\nSee the class-side `instance creation` methods for instance creation.\n\nCreated instances will most probably be instance of `JSObjectProxy`.\n\n## Usage example:\n\n	| ws |\n	ws := NativeFunction constructor: 'WebSocket' value: 'ws://localhost'.\n	ws at: 'onopen' put: [ ws send: 'hey there from Amber' ]",smalltalk.addMethod(smalltalk.method({selector:"constructor:",category:"instance creation",fn:function(aString){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native},function(e){e.fill(self,"constructor:",{aString:aString},smalltalk.NativeFunction.klass)})},args:["aString"],source:"constructor: aString\n	<\n		var native=eval(aString);\n		return new native();\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:",category:"instance creation",fn:function(aString,anObject){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject)},function(e){e.fill(self,"constructor:value:",{aString:aString,anObject:anObject},smalltalk.NativeFunction.klass)})},args:["aString","anObject"],source:"constructor: aString value:anObject\n	<\n		var native=eval(aString);\n		return new native(anObject);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:",category:"instance creation",fn:function(aString,anObject,anObject2){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2)},function(e){e.fill(self,"constructor:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2},smalltalk.NativeFunction.klass)})},args:["aString","anObject","anObject2"],source:"constructor: aString value:anObject value: anObject2\n	<\n		var native=eval(aString);\n		return new native(anObject,anObject2);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"constructor:value:value:value:",category:"instance creation",fn:function(aString,anObject,anObject2,anObject3){var self=this;return smalltalk.withContext(function($ctx1){var native=eval(aString);return new native(anObject,anObject2,anObject3)},function(e){e.fill(self,"constructor:value:value:value:",{aString:aString,anObject:anObject,anObject2:anObject2,anObject3:anObject3},smalltalk.NativeFunction.klass)})},args:["aString","anObject","anObject2","anObject3"],source:"constructor: aString value:anObject value: anObject2 value:anObject3\n	<\n		var native=eval(aString);\n		return new native(anObject,anObject2, anObject3);\n	>",messageSends:[],referencedClasses:[]}),smalltalk.NativeFunction.klass),smalltalk.addMethod(smalltalk.method({selector:"exists:",category:"testing",fn:function(e){function t(){return smalltalk.PlatformInterface||("undefined"==typeof PlatformInterface?nil:PlatformInterface)}var n=this;return smalltalk.withContext(function(){var n;return n=_st(t())._existsGlobal_(e)},function(t){t.fill(n,"exists:",{aString:e},smalltalk.NativeFunction.klass)})},args:["aString"],source:"exists: aString\n	^ PlatformInterface existsGlobal: aString",messageSends:["existsGlobal:"],referencedClasses:["PlatformInterface"]}),smalltalk.NativeFunction.klass),smalltalk.addClass("Timeout",smalltalk.Object,["rawTimeout"],"Kernel-Methods"),smalltalk.Timeout.comment="I am wrapping the returns from `set{Timeout,Interval}`.\n\n## Motivation\n\nNumber suffices in browsers, but node.js returns an object.",smalltalk.addMethod(smalltalk.method({selector:"clearInterval",category:"timeout/interval",fn:function(){var e=this;return smalltalk.withContext(function(){var t=e["@rawTimeout"];return clearInterval(t),e},function(t){t.fill(e,"clearInterval",{},smalltalk.Timeout)})},args:[],source:'clearInterval\n	<\n		var interval = self["@rawTimeout"];\n		clearInterval(interval);\n	>',messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"clearTimeout",category:"timeout/interval",fn:function(){var e=this;return smalltalk.withContext(function(){var t=e["@rawTimeout"];return clearTimeout(t),e},function(t){t.fill(e,"clearTimeout",{},smalltalk.Timeout)})},args:[],source:'clearTimeout\n	<\n		var timeout = self["@rawTimeout"];\n		clearTimeout(timeout);\n	>',messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"rawTimeout:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@rawTimeout"]=e,t},function(n){n.fill(t,"rawTimeout:",{anObject:e},smalltalk.Timeout)})},args:["anObject"],source:"rawTimeout: anObject\n	rawTimeout := anObject",messageSends:[],referencedClasses:[]}),smalltalk.Timeout),smalltalk.addMethod(smalltalk.method({selector:"on:",category:"instance creation",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,s,r;return n=t._new(),_st(n)._rawTimeout_(e),s=_st(n)._yourself(),r=s},function(n){n.fill(t,"on:",{anObject:e},smalltalk.Timeout.klass)})},args:["anObject"],source:"on: anObject\n	^ self new rawTimeout: anObject; yourself",messageSends:["rawTimeout:","new","yourself"],referencedClasses:[]}),smalltalk.Timeout.klass)}),define("amber_core/Kernel-Collections",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Collections"),e.packages["Kernel-Collections"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Association",e.Object,["key","value"],"Kernel-Collections"),e.Association.comment="I represent a pair of associated objects, a key and a value. My instances can serve as entries in a dictionary.\n\nInstances can be created with the class-side method `#key:value:`",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=s._class(),r.sendIdx["class"]=1,o=n(a).__eq(n(t)._class()),r.sendIdx["="]=1,u=n(o)._and_(function(){return e.withContext(function(r){return i=s._key(),r.sendIdx.key=1,l=n(i).__eq(n(t)._key()),r.sendIdx["="]=2,n(l)._and_(function(){return e.withContext(function(e){return c=s._value(),e.sendIdx.value=1,n(c).__eq(n(t)._value())},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({},r,1)})}),r.sendIdx["and:"]=1,u},function(n){n.fill(s,"=",{anAssociation:t},e.Association)})},args:["anAssociation"],source:"= anAssociation\n	^ self class = anAssociation class and: [\n		self key = anAssociation key and: [\n		self value = anAssociation value ]]",messageSends:["and:","=","class","key","value"],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@key"]},function(n){n.fill(t,"key",{},e.Association)})},args:[],source:"key\n	^ key",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@key"]=t,n},function(s){s.fill(n,"key:",{aKey:t},e.Association)})},args:["aKey"],source:"key: aKey\n	key := aKey",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(e){return n(s._key())._printOn_(t),e.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" -> "),n(s._value())._printOn_(t),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Association)})},args:["aStream"],source:"printOn: aStream\n	self key printOn: aStream.\n	aStream nextPutAll: ' -> '.\n	self value printOn: aStream",messageSends:["printOn:","key","nextPutAll:","value"],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@value"]},function(n){n.fill(t,"value",{},e.Association)})},args:[],source:"value\n	^ value",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"value:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@value"]=t,n},function(s){s.fill(n,"value:",{aValue:t},e.Association)})},args:["aValue"],source:"value: aValue\n	value := aValue",messageSends:[],referencedClasses:[]}),e.Association),e.addMethod(e.method({selector:"key:value:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._key_(t),n(e)._value_(s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"key:value:",{aKey:t,aValue:s},e.Association.klass)})},args:["aKey","aValue"],source:"key: aKey value: aValue\n		^ self new\n		key: aKey;\n		value: aValue;\n		yourself",messageSends:["key:","new","value:","yourself"],referencedClasses:[]}),e.Association.klass),e.addClass("Collection",e.Object,[],"Kernel-Collections"),e.Collection.comment="I am the abstract superclass of all classes that represent a group of elements.\n\nI provide a set of useful methods to the Collection hierarchy such as enumerating and converting methods.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._copy(),n(e)._addAll_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,",",{aCollection:t},e.Collection)})},args:["aCollection"],source:", aCollection\n	^ self copy\n		addAll: aCollection;\n		yourself",messageSends:["addAll:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(s){s.fill(n,"add:",{anObject:t},e.Collection)})},args:["anObject"],source:"add: anObject\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"addAll:",category:"adding/removing",fn:function(t){var s=this;return e.withContext(function(r){return n(t)._do_(function(t){return e.withContext(function(){return s._add_(t)},function(e){e.fillBlock({each:t},r,1)})}),t},function(n){n.fill(s,"addAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:"addAll: aCollection\n	aCollection do: [ :each |\n		self add: each ].\n	^ aCollection",messageSends:["do:","add:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asArray",category:"converting",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e;return e=n(s())._withAll_(r)},function(t){t.fill(r,"asArray",{},e.Collection)})},args:[],source:"asArray\n	^ Array withAll: self",messageSends:["withAll:"],referencedClasses:["Array"]}),e.Collection),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._asArray())._collect_(function(t){return e.withContext(function(){return n(t)._asJSON()},function(e){e.fillBlock({each:t},s,1)})})},function(n){n.fill(t,"asJSON",{},e.Collection)})},args:[],source:"asJSON\n	^ self asArray collect: [ :each | each asJSON ]",messageSends:["collect:","asArray","asJSON"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asOrderedCollection",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asArray()},function(n){n.fill(t,"asOrderedCollection",{},e.Collection)})},args:[],source:"asOrderedCollection\n	^ self asArray",messageSends:["asArray"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"asSet",category:"converting",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r=this;return e.withContext(function(){var e;return e=n(s())._withAll_(r)},function(t){t.fill(r,"asSet",{},e.Collection)})},args:[],source:"asSet\n	^ Set withAll: self",messageSends:["withAll:"],referencedClasses:["Set"]}),e.Collection),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){var o;return s=n(n(r._class())._new())._writeStream(),r._do_(function(r){return e.withContext(function(){return n(s)._nextPut_(n(t)._value_(r))},function(e){e.fillBlock({each:r},a,1)})}),o=n(s)._contents()},function(n){n.fill(r,"collect:",{aBlock:t,stream:s},e.Collection)})},args:["aBlock"],source:"collect: aBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		stream nextPut: (aBlock value: each) ].\n	^ stream contents",messageSends:["writeStream","new","class","do:","nextPut:","value:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"contains:",category:"testing",fn:function(t){var s=this;return e.withContext(function(r){var a,o={};try{return s._do_(function(s){return e.withContext(function(){if(a=n(t)._value_(s),e.assert(a))throw o=[!0]},function(e){e.fillBlock({each:s},r,1)})}),!1}catch(i){if(i===o)return i[0];throw i}},function(n){n.fill(s,"contains:",{aBlock:t},e.Collection)})},args:["aBlock"],source:'contains: aBlock\n	"Evaluate aBlock with the elements of the receiver.\n	If aBlock returns true for any element return true.\n	Otherwise return false."\n\n	self do: [ :each | (aBlock value: each) ifTrue: [ ^ true ] ].\n	^ false',messageSends:["do:","ifTrue:","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWith:",category:"copying",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._copy(),n(e)._add_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"copyWith:",{anObject:t},e.Collection)})},args:["anObject"],source:"copyWith: anObject\n	^ self copy add: anObject; yourself",messageSends:["add:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWithAll:",category:"copying",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._copy(),n(e)._addAll_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"copyWithAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:"copyWithAll: aCollection\n	^ self copy addAll: aCollection; yourself",messageSends:["addAll:","copy","yourself"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"copyWithoutAll:",category:"copying",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._reject_(function(s){return e.withContext(function(){return n(t)._includes_(s)},function(e){e.fillBlock({each:s},r,1)})})},function(n){n.fill(s,"copyWithoutAll:",{aCollection:t},e.Collection)})},args:["aCollection"],source:'copyWithoutAll: aCollection\n	"Answer a copy of the receiver that does not contain any elements\n	equal to those in aCollection."\n\n	^ self reject: [ :each | aCollection includes: each ]',messageSends:["reject:","includes:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"detect:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._detect_ifNone_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"detect:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"detect: aBlock\n	^ self detect: aBlock ifNone: [ self errorNotFound ]",messageSends:["detect:ifNone:","errorNotFound"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,n){var s=this;return e.withContext(function(){return s._subclassResponsibility(),s},function(r){r.fill(s,"detect:ifNone:",{aBlock:t,anotherBlock:n},e.Collection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(s){s.fill(n,"do:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"do: aBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"do:separatedBy:",category:"enumerating",fn:function(t,s){var r,a=this;return e.withContext(function(o){return r=function(){return e.withContext(function(){return r=s},function(e){e.fillBlock({},o,1)})},a._do_(function(s){return e.withContext(function(){return n(r)._value(),n(t)._value_(s)},function(e){e.fillBlock({each:s},o,2)})}),a},function(n){n.fill(a,"do:separatedBy:",{aBlock:t,anotherBlock:s,actionBeforeElement:r},e.Collection)})},args:["aBlock","anotherBlock"],source:"do: aBlock separatedBy: anotherBlock\n	| actionBeforeElement |\n	actionBeforeElement := [ actionBeforeElement := anotherBlock ].\n	self do: [ :each |\n		actionBeforeElement value.\n		aBlock value: each ]",messageSends:["do:","value","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"errorNotFound",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object is not in the collection"),t},function(n){n.fill(t,"errorNotFound",{},e.Collection)})},args:[],source:"errorNotFound\n	self error: 'Object is not in the collection'",messageSends:["error:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"ifEmpty:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._isEmpty(),a=e.assert(r)?n(t)._value():s},function(n){n.fill(s,"ifEmpty:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"ifEmpty: aBlock\n	\"Evaluate the given block with the receiver as argument, answering its value if the receiver is empty, otherwise answer the receiver. Note that the fact that this method returns its argument in case the receiver is not empty allows one to write expressions like the following ones: self classifyMethodAs:\n		(myProtocol ifEmpty: ['As yet unclassified'])\"\n	^ self isEmpty\n		ifTrue: [ aBlock value ]\n		ifFalse: [ self ]",messageSends:["ifTrue:ifFalse:","isEmpty","value"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"ifNotEmpty:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=s._notEmpty(),n(e)._ifTrue_(t),s},function(n){n.fill(s,"ifNotEmpty:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"ifNotEmpty: aBlock\n	self notEmpty ifTrue: aBlock.",messageSends:["ifTrue:","notEmpty"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(s){function r(){return e.Object||("undefined"==typeof Object?t:Object)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),i=n(o._detect_ifNone_(function(r){return e.withContext(function(){return n(r).__eq(s)},function(e){e.fillBlock({each:r},t,1)})},function(){return e.withContext(function(){return a},function(e){e.fillBlock({},t,2)})})).__tild_eq(a)},function(t){t.fill(o,"includes:",{anObject:s,sentinel:a},e.Collection)})},args:["anObject"],source:"includes: anObject\n	| sentinel |\n	sentinel := Object new.\n	^ (self detect: [ :each | each = anObject ] ifNone: [ sentinel ]) ~= sentinel",messageSends:["new","~=","detect:ifNone:","="],referencedClasses:["Object"]}),e.Collection),e.addMethod(e.method({selector:"inject:into:",category:"enumerating",fn:function(t,s){var r,a=this;return e.withContext(function(o){var i;return r=t,a._do_(function(t){return e.withContext(function(){return r=n(s)._value_value_(r,t)},function(e){e.fillBlock({each:t},o,1)})}),i=r},function(n){n.fill(a,"inject:into:",{anObject:t,aBlock:s,result:r},e.Collection)})},args:["anObject","aBlock"],source:"inject: anObject into: aBlock\n	| result |\n	result := anObject.\n	self do: [ :each |\n		result := aBlock value: result value: each ].\n	^ result",messageSends:["do:","value:value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"intersection:",category:"enumerating",fn:function(s){function r(){return e.Set||("undefined"==typeof Set?t:Set)}var a,o,i=this;return e.withContext(function(t){var l,c,u;return a=i._asSet(),o=n(r())._new(),n(s)._do_(function(s){return e.withContext(function(t){return l=n(a)._includes_(s),t.sendIdx["includes:"]=1,c=n(l)._and_(function(){return e.withContext(function(){return n(n(o)._includes_(s))._not()},function(e){e.fillBlock({},t,2)})}),e.assert(c)?n(o)._add_(s):void 0},function(e){e.fillBlock({each:s},t,1)})}),u=n(i._class())._withAll_(n(o)._asArray())},function(t){t.fill(i,"intersection:",{aCollection:s,set:a,outputSet:o},e.Collection)})},args:["aCollection"],source:'intersection: aCollection\n	"Answer the set theoretic intersection of two collections."\n\n	| set outputSet |\n	\n	set := self asSet.\n	outputSet := Set new.\n	\n	aCollection do: [ :each |\n		((set includes: each) and: [ (outputSet includes: each) not ])\n			ifTrue: [\n				outputSet add: each ]].\n		\n	^ self class withAll: outputSet asArray',messageSends:["asSet","new","do:","ifTrue:","and:","includes:","not","add:","withAll:","class","asArray"],referencedClasses:["Set"]}),e.Collection),e.addMethod(e.method({selector:"isEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._size()).__eq(0)},function(n){n.fill(t,"isEmpty",{},e.Collection)})},args:[],source:"isEmpty\n	^ self size = 0",messageSends:["=","size"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"notEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._isEmpty())._not()},function(n){n.fill(t,"notEmpty",{},e.Collection)})},args:[],source:"notEmpty\n	^ self isEmpty not",messageSends:["not","isEmpty"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"occurrencesOf:",category:"accessing",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=0,r._do_(function(r){return e.withContext(function(){return o=n(t).__eq(r),e.assert(o)?s=n(s).__plus(1):void 0},function(e){e.fillBlock({each:r},a,1)})}),i=s},function(n){n.fill(r,"occurrencesOf:",{anObject:t,tally:s},e.Collection)})},args:["anObject"],source:'occurrencesOf: anObject\n	"Answer how many of the receiver\'s elements are equal to anObject."\n\n	| tally |\n	tally := 0.\n	self do: [ :each | anObject = each ifTrue: [ tally := tally + 1 ]].\n	^ tally',messageSends:["do:","ifTrue:","=","+"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(r){return s._do_(function(s){return e.withContext(function(){return n(s)._putOn_(t)},function(e){e.fillBlock({each:s},r,1)})}),s},function(n){n.fill(s,"putOn:",{aStream:t},e.Collection)})},args:["aStream"],source:"putOn: aStream\n	self do: [ :each | each putOn: aStream ]",messageSends:["do:","putOn:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"reject:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._select_(function(s){return e.withContext(function(){return n(n(t)._value_(s)).__eq(!1)},function(e){e.fillBlock({each:s},r,1)})})},function(n){n.fill(s,"reject:",{aBlock:t},e.Collection)})},args:["aBlock"],source:"reject: aBlock\n	^ self select: [ :each | (aBlock value: each) = false ]",messageSends:["select:","=","value:"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._remove_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"remove:",{anObject:t},e.Collection)})},args:["anObject"],source:"remove: anObject\n	^ self remove: anObject ifAbsent: [ self errorNotFound ]",messageSends:["remove:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,n){var s=this;
return e.withContext(function(){return s._subclassResponsibility(),s},function(r){r.fill(s,"remove:ifAbsent:",{anObject:t,aBlock:n},e.Collection)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=n(n(r._class())._new())._writeStream(),r._do_(function(r){return e.withContext(function(){return o=n(t)._value_(r),e.assert(o)?n(s)._nextPut_(r):void 0},function(e){e.fillBlock({each:r},a,1)})}),i=n(s)._contents()},function(n){n.fill(r,"select:",{aBlock:t,stream:s},e.Collection)})},args:["aBlock"],source:"select: aBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		(aBlock value: each) ifTrue: [\n		stream nextPut: each ]].\n	^ stream contents",messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"select:thenCollect:",category:"enumerating",fn:function(t,s){var r,a=this;return e.withContext(function(o){var i,l;return r=n(n(a._class())._new())._writeStream(),a._do_(function(a){return e.withContext(function(o){return i=n(t)._value_(a),o.sendIdx["value:"]=1,e.assert(i)?n(r)._nextPut_(n(s)._value_(a)):void 0},function(e){e.fillBlock({each:a},o,1)})}),l=n(r)._contents()},function(n){n.fill(a,"select:thenCollect:",{selectBlock:t,collectBlock:s,stream:r},e.Collection)})},args:["selectBlock","collectBlock"],source:"select: selectBlock thenCollect: collectBlock\n	| stream |\n	stream := self class new writeStream.\n	self do: [ :each |\n		(selectBlock value: each) ifTrue: [\n		stream nextPut: (collectBlock value: each) ]].\n	^ stream contents",messageSends:["writeStream","new","class","do:","ifTrue:","value:","nextPut:","contents"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"size",{},e.Collection)})},args:[],source:"size\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.Collection),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"collection"},function(n){n.fill(t,"heliosClass",{},e.Collection.klass)})},args:[],source:"heliosClass\n	^ 'collection'",messageSends:[],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._new()},function(s){s.fill(n,"new:",{anInteger:t},e.Collection.klass)})},args:["anInteger"],source:"new: anInteger\n	^ self new",messageSends:["new"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._add_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"with:",{anObject:t},e.Collection.klass)})},args:["anObject"],source:"with: anObject\n		^ self new\n		add: anObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:with:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i;return a=r._new(),n(a)._add_(t),e.sendIdx["add:"]=1,n(a)._add_(s),o=n(a)._yourself(),i=o},function(n){n.fill(r,"with:with:",{anObject:t,anotherObject:s},e.Collection.klass)})},args:["anObject","anotherObject"],source:"with: anObject with: anotherObject\n		^ self new\n		add: anObject;\n		add: anotherObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"with:with:with:",category:"instance creation",fn:function(t,s,r){var a=this;return e.withContext(function(e){var o,i,l;return o=a._new(),n(o)._add_(t),e.sendIdx["add:"]=1,n(o)._add_(s),e.sendIdx["add:"]=2,n(o)._add_(r),i=n(o)._yourself(),l=i},function(n){n.fill(a,"with:with:with:",{firstObject:t,secondObject:s,thirdObject:r},e.Collection.klass)})},args:["firstObject","secondObject","thirdObject"],source:"with: firstObject with: secondObject with: thirdObject\n		^ self new\n		add: firstObject;\n		add: secondObject;\n		add: thirdObject;\n		yourself",messageSends:["add:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addMethod(e.method({selector:"withAll:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._addAll_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"withAll:",{aCollection:t},e.Collection.klass)})},args:["aCollection"],source:"withAll: aCollection\n		^ self new\n		addAll: aCollection;\n		yourself",messageSends:["addAll:","new","yourself"],referencedClasses:[]}),e.Collection.klass),e.addClass("IndexableCollection",e.Collection,[],"Kernel-Collections"),e.IndexableCollection.comment="I am a key-value store collection, that is,\nI store values under indexes.\n\nAs a rule of thumb, if a collection has `#at:` and `#at:put:`,\nit is an IndexableCollection.",e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._at_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"at:",{anIndex:t},e.IndexableCollection)})},args:["anIndex"],source:'at: anIndex\n	"Lookup the given index in the receiver.\n	If it is present, answer the value stored at anIndex.\n	Otherwise, raise an error."\n\n	^ self at: anIndex ifAbsent: [ self errorNotFound ]',messageSends:["at:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s._subclassReponsibility(),s},function(r){r.fill(s,"at:ifAbsent:",{anIndex:t,aBlock:n},e.IndexableCollection)})},args:["anIndex","aBlock"],source:'at: anIndex ifAbsent: aBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value stored at anIndex.\n	Otherwise, answer the value of aBlock."\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifPresent:",category:"accessing",fn:function(n,s){var r=this;return e.withContext(function(a){var o;return o=r._at_ifPresent_ifAbsent_(n,s,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},a,1)})})},function(t){t.fill(r,"at:ifPresent:",{anIndex:n,aBlock:s},e.IndexableCollection)})},args:["anIndex","aBlock"],source:'at: anIndex ifPresent: aBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value of evaluating aBlock with the value stored at anIndex.\n	Otherwise, answer nil."\n\n	^ self at: anIndex ifPresent: aBlock ifAbsent: [ nil ]',messageSends:["at:ifPresent:ifAbsent:"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,s){var r=this;return e.withContext(function(){return r._subclassResponsibility(),r},function(a){a.fill(r,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:s},e.IndexableCollection)})},args:["anIndex","aBlock","anotherBlock"],source:'at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	"Lookup the given index in the receiver.\n	If it is present, answer the value of evaluating aBlock with the value stored at anIndex.\n	Otherwise, answer the value of anotherBlock."\n\n	self subclassResponsibility',messageSends:["subclassResponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s._subclassReponsibility(),s},function(r){r.fill(s,"at:put:",{anIndex:t,anObject:n},e.IndexableCollection)})},args:["anIndex","anObject"],source:'at: anIndex put: anObject\n	"Store anObject under the given index in the receiver."\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"indexOf:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._indexOf_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"indexOf:",{anObject:t},e.IndexableCollection)})},args:["anObject"],source:'indexOf: anObject\n	"Lookup index at which anObject is stored in the receiver.\n	If not present, raise an error."\n\n	^ self indexOf: anObject ifAbsent: [ self errorNotFound ]',messageSends:["indexOf:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s._subclassResponsibility(),s},function(r){r.fill(s,"indexOf:ifAbsent:",{anObject:t,aBlock:n},e.IndexableCollection)})},args:["anObject","aBlock"],source:'indexOf: anObject ifAbsent: aBlock\n	"Lookup index at which anObject is stored in the receiver.\n	If not present, return value of executing aBlock."\n\n	self subclassResponsibility',messageSends:["subclassResponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"with:do:",category:"enumarating",fn:function(t,s){var r=this;return e.withContext(function(a){return r._withIndexDo_(function(r,o){return e.withContext(function(){return n(s)._value_value_(r,n(t)._at_(o))},function(e){e.fillBlock({each:r,index:o},a,1)})}),r},function(n){n.fill(r,"with:do:",{anotherCollection:t,aBlock:s},e.IndexableCollection)})},args:["anotherCollection","aBlock"],source:'with: anotherCollection do: aBlock\n	"Calls aBlock with every value from self\n	and with indetically-indexed value from anotherCollection"\n\n	self withIndexDo: [ :each :index |\n		aBlock value: each value: (anotherCollection at: index) ]',messageSends:["withIndexDo:","value:value:","at:"],referencedClasses:[]}),e.IndexableCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumarating",fn:function(t){var n=this;return e.withContext(function(){return n._subclassReponsibility(),n},function(s){s.fill(n,"withIndexDo:",{aBlock:t},e.IndexableCollection)})},args:["aBlock"],source:'withIndexDo: aBlock\n	"Calls aBlock with every value from self\n	and with its index as the second argument"\n\n	self subclassReponsibility',messageSends:["subclassReponsibility"],referencedClasses:[]}),e.IndexableCollection),e.addClass("HashedCollection",e.IndexableCollection,[],"Kernel-Collections"),e.HashedCollection.comment="I am a traditional JavaScript object, or a Smalltalk `Dictionary`.\n\nUnlike a `Dictionary`, I can only have strings as keys.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var n=this;return e.withContext(function(){return n._shouldNotImplement(),n},function(s){s.fill(n,",",{aCollection:t},e.HashedCollection)})},args:["aCollection"],source:", aCollection\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=s._class(),r.sendIdx["class"]=1,o=n(a).__eq(n(t)._class()),r.sendIdx["="]=1,e.assert(o)?(i=s._size(),r.sendIdx.size=1,l=n(i).__eq(n(t)._size()),r.sendIdx["="]=2,e.assert(l)?(c=s._associations(),r.sendIdx.associations=1,u=n(c).__eq(n(t)._associations())):!1):!1},function(n){n.fill(s,"=",{aHashedCollection:t},e.HashedCollection)})},args:["aHashedCollection"],source:"= aHashedCollection\n	self class = aHashedCollection class ifFalse: [ ^ false ].\n	self size = aHashedCollection size ifFalse: [ ^ false ].\n	^ self associations = aHashedCollection associations",messageSends:["ifFalse:","=","class","size","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var s=this;return e.withContext(function(){return s._at_put_(n(t)._key(),n(t)._value()),s},function(n){n.fill(s,"add:",{anAssociation:t},e.HashedCollection)})},args:["anAssociation"],source:"add: anAssociation\n	self at: anAssociation key put: anAssociation value",messageSends:["at:put:","key","value"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"addAll:",category:"adding/removing",fn:function(t){var s=this;return e.withContext(function(){return e.HashedCollection.superclass.fn.prototype._addAll_.apply(n(s),[n(t)._associations()]),t},function(n){n.fill(s,"addAll:",{aHashedCollection:t},e.HashedCollection)})},args:["aHashedCollection"],source:"addAll: aHashedCollection\n	super addAll: aHashedCollection associations.\n	^ aHashedCollection",messageSends:["addAll:","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"asDictionary",category:"converting",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(){var e;return e=n(s())._from_(r._associations())},function(t){t.fill(r,"asDictionary",{},e.HashedCollection)})},args:[],source:"asDictionary\n	^ Dictionary from: self associations",messageSends:["from:","associations"],referencedClasses:["Dictionary"]}),e.HashedCollection),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s._class())._new(),s._keysAndValuesDo_(function(s,a){return e.withContext(function(){return n(t)._at_put_(s,n(a)._asJSON())},function(e){e.fillBlock({key:s,value:a},r,1)})}),a=t},function(n){n.fill(s,"asJSON",{c:t},e.HashedCollection)})},args:[],source:"asJSON\n	| c |\n	c := self class new.\n	self keysAndValuesDo: [ :key :value |\n		c at: key put: value asJSON ].\n	^ c",messageSends:["new","class","keysAndValuesDo:","at:put:","asJSON"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"associations",category:"accessing",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=[],s._associationsDo_(function(s){return e.withContext(function(){return n(t)._add_(s)},function(e){e.fillBlock({each:s},r,1)})}),a=t},function(n){n.fill(s,"associations",{associations:t},e.HashedCollection)})},args:[],source:"associations\n	| associations |\n	associations := #().\n	self associationsDo: [ :each | associations add: each ].\n	^ associations",messageSends:["associationsDo:","add:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"associationsDo:",category:"enumerating",fn:function(s){function r(){return e.Association||("undefined"==typeof Association?t:Association)}var a=this;return e.withContext(function(t){return a._keysAndValuesDo_(function(a,o){return e.withContext(function(){return n(s)._value_(n(r())._key_value_(a,o))},function(e){e.fillBlock({key:a,value:o},t,1)})}),a},function(t){t.fill(a,"associationsDo:",{aBlock:s},e.HashedCollection)})},args:["aBlock"],source:"associationsDo: aBlock\n	self keysAndValuesDo: [ :key :value |\n		aBlock value: (Association key: key value: value) ]",messageSends:["keysAndValuesDo:","value:","key:value:"],referencedClasses:["Association"]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i;return o=r._includesKey_(t),i=n(o)._ifTrue_ifFalse_(function(){return e.withContext(function(){return r._basicAt_(t)},function(e){e.fillBlock({},a,1)})},s)},function(n){n.fill(r,"at:ifAbsent:",{aKey:t,aBlock:s},e.HashedCollection)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifTrue: [ self basicAt: aKey ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","includesKey:","basicAt:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifAbsentPut:",category:"accessing",fn:function(t,s){var r=this;return e.withContext(function(a){var o;return o=r._at_ifAbsent_(t,function(){return e.withContext(function(){return r._at_put_(t,n(s)._value())},function(e){e.fillBlock({},a,1)})})},function(n){n.fill(r,"at:ifAbsentPut:",{aKey:t,aBlock:s},e.HashedCollection)})},args:["aKey","aBlock"],source:"at: aKey ifAbsentPut: aBlock\n	^ self at: aKey ifAbsent: [\n		self at: aKey put: aBlock value ]",messageSends:["at:ifAbsent:","at:put:","value"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,s,r){var a=this;return e.withContext(function(o){var i,l;return i=a._includesKey_(t),l=n(i)._ifTrue_ifFalse_(function(){return e.withContext(function(){return n(s)._value_(a._at_(t))},function(e){e.fillBlock({},o,1)})},r)},function(n){n.fill(a,"at:ifPresent:ifAbsent:",{aKey:t,aBlock:s,anotherBlock:r},e.HashedCollection)})},args:["aKey","aBlock","anotherBlock"],source:'at: aKey ifPresent: aBlock ifAbsent: anotherBlock\n	"Lookup the given key in the receiver.\n	If it is present, answer the value of evaluating the oneArgBlock with the value associated with the key,\n	otherwise answer the value of absentBlock."\n	^ (self includesKey: aKey)\n		ifTrue: [ aBlock value: (self at: aKey) ]\n		ifFalse: anotherBlock',messageSends:["ifTrue:ifFalse:","includesKey:","value:","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._basicAt_put_(t,n)},function(r){r.fill(s,"at:put:",{aKey:t,aValue:n},e.HashedCollection)})},args:["aKey","aValue"],source:"at: aKey put: aValue\n	^ self basicAt: aKey put: aValue",messageSends:["basicAt:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){var o;return s=n(r._class())._new(),r._keysAndValuesDo_(function(r,o){return e.withContext(function(){return n(s)._at_put_(r,n(t)._value_(o))},function(e){e.fillBlock({key:r,value:o},a,1)})}),o=s},function(n){n.fill(r,"collect:",{aBlock:t,newDict:s},e.HashedCollection)})},args:["aBlock"],source:"collect: aBlock\n	| newDict |\n	newDict := self class new.\n	self keysAndValuesDo: [ :key :value |\n		newDict at: key put: (aBlock value: value) ].\n	^ newDict",messageSends:["new","class","keysAndValuesDo:","at:put:","value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s._class())._new(),s._keysAndValuesDo_(function(s,a){return e.withContext(function(){return n(t)._at_put_(s,n(a)._deepCopy())},function(e){e.fillBlock({key:s,value:a},r,1)})}),a=t},function(n){n.fill(s,"deepCopy",{copy:t},e.HashedCollection)})},args:[],source:"deepCopy\n	| copy |\n	copy := self class new.\n	self keysAndValuesDo: [ :key :value |\n		copy at: key put: value deepCopy ].\n	^ copy",messageSends:["new","class","keysAndValuesDo:","at:put:","deepCopy"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(r._values())._detect_ifNone_(t,s)},function(n){n.fill(r,"detect:ifNone:",{aBlock:t,anotherBlock:s},e.HashedCollection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	^ self values detect: aBlock ifNone: anotherBlock",messageSends:["detect:ifNone:","values"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n._valuesDo_(t),n},function(s){s.fill(n,"do:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"do: aBlock\n	self valuesDo: aBlock",messageSends:["valuesDo:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"includes:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._values())._includes_(t)},function(n){n.fill(s,"includes:",{anObject:t},e.HashedCollection)})},args:["anObject"],source:"includes: anObject\n	^ self values includes: anObject",messageSends:["includes:","values"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"includesKey:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n.hasOwnProperty(t)},function(s){s.fill(n,"includesKey:",{aKey:t},e.HashedCollection)})},args:["aKey"],source:"includesKey: aKey\n	<return self.hasOwnProperty(aKey)>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,s){var r=this;return e.withContext(function(a){var o;return o=n(r._keys())._detect_ifNone_(function(s){return e.withContext(function(){return n(r._at_(s)).__eq(t)},function(e){e.fillBlock({each:s},a,1)})},s)},function(n){n.fill(r,"indexOf:ifAbsent:",{anObject:t,aBlock:s},e.HashedCollection)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n\n	^ self keys detect: [ :each | (self at: each) = anObject ] ifNone: aBlock",messageSends:["detect:ifNone:","keys","=","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keyAtValue:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(s){var r;return r=n._keyAtValue_ifAbsent_(t,function(){return e.withContext(function(){return n._errorNotFound()},function(e){e.fillBlock({},s,1)})})},function(s){s.fill(n,"keyAtValue:",{anObject:t},e.HashedCollection)})},args:["anObject"],source:"keyAtValue: anObject\n	^ self keyAtValue: anObject ifAbsent: [ self errorNotFound ]",messageSends:["keyAtValue:ifAbsent:","errorNotFound"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keyAtValue:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._indexOf_ifAbsent_(t,n)},function(r){r.fill(s,"keyAtValue:ifAbsent:",{anObject:t,aBlock:n},e.HashedCollection)})},args:["anObject","aBlock"],source:"keyAtValue: anObject ifAbsent: aBlock\n	^ self indexOf: anObject ifAbsent: aBlock",messageSends:["indexOf:ifAbsent:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keys",category:"accessing",fn:function(){var t=this;return e.withContext(function(){if("function"==typeof Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},function(n){n.fill(t,"keys",{},e.HashedCollection)})},args:[],source:"keys\n	<\n		if ('function'===typeof Object.keys) return Object.keys(self);\n		var keys = [];\n		for(var i in self) {\n			if(self.hasOwnProperty(i)) {\n				keys.push(i);\n			}\n		};\n		return keys;\n	>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){return s._keysDo_(function(a){return e.withContext(function(){return n(t)._value_value_(a,s._at_(a))},function(e){e.fillBlock({each:a},r,1)})}),s},function(n){n.fill(s,"keysAndValuesDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	self keysDo: [ :each |\n		aBlock value: each value: (self at: each) ]",messageSends:["keysDo:","value:value:","at:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"keysDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){return n(s._keys())._do_(t),s},function(n){n.fill(s,"keysDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"keysDo: aBlock\n	self keys do: aBlock",messageSends:["do:","keys"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){return e.HashedCollection.superclass.fn.prototype._printOn_.apply(n(s),[t]),r.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),r.sendIdx["nextPutAll:"]=1,n(s._associations())._do_separatedBy_(function(s){return e.withContext(function(){return n(s)._printOn_(t)},function(e){e.fillBlock({each:s},r,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" , ")},function(e){e.fillBlock({},r,2)})}),n(t)._nextPutAll_(")"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.HashedCollection)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self associations\n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' , ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:","associations"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._removeKey_ifAbsent_(t,n)},function(r){r.fill(s,"remove:ifAbsent:",{aKey:t,aBlock:n},e.HashedCollection)})},args:["aKey","aBlock"],source:"remove: aKey ifAbsent: aBlock\n	^ self removeKey: aKey ifAbsent: aBlock",messageSends:["removeKey:ifAbsent:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"removeKey:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._remove_(t)},function(s){s.fill(n,"removeKey:",{aKey:t},e.HashedCollection)})},args:["aKey"],source:"removeKey: aKey\n	^ self remove: aKey",messageSends:["remove:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"removeKey:ifAbsent:",category:"adding/removing",fn:function(t,s){var r=this;return e.withContext(function(){var a,o;return a=r._includesKey_(t),o=e.assert(a)?r._basicDelete_(t):n(s)._value()},function(n){n.fill(r,"removeKey:ifAbsent:",{aKey:t,aBlock:s},e.HashedCollection)})},args:["aKey","aBlock"],source:"removeKey: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifFalse: [ aBlock value ]\n		ifTrue: [ self basicDelete: aKey ]",messageSends:["ifFalse:ifTrue:","includesKey:","value","basicDelete:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=n(r._class())._new(),r._keysAndValuesDo_(function(r,i){return e.withContext(function(){return o=n(t)._value_(i),e.assert(o)?n(s)._at_put_(r,i):void 0},function(e){e.fillBlock({key:r,value:i},a,1)})}),i=s},function(n){n.fill(r,"select:",{aBlock:t,newDict:s},e.HashedCollection)})},args:["aBlock"],source:"select: aBlock\n	| newDict |\n	newDict := self class new.\n	self keysAndValuesDo: [ :key :value |\n		(aBlock value: value) ifTrue: [ newDict at: key put: value ]].\n	^ newDict",messageSends:["new","class","keysAndValuesDo:","ifTrue:","value:","at:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s._class())._new(),s._keysAndValuesDo_(function(s,a){return e.withContext(function(){return n(t)._at_put_(s,a)},function(e){e.fillBlock({key:s,value:a},r,1)})}),a=t},function(n){n.fill(s,"shallowCopy",{copy:t},e.HashedCollection)})},args:[],source:"shallowCopy\n	| copy |\n	copy := self class new.\n	self keysAndValuesDo: [ :key :value |\n		copy at: key put: value ].\n	^ copy",messageSends:["new","class","keysAndValuesDo:","at:put:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._keys())._size()},function(n){n.fill(t,"size",{},e.HashedCollection)})},args:[],source:"size\n	^ self keys size",messageSends:["size","keys"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"values",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._keys().map(function(e){return t._at_(e)})},function(n){n.fill(t,"values",{},e.HashedCollection)})},args:[],source:"values\n	<\n		return self._keys().map(function(key){\n			return self._at_(key);\n		});\n	>",messageSends:[],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"valuesDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){return n(s._values())._do_(function(s){return e.withContext(function(){return n(t)._value_(s)},function(e){e.fillBlock({value:s},r,1)})}),s},function(n){n.fill(s,"valuesDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"valuesDo: aBlock\n	self values do: [ :value | aBlock value: value ]",messageSends:["do:","values","value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){return s._keysAndValuesDo_(function(s,a){return e.withContext(function(){return n(t)._value_value_(a,s)},function(e){e.fillBlock({key:s,value:a},r,1)})}),s},function(n){n.fill(s,"withIndexDo:",{aBlock:t},e.HashedCollection)})},args:["aBlock"],source:"withIndexDo: aBlock\n	self keysAndValuesDo: [ :key :value | aBlock value: value value: key ]",messageSends:["keysAndValuesDo:","value:value:"],referencedClasses:[]}),e.HashedCollection),e.addMethod(e.method({selector:"from:",category:"instance creation",fn:function(t){var s,r=this;return e.withContext(function(a){var o;return s=r._new(),n(t)._do_(function(t){return e.withContext(function(){return n(s)._add_(t)},function(e){e.fillBlock({each:t},a,1)})}),o=s},function(n){n.fill(r,"from:",{aCollection:t,newCollection:s},e.HashedCollection.klass)})},args:["aCollection"],source:"from: aCollection\n	| newCollection |\n	newCollection := self new.\n	aCollection do: [ :each | newCollection add: each ].\n	^ newCollection",messageSends:["new","do:","add:"],referencedClasses:[]}),e.HashedCollection.klass),e.addMethod(e.method({selector:"fromPairs:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._from_(t)},function(s){s.fill(n,"fromPairs:",{aCollection:t},e.HashedCollection.klass)})},args:["aCollection"],source:'fromPairs: aCollection\n	"This message is poorly named and has been replaced by #from:"\n	^ self from: aCollection',messageSends:["from:"],referencedClasses:[]}),e.HashedCollection.klass),e.addMethod(e.method({selector:"newFromPairs:",category:"instance creation",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l,c,u;return o=n(t)._size(),a.sendIdx.size=1,i=n(o)._even(),e.assert(i)||r._error_("#newFromPairs only accepts arrays of an even length"),s=r._new(),n(1.._to_by_(n(t)._size(),2))._do_(function(r){return e.withContext(function(e){return l=s,c=n(t)._at_(r),e.sendIdx["at:"]=1,n(l)._at_put_(c,n(t)._at_(n(r).__plus(1)))},function(e){e.fillBlock({each:r},a,2)})}),u=s},function(n){n.fill(r,"newFromPairs:",{aCollection:t,newCollection:s},e.HashedCollection.klass)})},args:["aCollection"],source:"newFromPairs: aCollection\n	\"Accept an array of elements where every two elements form an \n	association - the odd element being the key, and the even element the value.\"\n	\n	| newCollection |\n	\n	aCollection size even ifFalse: [ \n		self error: '#newFromPairs only accepts arrays of an even length' ].\n		\n	newCollection := self new.\n	( 1 to: aCollection size by: 2 ) do: [ :each | \n		newCollection at: (aCollection at: each) put: (aCollection at: each + 1) ].\n		\n	^ newCollection",messageSends:["ifFalse:","even","size","error:","new","do:","to:by:","at:put:","at:","+"],referencedClasses:[]}),e.HashedCollection.klass),e.addClass("Dictionary",e.HashedCollection,["keys","values"],"Kernel-Collections"),e.Dictionary.comment="I represent a set of elements that can be viewed from one of two perspectives: a set of associations,\nor a container of values that are externally named where the name can be any object that responds to `=`.\n\nThe external name is referred to as the key.",e.addMethod(e.method({selector:"asHashedCollection",category:"converting",fn:function(){function s(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)
}var r=this;return e.withContext(function(){var e;return e=n(s())._from_(r._associations())},function(t){t.fill(r,"asHashedCollection",{},e.Dictionary)})},args:[],source:"asHashedCollection\n	^ HashedCollection from: self associations",messageSends:["from:","associations"],referencedClasses:["HashedCollection"]}),e.Dictionary),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asHashedCollection())._asJSON()},function(n){n.fill(t,"asJSON",{},e.Dictionary)})},args:[],source:"asJSON\n	^ self asHashedCollection asJSON",messageSends:["asJSON","asHashedCollection"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e=s._positionOfKey_(t);return e>=0?s["@values"][e]:n._value()},function(r){r.fill(s,"at:ifAbsent:",{aKey:t,aBlock:n},e.Dictionary)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	<\n		var index = self._positionOfKey_(aKey);\n		return index >>=0 ? self['@values'][index] : aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e=s._positionOfKey_(t);if(-1===e){var r=s["@keys"];e=r.length,r.push(t)}return s["@values"][e]=n},function(r){r.fill(s,"at:put:",{aKey:t,aValue:n},e.Dictionary)})},args:["aKey","aValue"],source:"at: aKey put: aValue\n	<\n		var index = self._positionOfKey_(aKey);\n		if(index === -1) {\n			var keys = self['@keys'];\n			index = keys.length;\n			keys.push(aKey);\n		}\n\n		return self['@values'][index] = aValue;\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"includesKey:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n._positionOfKey_(t)>=0},function(s){s.fill(n,"includesKey:",{aKey:t},e.Dictionary)})},args:["aKey"],source:"includesKey: aKey\n	< return self._positionOfKey_(aKey) >>= 0; >",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,s){var r,a=this;return e.withContext(function(o){var i,l;return r=n(a["@values"])._indexOf_ifAbsent_(t,function(){return e.withContext(function(){return 0},function(e){e.fillBlock({},o,1)})}),i=n(r).__eq(0),l=e.assert(i)?n(s)._value():n(a["@keys"])._at_(r)},function(n){n.fill(a,"indexOf:ifAbsent:",{anObject:t,aBlock:s,index:r},e.Dictionary)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n	| index |\n	index := values \n		indexOf: anObject \n		ifAbsent: [ 0 ].\n	^ index = 0 \n		ifTrue: [ aBlock value ] \n		ifFalse: [ keys at: index ]",messageSends:["indexOf:ifAbsent:","ifTrue:ifFalse:","=","value","at:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Dictionary.superclass.fn.prototype._initialize.apply(n(t),[]),t["@keys"]=[],t["@values"]=[],t},function(n){n.fill(t,"initialize",{},e.Dictionary)})},args:[],source:"initialize\n	super initialize.\n	keys := #().\n	values := #()",messageSends:["initialize"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keys",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@keys"])._copy()},function(n){n.fill(t,"keys",{},e.Dictionary)})},args:[],source:"keys\n	^ keys copy",messageSends:["copy"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@keys"])._with_do_(s["@values"],t)},function(n){n.fill(s,"keysAndValuesDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	^ keys with: values do: aBlock",messageSends:["with:do:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"keysDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@keys"])._do_(t)},function(n){n.fill(s,"keysDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"keysDo: aBlock\n	^ keys do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"positionOfKey:",category:"private",fn:function(t){var n=this;return e.withContext(function(){for(var e=n["@keys"],s=0;s<e.length;s++)if(e[s].__eq(t))return s;return-1},function(s){s.fill(n,"positionOfKey:",{anObject:t},e.Dictionary)})},args:["anObject"],source:"positionOfKey: anObject\n	<\n		var keys = self['@keys'];\n		for(var i=0;i<keys.length;i++){\n			if(keys[i].__eq(anObject)) { return i;}\n		}\n		return -1;\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"removeKey:ifAbsent:",category:"adding/removing",fn:function(t,n){var s=this;return e.withContext(function(){var e=s._positionOfKey_(t);if(-1===e)return n._value();var r=s["@keys"],a=s["@values"],o=a[e],i=r.length;return r[e]=r[i-1],r.pop(),a[e]=a[i-1],a.pop(),o},function(r){r.fill(s,"removeKey:ifAbsent:",{aKey:t,aBlock:n},e.Dictionary)})},args:["aKey","aBlock"],source:"removeKey: aKey ifAbsent: aBlock\n	<\n		var index = self._positionOfKey_(aKey);\n		if(index === -1) {\n			return aBlock._value()\n		} else {\n			var keys = self['@keys'], values = self['@values'];\n			var value = values[index], l = keys.length;\n			keys[index] = keys[l-1];\n			keys.pop();\n			values[index] = values[l-1];\n			values.pop();\n			return value;\n		}\n	>",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"values",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@values"]},function(n){n.fill(t,"values",{},e.Dictionary)})},args:[],source:"values\n	^ values",messageSends:[],referencedClasses:[]}),e.Dictionary),e.addMethod(e.method({selector:"valuesDo:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@values"])._do_(t)},function(n){n.fill(s,"valuesDo:",{aBlock:t},e.Dictionary)})},args:["aBlock"],source:"valuesDo: aBlock\n	^ values do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Dictionary),e.addClass("SequenceableCollection",e.IndexableCollection,[],"Kernel-Collections"),e.SequenceableCollection.comment="I am an IndexableCollection\nwith numeric indexes starting with 1.",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u={};try{return a=s._class(),r.sendIdx["class"]=1,o=n(a).__eq(n(t)._class()),r.sendIdx["="]=1,l=n(o)._and_(function(){return e.withContext(function(e){return i=s._size(),e.sendIdx.size=1,n(i).__eq(n(t)._size())},function(e){e.fillBlock({},r,1)})}),e.assert(l)?(s._withIndexDo_(function(s,a){return e.withContext(function(){if(c=n(n(t)._at_(a)).__eq(s),!e.assert(c))throw u=[!1]},function(e){e.fillBlock({each:s,i:a},r,3)})}),!0):!1}catch(d){if(d===u)return d[0];throw d}},function(n){n.fill(s,"=",{aCollection:t},e.SequenceableCollection)})},args:["aCollection"],source:"= aCollection\n	(self class = aCollection class and: [\n		self size = aCollection size ]) ifFalse: [ ^ false ].\n	self withIndexDo: [ :each :i |\n				(aCollection at: i) = each ifFalse: [ ^ false ]].\n	^ true",messageSends:["ifFalse:","and:","=","class","size","withIndexDo:","at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"addLast:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._add_(t),n},function(s){s.fill(n,"addLast:",{anObject:t},e.SequenceableCollection)})},args:["anObject"],source:"addLast: anObject\n	self add: anObject",messageSends:["add:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"allButFirst",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copyFrom_to_(2,t._size())},function(n){n.fill(t,"allButFirst",{},e.SequenceableCollection)})},args:[],source:"allButFirst\n	^ self copyFrom: 2 to: self size",messageSends:["copyFrom:to:","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"allButLast",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._copyFrom_to_(1,n(t._size()).__minus(1))},function(n){n.fill(t,"allButLast",{},e.SequenceableCollection)})},args:[],source:"allButLast\n	^ self copyFrom: 1 to: self size - 1",messageSends:["copyFrom:to:","-","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"atRandom",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(n(t._size())._atRandom())},function(n){n.fill(t,"atRandom",{},e.SequenceableCollection)})},args:[],source:"atRandom\n	^ self at: self size atRandom",messageSends:["at:","atRandom","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"copyFrom:to:",category:"copying",fn:function(t,s){var r,a,o=this;return e.withContext(function(i){var l;return r=n(t)._to_(s),a=n(o._class())._new_(n(r)._size()),n(r)._withIndexDo_(function(t,s){return e.withContext(function(){return n(a)._at_put_(s,o._at_(t))},function(e){e.fillBlock({each:t,i:s},i,1)})}),l=a},function(n){n.fill(o,"copyFrom:to:",{anIndex:t,anotherIndex:s,range:r,newCollection:a},e.SequenceableCollection)})},args:["anIndex","anotherIndex"],source:"copyFrom: anIndex to: anotherIndex\n	| range newCollection |\n	range := anIndex to: anotherIndex.\n	newCollection := self class new: range size.\n	range withIndexDo: [ :each :i |\n		newCollection at: i put: (self at: each) ].\n	^ newCollection",messageSends:["to:","new:","class","size","withIndexDo:","at:put:","at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s._class())._new_(s._size()),s._withIndexDo_(function(s,a){return e.withContext(function(){return n(t)._at_put_(a,n(s)._deepCopy())},function(e){e.fillBlock({each:s,index:a},r,1)})}),a=t},function(n){n.fill(s,"deepCopy",{newCollection:t},e.SequenceableCollection)})},args:[],source:"deepCopy\n	| newCollection |\n	newCollection := self class new: self size.\n	self withIndexDo: [ :each :index |\n		newCollection at: index put: each deepCopy ].\n	^ newCollection",messageSends:["new:","class","size","withIndexDo:","at:put:","deepCopy"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,n){var s=this;return e.withContext(function(){for(var e=0;e<s.length;e++)if(t._value_(s[e]))return s[e];return n._value()},function(r){r.fill(s,"detect:ifNone:",{aBlock:t,anotherBlock:n},e.SequenceableCollection)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	<\n		for(var i = 0; i < self.length; i++)\n			if(aBlock._value_(self[i]))\n				return self[i];\n		return anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_(n[e]);return n},function(s){s.fill(n,"do:",{aBlock:t},e.SequenceableCollection)})},args:["aBlock"],source:"do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_(self[i]);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"first",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(1)},function(n){n.fill(t,"first",{},e.SequenceableCollection)})},args:[],source:"first\n	^ self at: 1",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"first:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._copyFrom_to_(1,t)},function(s){s.fill(n,"first:",{n:t},e.SequenceableCollection)})},args:["n"],source:'first: n\n	"Answer the first n elements of the receiver.\n	Raise an error if there are not enough elements."\n\n	^ self copyFrom: 1 to: n',messageSends:["copyFrom:to:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"fourth",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(4)},function(n){n.fill(t,"fourth",{},e.SequenceableCollection)})},args:[],source:"fourth\n	^ self at: 4",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(s){var r=this;return e.withContext(function(a){var o;return o=n(r._indexOf_ifAbsent_(s,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},a,1)})}))._notNil()},function(t){t.fill(r,"includes:",{anObject:s},e.SequenceableCollection)})},args:["anObject"],source:"includes: anObject\n	^ (self indexOf: anObject ifAbsent: [ nil ]) notNil",messageSends:["notNil","indexOf:ifAbsent:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){for(var e=0;e<s.length;e++)if(s[e].__eq(t))return e+1;return n._value()},function(r){r.fill(s,"indexOf:ifAbsent:",{anObject:t,aBlock:n},e.SequenceableCollection)})},args:["anObject","aBlock"],source:"indexOf: anObject ifAbsent: aBlock\n	<\n		for(var i=0;i<self.length;i++) {\n			if(self[i].__eq(anObject)) {return i+1}\n		};\n		return aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:startingAt:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(r){var a;return a=s._indexOf_startingAt_ifAbsent_(t,n,function(){return e.withContext(function(){return 0},function(e){e.fillBlock({},r,1)})})},function(r){r.fill(s,"indexOf:startingAt:",{anObject:t,start:n},e.SequenceableCollection)})},args:["anObject","start"],source:'indexOf: anObject startingAt: start\n	"Answer the index of the first occurence of anElement after start\n	within the receiver. If the receiver does not contain anElement,\n	answer 0."\n	^ self indexOf: anObject startingAt: start ifAbsent: [ 0 ]',messageSends:["indexOf:startingAt:ifAbsent:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"indexOf:startingAt:ifAbsent:",category:"accessing",fn:function(t,n,s){var r=this;return e.withContext(function(){for(var e=n-1;e<r.length;e++)if(r[e].__eq(t))return e+1;return s._value()},function(a){a.fill(r,"indexOf:startingAt:ifAbsent:",{anObject:t,start:n,aBlock:s},e.SequenceableCollection)})},args:["anObject","start","aBlock"],source:"indexOf: anObject startingAt: start ifAbsent: aBlock\n	<\n		for(var i=start-1;i<self.length;i++){\n			if(self[i].__eq(anObject)) {return i+1}\n		}\n		return aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"last",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(t._size())},function(n){n.fill(t,"last",{},e.SequenceableCollection)})},args:[],source:"last\n	^ self at: self size",messageSends:["at:","size"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"newStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._streamClass())._on_(t)},function(n){n.fill(t,"newStream",{},e.SequenceableCollection)})},args:[],source:"newStream\n	^ self streamClass on: self",messageSends:["on:","streamClass"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"readStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._stream()},function(n){n.fill(t,"readStream",{},e.SequenceableCollection)})},args:[],source:'readStream\n	"For Pharo compatibility"\n	\n	^ self stream',messageSends:["stream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"removeLast",category:"adding/removing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._remove_(t._last())},function(n){n.fill(t,"removeLast",{},e.SequenceableCollection)})},args:[],source:"removeLast\n	^ self remove: self last",messageSends:["remove:","last"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"reversed",{},e.SequenceableCollection)})},args:[],source:"reversed\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"second",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(2)},function(n){n.fill(t,"second",{},e.SequenceableCollection)})},args:[],source:"second\n	^ self at: 2",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s._class())._new_(s._size()),s._withIndexDo_(function(s,a){return e.withContext(function(){return n(t)._at_put_(a,s)},function(e){e.fillBlock({each:s,index:a},r,1)})}),a=t},function(n){n.fill(s,"shallowCopy",{newCollection:t},e.SequenceableCollection)})},args:[],source:"shallowCopy\n	| newCollection |\n	newCollection := self class new: self size.\n	self withIndexDo: [ :each :index |\n		newCollection at: index put: each ].\n	^ newCollection",messageSends:["new:","class","size","withIndexDo:","at:put:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"stream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._newStream()},function(n){n.fill(t,"stream",{},e.SequenceableCollection)})},args:[],source:"stream\n	^ self newStream",messageSends:["newStream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"streamClass",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._streamClass()},function(n){n.fill(t,"streamClass",{},e.SequenceableCollection)})},args:[],source:"streamClass\n	^ self class streamClass",messageSends:["streamClass","class"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"third",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_(3)},function(n){n.fill(t,"third",{},e.SequenceableCollection)})},args:[],source:"third\n	^ self at: 3",messageSends:["at:"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"with:do:",category:"enumerating",fn:function(t,n){var s=this;return e.withContext(function(){for(var e=0;e<s.length;e++)n._value_value_(s[e],t[e]);return s},function(r){r.fill(s,"with:do:",{anotherCollection:t,aBlock:n},e.SequenceableCollection)})},args:["anotherCollection","aBlock"],source:"with: anotherCollection do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self[i], anotherCollection[i]);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_value_(n[e],e+1);return n},function(s){s.fill(n,"withIndexDo:",{aBlock:t},e.SequenceableCollection)})},args:["aBlock"],source:"withIndexDo: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self[i], i+1);}>",messageSends:[],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"writeStream",category:"streaming",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._stream()},function(n){n.fill(t,"writeStream",{},e.SequenceableCollection)})},args:[],source:'writeStream\n	"For Pharo compatibility"\n	\n	^ self stream',messageSends:["stream"],referencedClasses:[]}),e.SequenceableCollection),e.addMethod(e.method({selector:"streamClass",category:"accessing",fn:function(){function n(){return e.Stream||("undefined"==typeof Stream?t:Stream)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"streamClass",{},e.SequenceableCollection.klass)})},args:[],source:"streamClass\n		^ Stream",messageSends:[],referencedClasses:["Stream"]}),e.SequenceableCollection.klass),e.addMethod(e.method({selector:"streamContents:",category:"streaming",fn:function(t){var s,r=this;return e.withContext(function(){var e;return s=n(r._streamClass())._on_(r._new()),n(t)._value_(s),e=n(s)._contents()},function(n){n.fill(r,"streamContents:",{aBlock:t,stream:s},e.SequenceableCollection.klass)})},args:["aBlock"],source:"streamContents: aBlock\n	| stream |\n	stream := (self streamClass on: self new).\n	aBlock value: stream.\n	^ stream contents",messageSends:["on:","streamClass","new","value:","contents"],referencedClasses:[]}),e.SequenceableCollection.klass),e.addClass("Array",e.SequenceableCollection,[],"Kernel-Collections"),e.Array.comment="I represent a collection of objects ordered by the collector. The size of arrays is dynamic.\n\nI am directly mapped to JavaScript Number.\n\n*Note* In Amber, `OrderedCollection` is an alias for `Array`.",e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.push(t),t},function(s){s.fill(n,"add:",{anObject:t},e.Array)})},args:["anObject"],source:"add: anObject\n	<self.push(anObject); return anObject;>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"addFirst:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.unshift(t),t},function(s){s.fill(n,"addFirst:",{anObject:t},e.Array)})},args:["anObject"],source:"addFirst: anObject\n	<self.unshift(anObject); return anObject;>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n("[".__comma(n(t._collect_(function(t){return e.withContext(function(){return n(t)._asJavascript()},function(e){e.fillBlock({each:t},s,1)})}))._join_(", "))).__comma("]"),s.sendIdx[","]=1,r},function(n){n.fill(t,"asJavascript",{},e.Array)})},args:[],source:"asJavascript\n	^ '[', ((self collect: [:each | each asJavascript ]) join: ', '), ']'",messageSends:[",","join:","collect:","asJavascript"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return 1>t||s.length<t?n._value():s[t-1]},function(r){r.fill(s,"at:ifAbsent:",{anIndex:t,aBlock:n},e.Array)})},args:["anIndex","aBlock"],source:"at: anIndex ifAbsent: aBlock\n	<\n		if((anIndex < 1) || (self.length < anIndex)) {return aBlock._value()};\n		return self[anIndex - 1];\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,s){var r=this;return e.withContext(function(){return 1>t||r.length<t?s._value():n._value_(r[t-1])},function(a){a.fill(r,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:s},e.Array)})},args:["anIndex","aBlock","anotherBlock"],source:"at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	<return anIndex < 1 || self.length < anIndex ? anotherBlock._value() : aBlock._value_(self[anIndex - 1]);>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s[t-1]=n},function(r){r.fill(s,"at:put:",{anIndex:t,anObject:n},e.Array)})},args:["anIndex","anObject"],source:"at: anIndex put: anObject\n	<return self[anIndex - 1] = anObject>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.map(function(e){return t._value_(e)})},function(s){s.fill(n,"collect:",{aBlock:t},e.Array)})},args:["aBlock"],source:'collect: aBlock\n	"Optimized version"\n	<return self.map(function(each) {return aBlock._value_(each)})>',messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"join:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.join(t)},function(s){s.fill(n,"join:",{aString:t},e.Array)})},args:["aString"],source:"join: aString\n	<return self.join(aString)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){return e.Array.superclass.fn.prototype._printOn_.apply(n(s),[t]),r.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),r.sendIdx["nextPutAll:"]=1,s._do_separatedBy_(function(s){return e.withContext(function(){return n(s)._printOn_(t)},function(e){e.fillBlock({each:s},r,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" ")},function(e){e.fillBlock({},r,2)})}),n(t)._nextPutAll_(")"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Array)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self \n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,s){var r=this;return e.withContext(function(){for(var e=0;e<r.length;e++)if(n(r[e]).__eq(t))return r.splice(e,1),r;return s._value(),r},function(n){n.fill(r,"remove:ifAbsent:",{anObject:t,aBlock:s},e.Array)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	<\n		for(var i=0;i<self.length;i++) {\n			if(_st(self[i]).__eq(anObject)) {\n				self.splice(i,1);\n				return self;\n			}\n		};\n		aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeFrom:to:",category:"adding/removing",fn:function(t,n){var s=this;return e.withContext(function(){return s.splice(t-1,n-t+1),s},function(r){r.fill(s,"removeFrom:to:",{aNumber:t,anotherNumber:n},e.Array)})},args:["aNumber","anotherNumber"],source:"removeFrom: aNumber to: anotherNumber\n	<self.splice(aNumber -1, anotherNumber - aNumber + 1)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeIndex:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n.splice(t-1,1),n},function(s){s.fill(n,"removeIndex:",{anInteger:t},e.Array)})},args:["anInteger"],source:"removeIndex: anInteger\n	<self.splice(anInteger - 1, 1)>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"removeLast",category:"adding/removing",fn:function(){var t=this;return e.withContext(function(){return t.pop()},function(n){n.fill(t,"removeLast",{},e.Array)})},args:[],source:"removeLast\n	<return self.pop();>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t._copy().reverse()},function(n){n.fill(t,"reversed",{},e.Array)})},args:[],source:"reversed\n	<return self._copy().reverse()>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=n.klass._new(),s=0;s<n.length;s++)t._value_(n[s])&&e.push(n[s]);return e},function(s){s.fill(n,"select:",{aBlock:t},e.Array)})},args:["aBlock"],source:'select: aBlock\n	"Optimized version"\n	\n	<\n		var result = self.klass._new();\n		for(var i=0; i<self.length; i++) {\n			if(aBlock._value_(self[i])) {\n				result.push(self[i]);\n			}\n		}\n		return result;\n	>',messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.length},function(n){n.fill(t,"size",{},e.Array)})},args:[],source:"size\n	<return self.length>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sort",category:"enumerating",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicPerform_("sort")},function(n){n.fill(t,"sort",{},e.Array)})},args:[],source:"sort\n	^ self basicPerform: 'sort'",messageSends:["basicPerform:"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sort:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){return n.sort(function(e,n){return t._value_value_(e,n)?-1:1})},function(s){s.fill(n,"sort:",{aBlock:t},e.Array)})},args:["aBlock"],source:"sort: aBlock\n	<\n		return self.sort(function(a, b) {\n			if(aBlock._value_value_(a,b)) {return -1} else {return 1}\n		})\n	>",messageSends:[],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sorted",category:"enumerating",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._copy())._sort()},function(n){n.fill(t,"sorted",{},e.Array)})},args:[],source:"sorted\n	^ self copy sort",messageSends:["sort","copy"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"sorted:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._copy())._sort_(t)},function(n){n.fill(s,"sorted:",{aBlock:t},e.Array)})},args:["aBlock"],source:"sorted: aBlock\n	^ self copy sort: aBlock",messageSends:["sort:","copy"],referencedClasses:[]}),e.Array),e.addMethod(e.method({selector:"new:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return new Array(t)},function(s){s.fill(n,"new:",{anInteger:t},e.Array.klass)})},args:["anInteger"],source:"new: anInteger\n	<return new Array(anInteger)>",messageSends:[],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new_(1),n(e)._at_put_(1,t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"with:",{anObject:t},e.Array.klass)})},args:["anObject"],source:"with: anObject\n		^ (self new: 1)\n		at: 1 put: anObject;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:with:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i;return a=r._new_(2),n(a)._at_put_(1,t),e.sendIdx["at:put:"]=1,n(a)._at_put_(2,s),o=n(a)._yourself(),i=o},function(n){n.fill(r,"with:with:",{anObject:t,anObject2:s},e.Array.klass)})},args:["anObject","anObject2"],source:"with: anObject with: anObject2\n		^ (self new: 2)\n		at: 1 put: anObject;\n		at: 2 put: anObject2;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"with:with:with:",category:"instance creation",fn:function(t,s,r){var a=this;return e.withContext(function(e){var o,i,l;return o=a._new_(3),n(o)._at_put_(1,t),e.sendIdx["at:put:"]=1,n(o)._at_put_(2,s),e.sendIdx["at:put:"]=2,n(o)._at_put_(3,r),i=n(o)._yourself(),l=i},function(n){n.fill(a,"with:with:with:",{anObject:t,anObject2:s,anObject3:r},e.Array.klass)})},args:["anObject","anObject2","anObject3"],source:"with: anObject with: anObject2 with: anObject3\n		^ (self new: 3)\n		at: 1 put: anObject;\n		at: 2 put: anObject2;\n		at: 3 put: anObject3;\n		yourself",messageSends:["at:put:","new:","yourself"],referencedClasses:[]}),e.Array.klass),e.addMethod(e.method({selector:"withAll:",category:"instance creation",fn:function(t){var s,r,a=this;
return e.withContext(function(o){var i;return r=1,s=a._new_(n(t)._size()),n(t)._do_(function(t){return e.withContext(function(){return n(s)._at_put_(r,t),r=n(r).__plus(1)},function(e){e.fillBlock({each:t},o,1)})}),i=s},function(n){n.fill(a,"withAll:",{aCollection:t,instance:s,index:r},e.Array.klass)})},args:["aCollection"],source:"withAll: aCollection\n	| instance index |\n	index := 1.\n	instance := self new: aCollection size.\n	aCollection do: [ :each |\n		instance at: index put: each.\n		index := index + 1 ].\n	^ instance",messageSends:["new:","size","do:","at:put:","+"],referencedClasses:[]}),e.Array.klass),e.addClass("CharacterArray",e.SequenceableCollection,[],"Kernel-Collections"),e.CharacterArray.comment="I am the abstract superclass of string-like collections.",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=s._asString(),e.sendIdx.asString=1,a=n(r).__comma(n(t)._asString())},function(n){n.fill(s,",",{aString:t},e.CharacterArray)})},args:["aString"],source:", aString\n	^ self asString, aString asString",messageSends:[",","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._errorReadOnly(),n},function(s){s.fill(n,"add:",{anObject:t},e.CharacterArray)})},args:["anObject"],source:"add: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asLowercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(n(t._asString())._asLowercase())},function(n){n.fill(t,"asLowercase",{},e.CharacterArray)})},args:[],source:"asLowercase\n	^ self class fromString: self asString asLowercase",messageSends:["fromString:","class","asLowercase","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._asString())._asNumber()},function(n){n.fill(t,"asNumber",{},e.CharacterArray)})},args:[],source:"asNumber\n	^ self asString asNumber",messageSends:["asNumber","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._subclassResponsibility()},function(n){n.fill(t,"asString",{},e.CharacterArray)})},args:[],source:"asString\n	^ self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asSymbol",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._asString()},function(n){n.fill(t,"asSymbol",{},e.CharacterArray)})},args:[],source:"asSymbol\n	^ self asString",messageSends:["asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"asUppercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(n(t._asString())._asUppercase())},function(n){n.fill(t,"asUppercase",{},e.CharacterArray)})},args:[],source:"asUppercase\n	^ self class fromString: self asString asUppercase",messageSends:["fromString:","class","asUppercase","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s._errorReadOnly(),s},function(r){r.fill(s,"at:put:",{anIndex:t,anObject:n},e.CharacterArray)})},args:["anIndex","anObject"],source:"at: anIndex put: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"errorReadOnly",category:"error handling",fn:function(){var t=this;return e.withContext(function(){return t._error_("Object is read-only"),t},function(n){n.fill(t,"errorReadOnly",{},e.CharacterArray)})},args:[],source:"errorReadOnly\n	self error: 'Object is read-only'",messageSends:["error:"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(s._asString())._printOn_(t),s},function(n){n.fill(s,"printOn:",{aStream:t},e.CharacterArray)})},args:["aStream"],source:"printOn: aStream\n	self asString printOn: aStream",messageSends:["printOn:","asString"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"putOn:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutString_(s),s},function(n){n.fill(s,"putOn:",{aStream:t},e.CharacterArray)})},args:["aStream"],source:"putOn: aStream\n	aStream nextPutString: self",messageSends:["nextPutString:"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var n=this;return e.withContext(function(){return n._errorReadOnly(),n},function(s){s.fill(n,"remove:",{anObject:t},e.CharacterArray)})},args:["anObject"],source:"remove: anObject\n	self errorReadOnly",messageSends:["errorReadOnly"],referencedClasses:[]}),e.CharacterArray),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(s){s.fill(n,"fromString:",{aString:t},e.CharacterArray.klass)})},args:["aString"],source:"fromString: aString\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.CharacterArray.klass),e.addClass("String",e.CharacterArray,[],"Kernel-Collections"),e.String.comment="I am an indexed collection of Characters. Unlike most Smalltalk dialects, Amber doesn't provide the Character class. Instead, elements of a String are single character strings.\n\nString inherits many useful methods from its hierarchy, such as\n	`Collection >> #,`",e.addMethod(e.method({selector:",",category:"copying",fn:function(t){var n=this;return e.withContext(function(){return n+t},function(s){s.fill(n,",",{aString:t},e.String)})},args:["aString"],source:", aString\n	<return self + aString>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"<",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)<t._asString()},function(s){s.fill(n,"<",{aString:t},e.String)})},args:["aString"],source:"< aString\n	<return String(self) < aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"<=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)<=t._asString()},function(s){s.fill(n,"<=",{aString:t},e.String)})},args:["aString"],source:"<= aString\n	<return String(self) <= aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return"undefined"==typeof t?!1:t._isString&&t._isString()?String(n)===String(t):!1},function(s){s.fill(n,"=",{aString:t},e.String)})},args:["aString"],source:"= aString\n	<\n		if(typeof aString === 'undefined') { return false }\n		if(!aString._isString || ! aString._isString()) {\n			return false;\n		}\n		return String(self) === String(aString)\n	>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"==",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n.__eq(t)},function(s){s.fill(n,"==",{aString:t},e.String)})},args:["aString"],source:"== aString\n	^ self = aString",messageSends:["="],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:">",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)>t._asString()},function(s){s.fill(n,">",{aString:t},e.String)})},args:["aString"],source:"> aString\n	<return String(self) >> aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:">=",category:"comparing",fn:function(t){var n=this;return e.withContext(function(){return String(n)>=t._asString()},function(s){s.fill(n,">=",{aString:t},e.String)})},args:["aString"],source:">= aString\n	<return String(self) >>= aString._asString()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asJSON",{},e.String)})},args:[],source:"asJSON\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJavascript",category:"converting",fn:function(){var t=this;return e.withContext(function(){return-1==t.search(/^[a-zA-Z0-9_:.$ ]*$/)?'"'+t.replace(/[\x00-\x1f"\\\x7f-\x9f]/g,function(e){var t=e.charCodeAt(0);return"\\x"+("0"+t.toString(16)).slice(-2)})+'"':'"'+t+'"'},function(n){n.fill(t,"asJavascript",{},e.String)})},args:[],source:'asJavascript\n	<\n		if(self.search(/^[a-zA-Z0-9_:.$ ]*$/) == -1)\n			return "\\"" + self.replace(/[\\x00-\\x1f"\\\\\\x7f-\\x9f]/g, function(ch){var c=ch.charCodeAt(0);return "\\\\x"+("0"+c.toString(16)).slice(-2)}) + "\\"";\n		else\n			return "\\"" + self + "\\"";\n	>',messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asLowercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toLowerCase()},function(n){n.fill(t,"asLowercase",{},e.String)})},args:[],source:"asLowercase\n	<return self.toLowerCase()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asMutator",category:"converting",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=n(t._last()).__eq(":"),e.assert(s)?t:r=t.__comma(":")},function(n){n.fill(t,"asMutator",{},e.String)})},args:[],source:"asMutator\n	\"Answer a setter selector. For example,\n	#name asMutator returns #name:\"\n\n	self last = ':' ifFalse: [  ^ self, ':' ].\n	^ self",messageSends:["ifFalse:","=","last",","],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asNumber",category:"converting",fn:function(){var t=this;return e.withContext(function(){return Number(t)},function(n){n.fill(t,"asNumber",{},e.String)})},args:[],source:"asNumber\n	<return Number(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asRegexp",category:"converting",fn:function(){function s(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var r=this;return e.withContext(function(){var e;return e=n(s())._fromString_(r)},function(t){t.fill(r,"asRegexp",{},e.String)})},args:[],source:"asRegexp\n	^ RegularExpression fromString: self",messageSends:["fromString:"],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"asSelector",category:"converting",fn:function(){var t=this;return e.withContext(function(){return e.selector(t)},function(n){n.fill(t,"asSelector",{},e.String)})},args:[],source:"asSelector\n	<return smalltalk.selector(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asString",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asString",{},e.String)})},args:[],source:"asString\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asSymbol",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"asSymbol",{},e.String)})},args:[],source:"asSymbol\n	^ self",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asUppercase",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.toUpperCase()},function(n){n.fill(t,"asUppercase",{},e.String)})},args:[],source:"asUppercase\n	<return self.toUpperCase()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asciiValue",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.charCodeAt(0)},function(n){n.fill(t,"asciiValue",{},e.String)})},args:[],source:"asciiValue\n	<return self.charCodeAt(0);>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return String(s).charAt(t-1)||n._value()},function(r){r.fill(s,"at:ifAbsent:",{anIndex:t,aBlock:n},e.String)})},args:["anIndex","aBlock"],source:"at: anIndex ifAbsent: aBlock\n	<return String(self).charAt(anIndex - 1) || aBlock._value()>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,s){var r=this;return e.withContext(function(){var e=String(r).charAt(t-1);return e?n._value_(e):s._value()},function(a){a.fill(r,"at:ifPresent:ifAbsent:",{anIndex:t,aBlock:n,anotherBlock:s},e.String)})},args:["anIndex","aBlock","anotherBlock"],source:"at: anIndex ifPresent: aBlock ifAbsent: anotherBlock\n	<\n		var result = String(self).charAt(anIndex - 1);\n		return result ? aBlock._value_(result) : anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"capitalized",category:"converting",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=t._isEmpty(),r=e.assert(s)?t:n(n(t._first())._asUppercase()).__comma(t._allButFirst())},function(n){n.fill(t,"capitalized",{},e.String)})},args:[],source:"capitalized\n	^ self isEmpty\n		ifTrue: [ self ]\n		ifFalse: [ self first asUppercase, self allButFirst ]",messageSends:["ifTrue:ifFalse:","isEmpty",",","asUppercase","first","allButFirst"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"charCodeAt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.charCodeAt(t-1)},function(s){s.fill(n,"charCodeAt:",{anInteger:t},e.String)})},args:["anInteger"],source:"charCodeAt: anInteger\n	< return self.charCodeAt(anInteger - 1) >",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"copyFrom:to:",category:"copying",fn:function(t,n){var s=this;return e.withContext(function(){return s.substring(t-1,n)},function(r){r.fill(s,"copyFrom:to:",{anIndex:t,anotherIndex:n},e.String)})},args:["anIndex","anotherIndex"],source:"copyFrom: anIndex to: anotherIndex\n	<return self.substring(anIndex - 1, anotherIndex)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"crlfSanitized",category:"converting",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){var e;return e=n(r._lines())._join_(n(s())._lf())},function(t){t.fill(r,"crlfSanitized",{},e.String)})},args:[],source:"crlfSanitized\n	^ self lines join: String lf",messageSends:["join:","lines","lf"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"deepCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._shallowCopy()},function(n){n.fill(t,"deepCopy",{},e.String)})},args:[],source:"deepCopy\n	^ self shallowCopy",messageSends:["shallowCopy"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_(n.charAt(e));return n},function(s){s.fill(n,"do:",{aBlock:t},e.String)})},args:["aBlock"],source:"do: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_(self.charAt(i));}>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"escaped",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return escape(t)},function(n){n.fill(t,"escaped",{},e.String)})},args:[],source:"escaped\n	<return escape(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"identityHash",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__comma("s")},function(n){n.fill(t,"identityHash",{},e.String)})},args:[],source:"identityHash\n	^ self, 's'",messageSends:[","],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"includesSubString:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return-1!=n.indexOf(t)},function(s){s.fill(n,"includesSubString:",{subString:t},e.String)})},args:["subString"],source:"includesSubString: subString\n	< return self.indexOf(subString) != -1 >",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isCapitalized",category:"testing",fn:function(){var t=this;return e.withContext(function(e){var s,r,a;return s=t._first(),e.sendIdx.first=1,r=n(s)._asUppercase(),a=n(r).__eq_eq(t._first())},function(n){n.fill(t,"isCapitalized",{},e.String)})},args:[],source:"isCapitalized\n	^ self first asUppercase == self first",messageSends:["==","asUppercase","first"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isImmutable",{},e.String)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isString",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isString",{},e.String)})},args:[],source:"isString\n	^ true",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"isVowel",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(n(t._size()).__eq(1))._and_(function(){return e.withContext(function(){return"aeiou"._includes_(t._asLowercase())},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(t,"isVowel",{},e.String)})},args:[],source:"isVowel\n	\"Answer true if the receiver is a one character string containing a voyel\"\n	\n	^ self size = 1 and: [ 'aeiou' includes: self asLowercase ]",messageSends:["and:","=","size","includes:","asLowercase"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"join:",category:"split join",fn:function(s){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var o;return o=n(r())._streamContents_(function(r){return e.withContext(function(t){return n(s)._do_separatedBy_(function(s){return e.withContext(function(e){return n(r)._nextPutAll_(n(s)._asString())},function(e){e.fillBlock({each:s},t,2)})},function(){return e.withContext(function(){return n(r)._nextPutAll_(a)},function(e){e.fillBlock({},t,3)})})},function(e){e.fillBlock({stream:r},t,1)})})},function(t){t.fill(a,"join:",{aCollection:s},e.String)})},args:["aCollection"],source:"join: aCollection\n	^ String\n		streamContents: [ :stream | aCollection\n				do: [ :each | stream nextPutAll: each asString ]\n				separatedBy: [ stream nextPutAll: self ]]",messageSends:["streamContents:","do:separatedBy:","nextPutAll:","asString"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"lineIndicesDo:",category:"split join",fn:function(s){function r(){return e.String||("undefined"==typeof String?t:String)}var a,o,i,l,c,u,d=this;return e.withContext(function(t){var f,h,m,g,p,_,C,v,x,y,S,b={};try{return i=1,l=d._size(),a=n(r())._cr(),u=d._indexOf_startingAt_(a,1),t.sendIdx["indexOf:startingAt:"]=1,o=n(r())._lf(),c=d._indexOf_startingAt_(o,1),t.sendIdx["indexOf:startingAt:"]=2,n(function(){return e.withContext(function(){return n(i).__lt_eq(l)},function(e){e.fillBlock({},t,1)})})._whileTrue_(function(){return e.withContext(function(t){if(f=n(c).__eq(0),t.sendIdx["="]=1,h=n(f)._and_(function(){return e.withContext(function(e){return n(u).__eq(0)},function(e){e.fillBlock({},t,3)})}),t.sendIdx["and:"]=1,e.assert(h))throw n(s)._value_value_value_(i,l,l),t.sendIdx["value:value:value:"]=1,b=[d];return m=n(u).__eq(0),t.sendIdx["="]=3,p=n(m)._or_(function(){return e.withContext(function(t){return g=0..__lt(c),t.sendIdx["<"]=1,n(g)._and_(function(){return e.withContext(function(){return n(c).__lt(u)},function(e){e.fillBlock({},t,6)})})},function(e){e.fillBlock({},t,5)})}),e.assert(p)?(_=i,C=n(c).__minus(1),t.sendIdx["-"]=1,n(s)._value_value_value_(_,C,c),t.sendIdx["value:value:value:"]=2,i=1..__plus(c),t.sendIdx["+"]=1,c=d._indexOf_startingAt_(o,i),t.sendIdx["indexOf:startingAt:"]=3,c):(v=1..__plus(u),t.sendIdx["+"]=2,x=n(v).__eq(c),e.assert(x)?(y=i,S=n(u).__minus(1),t.sendIdx["-"]=2,n(s)._value_value_value_(y,S,c),t.sendIdx["value:value:value:"]=3,i=1..__plus(c),t.sendIdx["+"]=3,u=d._indexOf_startingAt_(a,i),t.sendIdx["indexOf:startingAt:"]=4,c=d._indexOf_startingAt_(o,i),t.sendIdx["indexOf:startingAt:"]=5,c):(n(s)._value_value_value_(i,n(u).__minus(1),u),i=1..__plus(u),u=d._indexOf_startingAt_(a,i)))},function(e){e.fillBlock({},t,2)})}),d}catch(w){if(w===b)return w[0];throw w}},function(t){t.fill(d,"lineIndicesDo:",{aBlock:s,cr:a,lf:o,start:i,sz:l,nextLF:c,nextCR:u},e.String)})},args:["aBlock"],source:'lineIndicesDo: aBlock\n	"execute aBlock with 3 arguments for each line:\n	- start index of line\n	- end index of line without line delimiter\n	- end index of line including line delimiter(s) CR, LF or CRLF"\n	\n	| cr lf start sz nextLF nextCR |\n	start := 1.\n	sz := self size.\n	cr := String cr.\n	nextCR := self indexOf: cr startingAt: 1.\n	lf := String lf.\n	nextLF := self indexOf: lf startingAt: 1.\n	[ start <= sz ] whileTrue: [ \n		(nextLF = 0 and: [ nextCR = 0 ])\n			ifTrue: [ "No more CR, nor LF, the string is over"\n					aBlock value: start value: sz value: sz.\n					^ self ].\n		(nextCR = 0 or: [ 0 < nextLF and: [ nextLF < nextCR ] ])\n			ifTrue: [ "Found a LF"\n					aBlock value: start value: nextLF - 1 value: nextLF.\n					start := 1 + nextLF.\n					nextLF := self indexOf: lf startingAt: start ]\n			ifFalse: [ 1 + nextCR = nextLF\n				ifTrue: [ "Found a CR-LF pair"\n					aBlock value: start value: nextCR - 1 value: nextLF.\n					start := 1 + nextLF.\n					nextCR := self indexOf: cr startingAt: start.\n					nextLF := self indexOf: lf startingAt: start ]\n				ifFalse: [ "Found a CR"\n					aBlock value: start value: nextCR - 1 value: nextCR.\n					start := 1 + nextCR.\n					nextCR := self indexOf: cr startingAt: start ] ]]',messageSends:["size","cr","indexOf:startingAt:","lf","whileTrue:","<=","ifTrue:","and:","=","value:value:value:","ifTrue:ifFalse:","or:","<","-","+"],referencedClasses:["String"]}),e.String),e.addMethod(e.method({selector:"lineNumber:",category:"split join",fn:function(s){var r,a=this;return e.withContext(function(o){var i,l,c,u={};try{return r=0,a._lineIndicesDo_(function(t,d,f){return e.withContext(function(){if(r=n(r).__plus(1),i=r,l=n(i).__eq(s),e.assert(l))throw c=a._copyFrom_to_(t,d),u=[c]},function(e){e.fillBlock({start:t,endWithoutDelimiters:d,end:f},o,1)})}),t}catch(d){if(d===u)return d[0];throw d}},function(t){t.fill(a,"lineNumber:",{anIndex:s,lineCount:r},e.String)})},args:["anIndex"],source:'lineNumber: anIndex\n	"Answer a string containing the characters in the given line number."\n\n	| lineCount |\n	lineCount := 0.\n	self lineIndicesDo: [ :start :endWithoutDelimiters :end |\n		(lineCount := lineCount + 1) = anIndex ifTrue: [ ^ self copyFrom: start to: endWithoutDelimiters ]].\n	^ nil',messageSends:["lineIndicesDo:","ifTrue:","=","+","copyFrom:to:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"lines",category:"split join",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r,a=this;return e.withContext(function(t){var o;return r=n(s())._new(),a._linesDo_(function(s){return e.withContext(function(){return n(r)._add_(s)},function(e){e.fillBlock({aLine:s},t,1)})}),o=r},function(t){t.fill(a,"lines",{lines:r},e.String)})},args:[],source:'lines\n	"Answer an array of lines composing this receiver without the line ending delimiters."\n\n	| lines |\n	lines := Array new.\n	self linesDo: [ :aLine | lines add: aLine ].\n	^ lines',messageSends:["new","linesDo:","add:"],referencedClasses:["Array"]}),e.String),e.addMethod(e.method({selector:"linesDo:",category:"split join",fn:function(t){var s=this;return e.withContext(function(r){return s._lineIndicesDo_(function(a,o,i){return e.withContext(function(){return n(t)._value_(s._copyFrom_to_(a,o))},function(e){e.fillBlock({start:a,endWithoutDelimiters:o,end:i},r,1)})}),s},function(n){n.fill(s,"linesDo:",{aBlock:t},e.String)})},args:["aBlock"],source:'linesDo: aBlock\n	"Execute aBlock with each line in this string. The terminating line\n	delimiters CR, LF or CRLF pairs are not included in what is passed to aBlock"\n\n	self lineIndicesDo: [ :start :endWithoutDelimiters :end |\n		aBlock value: (self copyFrom: start to: endWithoutDelimiters) ]',messageSends:["lineIndicesDo:","value:","copyFrom:to:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"match:",category:"regular expressions",fn:function(t){var n=this;return e.withContext(function(){return-1!=n.search(t)},function(s){s.fill(n,"match:",{aRegexp:t},e.String)})},args:["aRegexp"],source:"match: aRegexp\n	<return self.search(aRegexp) != -1>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"matchesOf:",category:"regular expressions",fn:function(t){var n=this;return e.withContext(function(){return n.match(t)},function(s){s.fill(n,"matchesOf:",{aRegularExpression:t},e.String)})},args:["aRegularExpression"],source:"matchesOf: aRegularExpression\n	<return self.match(aRegularExpression)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"printNl",category:"printing",fn:function(){var t=this;return e.withContext(function(){return console.log(t),t},function(n){n.fill(t,"printNl",{},e.String)})},args:[],source:"printNl\n	<console.log(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(e){var r;return n(t)._nextPutAll_("'"),e.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(s),e.sendIdx["nextPutAll:"]=2,r=n(t)._nextPutAll_("'"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.String)})},args:["aStream"],source:"printOn: aStream\n	aStream \n		nextPutAll: '''';\n		nextPutAll: self;\n		nextPutAll: ''''",messageSends:["nextPutAll:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"replace:with:",category:"regular expressions",fn:function(s,r){function a(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var o=this;return e.withContext(function(){var e;return e=o._replaceRegexp_with_(n(a())._fromString_flag_(s,"g"),r)},function(t){t.fill(o,"replace:with:",{aString:s,anotherString:r},e.String)})},args:["aString","anotherString"],source:"replace: aString with: anotherString\n	^ self replaceRegexp: (RegularExpression fromString: aString flag: 'g') with: anotherString",messageSends:["replaceRegexp:with:","fromString:flag:"],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"replaceRegexp:with:",category:"regular expressions",fn:function(t,n){var s=this;return e.withContext(function(){return s.replace(t,n)},function(r){r.fill(s,"replaceRegexp:with:",{aRegexp:t,aString:n},e.String)})},args:["aRegexp","aString"],source:"replaceRegexp: aRegexp with: aString\n	<return self.replace(aRegexp, aString)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"reversed",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t.split("").reverse().join("")},function(n){n.fill(t,"reversed",{},e.String)})},args:[],source:'reversed\n	<return self.split("").reverse().join("")>',messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"shallowCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._fromString_(t)},function(n){n.fill(t,"shallowCopy",{},e.String)})},args:[],source:"shallowCopy\n	^ self class fromString: self",messageSends:["fromString:","class"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.length},function(n){n.fill(t,"size",{},e.String)})},args:[],source:"size\n	<return self.length>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"subStrings:",category:"split join",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._tokenize_(t)},function(s){s.fill(n,"subStrings:",{aString:t},e.String)})},args:["aString"],source:"subStrings: aString\n	^ self tokenize: aString",messageSends:["tokenize:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"tokenize:",category:"split join",fn:function(t){var n=this;return e.withContext(function(){return n.split(t)},function(s){s.fill(n,"tokenize:",{aString:t},e.String)})},args:["aString"],source:"tokenize: aString\n	<return self.split(aString)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimBoth",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._trimBoth_("\\s")},function(n){n.fill(t,"trimBoth",{},e.String)})},args:[],source:"trimBoth\n	^ self trimBoth: '\\s'",messageSends:["trimBoth:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimBoth:",category:"regular expressions",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._trimLeft_(t))._trimRight_(t)},function(n){n.fill(s,"trimBoth:",{separators:t},e.String)})},args:["separators"],source:"trimBoth: separators\n\n	^ (self trimLeft: separators) trimRight: separators",messageSends:["trimRight:","trimLeft:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimLeft",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._trimLeft_("\\s")},function(n){n.fill(t,"trimLeft",{},e.String)})},args:[],source:"trimLeft\n	^ self trimLeft: '\\s'",messageSends:["trimLeft:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimLeft:",category:"regular expressions",fn:function(s){function r(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var a=this;return e.withContext(function(e){var t,o,i;return t=n("^[".__comma(s)).__comma("]+"),e.sendIdx[","]=1,o=n(r())._fromString_flag_(t,"g"),i=a._replaceRegexp_with_(o,"")},function(t){t.fill(a,"trimLeft:",{separators:s},e.String)})},args:["separators"],source:"trimLeft: separators\n\n	^ self replaceRegexp: (RegularExpression fromString: '^[', separators, ']+' flag: 'g') with: ''",messageSends:["replaceRegexp:with:","fromString:flag:",","],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"trimRight",category:"regular expressions",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._trimRight_("\\s")},function(n){n.fill(t,"trimRight",{},e.String)})},args:[],source:"trimRight\n	^ self trimRight: '\\s'",messageSends:["trimRight:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"trimRight:",category:"regular expressions",fn:function(s){function r(){return e.RegularExpression||("undefined"==typeof RegularExpression?t:RegularExpression)}var a=this;return e.withContext(function(e){var t,o,i;return t=n("[".__comma(s)).__comma("]+$"),e.sendIdx[","]=1,o=n(r())._fromString_flag_(t,"g"),i=a._replaceRegexp_with_(o,"")},function(t){t.fill(a,"trimRight:",{separators:s},e.String)})},args:["separators"],source:"trimRight: separators\n\n	^ self replaceRegexp: (RegularExpression fromString: '[', separators, ']+$' flag: 'g') with: ''",messageSends:["replaceRegexp:with:","fromString:flag:",","],referencedClasses:["RegularExpression"]}),e.String),e.addMethod(e.method({selector:"unescaped",category:"accessing",fn:function(){var t=this;
return e.withContext(function(){return unescape(t)},function(n){n.fill(t,"unescaped",{},e.String)})},args:[],source:"unescaped\n	<return unescape(self)>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"withIndexDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){for(var e=0;e<n.length;e++)t._value_value_(n.charAt(e),e+1);return n},function(s){s.fill(n,"withIndexDo:",{aBlock:t},e.String)})},args:["aBlock"],source:"withIndexDo: aBlock\n	<for(var i=0;i<self.length;i++){aBlock._value_value_(self.charAt(i), i+1);}>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"cr",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\r"},function(n){n.fill(t,"cr",{},e.String.klass)})},args:[],source:"cr\n	<return '\\r'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"crlf",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\r\n"},function(n){n.fill(t,"crlf",{},e.String.klass)})},args:[],source:"crlf\n	<return '\\r\\n'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"esc",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._fromCharCode_(27)},function(n){n.fill(t,"esc",{},e.String.klass)})},args:[],source:"esc\n	^ self fromCharCode: 27",messageSends:["fromCharCode:"],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"fromCharCode:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String.fromCharCode(t)},function(s){s.fill(n,"fromCharCode:",{anInteger:t},e.String.klass)})},args:["anInteger"],source:"fromCharCode: anInteger\n	<return String.fromCharCode(anInteger)>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String(t)},function(s){s.fill(n,"fromString:",{aString:t},e.String.klass)})},args:["aString"],source:"fromString: aString\n		<return String(aString)>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"lf",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"\n"},function(n){n.fill(t,"lf",{},e.String.klass)})},args:[],source:"lf\n	<return '\\n'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"random",category:"random",fn:function(){var t=this;return e.withContext(function(){return(.6875*Math.random()+.3125).toString(32).slice(2)},function(n){n.fill(t,"random",{},e.String.klass)})},args:[],source:'random\n	"Returns random alphanumeric string beginning with letter"\n	<return (Math.random()*(22/32)+(10/32)).toString(32).slice(2);>',messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"randomNotIn:",category:"random",fn:function(t){var s,r=this;return e.withContext(function(a){var o;return n(function(){return e.withContext(function(){return s=r._random(),n(t)._includesSubString_(s)},function(e){e.fillBlock({},a,1)})})._whileTrue(),o=s},function(n){n.fill(r,"randomNotIn:",{aString:t,result:s},e.String.klass)})},args:["aString"],source:"randomNotIn: aString\n	| result |\n	[ result := self random. aString includesSubString: result ] whileTrue.\n	^ result",messageSends:["whileTrue","random","includesSubString:"],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"space",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return" "},function(n){n.fill(t,"space",{},e.String.klass)})},args:[],source:"space\n	<return ' '>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"streamClass",category:"accessing",fn:function(){function n(){return e.StringStream||("undefined"==typeof StringStream?t:StringStream)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"streamClass",{},e.String.klass)})},args:[],source:"streamClass\n		^ StringStream",messageSends:[],referencedClasses:["StringStream"]}),e.String.klass),e.addMethod(e.method({selector:"tab",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"	"},function(n){n.fill(t,"tab",{},e.String.klass)})},args:[],source:"tab\n	<return '\\t'>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addMethod(e.method({selector:"value:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return String.fromCharCode(t)},function(s){s.fill(n,"value:",{aUTFCharCode:t},e.String.klass)})},args:["aUTFCharCode"],source:"value: aUTFCharCode\n\n	<return String.fromCharCode(aUTFCharCode);>",messageSends:[],referencedClasses:[]}),e.String.klass),e.addClass("Set",e.Collection,["elements"],"Kernel-Collections"),e.Set.comment="I represent an unordered set of objects without duplicates.",e.addMethod(e.method({selector:"=",category:"comparing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u={};try{return a=s._class(),r.sendIdx["class"]=1,o=n(a).__eq(n(t)._class()),r.sendIdx["="]=1,e.assert(o)?(i=s._size(),r.sendIdx.size=1,l=n(i).__eq(n(t)._size()),e.assert(l)?(s._do_(function(s){return e.withContext(function(){if(c=n(t)._includes_(s),!e.assert(c))throw u=[!1]},function(e){e.fillBlock({each:s},r,3)})}),!0):!1):!1}catch(d){if(d===u)return d[0];throw d}},function(n){n.fill(s,"=",{aCollection:t},e.Set)})},args:["aCollection"],source:"= aCollection\n	self class = aCollection class ifFalse: [ ^ false ].\n	self size = aCollection size ifFalse: [ ^ false ].\n	self do: [ :each | (aCollection includes: each) ifFalse: [ ^ false ] ].\n	^ true",messageSends:["ifFalse:","=","class","size","do:","includes:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"add:",category:"adding/removing",fn:function(t){var s=this;return e.withContext(function(){for(var e,r=0;r<s["@elements"].length;r++)if(n(t).__eq(s["@elements"][r])){e=!0;break}return e||s["@elements"].push(t),s},function(n){n.fill(s,"add:",{anObject:t},e.Set)})},args:["anObject"],source:"add: anObject\n	<\n		var found;\n		for(var i=0; i < self['@elements'].length; i++) {\n			if(_st(anObject).__eq(self['@elements'][i])) {\n				found = true;\n				break;\n			}\n		}\n		if(!found) {self['@elements'].push(anObject)}\n	>",messageSends:[],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"asArray",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@elements"])._copy()},function(n){n.fill(t,"asArray",{},e.Set)})},args:[],source:"asArray\n	^ elements copy",messageSends:["copy"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"collect:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._class())._withAll_(n(s["@elements"])._collect_(t))},function(n){n.fill(s,"collect:",{aBlock:t},e.Set)})},args:["aBlock"],source:"collect: aBlock\n	^ self class withAll: (elements collect: aBlock)",messageSends:["withAll:","class","collect:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"detect:ifNone:",category:"enumerating",fn:function(t,s){var r=this;return e.withContext(function(){var e;return e=n(r["@elements"])._detect_ifNone_(t,s)},function(n){n.fill(r,"detect:ifNone:",{aBlock:t,anotherBlock:s},e.Set)})},args:["aBlock","anotherBlock"],source:"detect: aBlock ifNone: anotherBlock\n	^ elements detect: aBlock ifNone: anotherBlock",messageSends:["detect:ifNone:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(){return n(s["@elements"])._do_(t),s},function(n){n.fill(s,"do:",{aBlock:t},e.Set)})},args:["aBlock"],source:"do: aBlock\n	elements do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"includes:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@elements"])._includes_(t)},function(n){n.fill(s,"includes:",{anObject:t},e.Set)})},args:["anObject"],source:"includes: anObject\n	^ elements includes: anObject",messageSends:["includes:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Set.superclass.fn.prototype._initialize.apply(n(t),[]),t["@elements"]=[],t},function(n){n.fill(t,"initialize",{},e.Set)})},args:[],source:"initialize\n	super initialize.\n	elements := #()",messageSends:["initialize"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){return e.Set.superclass.fn.prototype._printOn_.apply(n(s),[t]),r.sendIdx["printOn:"]=1,n(t)._nextPutAll_(" ("),r.sendIdx["nextPutAll:"]=1,s._do_separatedBy_(function(s){return e.withContext(function(){return n(s)._printOn_(t)},function(e){e.fillBlock({each:s},r,1)})},function(){return e.withContext(function(e){return n(t)._nextPutAll_(" ")},function(e){e.fillBlock({},r,2)})}),n(t)._nextPutAll_(")"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Set)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	\n	aStream nextPutAll: ' ('.\n	self \n		do: [ :each | each printOn: aStream ]\n		separatedBy: [ aStream nextPutAll: ' ' ].\n	aStream nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","do:separatedBy:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"remove:",category:"adding/removing",fn:function(t){var s=this;return e.withContext(function(){return n(s["@elements"])._remove_(t),s},function(n){n.fill(s,"remove:",{anObject:t},e.Set)})},args:["anObject"],source:"remove: anObject\n	elements remove: anObject",messageSends:["remove:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"remove:ifAbsent:",category:"adding/removing",fn:function(t,s){var r=this;return e.withContext(function(){return n(r["@elements"])._remove_ifAbsent_(t,s),r},function(n){n.fill(r,"remove:ifAbsent:",{anObject:t,aBlock:s},e.Set)})},args:["anObject","aBlock"],source:"remove: anObject ifAbsent: aBlock\n	elements remove: anObject ifAbsent: aBlock",messageSends:["remove:ifAbsent:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"select:",category:"enumerating",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=n(r._class())._new(),r._do_(function(r){return e.withContext(function(){return o=n(t)._value_(r),e.assert(o)?n(s)._add_(r):void 0},function(e){e.fillBlock({each:r},a,1)})}),i=s},function(n){n.fill(r,"select:",{aBlock:t,collection:s},e.Set)})},args:["aBlock"],source:"select: aBlock\n	| collection |\n	collection := self class new.\n	self do: [ :each |\n		(aBlock value: each) ifTrue: [\n			collection add: each ]].\n	^ collection",messageSends:["new","class","do:","ifTrue:","value:","add:"],referencedClasses:[]}),e.Set),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@elements"])._size()},function(n){n.fill(t,"size",{},e.Set)})},args:[],source:"size\n	^ elements size",messageSends:["size"],referencedClasses:[]}),e.Set),e.addClass("Queue",e.Object,["read","readIndex","write"],"Kernel-Collections"),e.Queue.comment="I am a one-sided queue.\n\n## Usage\n\nUse `#nextPut:` to add items to the queue.\nUse `#next` or `#nextIfAbsent:` to get (and remove) the next item in the queue.\n\n## Implementation notes\n\nA Queue uses two OrderedCollections inside,\n`read` is at the front, is not modified and only read using `readIndex`.\n`write` is at the back and is appended new items.\nWhen `read` is exhausted, `write` is promoted to `read` and new `write` is created.\n\nAs a consequence, no data moving is done by me, write appending may do data moving\nwhen growing `write`, but this is left to engine to implement as good as it chooses to.",e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(t){return e.Queue.superclass.fn.prototype._initialize.apply(n(r),[]),r["@read"]=n(s())._new(),t.sendIdx["new"]=1,r["@write"]=n(s())._new(),r["@readIndex"]=1,r},function(t){t.fill(r,"initialize",{},e.Queue)})},args:[],source:"initialize\n	super initialize.\n	read := OrderedCollection new.\n	write := OrderedCollection new.\n	readIndex := 1",messageSends:["initialize","new"],referencedClasses:["OrderedCollection"]}),e.Queue),e.addMethod(e.method({selector:"next",category:"accessing",fn:function(){var t=this;return e.withContext(function(n){var s;return s=t._nextIfAbsent_(function(){return e.withContext(function(){return t._error_("Cannot read from empty Queue.")},function(e){e.fillBlock({},n,1)})})},function(n){n.fill(t,"next",{},e.Queue)})},args:[],source:"next\n	^ self nextIfAbsent: [ self error: 'Cannot read from empty Queue.' ]",messageSends:["nextIfAbsent:","error:"],referencedClasses:[]}),e.Queue),e.addMethod(e.method({selector:"nextIfAbsent:",category:"accessing",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a,o=this;return e.withContext(function(i){var l,c,u,d,f={};try{return a=n(o["@read"])._at_ifAbsent_(o["@readIndex"],function(){return e.withContext(function(){if(l=n(o["@write"])._isEmpty(),e.assert(l))throw c=n(o["@readIndex"]).__gt(1),e.assert(c)&&(o["@read"]=[],o["@read"],o["@readIndex"]=1,o["@readIndex"]),u=n(s)._value(),f=[u];return o["@read"]=o["@write"],o["@read"],o["@readIndex"]=1,o["@readIndex"],o["@write"]=n(r())._new(),o["@write"],n(o["@read"])._first()},function(e){e.fillBlock({},i,1)})}),n(o["@read"])._at_put_(o["@readIndex"],t),o["@readIndex"]=n(o["@readIndex"]).__plus(1),d=a}catch(h){if(h===f)return h[0];throw h}},function(t){t.fill(o,"nextIfAbsent:",{aBlock:s,result:a},e.Queue)})},args:["aBlock"],source:"nextIfAbsent: aBlock\n	| result |\n	result := read at: readIndex ifAbsent: [\n		write isEmpty ifTrue: [\n			readIndex > 1 ifTrue: [ read := #(). readIndex := 1 ].\n			^ aBlock value ].\n		read := write.\n		readIndex := 1.\n		write := OrderedCollection new.\n		read first ].\n	read at: readIndex put: nil.\n	readIndex := readIndex + 1.\n	^ result",messageSends:["at:ifAbsent:","ifTrue:","isEmpty",">","value","new","first","at:put:","+"],referencedClasses:["OrderedCollection"]}),e.Queue),e.addMethod(e.method({selector:"nextPut:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return n(s["@write"])._add_(t),s},function(n){n.fill(s,"nextPut:",{anObject:t},e.Queue)})},args:["anObject"],source:"nextPut: anObject\n	write add: anObject",messageSends:["add:"],referencedClasses:[]}),e.Queue),e.addClass("RegularExpression",e.Object,[],"Kernel-Collections"),e.RegularExpression.comment="I represent a regular expression object. My instances are JavaScript `RegExp` object.",e.addMethod(e.method({selector:"compile:",category:"evaluating",fn:function(t){var n=this;return e.withContext(function(){return n.compile(t)},function(s){s.fill(n,"compile:",{aString:t},e.RegularExpression)})},args:["aString"],source:"compile: aString\n	<return self.compile(aString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"exec:",category:"evaluating",fn:function(n){var s=this;return e.withContext(function(){return s.exec(n)||t},function(t){t.fill(s,"exec:",{aString:n},e.RegularExpression)})},args:["aString"],source:"exec: aString\n	<return self.exec(aString) || nil>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"test:",category:"evaluating",fn:function(t){var n=this;return e.withContext(function(){return n.test(t)},function(s){s.fill(n,"test:",{aString:t},e.RegularExpression)})},args:["aString"],source:"test: aString\n	<return self.test(aString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression),e.addMethod(e.method({selector:"fromString:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._fromString_flag_(t,"")},function(s){s.fill(n,"fromString:",{aString:t},e.RegularExpression.klass)})},args:["aString"],source:"fromString: aString\n		^ self fromString: aString flag: ''",messageSends:["fromString:flag:"],referencedClasses:[]}),e.RegularExpression.klass),e.addMethod(e.method({selector:"fromString:flag:",category:"instance creation",fn:function(t,n){var s=this;return e.withContext(function(){return new RegExp(t,n)},function(r){r.fill(s,"fromString:flag:",{aString:t,anotherString:n},e.RegularExpression.klass)})},args:["aString","anotherString"],source:"fromString: aString flag: anotherString\n	<return new RegExp(aString, anotherString)>",messageSends:[],referencedClasses:[]}),e.RegularExpression.klass),e.addClass("Stream",e.Object,["collection","position","streamSize"],"Kernel-Collections"),e.Stream.comment='I represent an accessor for a sequence of objects. This sequence is referred to as my "contents".\nMy instances are read/write streams to the contents sequence collection.',e.addMethod(e.method({selector:"<<",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._write_(t),n},function(s){s.fill(n,"<<",{anObject:t},e.Stream)})},args:["anObject"],source:"<< anObject\n	self write: anObject",messageSends:["write:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"atEnd",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._position()).__eq(t._size())},function(n){n.fill(t,"atEnd",{},e.Stream)})},args:[],source:"atEnd\n	^ self position = self size",messageSends:["=","position","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"atStart",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._position()).__eq(0)},function(n){n.fill(t,"atStart",{},e.Stream)})},args:[],source:"atStart\n	^ self position = 0",messageSends:["=","position"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"close",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"close",{},e.Stream)})},args:[],source:"close",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@collection"]},function(n){n.fill(t,"collection",{},e.Stream)})},args:[],source:"collection\n	^ collection",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"contents",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collection())._copyFrom_to_(1,t._streamSize())},function(n){n.fill(t,"contents",{},e.Stream)})},args:[],source:"contents\n	^ self collection\n		copyFrom: 1\n		to: self streamSize",messageSends:["copyFrom:to:","collection","streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"do:",category:"enumerating",fn:function(t){var s=this;return e.withContext(function(r){return n(function(){return e.withContext(function(){return s._atEnd()},function(e){e.fillBlock({},r,1)})})._whileFalse_(function(){return e.withContext(function(){return n(t)._value_(s._next())},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"do:",{aBlock:t},e.Stream)})},args:["aBlock"],source:"do: aBlock\n	[ self atEnd ] whileFalse: [ aBlock value: self next ]",messageSends:["whileFalse:","atEnd","value:","next"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"flush",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"flush",{},e.Stream)})},args:[],source:"flush",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"isEmpty",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._size()).__eq(0)},function(n){n.fill(t,"isEmpty",{},e.Stream)})},args:[],source:"isEmpty\n	^ self size = 0",messageSends:["=","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"next",category:"reading",fn:function(){var s=this;return e.withContext(function(r){var a,o,i,l;return a=s._atEnd(),e.assert(a)?l=t:(o=s._position(),r.sendIdx.position=1,i=n(o).__plus(1),s._position_(i),l=n(s["@collection"])._at_(s._position())),l},function(t){t.fill(s,"next",{},e.Stream)})},args:[],source:"next\n	^ self atEnd\n		ifTrue: [ nil ]\n		ifFalse: [\n			self position: self position + 1.\n			collection at: self position ]",messageSends:["ifTrue:ifFalse:","atEnd","position:","+","position","at:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"next:",category:"reading",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=n(n(r._collection())._class())._new(),n(t)._timesRepeat_(function(){return e.withContext(function(){return o=r._atEnd(),e.assert(o)?void 0:n(s)._add_(r._next())},function(e){e.fillBlock({},a,1)})}),i=s},function(n){n.fill(r,"next:",{anInteger:t,tempCollection:s},e.Stream)})},args:["anInteger"],source:"next: anInteger\n	| tempCollection |\n	tempCollection := self collection class new.\n	anInteger timesRepeat: [\n		self atEnd ifFalse: [\n		tempCollection add: self next ]].\n	^ tempCollection",messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd","add:","next"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPut:",category:"writing",fn:function(t){var s=this;return e.withContext(function(e){var r,a,o,i;return r=s._position(),e.sendIdx.position=1,a=n(r).__plus(1),s._position_(a),o=s._collection(),i=s._position(),e.sendIdx.position=2,n(o)._at_put_(i,t),s._setStreamSize_(n(s._streamSize())._max_(s._position())),s},function(n){n.fill(s,"nextPut:",{anObject:t},e.Stream)})},args:["anObject"],source:"nextPut: anObject\n	self position: self position + 1.\n	self collection at: self position put: anObject.\n	self setStreamSize: (self streamSize max: self position)",messageSends:["position:","+","position","at:put:","collection","setStreamSize:","max:","streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPutAll:",category:"writing",fn:function(t){var s=this;return e.withContext(function(r){return n(t)._do_(function(t){return e.withContext(function(){return s._nextPut_(t)},function(e){e.fillBlock({each:t},r,1)})}),s},function(n){n.fill(s,"nextPutAll:",{aCollection:t},e.Stream)})},args:["aCollection"],source:"nextPutAll: aCollection\n	aCollection do: [ :each |\n		self nextPut: each ]",messageSends:["do:","nextPut:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"nextPutString:",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._nextPut_(t),n},function(s){s.fill(n,"nextPutString:",{aString:t},e.Stream)})},args:["aString"],source:"nextPutString: aString\n	self nextPut: aString",messageSends:["nextPut:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"peek",category:"reading",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=t._atEnd(),e.assert(s)||(r=n(t._collection())._at_(n(t._position()).__plus(1))),r},function(n){n.fill(t,"peek",{},e.Stream)})},args:[],source:"peek\n	^ self atEnd ifFalse: [\n		self collection at: self position + 1 ]",messageSends:["ifFalse:","atEnd","at:","collection","+","position"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"position",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@position"],($receiver=e)==t||null==$receiver?(n["@position"]=0,s=n["@position"]):s=e,s},function(t){t.fill(n,"position",{},e.Stream)})},args:[],source:"position\n	^ position ifNil: [ position := 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"position:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@position"]=t,n},function(s){s.fill(n,"position:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"position: anInteger\n	position := anInteger",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"reset",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._position_(0),t},function(n){n.fill(t,"reset",{},e.Stream)})},args:[],source:"reset\n	self position: 0",messageSends:["position:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"resetContents",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._reset(),t._setStreamSize_(0),t},function(n){n.fill(t,"resetContents",{},e.Stream)})},args:[],source:"resetContents\n	self reset.\n	self setStreamSize: 0",messageSends:["reset","setStreamSize:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setCollection:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@collection"]=t,n},function(s){s.fill(n,"setCollection:",{aCollection:t},e.Stream)})},args:["aCollection"],source:"setCollection: aCollection\n	collection := aCollection",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setStreamSize:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@streamSize"]=t,n},function(s){s.fill(n,"setStreamSize:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"setStreamSize: anInteger\n	streamSize := anInteger",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"setToEnd",category:"positioning",fn:function(){var t=this;return e.withContext(function(){return t._position_(t._size()),t},function(n){n.fill(t,"setToEnd",{},e.Stream)})},args:[],source:"setToEnd\n	self position: self size",messageSends:["position:","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"size",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._streamSize()},function(n){n.fill(t,"size",{},e.Stream)})},args:[],source:"size\n	^ self streamSize",messageSends:["streamSize"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"skip:",category:"positioning",fn:function(t){var s=this;return e.withContext(function(){return s._position_(n(n(s._position()).__plus(t))._min_max_(s._size(),0)),s},function(n){n.fill(s,"skip:",{anInteger:t},e.Stream)})},args:["anInteger"],source:"skip: anInteger\n	self position: ((self position + anInteger) min: self size max: 0)",messageSends:["position:","min:max:","+","position","size"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"streamSize",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@streamSize"]},function(n){n.fill(t,"streamSize",{},e.Stream)})},args:[],source:"streamSize\n	^ streamSize",messageSends:[],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"write:",category:"writing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._putOn_(s),s},function(n){n.fill(s,"write:",{anObject:t},e.Stream)})},args:["anObject"],source:"write: anObject\n	anObject putOn: self",messageSends:["putOn:"],referencedClasses:[]}),e.Stream),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._setCollection_(t),n(e)._setStreamSize_(n(t)._size()),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{aCollection:t},e.Stream.klass)})},args:["aCollection"],source:"on: aCollection\n		^ self new\n		setCollection: aCollection;\n		setStreamSize: aCollection size;\n		yourself",messageSends:["setCollection:","new","setStreamSize:","size","yourself"],referencedClasses:[]}),e.Stream.klass),e.addClass("StringStream",e.Stream,[],"Kernel-Collections"),e.StringStream.comment="I am a Stream specific to `String` objects.",e.addMethod(e.method({selector:"cr",category:"writing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){var e;return e=r._nextPutAll_(n(s())._cr())},function(t){t.fill(r,"cr",{},e.StringStream)})},args:[],source:"cr\n	^ self nextPutAll: String cr",messageSends:["nextPutAll:","cr"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"crlf",category:"writing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){var e;return e=r._nextPutAll_(n(s())._crlf())},function(t){t.fill(r,"crlf",{},e.StringStream)})},args:[],source:"crlf\n	^ self nextPutAll: String crlf",messageSends:["nextPutAll:","crlf"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"lf",category:"writing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){var e;return e=r._nextPutAll_(n(s())._lf())},function(t){t.fill(r,"lf",{},e.StringStream)})},args:[],source:"lf\n	^ self nextPutAll: String lf",messageSends:["nextPutAll:","lf"],referencedClasses:["String"]}),e.StringStream),e.addMethod(e.method({selector:"next:",category:"reading",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=n(n(r._collection())._class())._new(),n(t)._timesRepeat_(function(){return e.withContext(function(){return o=r._atEnd(),e.assert(o)?void 0:s=n(s).__comma(r._next())},function(e){e.fillBlock({},a,1)})}),i=s},function(n){n.fill(r,"next:",{anInteger:t,tempCollection:s},e.StringStream)})},args:["anInteger"],source:"next: anInteger\n	| tempCollection |\n	tempCollection := self collection class new.\n	anInteger timesRepeat: [\n		self atEnd ifFalse: [\n		tempCollection := tempCollection, self next ]].\n	^ tempCollection",messageSends:["new","class","collection","timesRepeat:","ifFalse:","atEnd",",","next"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPut:",category:"writing",fn:function(t){var n=this;return e.withContext(function(){return n._nextPutAll_(t),n},function(s){s.fill(n,"nextPut:",{aString:t},e.StringStream)})},args:["aString"],source:"nextPut: aString\n	self nextPutAll: aString",messageSends:["nextPutAll:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPutAll:",category:"writing",fn:function(t){var s,r,a=this;return e.withContext(function(o){var i,l,c,u,d,f,h,m,g,p,_,C,v,x;return i=a._atEnd(),e.assert(i)?(l=a._collection(),o.sendIdx.collection=1,c=n(l).__comma(t),o.sendIdx[","]=1,a._setCollection_(c),o.sendIdx["setCollection:"]=1):(u=a._collection(),o.sendIdx.collection=2,d=a._position(),o.sendIdx.position=1,s=n(u)._copyFrom_to_(1,d),o.sendIdx["copyFrom:to:"]=1,f=a._collection(),o.sendIdx.collection=3,h=a._position(),o.sendIdx.position=2,m=n(h).__plus(1),o.sendIdx["+"]=2,g=n(t)._size(),o.sendIdx.size=1,p=n(m).__plus(g),o.sendIdx["+"]=1,_=n(a._collection())._size(),o.sendIdx.size=2,r=n(f)._copyFrom_to_(p,_),C=n(n(s).__comma(t)).__comma(r),o.sendIdx[","]=2,a._setCollection_(C)),v=a._position(),o.sendIdx.position=3,x=n(v).__plus(n(t)._size()),a._position_(x),a._setStreamSize_(n(a._streamSize())._max_(a._position())),a},function(n){n.fill(a,"nextPutAll:",{aString:t,pre:s,post:r},e.StringStream)})},args:["aString"],source:"nextPutAll: aString\n	| pre post |\n	self atEnd ifTrue: [ self setCollection: self collection, aString ] ifFalse: [\n		pre := self collection copyFrom: 1 to: self position.\n		post := self collection copyFrom: (self position + 1 + aString size) to: self collection size.\n		self setCollection: pre, aString, post\n	].\n	self position: self position + aString size.\n	self setStreamSize: (self streamSize max: self position)",messageSends:["ifTrue:ifFalse:","atEnd","setCollection:",",","collection","copyFrom:to:","position","+","size","position:","setStreamSize:","max:","streamSize"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"nextPutString:",category:"writing",fn:function(t){var n=this;
return e.withContext(function(){return n._nextPutAll_(t),n},function(s){s.fill(n,"nextPutString:",{aString:t},e.StringStream)})},args:["aString"],source:"nextPutString: aString\n	self nextPutAll: aString",messageSends:["nextPutAll:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"space",category:"writing",fn:function(){var t=this;return e.withContext(function(){return t._nextPut_(" "),t},function(n){n.fill(t,"space",{},e.StringStream)})},args:[],source:"space\n	self nextPut: ' '",messageSends:["nextPut:"],referencedClasses:[]}),e.StringStream),e.addMethod(e.method({selector:"tab",category:"writing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){var e;return e=r._nextPutAll_(n(s())._tab())},function(t){t.fill(r,"tab",{},e.StringStream)})},args:[],source:"tab\n	^ self nextPutAll: String tab",messageSends:["nextPutAll:","tab"],referencedClasses:["String"]}),e.StringStream)}),define("amber_core/Kernel-Infrastructure",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Collections"],function(e,t,n){e.addPackage("Kernel-Infrastructure"),e.packages["Kernel-Infrastructure"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("InspectorHandler",e.Object,[],"Kernel-Infrastructure"),e.InspectorHandler.comment="I am responsible for inspecting object.\n\nMy class-side `inspector` inst var holds the current inspector I'm delegating object inspection to.\n\nThe default inspector object is the transcript.",e.InspectorHandler.klass.iVarNames=["inspector"],e.addMethod(e.method({selector:"inspect:",category:"registration",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._inspector())._inspect_(t)},function(n){n.fill(s,"inspect:",{anObject:t},e.InspectorHandler.klass)})},args:["anObject"],source:"inspect: anObject\n	^ self inspector inspect: anObject",messageSends:["inspect:","inspector"],referencedClasses:[]}),e.InspectorHandler.klass),e.addMethod(e.method({selector:"inspector",category:"accessing",fn:function(){function n(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}var s=this;return e.withContext(function(){var e,r;return e=s["@inspector"],($receiver=e)==t||null==$receiver?(s["@inspector"]=n(),r=s["@inspector"]):r=e,r},function(t){t.fill(s,"inspector",{},e.InspectorHandler.klass)})},args:[],source:"inspector\n	^ inspector ifNil: [ inspector := Transcript ]",messageSends:["ifNil:"],referencedClasses:["Transcript"]}),e.InspectorHandler.klass),e.addMethod(e.method({selector:"register:",category:"registration",fn:function(t){var n=this;return e.withContext(function(){return n["@inspector"]=t,n},function(s){s.fill(n,"register:",{anInspector:t},e.InspectorHandler.klass)})},args:["anInspector"],source:"register: anInspector\n	inspector := anInspector",messageSends:[],referencedClasses:[]}),e.InspectorHandler.klass),e.addClass("InterfacingObject",e.Object,[],"Kernel-Infrastructure"),e.InterfacingObject.comment="I am superclass of all object that interface with user or environment. `Widget` and a few other classes are subclasses of me. I delegate all of the above APIs to `PlatformInterface`.\n\n## API\n\n    self alert: 'Hey, there is a problem'.\n    self confirm: 'Affirmative?'.\n    self prompt: 'Your name:'.\n\n    self ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var a=this;return e.withContext(function(){var e;return e=n(r())._ajax_(s)},function(t){t.fill(a,"ajax:",{anObject:s},e.InterfacingObject)})},args:["anObject"],source:"ajax: anObject\n	^ PlatformInterface ajax: anObject",messageSends:["ajax:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var a=this;return e.withContext(function(){var e;return e=n(r())._alert_(s)},function(t){t.fill(a,"alert:",{aString:s},e.InterfacingObject)})},args:["aString"],source:"alert: aString\n	^ PlatformInterface alert: aString",messageSends:["alert:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var a=this;return e.withContext(function(){var e;return e=n(r())._confirm_(s)},function(t){t.fill(a,"confirm:",{aString:s},e.InterfacingObject)})},args:["aString"],source:"confirm: aString\n	^ PlatformInterface confirm: aString",messageSends:["confirm:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var a=this;return e.withContext(function(){var e;return e=n(r())._prompt_(s)},function(t){t.fill(a,"prompt:",{aString:s},e.InterfacingObject)})},args:["aString"],source:"prompt: aString\n	^ PlatformInterface prompt: aString",messageSends:["prompt:"],referencedClasses:["PlatformInterface"]}),e.InterfacingObject),e.addClass("Environment",e.InterfacingObject,[],"Kernel-Infrastructure"),e.Environment.comment="I provide an unified entry point to manipulate Amber packages, classes and methods.\n\nTypical use cases include IDEs, remote access and restricting browsing.",e.addMethod(e.method({selector:"addInstVarNamed:to:",category:"compiling",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i,l,c;return a=r._classBuilder(),o=n(s)._superclass(),i=n(s)._name(),e.sendIdx.name=1,l=n(n(s)._instanceVariableNames())._copy(),n(l)._add_(t),c=n(l)._yourself(),n(a)._addSubclassOf_named_instanceVariableNames_package_(o,i,c,n(n(s)._package())._name()),r},function(n){n.fill(r,"addInstVarNamed:to:",{aString:t,aClass:s},e.Environment)})},args:["aString","aClass"],source:"addInstVarNamed: aString to: aClass\n	self classBuilder\n		addSubclassOf: aClass superclass \n		named: aClass name \n		instanceVariableNames: (aClass instanceVariableNames copy add: aString; yourself)\n		package: aClass package name",messageSends:["addSubclassOf:named:instanceVariableNames:package:","classBuilder","superclass","name","add:","copy","instanceVariableNames","yourself","package"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"allSelectors",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=n(n(n(s())._current())._at_("allSelectors"))._value()},function(t){t.fill(r,"allSelectors",{},e.Environment)})},args:[],source:"allSelectors\n	^ (Smalltalk current at: 'allSelectors') value",messageSends:["value","at:","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availableClassNames",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var r;return r=n(n(n(s())._current())._classes())._collect_(function(s){return e.withContext(function(){return n(s)._name()},function(e){e.fillBlock({each:s},t,1)})})},function(t){t.fill(r,"availableClassNames",{},e.Environment)})},args:[],source:"availableClassNames\n	^ Smalltalk current classes \n		collect: [ :each | each name ]",messageSends:["collect:","classes","current","name"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availablePackageNames",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var r;return r=n(n(n(s())._current())._packages())._collect_(function(s){return e.withContext(function(){return n(s)._name()},function(e){e.fillBlock({each:s},t,1)})})},function(t){t.fill(r,"availablePackageNames",{},e.Environment)})},args:[],source:"availablePackageNames\n	^ Smalltalk current packages \n		collect: [ :each | each name ]",messageSends:["collect:","packages","current","name"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"availableProtocolsFor:",category:"accessing",fn:function(s){var r,a=this;return e.withContext(function(e){var o,i;return r=n(s)._protocols(),o=n(s)._superclass(),e.sendIdx.superclass=1,($receiver=o)==t||null==$receiver||n(r)._addAll_(a._availableProtocolsFor_(n(s)._superclass())),i=n(n(r)._asSet())._asArray()},function(t){t.fill(a,"availableProtocolsFor:",{aClass:s,protocols:r},e.Environment)})},args:["aClass"],source:"availableProtocolsFor: aClass\n	| protocols |\n	\n	protocols := aClass protocols.\n	aClass superclass ifNotNil: [ protocols addAll: (self availableProtocolsFor: aClass superclass) ].\n	^ protocols asSet asArray",messageSends:["protocols","ifNotNil:","superclass","addAll:","availableProtocolsFor:","asArray","asSet"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"classBuilder",category:"accessing",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"classBuilder",{},e.Environment)})},args:[],source:"classBuilder\n	^ ClassBuilder new",messageSends:["new"],referencedClasses:["ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"classNamed:",category:"accessing",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e,o;return e=n(n(r())._current())._at_(n(s)._asSymbol()),o=($receiver=e)==t||null==$receiver?a._error_("Invalid class name"):e},function(t){t.fill(a,"classNamed:",{aString:s},e.Environment)})},args:["aString"],source:"classNamed: aString\n	^ (Smalltalk current at: aString asSymbol)\n		ifNil: [ self error: 'Invalid class name' ]",messageSends:["ifNil:","at:","current","asSymbol","error:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"classes",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._current())._classes()},function(t){t.fill(r,"classes",{},e.Environment)})},args:[],source:"classes\n	^ Smalltalk current classes",messageSends:["classes","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"commitPackage:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return n(t)._commit(),s},function(n){n.fill(s,"commitPackage:",{aPackage:t},e.Environment)})},args:["aPackage"],source:"commitPackage: aPackage\n	aPackage commit",messageSends:["commit"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"compileClassComment:for:",category:"compiling",fn:function(t,s){var r=this;return e.withContext(function(){return n(s)._comment_(t),r},function(n){n.fill(r,"compileClassComment:for:",{aString:t,aClass:s},e.Environment)})},args:["aString","aClass"],source:"compileClassComment: aString for: aClass\n	aClass comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"compileClassDefinition:",category:"compiling",fn:function(s){function r(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var a=this;return e.withContext(function(){return a._eval_on_(s,n(r())._new()),a},function(t){t.fill(a,"compileClassDefinition:",{aString:s},e.Environment)})},args:["aString"],source:"compileClassDefinition: aString\n	self eval: aString on: DoIt new",messageSends:["eval:on:","new"],referencedClasses:["DoIt"]}),e.Environment),e.addMethod(e.method({selector:"compileMethod:for:protocol:",category:"compiling",fn:function(t,s,r){var a=this;return e.withContext(function(){var e;return e=n(s)._compile_category_(t,r)},function(n){n.fill(a,"compileMethod:for:protocol:",{sourceCode:t,class_:s,protocol:r},e.Environment)})},args:["sourceCode","class","protocol"],source:"compileMethod: sourceCode for: class protocol: protocol\n	^ class\n		compile: sourceCode\n		category: protocol",messageSends:["compile:category:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"copyClass:to:",category:"actions",fn:function(s,r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(e){var l,c;return l=n(n(a())._current())._at_(r),($receiver=l)==t||null==$receiver||(c=n("A class named ".__comma(r)).__comma(" already exists"),e.sendIdx[","]=1,i._error_(c)),n(n(o())._new())._copyClass_named_(s,r),i},function(t){t.fill(i,"copyClass:to:",{aClass:s,aClassName:r},e.Environment)})},args:["aClass","aClassName"],source:"copyClass: aClass to: aClassName\n	(Smalltalk current at: aClassName)\n		ifNotNil: [ self error: 'A class named ', aClassName, ' already exists' ].\n		\n	ClassBuilder new copyClass: aClass named: aClassName",messageSends:["ifNotNil:","at:","current","error:",",","copyClass:named:","new"],referencedClasses:["Smalltalk","ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"doItReceiver",category:"accessing",fn:function(){function s(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"doItReceiver",{},e.Environment)})},args:[],source:"doItReceiver\n	^ DoIt new",messageSends:["new"],referencedClasses:["DoIt"]}),e.Environment),e.addMethod(e.method({selector:"eval:on:",category:"actions",fn:function(s,r){function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}function o(){return e.Error||("undefined"==typeof Error?t:Error)}var i,l=this;return e.withContext(function(t){var c,u,d={};try{return i=n(a())._new(),n(function(){return e.withContext(function(){return n(i)._parseExpression_(s)},function(e){e.fillBlock({},t,1)})})._on_do_(o(),function(s){return e.withContext(function(){throw c=l._alert_(n(s)._messageText()),d=[c]},function(e){e.fillBlock({ex:s},t,2)})}),u=n(i)._evaluateExpression_on_(s,r)}catch(f){if(f===d)return f[0];throw f}},function(t){t.fill(l,"eval:on:",{aString:s,aReceiver:r,compiler:i},e.Environment)})},args:["aString","aReceiver"],source:"eval: aString on: aReceiver\n	| compiler |\n	compiler := Compiler new.\n	[ compiler parseExpression: aString ] on: Error do: [ :ex |\n		^ self alert: ex messageText ].\n	^ compiler evaluateExpression: aString on: aReceiver",messageSends:["new","on:do:","parseExpression:","alert:","messageText","evaluateExpression:on:"],referencedClasses:["Compiler","Error"]}),e.Environment),e.addMethod(e.method({selector:"evaluate:on:do:",category:"error handling",fn:function(t,s,r){var a=this;return e.withContext(function(o){var i;return a._try_catch_(t,function(t){return e.withContext(function(){return i=n(t)._isKindOf_(a._classNamed_(n(s)._name())),e.assert(i)?n(r)._value_(t):n(t)._signal()},function(e){e.fillBlock({exception:t},o,1)})}),a},function(n){n.fill(a,"evaluate:on:do:",{aBlock:t,anErrorClass:s,exceptionBlock:r},e.Environment)})},args:["aBlock","anErrorClass","exceptionBlock"],source:'evaluate: aBlock on: anErrorClass do: exceptionBlock\n	"Evaluate a block and catch exceptions happening on the environment stack"\n	\n	self try: aBlock catch: [ :exception | \n		(exception isKindOf: (self classNamed: anErrorClass name))\n			ifTrue: [ exceptionBlock value: exception ]\n 			ifFalse: [ exception signal ] ]',messageSends:["try:catch:","ifTrue:ifFalse:","isKindOf:","classNamed:","name","value:","signal"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"inspect:",category:"actions",fn:function(s){function r(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var a=this;return e.withContext(function(){return n(n(r())._inspector())._inspect_(s),a},function(t){t.fill(a,"inspect:",{anObject:s},e.Environment)})},args:["anObject"],source:"inspect: anObject\n	InspectorHandler inspector inspect: anObject",messageSends:["inspect:","inspector"],referencedClasses:["InspectorHandler"]}),e.Environment),e.addMethod(e.method({selector:"moveClass:toPackage:",category:"actions",fn:function(s,r){function a(){return e.Package||("undefined"==typeof Package?t:Package)}var o,i=this;return e.withContext(function(){var l,c;return o=n(a())._named_(r),l=o,(($receiver=l)==t||null==$receiver)&&i._error_("Invalid package name"),c=n(o).__eq_eq(n(s)._package()),e.assert(c)?i:(n(s)._package_(o),i)},function(t){t.fill(i,"moveClass:toPackage:",{aClass:s,aPackageName:r,package_:o},e.Environment)})},args:["aClass","aPackageName"],source:"moveClass: aClass toPackage: aPackageName\n	| package |\n	\n	package := Package named: aPackageName.\n	package ifNil: [ self error: 'Invalid package name' ].\n	package == aClass package ifTrue: [ ^ self ].\n	\n	aClass package: package",messageSends:["named:","ifNil:","error:","ifTrue:","==","package","package:"],referencedClasses:["Package"]}),e.Environment),e.addMethod(e.method({selector:"moveMethod:toClass:",category:"actions",fn:function(s,r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o,i=this;return e.withContext(function(l){var c,u,d,f;return o=n(n(a())._current())._at_(n(r)._asSymbol()),c=o,(($receiver=c)==t||null==$receiver)&&i._error_("Invalid class name"),u=o,d=n(s)._methodClass(),l.sendIdx.methodClass=1,f=n(u).__eq_eq(d),e.assert(f)?i:(n(o)._compile_category_(n(s)._source(),n(s)._protocol()),n(n(s)._methodClass())._removeCompiledMethod_(s),i)},function(t){t.fill(i,"moveMethod:toClass:",{aMethod:s,aClassName:r,destinationClass:o},e.Environment)})},args:["aMethod","aClassName"],source:"moveMethod: aMethod toClass: aClassName\n	| destinationClass |\n	\n	destinationClass := Smalltalk current at: aClassName asSymbol.\n	destinationClass ifNil: [ self error: 'Invalid class name' ].\n	destinationClass == aMethod methodClass ifTrue: [ ^ self ].\n	\n	destinationClass \n		compile: aMethod source\n		category: aMethod protocol.\n	aMethod methodClass \n		removeCompiledMethod: aMethod",messageSends:["at:","current","asSymbol","ifNil:","error:","ifTrue:","==","methodClass","compile:category:","source","protocol","removeCompiledMethod:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"moveMethod:toProtocol:",category:"actions",fn:function(t,s){var r=this;return e.withContext(function(){return n(t)._category_(s),r},function(n){n.fill(r,"moveMethod:toProtocol:",{aMethod:t,aProtocol:s},e.Environment)})},args:["aMethod","aProtocol"],source:"moveMethod: aMethod toProtocol: aProtocol\n	aMethod category: aProtocol",messageSends:["category:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"packages",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._current())._packages()},function(t){t.fill(r,"packages",{},e.Environment)})},args:[],source:"packages\n	^ Smalltalk current packages",messageSends:["packages","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"registerErrorHandler:",category:"actions",fn:function(s){function r(){return e.ErrorHandler||("undefined"==typeof ErrorHandler?t:ErrorHandler)}var a=this;return e.withContext(function(){return n(r())._setCurrent_(s),a},function(t){t.fill(a,"registerErrorHandler:",{anErrorHandler:s},e.Environment)})},args:["anErrorHandler"],source:"registerErrorHandler: anErrorHandler\n	ErrorHandler setCurrent: anErrorHandler",messageSends:["setCurrent:"],referencedClasses:["ErrorHandler"]}),e.Environment),e.addMethod(e.method({selector:"registerInspector:",category:"actions",fn:function(s){function r(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}var a=this;return e.withContext(function(){return n(r())._register_(s),a},function(t){t.fill(a,"registerInspector:",{anInspector:s},e.Environment)})},args:["anInspector"],source:"registerInspector: anInspector\n	InspectorHandler register: anInspector",messageSends:["register:"],referencedClasses:["InspectorHandler"]}),e.Environment),e.addMethod(e.method({selector:"registerProgressHandler:",category:"actions",fn:function(s){function r(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var a=this;return e.withContext(function(){return n(r())._setCurrent_(s),a},function(t){t.fill(a,"registerProgressHandler:",{aProgressHandler:s},e.Environment)})},args:["aProgressHandler"],source:"registerProgressHandler: aProgressHandler\n	ProgressHandler setCurrent: aProgressHandler",messageSends:["setCurrent:"],referencedClasses:["ProgressHandler"]}),e.Environment),e.addMethod(e.method({selector:"removeClass:",category:"actions",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){return n(n(r())._current())._removeClass_(s),a},function(t){t.fill(a,"removeClass:",{aClass:s},e.Environment)})},args:["aClass"],source:"removeClass: aClass\n	Smalltalk current removeClass: aClass",messageSends:["removeClass:","current"],referencedClasses:["Smalltalk"]}),e.Environment),e.addMethod(e.method({selector:"removeMethod:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return n(n(t)._methodClass())._removeCompiledMethod_(t),s},function(n){n.fill(s,"removeMethod:",{aMethod:t},e.Environment)})},args:["aMethod"],source:"removeMethod: aMethod\n	aMethod methodClass removeCompiledMethod: aMethod",messageSends:["removeCompiledMethod:","methodClass"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"removeProtocol:from:",category:"actions",fn:function(t,s){var r=this;return e.withContext(function(a){return n(n(n(s)._methods())._select_(function(s){return e.withContext(function(){return n(n(s)._protocol()).__eq(t)},function(e){e.fillBlock({each:s},a,1)})}))._do_(function(t){return e.withContext(function(){return n(s)._removeCompiledMethod_(t)},function(e){e.fillBlock({each:t},a,2)})}),r},function(n){n.fill(r,"removeProtocol:from:",{aString:t,aClass:s},e.Environment)})},args:["aString","aClass"],source:"removeProtocol: aString from: aClass\n	(aClass methods\n		select: [ :each | each protocol = aString ])\n		do: [ :each | aClass removeCompiledMethod: each ]",messageSends:["do:","select:","methods","=","protocol","removeCompiledMethod:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"renameClass:to:",category:"actions",fn:function(s,r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i=this;return e.withContext(function(e){var l,c;return l=n(n(a())._current())._at_(r),($receiver=l)==t||null==$receiver||(c=n("A class named ".__comma(r)).__comma(" already exists"),e.sendIdx[","]=1,i._error_(c)),n(n(o())._new())._renameClass_to_(s,r),i},function(t){t.fill(i,"renameClass:to:",{aClass:s,aClassName:r},e.Environment)})},args:["aClass","aClassName"],source:"renameClass: aClass to: aClassName\n	(Smalltalk current at: aClassName)\n		ifNotNil: [ self error: 'A class named ', aClassName, ' already exists' ].\n		\n	ClassBuilder new renameClass: aClass to: aClassName",messageSends:["ifNotNil:","at:","current","error:",",","renameClass:to:","new"],referencedClasses:["Smalltalk","ClassBuilder"]}),e.Environment),e.addMethod(e.method({selector:"renameProtocol:to:in:",category:"actions",fn:function(t,s,r){var a=this;return e.withContext(function(o){return n(n(n(r)._methods())._select_(function(s){return e.withContext(function(){return n(n(s)._protocol()).__eq(t)},function(e){e.fillBlock({each:s},o,1)})}))._do_(function(t){return e.withContext(function(){return n(t)._protocol_(s)},function(e){e.fillBlock({each:t},o,2)})}),a},function(n){n.fill(a,"renameProtocol:to:in:",{aString:t,anotherString:s,aClass:r},e.Environment)})},args:["aString","anotherString","aClass"],source:"renameProtocol: aString to: anotherString in: aClass\n	(aClass methods\n		select: [ :each | each protocol = aString ])\n		do: [ :each | each protocol: anotherString ]",messageSends:["do:","select:","methods","=","protocol","protocol:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"setClassCommentOf:to:",category:"actions",fn:function(t,s){var r=this;return e.withContext(function(){return n(t)._comment_(s),r},function(n){n.fill(r,"setClassCommentOf:to:",{aClass:t,aString:s},e.Environment)})},args:["aClass","aString"],source:"setClassCommentOf: aClass to: aString\n	aClass comment: aString",messageSends:["comment:"],referencedClasses:[]}),e.Environment),e.addMethod(e.method({selector:"systemAnnouncer",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(e){var t;return t=n(n(n(s())._current())._at_("SystemAnnouncer"))._current(),e.sendIdx.current=1,t},function(t){t.fill(r,"systemAnnouncer",{},e.Environment)})},args:[],source:"systemAnnouncer\n	^ (Smalltalk current at: #SystemAnnouncer) current",messageSends:["current","at:"],referencedClasses:["Smalltalk"]}),e.Environment),e.addClass("JSObjectProxy",e.Object,["jsObject"],"Kernel-Infrastructure"),e.JSObjectProxy.comment="I handle sending messages to JavaScript objects, making  JavaScript object accessing from Amber fully transparent.\nMy instances make intensive use of `#doesNotUnderstand:`.\n\nMy instances are automatically created by Amber whenever a message is sent to a JavaScript object.\n\n## Usage examples\n\nJSObjectProxy objects are instanciated by Amber when a Smalltalk message is sent to a JavaScript object.\n\n	window alert: 'hello world'.\n	window inspect.\n	(window jQuery: 'body') append: 'hello world'\n\nAmber messages sends are converted to JavaScript function calls or object property access _(in this order)_. If n one of them match, a `MessageNotUnderstood` error will be thrown.\n\n## Message conversion rules\n\n- `someUser name` becomes `someUser.name`\n- `someUser name: 'John'` becomes `someUser name = \"John\"`\n- `console log: 'hello world'` becomes `console.log('hello world')`\n- `(window jQuery: 'foo') css: 'background' color: 'red'` becomes `window.jQuery('foo').css('background', 'red')`\n\n__Note:__ For keyword-based messages, only the first keyword is kept: `window foo: 1 bar: 2` is equivalent to `window foo: 1 baz: 2`.",e.addMethod(e.method({selector:"addObjectVariablesTo:",category:"proxy",fn:function(t){var n=this;return e.withContext(function(){for(var e in n["@jsObject"])t._at_put_(e,n["@jsObject"][e]);return n},function(s){s.fill(n,"addObjectVariablesTo:",{aDictionary:t},e.JSObjectProxy)})},args:["aDictionary"],source:"addObjectVariablesTo: aDictionary\n	<\n		for(var i in self['@jsObject']) {\n			aDictionary._at_put_(i, self['@jsObject'][i]);\n		}\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@jsObject"][t]},function(s){s.fill(n,"at:",{aString:t},e.JSObjectProxy)})},args:["aString"],source:"at: aString\n	<return self['@jsObject'][aString]>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e=s["@jsObject"];return t in e?e[t]:n._value()},function(r){r.fill(s,"at:ifAbsent:",{aString:t,aBlock:n},e.JSObjectProxy)})},args:["aString","aBlock"],source:"at: aString ifAbsent: aBlock\n	\"return the aString property or evaluate aBlock if the property is not defined on the object\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? obj[aString] : aBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifPresent:",category:"accessing",fn:function(n,s){var r=this;return e.withContext(function(){var e=r["@jsObject"];return n in e?s._value_(e[n]):t},function(t){t.fill(r,"at:ifPresent:",{aString:n,aBlock:s},e.JSObjectProxy)})},args:["aString","aBlock"],source:"at: aString ifPresent: aBlock\n	\"return the evaluation of aBlock with the value if the property is defined or return nil\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? aBlock._value_(obj[aString]) : nil;\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:ifPresent:ifAbsent:",category:"accessing",fn:function(t,n,s){var r=this;return e.withContext(function(){var e=r["@jsObject"];return t in e?n._value_(e[t]):s._value()},function(a){a.fill(r,"at:ifPresent:ifAbsent:",{aString:t,aBlock:n,anotherBlock:s},e.JSObjectProxy)})},args:["aString","aBlock","anotherBlock"],source:"at: aString ifPresent: aBlock ifAbsent: anotherBlock\n	\"return the evaluation of aBlock with the value if the property is defined\n	or return value of anotherBlock\"\n	<\n		var obj = self['@jsObject'];\n		return aString in obj ? aBlock._value_(obj[aString]) : anotherBlock._value();\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){return s["@jsObject"][t]=n,s},function(r){r.fill(s,"at:put:",{aString:t,anObject:n},e.JSObjectProxy)})},args:["aString","anObject"],source:"at: aString put: anObject\n	<self['@jsObject'][aString] = anObject>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"doesNotUnderstand:",category:"proxy",fn:function(s){var r=this;return e.withContext(function(){var a,o;if(a=r._lookupProperty_(n(n(s)._selector())._asJavaScriptSelector()),($receiver=a)==t||null==$receiver)o=e.JSObjectProxy.superclass.fn.prototype._doesNotUnderstand_.apply(n(r),[s]);else{var i;i=$receiver,o=r._forwardMessage_withArguments_(i,n(s)._arguments())}return o},function(t){t.fill(r,"doesNotUnderstand:",{aMessage:s},e.JSObjectProxy)})},args:["aMessage"],source:"doesNotUnderstand: aMessage\n	^ (self lookupProperty: aMessage selector asJavaScriptSelector)\n		ifNil: [ super doesNotUnderstand: aMessage ]\n		ifNotNil: [ :jsSelector | \n			self \n				forwardMessage: jsSelector \n				withArguments: aMessage arguments ]",messageSends:["ifNil:ifNotNil:","lookupProperty:","asJavaScriptSelector","selector","doesNotUnderstand:","forwardMessage:withArguments:","arguments"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"forwardMessage:withArguments:",category:"proxy",fn:function(t,n){var s=this;return e.withContext(function(){return e.send(s._jsObject(),t,n)},function(r){r.fill(s,"forwardMessage:withArguments:",{aString:t,anArray:n},e.JSObjectProxy)})},args:["aString","anArray"],source:"forwardMessage: aString withArguments: anArray\n	<\n		return smalltalk.send(self._jsObject(), aString, anArray);\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"inspectOn:",category:"proxy",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(){return a=n(r())._new(),n(a)._at_put_("#self",o._jsObject()),n(s)._setLabel_(o._printString()),o._addObjectVariablesTo_(a),n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.JSObjectProxy)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self jsObject.\n	anInspector setLabel: self printString.\n	self addObjectVariablesTo: variables.\n	anInspector setVariables: variables",messageSends:["new","at:put:","jsObject","setLabel:","printString","addObjectVariablesTo:","setVariables:"],referencedClasses:["Dictionary"]}),e.JSObjectProxy),e.addMethod(e.method({selector:"jsObject",category:"accessing",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t["@jsObject"]},function(n){n.fill(t,"jsObject",{},e.JSObjectProxy)})},args:[],source:"jsObject\n	^ jsObject",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"jsObject:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@jsObject"]=t,n},function(s){s.fill(n,"jsObject:",{aJSObject:t},e.JSObjectProxy)})},args:["aJSObject"],source:"jsObject: aJSObject\n	jsObject := aJSObject",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"keysAndValuesDo:",category:"enumerating",fn:function(t){var n=this;return e.withContext(function(){var e=n["@jsObject"];for(var s in e)t._value_value_(s,e[s]);return n},function(s){s.fill(n,"keysAndValuesDo:",{aBlock:t},e.JSObjectProxy)})},args:["aBlock"],source:"keysAndValuesDo: aBlock\n	<\n		var o = self['@jsObject'];\n		for(var i in o) {\n			aBlock._value_value_(i, o[i]);\n		}\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"lookupProperty:",category:"accessing",fn:function(n){var s=this;return e.withContext(function(){return n in s._jsObject()?n:t},function(t){t.fill(s,"lookupProperty:",{aString:n},e.JSObjectProxy)})},args:["aString"],source:'lookupProperty: aString\n	"Looks up a property in JS object.\n	Answer the property if it is present, or nil if it is not present."\n	\n	<return aString in self._jsObject() ? aString : nil>',messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(t)._nextPutAll_(s._printString()),s},function(n){n.fill(s,"printOn:",{aStream:t},e.JSObjectProxy)})},args:["aStream"],source:"printOn: aStream\n	aStream nextPutAll: self printString",messageSends:["nextPutAll:","printString"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"printString",category:"printing",fn:function(){var t=this;return e.withContext(function(){var e=t["@jsObject"];return e.toString?e.toString():Object.prototype.toString.call(e)},function(n){n.fill(t,"printString",{},e.JSObjectProxy)})},args:[],source:"printString\n	<\n		var js = self['@jsObject'];\n		return js.toString\n			? js.toString()\n			: Object.prototype.toString.call(js)\n	>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=t._at_ifAbsent_("value",function(){return e.withContext(function(){return e.JSObjectProxy.superclass.fn.prototype._value.apply(n(t),[])},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(t,"value",{},e.JSObjectProxy)})},args:[],source:"value\n	\"if attribute 'value' exists on the JS object return it,\n	otherwise return the result of Object>>value.\"\n	\n	^ self \n		at: 'value' \n		ifAbsent: [ super value ]",messageSends:["at:ifAbsent:","value"],referencedClasses:[]}),e.JSObjectProxy),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._jsObject_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{aJSObject:t},e.JSObjectProxy.klass)})},args:["aJSObject"],source:"on: aJSObject\n	^ self new\n		jsObject: aJSObject;\n		yourself",messageSends:["jsObject:","new","yourself"],referencedClasses:[]}),e.JSObjectProxy.klass),e.addClass("Organizer",e.Object,[],"Kernel-Infrastructure"),e.Organizer.comment="I represent categorization information. \n\n## API\n\nUse `#addElement:` and `#removeElement:` to manipulate instances.",e.addMethod(e.method({selector:"addElement:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.elements.addElement(t),n},function(s){s.fill(n,"addElement:",{anObject:t},e.Organizer)})},args:["anObject"],source:"addElement: anObject\n	<self.elements.addElement(anObject)>",messageSends:[],referencedClasses:[]}),e.Organizer),e.addMethod(e.method({selector:"elements",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._basicAt_("elements"))._copy()},function(n){n.fill(t,"elements",{},e.Organizer)})},args:[],source:"elements\n	^ (self basicAt: 'elements') copy",messageSends:["copy","basicAt:"],referencedClasses:[]}),e.Organizer),e.addMethod(e.method({selector:"removeElement:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.elements.removeElement(t),n},function(s){s.fill(n,"removeElement:",{anObject:t},e.Organizer)})},args:["anObject"],source:"removeElement: anObject\n	<self.elements.removeElement(anObject)>",messageSends:[],referencedClasses:[]}),e.Organizer),e.addClass("ClassOrganizer",e.Organizer,[],"Kernel-Infrastructure"),e.ClassOrganizer.comment="I am an organizer specific to classes. I hold method categorization information for classes.",e.addMethod(e.method({selector:"addElement:",category:"accessing",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.ProtocolAdded||("undefined"==typeof ProtocolAdded?t:ProtocolAdded)}var o=this;return e.withContext(function(){var t,i;return e.ClassOrganizer.superclass.fn.prototype._addElement_.apply(n(o),[s]),t=n(a())._new(),n(t)._protocol_(s),n(t)._theClass_(o._theClass()),i=n(t)._yourself(),n(n(r())._current())._announce_(i),o},function(t){t.fill(o,"addElement:",{aString:s},e.ClassOrganizer)})},args:["aString"],source:"addElement: aString\n	super addElement: aString.\n\n	SystemAnnouncer current announce: (ProtocolAdded new\n		protocol: aString;\n		theClass: self theClass;\n		yourself)",messageSends:["addElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"],referencedClasses:["SystemAnnouncer","ProtocolAdded"]}),e.ClassOrganizer),e.addMethod(e.method({selector:"removeElement:",category:"accessing",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.ProtocolRemoved||("undefined"==typeof ProtocolRemoved?t:ProtocolRemoved)}var o=this;return e.withContext(function(){var t,i;return e.ClassOrganizer.superclass.fn.prototype._removeElement_.apply(n(o),[s]),t=n(a())._new(),n(t)._protocol_(s),n(t)._theClass_(o._theClass()),i=n(t)._yourself(),n(n(r())._current())._announce_(i),o},function(t){t.fill(o,"removeElement:",{aString:s},e.ClassOrganizer)})},args:["aString"],source:"removeElement: aString\n	super removeElement: aString.\n\n	SystemAnnouncer current announce: (ProtocolRemoved new\n		protocol: aString;\n		theClass: self theClass;\n		yourself)",messageSends:["removeElement:","announce:","current","protocol:","new","theClass:","theClass","yourself"],referencedClasses:["SystemAnnouncer","ProtocolRemoved"]}),e.ClassOrganizer),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.theClass},function(n){n.fill(t,"theClass",{},e.ClassOrganizer)})},args:[],source:"theClass\n	< return self.theClass >",messageSends:[],referencedClasses:[]}),e.ClassOrganizer),e.addClass("PackageOrganizer",e.Organizer,[],"Kernel-Infrastructure"),e.PackageOrganizer.comment="I am an organizer specific to packages. I hold classes categorization information.",e.addClass("Package",e.Object,["transport"],"Kernel-Infrastructure"),e.Package.comment="I am similar to a \"class category\" typically found in other Smalltalks like Pharo or Squeak. Amber does not have class categories anymore, it had in the beginning but now each class in the system knows which package it belongs to.\n\nEach package has a name and can be queried for its classes, but it will then resort to a reverse scan of all classes to find them.\n\n## API\n\nPackages are manipulated through \"Smalltalk current\", like for example finding one based on a name or with `Package class >> #name` directly:\n\n    Smalltalk current packageAt: 'Kernel'\n    Package named: 'Kernel'\n\nA package differs slightly from a Monticello package which can span multiple class categories using a naming convention based on hyphenation. But just as in Monticello a package supports \"class extensions\" so a package can define behaviors in foreign classes using a naming convention for method categories where the category starts with an asterisk and then the name of the owning package follows.\n\nYou can fetch a package from the server:\n\n	Package load: 'Additional-Examples'",e.addMethod(e.method({selector:"basicTransport",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.transport},function(n){n.fill(t,"basicTransport",{},e.Package)})},args:[],source:'basicTransport\n	"Answer the transport literal JavaScript object as setup in the JavaScript file, if any"\n	\n	<return self.transport>',messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"classes",category:"classes",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(n(t._organization())._elements())._asSet())._asArray()},function(n){n.fill(t,"classes",{},e.Package)})},args:[],source:"classes\n	^ self organization elements asSet asArray",messageSends:["asArray","asSet","elements","organization"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a,o,i,l,c,u,d,f,h;return h=n(s())._streamContents_(function(h){return e.withContext(function(e){return a=n(r._class())._name(),e.sendIdx.name=1,n(h)._nextPutAll_(a),e.sendIdx["nextPutAll:"]=1,o=n(s())._lf(),e.sendIdx.lf=1,i=n(s())._tab(),e.sendIdx.tab=1,l=n(o).__comma(i),e.sendIdx[","]=1,n(h)._nextPutAll_(l),e.sendIdx["nextPutAll:"]=2,n(h)._nextPutAll_(" named: "),e.sendIdx["nextPutAll:"]=3,c="'".__comma(r._name()),e.sendIdx[","]=3,u=n(c).__comma("'"),e.sendIdx[","]=2,n(h)._nextPutAll_(u),e.sendIdx["nextPutAll:"]=4,d=n(n(s())._lf()).__comma(n(s())._tab()),e.sendIdx[","]=4,n(h)._nextPutAll_(d),e.sendIdx["nextPutAll:"]=5,n(h)._nextPutAll_(" transport: ("),e.sendIdx["nextPutAll:"]=6,f=n(h)._nextPutAll_(n(n(r._transport())._definition()).__comma(")"))},function(e){e.fillBlock({stream:h},t,1)})})},function(t){t.fill(r,"definition",{},e.Package)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream \n			nextPutAll: self class name;\n			nextPutAll: String lf, String tab;\n			nextPutAll: ' named: ';\n			nextPutAll: '''', self name, '''';\n			nextPutAll: String lf, String tab;\n			nextPutAll:  ' transport: (';\n			nextPutAll: self transport definition, ')' ]",messageSends:["streamContents:","nextPutAll:","name","class",",","lf","tab","definition","transport"],referencedClasses:["String"]}),e.Package),e.addMethod(e.method({selector:"isPackage",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isPackage",{},e.Package)})},args:[],source:"isPackage\n	^ true",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"loadDependencies",category:"dependencies",fn:function(){var t,s,r=this;return e.withContext(function(s){var a,o,i;return t=r._loadDependencyClasses(),a=n(n(t)._collect_(function(t){return e.withContext(function(){return n(t)._package()},function(e){e.fillBlock({each:t},s,1)})}))._asSet(),n(a)._remove_ifAbsent_(r,function(){return e.withContext(function(){},function(e){e.fillBlock({},s,2)})}),o=n(a)._yourself(),i=o},function(n){n.fill(r,"loadDependencies",{classes:t,packages:s},e.Package)})},args:[],source:'loadDependencies\n	"Returns list of packages that need to be loaded\n	before loading this package."\n	\n	| classes packages |\n	classes := self loadDependencyClasses.\n	^ (classes collect: [ :each | each package ]) asSet\n		remove: self ifAbsent: [];\n		yourself',messageSends:["loadDependencyClasses","remove:ifAbsent:","asSet","collect:","package","yourself"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"loadDependencyClasses",category:"dependencies",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r,a=this;return e.withContext(function(o){var i,l,c,u,d;return r="*".__comma(a._name()),i=a._classes(),o.sendIdx.classes=1,l=n(i)._collect_(function(t){return e.withContext(function(){return n(t)._superclass()},function(e){e.fillBlock({each:t},o,1)})}),c=n(l)._asSet(),n(c)._remove_ifAbsent_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},o,2)})}),n(c)._addAll_(n(n(n(s())._current())._classes())._select_(function(t){return e.withContext(function(){return n(n(t)._protocols())._includes_(r)},function(e){e.fillBlock({each:t},o,3)})})),u=n(c)._yourself(),d=u},function(t){t.fill(a,"loadDependencyClasses",{starCategoryName:r},e.Package)})},args:[],source:"loadDependencyClasses\n	\"Returns classes needed at the time of loading a package.\n	These are all that are used to subclass\n	and to define an extension method\"\n	\n	| starCategoryName |\n	starCategoryName := '*', self name.\n	^ (self classes collect: [ :each | each superclass ]) asSet\n		remove: nil ifAbsent: [];\n		addAll: (Smalltalk current classes select: [ :each | each protocols includes: starCategoryName ]);\n		yourself",messageSends:[",","name","remove:ifAbsent:","asSet","collect:","classes","superclass","addAll:","select:","current","includes:","protocols","yourself"],referencedClasses:["Smalltalk"]}),e.Package),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.pkgName},function(n){n.fill(t,"name",{},e.Package)})},args:[],source:"name\n	<return self.pkgName>",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"name:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.pkgName=t,n},function(s){s.fill(n,"name:",{aString:t},e.Package)})},args:["aString"],source:"name: aString\n	<self.pkgName = aString>",messageSends:[],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"organization",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._basicAt_("organization")},function(n){n.fill(t,"organization",{},e.Package)})},args:[],source:"organization\n	^ self basicAt: 'organization'",messageSends:["basicAt:"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){var a;return e.Package.superclass.fn.prototype._printOn_.apply(n(s),[t]),n(t)._nextPutAll_(" ("),r.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(s._name()),r.sendIdx["nextPutAll:"]=2,a=n(t)._nextPutAll_(")"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.Package)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream \n		nextPutAll: ' (';\n		nextPutAll: self name;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","name"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"setupClasses",category:"classes",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var r=this;return e.withContext(function(t){var a,o;return a=r._classes(),n(a)._do_(function(r){return e.withContext(function(){return n(n(s())._new())._setupClass_(r)},function(e){e.fillBlock({each:r},t,1)})}),t.sendIdx["do:"]=1,o=n(a)._do_(function(s){return e.withContext(function(){return n(s)._initialize()},function(e){e.fillBlock({each:s},t,2)})}),r},function(t){t.fill(r,"setupClasses",{},e.Package)})},args:[],source:"setupClasses\n	self classes\n		do: [ :each | ClassBuilder new setupClass: each ];\n		do: [ :each | each initialize ]",messageSends:["do:","classes","setupClass:","new","initialize"],referencedClasses:["ClassBuilder"]}),e.Package),e.addMethod(e.method({selector:"sortedClasses",category:"classes",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._sortedClasses_(t._classes())},function(n){n.fill(t,"sortedClasses",{},e.Package)})},args:[],source:'sortedClasses\n	"Answer all classes in the receiver, sorted by superclass/subclasses and by class name for common subclasses (Issue #143)."\n\n	^ self class sortedClasses: self classes',messageSends:["sortedClasses:","class","classes"],referencedClasses:[]}),e.Package),e.addMethod(e.method({selector:"transport",category:"accessing",fn:function(){function s(){return e.PackageTransport||("undefined"==typeof PackageTransport?t:PackageTransport)}var r=this;return e.withContext(function(){var e,a,o,i;return e=r["@transport"],($receiver=e)==t||null==$receiver?(a=n(s())._fromJson_(r._basicTransport()),n(a)._package_(r),o=n(a)._yourself(),r["@transport"]=o,i=r["@transport"]):i=e,i},function(t){t.fill(r,"transport",{},e.Package)})},args:[],source:"transport\n	^ transport ifNil: [ \n		transport := (PackageTransport fromJson: self basicTransport)\n			package: self;\n			yourself ]",messageSends:["ifNil:","package:","fromJson:","basicTransport","yourself"],referencedClasses:["PackageTransport"]}),e.Package),e.addMethod(e.method({selector:"transport:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return s["@transport"]=t,n(t)._package_(s),s},function(n){n.fill(s,"transport:",{aPackageTransport:t},e.Package)})},args:["aPackageTransport"],source:"transport: aPackageTransport\n	transport := aPackageTransport.\n	aPackageTransport package: self",messageSends:["package:"],referencedClasses:[]}),e.Package),e.Package.klass.iVarNames=["defaultCommitPathJs","defaultCommitPathSt"],e.addMethod(e.method({selector:"named:",category:"accessing",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(t){var a,o;return a=n(r())._current(),t.sendIdx.current=1,o=n(a)._packageAt_ifAbsent_(s,function(){return e.withContext(function(){return n(n(r())._current())._createPackage_(s)},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(a,"named:",{aPackageName:s},e.Package.klass)})},args:["aPackageName"],source:"named: aPackageName\n	^ Smalltalk current \n		packageAt: aPackageName\n		ifAbsent: [ \n			Smalltalk current createPackage: aPackageName ]",messageSends:["packageAt:ifAbsent:","current","createPackage:"],referencedClasses:["Smalltalk"]}),e.Package.klass),e.addMethod(e.method({selector:"named:ifAbsent:",category:"accessing",fn:function(s,r){function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(){var e;return e=n(n(a())._current())._packageAt_ifAbsent_(s,r)},function(t){t.fill(o,"named:ifAbsent:",{aPackageName:s,aBlock:r},e.Package.klass)})},args:["aPackageName","aBlock"],source:"named: aPackageName ifAbsent: aBlock\n	^ Smalltalk current packageAt: aPackageName ifAbsent: aBlock",messageSends:["packageAt:ifAbsent:","current"],referencedClasses:["Smalltalk"]}),e.Package.klass),e.addMethod(e.method({selector:"named:transport:",category:"accessing",fn:function(t,s){var r,a=this;return e.withContext(function(){var e;return r=a._named_(t),n(r)._transport_(s),e=r},function(n){n.fill(a,"named:transport:",{aPackageName:t,aTransport:s,package_:r},e.Package.klass)})},args:["aPackageName","aTransport"],source:"named: aPackageName transport: aTransport\n	| package |\n	\n	package := self named: aPackageName.\n	package transport: aTransport.\n	\n	^ package",messageSends:["named:","transport:"],referencedClasses:[]}),e.Package.klass),e.addMethod(e.method({selector:"sortedClasses:",category:"sorting",fn:function(s){function r(){return e.ClassSorterNode||("undefined"==typeof ClassSorterNode?t:ClassSorterNode)}function a(){return e.Array||("undefined"==typeof Array?t:Array)}var o,i,l,c,u=this;return e.withContext(function(t){var u,d,f,h;return o=[],i=[],n(s)._do_(function(r){return e.withContext(function(t){return u=n(s)._includes_(n(r)._superclass()),e.assert(u)?n(i)._add_(r):n(o)._add_(r)},function(e){e.fillBlock({each:r},t,1)})}),t.sendIdx["do:"]=1,l=n(o)._collect_(function(s){return e.withContext(function(){return n(r())._on_classes_level_(s,i,0)},function(e){e.fillBlock({each:s},t,4)})}),l=n(l)._sorted_(function(s,r){return e.withContext(function(e){return d=n(s)._theClass(),e.sendIdx.theClass=1,f=n(d)._name(),e.sendIdx.name=1,n(f).__lt_eq(n(n(r)._theClass())._name())},function(e){e.fillBlock({a:s,b:r},t,5)})}),c=n(a())._new(),n(l)._do_(function(s){return e.withContext(function(){return n(s)._traverseClassesWith_(c)},function(e){e.fillBlock({aNode:s},t,6)})}),h=c},function(t){t.fill(u,"sortedClasses:",{classes:s,children:o,others:i,nodes:l,expandedClasses:c},e.Package.klass)})},args:["classes"],source:'sortedClasses: classes\n	"Answer classes, sorted by superclass/subclasses and by class name for common subclasses (Issue #143)"\n\n	| children others nodes expandedClasses |\n	children := #().\n	others := #().\n	classes do: [ :each |\n		(classes includes: each superclass)\n			ifFalse: [ children add: each ]\n			ifTrue: [ others add: each ]].\n	nodes := children collect: [ :each |\n		ClassSorterNode on: each classes: others level: 0 ].\n	nodes := nodes sorted: [ :a :b | a theClass name <= b theClass name ].\n	expandedClasses := Array new.\n	nodes do: [ :aNode |\n		aNode traverseClassesWith: expandedClasses ].\n	^ expandedClasses',messageSends:["do:","ifFalse:ifTrue:","includes:","superclass","add:","collect:","on:classes:level:","sorted:","<=","name","theClass","new","traverseClassesWith:"],referencedClasses:["ClassSorterNode","Array"]}),e.Package.klass),e.addClass("PlatformInterface",e.Object,[],"Kernel-Infrastructure"),e.PlatformInterface.comment="I am single entry point to UI and environment interface.\nMy `initialize` tries several options (for now, browser environment only) to set myself up.\n\n## API\n\n    PlatformInterface alert: 'Hey, there is a problem'.\n    PlatformInterface confirm: 'Affirmative?'.\n    PlatformInterface prompt: 'Your name:'.\n\n    PlatformInterface ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.PlatformInterface.klass.iVarNames=["worker"],e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(s){var r=this;return e.withContext(function(){var e,a;return e=r["@worker"],a=($receiver=e)==t||null==$receiver?r._error_("ajax: not available"):n(r["@worker"])._ajax_(s)},function(t){t.fill(r,"ajax:",{anObject:s},e.PlatformInterface.klass)})},args:["anObject"],source:"ajax: anObject\n	^ worker\n		ifNotNil: [ worker ajax: anObject ]\n		ifNil: [ self error: 'ajax: not available' ]",messageSends:["ifNotNil:ifNil:","ajax:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(s){var r=this;return e.withContext(function(){var e,a;return e=r["@worker"],a=($receiver=e)==t||null==$receiver?r._error_("alert: not available"):n(r["@worker"])._alert_(s)},function(t){t.fill(r,"alert:",{aString:s},e.PlatformInterface.klass)})},args:["aString"],source:"alert: aString\n	^ worker\n		ifNotNil: [ worker alert: aString ]\n		ifNil: [ self error: 'alert: not available' ]",messageSends:["ifNotNil:ifNil:","alert:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(s){var r=this;return e.withContext(function(){var e,a;return e=r["@worker"],a=($receiver=e)==t||null==$receiver?r._error_("confirm: not available"):n(r["@worker"])._confirm_(s)},function(t){t.fill(r,"confirm:",{aString:s},e.PlatformInterface.klass)})},args:["aString"],source:"confirm: aString\n	^ worker\n		ifNotNil: [ worker confirm: aString ]\n		ifNil: [ self error: 'confirm: not available' ]",messageSends:["ifNotNil:ifNil:","confirm:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"existsGlobal:",category:"actions",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}var a=this;return e.withContext(function(t){var a;return a=n(n(r())._globals())._at_ifPresent_ifAbsent_(s,function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},t,1)})},function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},t,2)})})},function(t){t.fill(a,"existsGlobal:",{aString:s},e.PlatformInterface.klass)})},args:["aString"],source:"existsGlobal: aString\n	^ PlatformInterface globals \n		at: aString \n		ifPresent: [ true ] \n		ifAbsent: [ false ]",messageSends:["at:ifPresent:ifAbsent:","globals"],referencedClasses:["PlatformInterface"]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"globals",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return new Function("return this")()},function(n){n.fill(t,"globals",{},e.PlatformInterface.klass)})},args:[],source:"globals\n	<return (new Function('return this'))();>",messageSends:[],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.BrowserInterface||("undefined"==typeof BrowserInterface?t:BrowserInterface)}var r,a=this;return e.withContext(function(){var o;if(e.PlatformInterface.klass.superclass.fn.prototype._initialize.apply(n(a),[]),($receiver=s())==t||null==$receiver)s();else if(r=n(s())._new(),o=n(r)._isAvailable(),e.assert(o))return a._setWorker_(r),a;return a},function(t){t.fill(a,"initialize",{candidate:r},e.PlatformInterface.klass)})},args:[],source:"initialize\n	| candidate |\n	\n	super initialize.\n	\n	BrowserInterface ifNotNil: [\n		candidate := BrowserInterface new.\n		candidate isAvailable ifTrue: [ self setWorker: candidate. ^ self ]\n	]",messageSends:["initialize","ifNotNil:","new","ifTrue:","isAvailable","setWorker:"],referencedClasses:["BrowserInterface"]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(s){var r=this;return e.withContext(function(){var e,a;return e=r["@worker"],a=($receiver=e)==t||null==$receiver?r._error_("prompt: not available"):n(r["@worker"])._prompt_(s)},function(t){t.fill(r,"prompt:",{aString:s},e.PlatformInterface.klass)})},args:["aString"],source:"prompt: aString\n	^ worker\n		ifNotNil: [ worker prompt: aString ]\n		ifNil: [ self error: 'prompt: not available' ]",messageSends:["ifNotNil:ifNil:","prompt:","error:"],referencedClasses:[]}),e.PlatformInterface.klass),e.addMethod(e.method({selector:"setWorker:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@worker"]=t,n},function(s){s.fill(n,"setWorker:",{anObject:t},e.PlatformInterface.klass)})},args:["anObject"],source:"setWorker: anObject\n	worker := anObject",messageSends:[],referencedClasses:[]}),e.PlatformInterface.klass),e.addClass("ProgressHandler",e.Object,[],"Kernel-Infrastructure"),e.ProgressHandler.comment="I am used to manage progress in collection iterations, see `SequenceableCollection >> #do:displayingProgress:`.\n\nSubclasses of can register themselves as the current handler with\n`ProgressHandler class >> register`.\n\nThe default behavior is to simply iterate over the collection.",e.addMethod(e.method({selector:"do:on:displaying:",category:"progress handling",fn:function(t,s,r){var a=this;return e.withContext(function(){return n(s)._do_(t),a},function(n){n.fill(a,"do:on:displaying:",{aBlock:t,aCollection:s,aString:r},e.ProgressHandler)})},args:["aBlock","aCollection","aString"],source:"do: aBlock on: aCollection displaying: aString\n	aCollection do: aBlock",messageSends:["do:"],referencedClasses:[]}),e.ProgressHandler),e.ProgressHandler.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@current"],($receiver=e)==t||null==$receiver?(n["@current"]=n._new(),s=n["@current"]):s=e,s},function(t){t.fill(n,"current",{},e.ProgressHandler.klass)})},args:[],source:"current\n	^ current ifNil: [ current := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._register(),t},function(n){n.fill(t,"initialize",{},e.ProgressHandler.klass)})},args:[],source:"initialize\n	self register",messageSends:["register"],referencedClasses:[]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"register",category:"initialization",fn:function(){function s(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var r=this;return e.withContext(function(){return n(s())._setCurrent_(r._new()),r},function(t){t.fill(r,"register",{},e.ProgressHandler.klass)})},args:[],source:"register\n	ProgressHandler setCurrent: self new",messageSends:["setCurrent:","new"],referencedClasses:["ProgressHandler"]}),e.ProgressHandler.klass),e.addMethod(e.method({selector:"setCurrent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(s){s.fill(n,"setCurrent:",{anHandler:t},e.ProgressHandler.klass)})},args:["anHandler"],source:"setCurrent: anHandler\n	current := anHandler",messageSends:[],referencedClasses:[]}),e.ProgressHandler.klass),e.addClass("Smalltalk",e.Object,[],"Kernel-Infrastructure"),e.Smalltalk.comment="I represent the global JavaScript variable `smalltalk` declared in `js/boot.js`.\n\n## API\n\nI have only one instance, accessed with class-side method `#current`.\n\nThe `smalltalk` object holds all class and packages defined in the system.\n\n## Classes\n\nClasses can be accessed using the following methods:\n\n- `#classes` answers the full list of Smalltalk classes in the system\n- `#at:` answers a specific class or `nil`\n\n## Packages\n\nPackages can be accessed using the following methods:\n\n- `#packages` answers the full list of packages\n- `#packageAt:` answers a specific package or `nil`\n\n## Parsing\n\nThe `#parse:` method is used to parse Amber source code.\nIt requires the `Compiler` package and the `js/parser.js` parser file in order to work.",e.addMethod(e.method({selector:"addGlobalJsVariable:",category:"globals",fn:function(t){var s=this;return e.withContext(function(){return n(s._globalJsVariables())._add_(t),s},function(n){n.fill(s,"addGlobalJsVariable:",{aString:t},e.Smalltalk)})},args:["aString"],source:"addGlobalJsVariable: aString\n	self globalJsVariables add: aString",messageSends:["add:","globalJsVariables"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"amdRequire",category:"accessing amd",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_("amdRequire")},function(n){n.fill(t,"amdRequire",{},e.Smalltalk)})},args:[],source:"amdRequire\n	^ self at: 'amdRequire'",messageSends:["at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"asSmalltalkException:",category:"error handling",fn:function(s){function r(){return e.Error||("undefined"==typeof Error?t:Error)}function a(){return e.JavaScriptException||("undefined"==typeof JavaScriptException?t:JavaScriptException)}var o=this;return e.withContext(function(t){var i,l;return i=n(o._isSmalltalkObject_(s))._and_(function(){return e.withContext(function(){return n(s)._isKindOf_(r())},function(e){e.fillBlock({},t,1)})}),l=e.assert(i)?s:n(a())._on_(s)},function(t){t.fill(o,"asSmalltalkException:",{anObject:s},e.Smalltalk)})},args:["anObject"],source:'asSmalltalkException: anObject\n	"A JavaScript exception may be thrown.\n	We then need to convert it back to a Smalltalk object"\n	\n	^ ((self isSmalltalkObject: anObject) and: [ anObject isKindOf: Error ])\n		ifTrue: [ anObject ]\n		ifFalse: [ JavaScriptException on: anObject ]',messageSends:["ifTrue:ifFalse:","and:","isSmalltalkObject:","isKindOf:","on:"],referencedClasses:["Error","JavaScriptException"]}),e.Smalltalk),e.addMethod(e.method({selector:"at:",category:"accessing",fn:function(t){var n=this;
return e.withContext(function(){var e;return e=n._basicAt_(t)},function(s){s.fill(n,"at:",{aString:t},e.Smalltalk)})},args:["aString"],source:"at: aString\n	^ self basicAt: aString",messageSends:["basicAt:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"at:ifAbsent:",category:"accessing",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i;return o=r._includesKey_(t),i=n(o)._ifTrue_ifFalse_(function(){return e.withContext(function(){return r._at_(t)},function(e){e.fillBlock({},a,1)})},s)},function(n){n.fill(r,"at:ifAbsent:",{aKey:t,aBlock:s},e.Smalltalk)})},args:["aKey","aBlock"],source:"at: aKey ifAbsent: aBlock\n	^ (self includesKey: aKey)\n		ifTrue: [ self at: aKey ]\n		ifFalse: aBlock",messageSends:["ifTrue:ifFalse:","includesKey:","at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"at:put:",category:"accessing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._basicAt_put_(t,n)},function(r){r.fill(s,"at:put:",{aString:t,anObject:n},e.Smalltalk)})},args:["aString","anObject"],source:"at: aString put: anObject\n	^ self basicAt: aString put: anObject",messageSends:["basicAt:put:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"basicCreatePackage:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.addPackage(t)},function(s){s.fill(n,"basicCreatePackage:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:'basicCreatePackage: packageName\n	"Create and bind a new bare package with given name and return it."\n	<return smalltalk.addPackage(packageName)>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"basicParse:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return e.parser.parse(t)},function(s){s.fill(n,"basicParse:",{aString:t},e.Smalltalk)})},args:["aString"],source:"basicParse: aString\n	<return smalltalk.parser.parse(aString)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"classes",category:"classes",fn:function(){var t=this;return e.withContext(function(){return t.classes()},function(n){n.fill(t,"classes",{},e.Smalltalk)})},args:[],source:"classes\n	<return self.classes()>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"createPackage:",category:"packages",fn:function(s){function r(){return e.PackageAdded||("undefined"==typeof PackageAdded?t:PackageAdded)}function a(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}var o,i,l=this;return e.withContext(function(){var e,t,c;return o=l._basicCreatePackage_(s),e=n(r())._new(),n(e)._package_(o),t=n(e)._yourself(),i=t,n(n(a())._current())._announce_(i),c=o},function(t){t.fill(l,"createPackage:",{packageName:s,package_:o,announcement:i},e.Smalltalk)})},args:["packageName"],source:"createPackage: packageName\n	| package announcement |\n	\n	package := self basicCreatePackage: packageName.\n	announcement := PackageAdded new\n		package: package;\n		yourself.\n		\n	SystemAnnouncer current announce: announcement.\n	\n	^ package",messageSends:["basicCreatePackage:","package:","new","yourself","announce:","current"],referencedClasses:["PackageAdded","SystemAnnouncer"]}),e.Smalltalk),e.addMethod(e.method({selector:"createPackage:properties:",category:"private",fn:function(t,s){var r=this;return e.withContext(function(){var a,o;return r._deprecatedAPI(),a=n(s)._isEmpty(),e.assert(a)||r._error_("createPackage:properties: called with nonempty properties"),o=r._createPackage_(t)},function(n){n.fill(r,"createPackage:properties:",{packageName:t,aDict:s},e.Smalltalk)})},args:["packageName","aDict"],source:"createPackage: packageName properties: aDict\n	\"Needed to import .st files: they begin with this call.\"\n	self deprecatedAPI.\n	\n	aDict isEmpty ifFalse: [ self error: 'createPackage:properties: called with nonempty properties' ].\n	^ self createPackage: packageName",messageSends:["deprecatedAPI","ifFalse:","isEmpty","error:","createPackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"defaultAmdNamespace",category:"accessing amd",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._at_("defaultAmdNamespace")},function(n){n.fill(t,"defaultAmdNamespace",{},e.Smalltalk)})},args:[],source:"defaultAmdNamespace\n	^ self at: 'defaultAmdNamespace'",messageSends:["at:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"defaultAmdNamespace:",category:"accessing amd",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("defaultAmdNamespace",t),n},function(s){s.fill(n,"defaultAmdNamespace:",{aString:t},e.Smalltalk)})},args:["aString"],source:"defaultAmdNamespace: aString\n	self at: 'defaultAmdNamespace' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deleteClass:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return n.removeClass(t),n},function(s){s.fill(n,"deleteClass:",{aClass:t},e.Smalltalk)})},args:["aClass"],source:'deleteClass: aClass\n	"Deletes a class by deleting its binding only. Use #removeClass instead"\n	\n	<self.removeClass(aClass)>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deleteGlobalJsVariable:",category:"globals",fn:function(t){var s=this;return e.withContext(function(r){return n(s._globalJsVariables())._remove_ifAbsent_(t,function(){return e.withContext(function(){},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"deleteGlobalJsVariable:",{aString:t},e.Smalltalk)})},args:["aString"],source:"deleteGlobalJsVariable: aString\n	self globalJsVariables remove: aString ifAbsent:[]",messageSends:["remove:ifAbsent:","globalJsVariables"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"deletePackage:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return delete n.packages[t],n},function(s){s.fill(n,"deletePackage:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:'deletePackage: packageName\n	"Deletes a package by deleting its binding, but does not check if it contains classes etc.\n	To remove a package, use #removePackage instead."\n\n	<delete self.packages[ packageName]>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"globalJsVariables",category:"globals",fn:function(){var t=this;return e.withContext(function(){return t.globalJsVariables},function(n){n.fill(t,"globalJsVariables",{},e.Smalltalk)})},args:[],source:'globalJsVariables\n	"Array of global JavaScript variables"\n	<return self.globalJsVariables>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"includesKey:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.hasOwnProperty(t)},function(s){s.fill(n,"includesKey:",{aKey:t},e.Smalltalk)})},args:["aKey"],source:"includesKey: aKey\n	<return self.hasOwnProperty(aKey)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"isSmalltalkObject:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return"undefined"!=typeof t.klass},function(s){s.fill(n,"isSmalltalkObject:",{anObject:t},e.Smalltalk)})},args:["anObject"],source:"isSmalltalkObject: anObject\n	\"Consider anObject a Smalltalk object if it has a 'klass' property.\n	Note that this may be unaccurate\"\n	\n	<return typeof anObject.klass !== 'undefined'>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packageAt:",category:"packages",fn:function(t){var n=this;return e.withContext(function(){return n.packages[t]},function(s){s.fill(n,"packageAt:",{packageName:t},e.Smalltalk)})},args:["packageName"],source:"packageAt: packageName\n	<return self.packages[ packageName]>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packageAt:ifAbsent:",category:"packages",fn:function(t,s){var r=this;return e.withContext(function(){var e,a;return e=r._packageAt_(t),a=n(e)._ifNil_(s)},function(n){n.fill(r,"packageAt:ifAbsent:",{packageName:t,aBlock:s},e.Smalltalk)})},args:["packageName","aBlock"],source:"packageAt: packageName ifAbsent: aBlock\n	^ (self packageAt: packageName) ifNil: aBlock",messageSends:["ifNil:","packageAt:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"packages",category:"packages",fn:function(){var t=this;return e.withContext(function(){var e=[];for(var n in t.packages)e.push(t.packages[n]);return e},function(n){n.fill(t,"packages",{},e.Smalltalk)})},args:[],source:'packages\n	"Return all Package instances in the system."\n\n	<\n		var packages = [];\n		for(var key in self.packages) {\n			packages.push(self.packages[key]);\n		}\n		return packages;\n	>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"parse:",category:"accessing",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l;return r._try_catch_(function(){return e.withContext(function(){return s=r._basicParse_(t)},function(e){e.fillBlock({},a,1)})},function(s){return e.withContext(function(){return n(r._parseError_parsing_(s,t))._signal()},function(e){e.fillBlock({ex:s},a,2)})}),o=s,n(o)._source_(t),i=n(o)._yourself(),l=i},function(n){n.fill(r,"parse:",{aString:t,result:s},e.Smalltalk)})},args:["aString"],source:"parse: aString\n	| result |\n	\n	self \n		try: [ result := self basicParse: aString ] \n		catch: [ :ex | (self parseError: ex parsing: aString) signal ].\n		\n	^ result\n		source: aString;\n		yourself",messageSends:["try:catch:","basicParse:","signal","parseError:parsing:","source:","yourself"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"parseError:parsing:",category:"error handling",fn:function(s,r){function a(){return e.ParseError||("undefined"==typeof ParseError?t:ParseError)}var o=this;return e.withContext(function(e){var t,r,o,i,l,c,u,d,f;return t=n(a())._new(),r=n(s)._basicAt_("line"),e.sendIdx["basicAt:"]=1,o="Parse error on line ".__comma(r),i=n(o).__comma(" column "),e.sendIdx[","]=4,l=n(s)._basicAt_("column"),e.sendIdx["basicAt:"]=2,c=n(i).__comma(l),e.sendIdx[","]=3,u=n(c).__comma(" : Unexpected character "),e.sendIdx[","]=2,d=n(u).__comma(n(s)._basicAt_("found")),e.sendIdx[","]=1,f=n(t)._messageText_(d)},function(t){t.fill(o,"parseError:parsing:",{anException:s,aString:r},e.Smalltalk)})},args:["anException","aString"],source:"parseError: anException parsing: aString\n	^ ParseError new messageText: 'Parse error on line ', (anException basicAt: 'line') ,' column ' , (anException basicAt: 'column') ,' : Unexpected character ', (anException basicAt: 'found')",messageSends:["messageText:","new",",","basicAt:"],referencedClasses:["ParseError"]}),e.Smalltalk),e.addMethod(e.method({selector:"pseudoVariableNames",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=["self","super","nil","true","false","thisContext"]},function(n){n.fill(t,"pseudoVariableNames",{},e.Smalltalk)})},args:[],source:"pseudoVariableNames\n	^ #('self' 'super' 'nil' 'true' 'false' 'thisContext')",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"readJSObject:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.readJSObject(t)},function(s){s.fill(n,"readJSObject:",{anObject:t},e.Smalltalk)})},args:["anObject"],source:"readJSObject: anObject\n	<return self.readJSObject(anObject)>",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"removeClass:",category:"classes",fn:function(s){function r(){return e.SystemAnnouncer||("undefined"==typeof SystemAnnouncer?t:SystemAnnouncer)}function a(){return e.ClassRemoved||("undefined"==typeof ClassRemoved?t:ClassRemoved)}var o=this;return e.withContext(function(){var t,i,l;return t=n(s)._isMetaclass(),e.assert(t)&&o._error_(n(n(s)._asString()).__comma(" is a Metaclass and cannot be removed!")),o._deleteClass_(s),i=n(a())._new(),n(i)._theClass_(s),l=n(i)._yourself(),n(n(r())._current())._announce_(l),o},function(t){t.fill(o,"removeClass:",{aClass:s},e.Smalltalk)})},args:["aClass"],source:"removeClass: aClass\n	aClass isMetaclass ifTrue: [ self error: aClass asString, ' is a Metaclass and cannot be removed!' ].\n	\n	self deleteClass: aClass.\n	\n	SystemAnnouncer current\n		announce: (ClassRemoved new\n			theClass: aClass;\n			yourself)",messageSends:["ifTrue:","isMetaclass","error:",",","asString","deleteClass:","announce:","current","theClass:","new","yourself"],referencedClasses:["SystemAnnouncer","ClassRemoved"]}),e.Smalltalk),e.addMethod(e.method({selector:"removePackage:",category:"packages",fn:function(t){var s,r=this;return e.withContext(function(a){return s=r._packageAt_ifAbsent_(t,function(){return e.withContext(function(){return r._error_("Missing package: ".__comma(t))},function(e){e.fillBlock({},a,1)})}),n(n(s)._classes())._do_(function(t){return e.withContext(function(){return r._removeClass_(t)},function(e){e.fillBlock({each:t},a,2)})}),r._deletePackage_(t),r},function(n){n.fill(r,"removePackage:",{packageName:t,pkg:s},e.Smalltalk)})},args:["packageName"],source:"removePackage: packageName\n	\"Removes a package and all its classes.\"\n\n	| pkg |\n	pkg := self packageAt: packageName ifAbsent: [ self error: 'Missing package: ', packageName ].\n	pkg classes do: [ :each |\n			self removeClass: each ].\n	self deletePackage: packageName",messageSends:["packageAt:ifAbsent:","error:",",","do:","classes","removeClass:","deletePackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"renamePackage:to:",category:"packages",fn:function(s,r){var a,o=this;return e.withContext(function(i){var l,c;return a=o._packageAt_ifAbsent_(s,function(){return e.withContext(function(e){return l="Missing package: ".__comma(s),e.sendIdx[","]=1,o._error_(l)},function(e){e.fillBlock({},i,1)})}),c=o._packageAt_(r),($receiver=c)==t||null==$receiver||o._error_("Already exists a package called: ".__comma(r)),n(o._at_("packages"))._at_put_(r,a),n(a)._name_(r),o._deletePackage_(s),o},function(t){t.fill(o,"renamePackage:to:",{packageName:s,newName:r,pkg:a},e.Smalltalk)})},args:["packageName","newName"],source:"renamePackage: packageName to: newName\n	\"Rename a package.\"\n\n	| pkg |\n	pkg := self packageAt: packageName ifAbsent: [ self error: 'Missing package: ', packageName ].\n	(self packageAt: newName) ifNotNil: [ self error: 'Already exists a package called: ', newName ].\n	(self at: 'packages') at: newName put: pkg.\n	pkg name: newName.\n	self deletePackage: packageName.",messageSends:["packageAt:ifAbsent:","error:",",","ifNotNil:","packageAt:","at:put:","at:","name:","deletePackage:"],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"reservedWords",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.reservedWords},function(n){n.fill(t,"reservedWords",{},e.Smalltalk)})},args:[],source:'reservedWords\n	"JavaScript reserved words"\n	<return self.reservedWords>',messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"version",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"0.13.0-pre"},function(n){n.fill(t,"version",{},e.Smalltalk)})},args:[],source:"version\n	\"Answer the version string of Amber\"\n	\n	^ '0.13.0-pre'",messageSends:[],referencedClasses:[]}),e.Smalltalk),e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return e},function(n){n.fill(t,"current",{},e.Smalltalk.klass)})},args:[],source:"current\n	<return smalltalk>",messageSends:[],referencedClasses:[]}),e.Smalltalk.klass),e.addMethod(e.method({selector:"do:displayingProgress:",category:"*Kernel-Infrastructure",fn:function(s,r){function a(){return e.ProgressHandler||("undefined"==typeof ProgressHandler?t:ProgressHandler)}var o=this;return e.withContext(function(){return n(n(a())._current())._do_on_displaying_(s,o,r),o},function(t){t.fill(o,"do:displayingProgress:",{aBlock:s,aString:r},e.SequenceableCollection)})},args:["aBlock","aString"],source:"do: aBlock displayingProgress: aString\n	ProgressHandler current\n		do: aBlock on: self displaying: aString",messageSends:["do:on:displaying:","current"],referencedClasses:["ProgressHandler"]}),e.SequenceableCollection),e.addMethod(e.method({selector:"asJavaScriptSelector",category:"*Kernel-Infrastructure",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._replace_with_("^([a-zA-Z0-9]*).*$","$1")},function(n){n.fill(t,"asJavaScriptSelector",{},e.String)})},args:[],source:"asJavaScriptSelector\n	\"Return first keyword of the selector, without trailing colon.\"\n	^ self replace: '^([a-zA-Z0-9]*).*$' with: '$1'",messageSends:["replace:with:"],referencedClasses:[]}),e.String)}),define("amber_core/Kernel-Exceptions",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Exceptions"),e.packages["Kernel-Exceptions"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Error",e.Object,["messageText"],"Kernel-Exceptions"),e.Error.comment="From the ANSI standard:\n\nThis protocol describes the behavior of instances of class `Error`.\nThese are used to represent error conditions that prevent the normal continuation of processing.\nActual error exceptions used by an application may be subclasses of this class.\nAs `Error` is explicitly specified to be subclassable, conforming implementations must implement its behavior in a non-fragile manner.",e.addMethod(e.method({selector:"context",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.context},function(n){n.fill(t,"context",{},e.Error)})},args:[],source:"context\n	<return self.context>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._messageText_("Errorclass: ".__comma(n(t._class())._name())),t},function(n){n.fill(t,"initialize",{},e.Error)})},args:[],source:"initialize\n	self messageText: 'Errorclass: ', (self class name).",messageSends:["messageText:",",","name","class"],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"isSmalltalkError",category:"testing",fn:function(){var t=this;return e.withContext(function(){return t.smalltalkError===!0},function(n){n.fill(t,"isSmalltalkError",{},e.Error)})},args:[],source:"isSmalltalkError\n	<return self.smalltalkError === true>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"jsStack",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t.stack},function(n){n.fill(t,"jsStack",{},e.Error)})},args:[],source:"jsStack\n	<return self.stack>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@messageText"]},function(n){n.fill(t,"messageText",{},e.Error)})},args:[],source:"messageText\n	^ messageText",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"messageText:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@messageText"]=t,n},function(s){s.fill(n,"messageText:",{aString:t},e.Error)})},args:["aString"],source:"messageText: aString\n	messageText := aString",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"resignal",category:"signaling",fn:function(){var t=this;return e.withContext(function(){throw t},function(n){n.fill(t,"resignal",{},e.Error)})},args:[],source:'resignal\n	"Resignal the receiver without changing its exception context"\n	\n	<throw(self)>',messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"signal",category:"signaling",fn:function(){var t=this;return e.withContext(function(){throw t.context=e.getThisContext(),t.smalltalkError=!0,t},function(n){n.fill(t,"signal",{},e.Error)})},args:[],source:"signal\n	<self.context = smalltalk.getThisContext(); self.smalltalkError = true; throw(self)>",messageSends:[],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"signal:",category:"signaling",fn:function(t){var n=this;return e.withContext(function(){return n._messageText_(t),n._signal(),n},function(s){s.fill(n,"signal:",{aString:t},e.Error)})},args:["aString"],source:"signal: aString\n	self messageText: aString.\n	self signal",messageSends:["messageText:","signal"],referencedClasses:[]}),e.Error),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"exception"},function(n){n.fill(t,"heliosClass",{},e.Error.klass)})},args:[],source:"heliosClass\n	^ 'exception'",messageSends:[],referencedClasses:[]}),e.Error.klass),e.addMethod(e.method({selector:"signal",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._new())._signal()},function(n){n.fill(t,"signal",{},e.Error.klass)})},args:[],source:"signal\n	^ self new signal",messageSends:["signal","new"],referencedClasses:[]}),e.Error.klass),e.addMethod(e.method({selector:"signal:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._new())._signal_(t)},function(n){n.fill(s,"signal:",{aString:t},e.Error.klass)})},args:["aString"],source:"signal: aString\n	^ self new\n		signal: aString",messageSends:["signal:","new"],referencedClasses:[]}),e.Error.klass),e.addClass("JavaScriptException",e.Error,["exception"],"Kernel-Exceptions"),e.JavaScriptException.comment="A JavaScriptException is thrown when a non-Smalltalk exception occurs while in the Smalltalk stack.\nSee `boot.js` `inContext()` and `BlockClosure >> on:do:`",e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n.context=t,n},function(s){s.fill(n,"context:",{aMethodContext:t},e.JavaScriptException)})},args:["aMethodContext"],source:'context: aMethodContext\n	"Set the context from the outside.\n	See boot.js `inContext()` exception handling"\n	\n	<self.context = aMethodContext>',messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"exception",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@exception"]},function(n){n.fill(t,"exception",{},e.JavaScriptException)})},args:[],source:"exception\n	^ exception",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"exception:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@exception"]=t,n},function(s){s.fill(n,"exception:",{anException:t},e.JavaScriptException)})},args:["anException"],source:"exception: anException\n	exception := anException",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"JavaScript exception: "+t["@exception"].toString()},function(n){n.fill(t,"messageText",{},e.JavaScriptException)})},args:[],source:"messageText\n	<return 'JavaScript exception: ' + self[\"@exception\"].toString()>",messageSends:[],referencedClasses:[]}),e.JavaScriptException),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._exception_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{anException:t},e.JavaScriptException.klass)})},args:["anException"],source:"on: anException\n	^ self new\n		exception: anException;\n		yourself",messageSends:["exception:","new","yourself"],referencedClasses:[]}),e.JavaScriptException.klass),e.addMethod(e.method({selector:"on:context:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._exception_(t),n(e)._context_(s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"on:context:",{anException:t,aMethodContext:s},e.JavaScriptException.klass)})},args:["anException","aMethodContext"],source:"on: anException context: aMethodContext\n	^ self new\n		exception: anException;\n		context: aMethodContext;\n		yourself",messageSends:["exception:","new","context:","yourself"],referencedClasses:[]}),e.JavaScriptException.klass),e.addClass("MessageNotUnderstood",e.Error,["message","receiver"],"Kernel-Exceptions"),e.MessageNotUnderstood.comment="This exception is provided to support `Object>>doesNotUnderstand:`.",e.addMethod(e.method({selector:"message",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@message"]},function(n){n.fill(t,"message",{},e.MessageNotUnderstood)})},args:[],source:"message\n	^ message",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"message:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@message"]=t,n},function(s){s.fill(n,"message:",{aMessage:t},e.MessageNotUnderstood)})},args:["aMessage"],source:"message: aMessage\n	message := aMessage",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n(n(n(t._receiver())._asString()).__comma(" does not understand #")).__comma(n(t._message())._selector()),e.sendIdx[","]=1,s},function(n){n.fill(t,"messageText",{},e.MessageNotUnderstood)})},args:[],source:"messageText\n	^ self receiver asString, ' does not understand #', self message selector",messageSends:[",","asString","receiver","selector","message"],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@receiver"]},function(n){n.fill(t,"receiver",{},e.MessageNotUnderstood)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addMethod(e.method({selector:"receiver:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@receiver"]=t,n},function(s){s.fill(n,"receiver:",{anObject:t},e.MessageNotUnderstood)})},args:["anObject"],source:"receiver: anObject\n	receiver := anObject",messageSends:[],referencedClasses:[]}),e.MessageNotUnderstood),e.addClass("NonBooleanReceiver",e.Error,["object"],"Kernel-Exceptions"),e.NonBooleanReceiver.comment="NonBooleanReceiver exceptions may be thrown when executing inlined methods such as `#ifTrue:` with a non boolean receiver.",e.addMethod(e.method({selector:"object",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@object"]},function(n){n.fill(t,"object",{},e.NonBooleanReceiver)})},args:[],source:"object\n	^ object",messageSends:[],referencedClasses:[]}),e.NonBooleanReceiver),e.addMethod(e.method({selector:"object:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@object"]=t,n},function(s){s.fill(n,"object:",{anObject:t},e.NonBooleanReceiver)})},args:["anObject"],source:"object: anObject\n	object := anObject",messageSends:[],referencedClasses:[]}),e.NonBooleanReceiver),e.addClass("ErrorHandler",e.Object,[],"Kernel-Exceptions"),e.ErrorHandler.comment="I am used to manage Smalltalk errors.\nSee `boot.js` `handleError()` function.\n\nSubclasses can register themselves as the current handler with\n`ErrorHandler class >> register`.\n\nSubclasses may override `#handleError:` to perform an action on the thrown exception.\nThe default behavior is to log the error and the context stack to the JavaScript console.",e.addMethod(e.method({selector:"handleError:",category:"error handling",fn:function(s){var r=this;return e.withContext(function(e){var a;return a=n(s)._context(),e.sendIdx.context=1,($receiver=a)==t||null==$receiver||r._logErrorContext_(n(s)._context()),r._logError_(s),r},function(t){t.fill(r,"handleError:",{anError:s},e.ErrorHandler)})},args:["anError"],source:"handleError: anError\n	anError context ifNotNil: [ self logErrorContext: anError context ].\n	self logError: anError",messageSends:["ifNotNil:","context","logErrorContext:","logError:"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"log:",category:"private",fn:function(t){var s=this;return e.withContext(function(){return n(console)._log_(t),s},function(n){n.fill(s,"log:",{aString:t},e.ErrorHandler)})},args:["aString"],source:"log: aString\n	console log: aString",messageSends:["log:"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logContext:",category:"private",fn:function(s){var r=this;return e.withContext(function(e){var a;return a=n(s)._home(),e.sendIdx.home=1,($receiver=a)==t||null==$receiver||r._logContext_(n(s)._home()),r._log_(n(s)._asString()),r},function(t){t.fill(r,"logContext:",{aContext:s},e.ErrorHandler)})},args:["aContext"],source:"logContext: aContext\n	aContext home ifNotNil: [\n		self logContext: aContext home ].\n	self log: aContext asString",messageSends:["ifNotNil:","home","logContext:","log:","asString"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logError:",category:"private",fn:function(t){var s=this;return e.withContext(function(){return s._log_(n(t)._messageText()),s},function(n){n.fill(s,"logError:",{anError:t},e.ErrorHandler)})},args:["anError"],source:"logError: anError\n	self log: anError messageText",messageSends:["log:","messageText"],referencedClasses:[]}),e.ErrorHandler),e.addMethod(e.method({selector:"logErrorContext:",category:"private",fn:function(s){var r=this;return e.withContext(function(e){var a;return($receiver=s)==t||null==$receiver||(a=n(s)._home(),e.sendIdx.home=1,($receiver=a)==t||null==$receiver||r._logContext_(n(s)._home())),r},function(t){t.fill(r,"logErrorContext:",{aContext:s},e.ErrorHandler)})},args:["aContext"],source:"logErrorContext: aContext\n	aContext ifNotNil: [\n		aContext home ifNotNil: [\n			self logContext: aContext home ]]",messageSends:["ifNotNil:","home","logContext:"],referencedClasses:[]}),e.ErrorHandler),e.ErrorHandler.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@current"],($receiver=e)==t||null==$receiver?(n["@current"]=n._new(),s=n["@current"]):s=e,s},function(t){t.fill(n,"current",{},e.ErrorHandler.klass)})},args:[],source:"current\n	^ current ifNil: [ current := self new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._register(),t},function(n){n.fill(t,"initialize",{},e.ErrorHandler.klass)})},args:[],source:"initialize\n	self register",messageSends:["register"],referencedClasses:[]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"register",category:"initialization",fn:function(){function s(){return e.ErrorHandler||("undefined"==typeof ErrorHandler?t:ErrorHandler)}var r=this;return e.withContext(function(){return n(s())._setCurrent_(r._new()),r},function(t){t.fill(r,"register",{},e.ErrorHandler.klass)})},args:[],source:"register\n	ErrorHandler setCurrent: self new",messageSends:["setCurrent:","new"],referencedClasses:["ErrorHandler"]}),e.ErrorHandler.klass),e.addMethod(e.method({selector:"setCurrent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(s){s.fill(n,"setCurrent:",{anHandler:t},e.ErrorHandler.klass)})},args:["anHandler"],source:"setCurrent: anHandler\n	current := anHandler",messageSends:[],referencedClasses:[]}),e.ErrorHandler.klass)
}),define("amber_core/Kernel-Transcript",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Transcript"),e.packages["Kernel-Transcript"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ConsoleTranscript",e.Object,["textarea"],"Kernel-Transcript"),e.ConsoleTranscript.comment="I am a specific transcript emitting to the JavaScript console.\n\nIf no other transcript is registered, I am the default.",e.addMethod(e.method({selector:"clear",category:"printing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"clear",{},e.ConsoleTranscript)})},args:[],source:'clear\n	"no op"',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"cr",category:"printing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"cr",{},e.ConsoleTranscript)})},args:[],source:'cr\n	"no op"',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"open",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"open",{},e.ConsoleTranscript)})},args:[],source:"open",messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"show:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return console.log(String(n(t)._asString())),s},function(n){n.fill(s,"show:",{anObject:t},e.ConsoleTranscript)})},args:["anObject"],source:'show: anObject\n"Smalltalk objects should have no trouble displaying themselves on the Transcript; Javascript objects don\'t know how, so must be wrapped in a JSObectProxy."\n<console.log(String(_st(anObject)._asString()))>',messageSends:[],referencedClasses:[]}),e.ConsoleTranscript),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}var r=this;return e.withContext(function(){return n(s())._register_(r._new()),r},function(t){t.fill(r,"initialize",{},e.ConsoleTranscript.klass)})},args:[],source:"initialize\n	Transcript register: self new",messageSends:["register:","new"],referencedClasses:["Transcript"]}),e.ConsoleTranscript.klass),e.addClass("Transcript",e.Object,[],"Kernel-Transcript"),e.Transcript.comment="I am a facade for Transcript actions.\n\nI delegate actions to the currently registered transcript.\n\n## API\n\n    Transcript \n        show: 'hello world';\n        cr;\n        show: anObject.",e.Transcript.klass.iVarNames=["current"],e.addMethod(e.method({selector:"clear",category:"printing",fn:function(){var t=this;return e.withContext(function(){return n(t._current())._clear(),t},function(n){n.fill(t,"clear",{},e.Transcript.klass)})},args:[],source:"clear\n	self current clear",messageSends:["clear","current"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"cr",category:"printing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(){return n(r._current())._show_(n(s())._cr()),r},function(t){t.fill(r,"cr",{},e.Transcript.klass)})},args:[],source:"cr\n	self current show: String cr",messageSends:["show:","current","cr"],referencedClasses:["String"]}),e.Transcript.klass),e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@current"]},function(n){n.fill(t,"current",{},e.Transcript.klass)})},args:[],source:"current\n	^ current",messageSends:[],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"inspect:",category:"printing",fn:function(t){var n=this;return e.withContext(function(){return n._show_(t),n},function(s){s.fill(n,"inspect:",{anObject:t},e.Transcript.klass)})},args:["anObject"],source:"inspect: anObject\n	self show: anObject",messageSends:["show:"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.Transcript.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"open",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return n(t._current())._open(),t},function(n){n.fill(t,"open",{},e.Transcript.klass)})},args:[],source:"open\n	self current open",messageSends:["open","current"],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"register:",category:"instance creation",fn:function(t){var n=this;return e.withContext(function(){return n["@current"]=t,n},function(s){s.fill(n,"register:",{aTranscript:t},e.Transcript.klass)})},args:["aTranscript"],source:"register: aTranscript\n	current := aTranscript",messageSends:[],referencedClasses:[]}),e.Transcript.klass),e.addMethod(e.method({selector:"show:",category:"printing",fn:function(t){var s=this;return e.withContext(function(){return n(s._current())._show_(t),s},function(n){n.fill(s,"show:",{anObject:t},e.Transcript.klass)})},args:["anObject"],source:"show: anObject\n	self current show: anObject",messageSends:["show:","current"],referencedClasses:[]}),e.Transcript.klass)}),define("amber_core/Kernel-Announcements",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Announcements"),e.packages["Kernel-Announcements"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("AnnouncementSubscription",e.Object,["valuable","announcementClass"],"Kernel-Announcements"),e.AnnouncementSubscription.comment="I am a single entry in a subscription registry of an `Announcer`.\nSeveral subscriptions by the same object is possible.",e.addMethod(e.method({selector:"announcementClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@announcementClass"]},function(n){n.fill(t,"announcementClass",{},e.AnnouncementSubscription)})},args:[],source:"announcementClass\n	^ announcementClass",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"announcementClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@announcementClass"]=t,n},function(s){s.fill(n,"announcementClass:",{aClass:t},e.AnnouncementSubscription)})},args:["aClass"],source:"announcementClass: aClass\n	announcementClass := aClass",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"block",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return t._deprecatedAPI(),e=t._valuable()},function(n){n.fill(t,"block",{},e.AnnouncementSubscription)})},args:[],source:'block\n	"Use #valuable instead"\n	\n	self deprecatedAPI.\n	^ self valuable',messageSends:["deprecatedAPI","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"block:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._deprecatedAPI(),n._valuable_(t),n},function(s){s.fill(n,"block:",{aValuable:t},e.AnnouncementSubscription)})},args:["aValuable"],source:'block: aValuable\n	"Use #valuable instead"\n	\n	self deprecatedAPI.\n	self valuable: aValuable',messageSends:["deprecatedAPI","valuable:"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"deliver:",category:"announcing",fn:function(t){var s=this;return e.withContext(function(){var r;return r=s._handlesAnnouncement_(t),e.assert(r)&&n(s._valuable())._value_(t),s},function(n){n.fill(s,"deliver:",{anAnnouncement:t},e.AnnouncementSubscription)})},args:["anAnnouncement"],source:"deliver: anAnnouncement\n	(self handlesAnnouncement: anAnnouncement)\n		ifTrue: [ self valuable value: anAnnouncement ]",messageSends:["ifTrue:","handlesAnnouncement:","value:","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"handlesAnnouncement:",category:"announcing",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(e){var o,i,l,c;if(o=n(r())._current(),e.sendIdx.current=1,i=n(a._announcementClass())._name(),e.sendIdx.name=1,l=n(o)._at_(i),e.sendIdx["at:"]=1,($receiver=l)==t||null==$receiver)return!1;var u;return u=$receiver,c=n(n(n(r())._current())._at_(n(n(n(s)._class())._theNonMetaClass())._name()))._includesBehavior_(u)},function(t){t.fill(a,"handlesAnnouncement:",{anAnnouncement:s},e.AnnouncementSubscription)})},args:["anAnnouncement"],source:'handlesAnnouncement: anAnnouncement\n	"anAnnouncement might be announced from within another Amber environment"\n	\n	^ (Smalltalk current at: self announcementClass name)\n		ifNil: [ ^ false ]\n		ifNotNil: [ :class |\n		(Smalltalk current at: anAnnouncement class theNonMetaClass name) includesBehavior: class ]',messageSends:["ifNil:ifNotNil:","at:","current","name","announcementClass","includesBehavior:","theNonMetaClass","class"],referencedClasses:["Smalltalk"]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._valuable())._receiver()},function(n){n.fill(t,"receiver",{},e.AnnouncementSubscription)})},args:[],source:"receiver\n	^ self valuable receiver",messageSends:["receiver","valuable"],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"valuable",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@valuable"]},function(n){n.fill(t,"valuable",{},e.AnnouncementSubscription)})},args:[],source:"valuable\n	^ valuable",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addMethod(e.method({selector:"valuable:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@valuable"]=t,n},function(s){s.fill(n,"valuable:",{aValuable:t},e.AnnouncementSubscription)})},args:["aValuable"],source:"valuable: aValuable\n	valuable := aValuable",messageSends:[],referencedClasses:[]}),e.AnnouncementSubscription),e.addClass("Announcer",e.Object,["registry","subscriptions"],"Kernel-Announcements"),e.Announcer.comment="I hold annoncement subscriptions (instances of `AnnouncementSubscription`) in a private registry.\nI announce (trigger) announces, which are then dispatched to all subscriptions.\n\nThe code is based on the announcements as [described by Vassili Bykov](http://www.cincomsmalltalk.com/userblogs/vbykov/blogView?searchCategory=Announcements%20Framework).\n\n## API\n\nUse `#announce:` to trigger an announcement.\n\nUse `#on:do:` or `#on:send:to:` to register subscriptions.\n\nWhen using `#on:send:to:`, unregistration can be done with `#unregister:`.\n\n## Usage example:\n\n    SystemAnnouncer current\n        on: ClassAdded\n        do: [ :ann | window alert: ann theClass name, ' added' ].",e.addMethod(e.method({selector:"announce:",category:"announcing",fn:function(t){var s=this;return e.withContext(function(r){return n(s["@subscriptions"])._do_(function(s){return e.withContext(function(){return n(s)._deliver_(t)},function(e){e.fillBlock({each:s},r,1)})}),s},function(n){n.fill(s,"announce:",{anAnnouncement:t},e.Announcer)})},args:["anAnnouncement"],source:"announce: anAnnouncement\n	subscriptions do: [ :each |\n		each deliver: anAnnouncement ]",messageSends:["do:","deliver:"],referencedClasses:[]}),e.Announcer),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(){return e.Announcer.superclass.fn.prototype._initialize.apply(n(r),[]),r["@subscriptions"]=n(s())._new(),r},function(t){t.fill(r,"initialize",{},e.Announcer)})},args:[],source:"initialize\n	super initialize.\n	subscriptions := OrderedCollection new",messageSends:["initialize","new"],referencedClasses:["OrderedCollection"]}),e.Announcer),e.addMethod(e.method({selector:"on:do:",category:"subscribing",fn:function(s,r){function a(){return e.AnnouncementSubscription||("undefined"==typeof AnnouncementSubscription?t:AnnouncementSubscription)}var o=this;return e.withContext(function(){var e,t;return e=n(a())._new(),n(e)._valuable_(r),n(e)._announcementClass_(s),t=n(e)._yourself(),n(o["@subscriptions"])._add_(t),o},function(t){t.fill(o,"on:do:",{aClass:s,aBlock:r},e.Announcer)})},args:["aClass","aBlock"],source:"on: aClass do: aBlock\n	subscriptions add: (AnnouncementSubscription new\n		valuable: aBlock;\n		announcementClass: aClass;\n		yourself)",messageSends:["add:","valuable:","new","announcementClass:","yourself"],referencedClasses:["AnnouncementSubscription"]}),e.Announcer),e.addMethod(e.method({selector:"on:send:to:",category:"subscribing",fn:function(s,r,a){function o(){return e.AnnouncementSubscription||("undefined"==typeof AnnouncementSubscription?t:AnnouncementSubscription)}function i(){return e.MessageSend||("undefined"==typeof MessageSend?t:MessageSend)}var l=this;return e.withContext(function(e){var t,c,u,d,f,h,m,g;return t=l["@subscriptions"],c=n(o())._new(),e.sendIdx["new"]=1,u=c,d=n(i())._new(),n(d)._receiver_(a),n(d)._selector_(r),f=n(d)._yourself(),e.sendIdx.yourself=1,h=f,n(u)._valuable_(h),n(c)._announcementClass_(s),m=n(c)._yourself(),g=m,n(t)._add_(g),l},function(t){t.fill(l,"on:send:to:",{aClass:s,aSelector:r,anObject:a},e.Announcer)})},args:["aClass","aSelector","anObject"],source:"on: aClass send: aSelector to: anObject\n	subscriptions add: (AnnouncementSubscription new\n		valuable: (MessageSend new\n			receiver: anObject;\n			selector: aSelector;\n			yourself);\n		announcementClass: aClass;\n		yourself)",messageSends:["add:","valuable:","new","receiver:","selector:","yourself","announcementClass:"],referencedClasses:["AnnouncementSubscription","MessageSend"]}),e.Announcer),e.addMethod(e.method({selector:"unsubscribe:",category:"subscribing",fn:function(t){var s=this;return e.withContext(function(r){return s["@subscriptions"]=n(s["@subscriptions"])._reject_(function(s){return e.withContext(function(){return n(n(s)._receiver()).__eq(t)},function(e){e.fillBlock({each:s},r,1)})}),s},function(n){n.fill(s,"unsubscribe:",{anObject:t},e.Announcer)})},args:["anObject"],source:"unsubscribe: anObject\n	subscriptions := subscriptions reject: [ :each |\n		each receiver = anObject ]",messageSends:["reject:","=","receiver"],referencedClasses:[]}),e.Announcer),e.addClass("SystemAnnouncer",e.Announcer,[],"Kernel-Announcements"),e.SystemAnnouncer.comment="My unique instance is the global announcer handling all Amber system-related announces.\n\n## API\n\nAccess to the unique instance is done via `#current`",e.SystemAnnouncer.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var r,a;return r=s["@current"],($receiver=r)==t||null==$receiver?(s["@current"]=e.SystemAnnouncer.klass.superclass.fn.prototype._new.apply(n(s),[]),a=s["@current"]):a=r,a},function(t){t.fill(s,"current",{},e.SystemAnnouncer.klass)})},args:[],source:"current\n	^ current ifNil: [ current := super new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.SystemAnnouncer.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.SystemAnnouncer.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.SystemAnnouncer.klass),e.addClass("SystemAnnouncement",e.Object,["theClass"],"Kernel-Announcements"),e.SystemAnnouncement.comment="I am the superclass of all system announcements",e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.SystemAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.SystemAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"announcement"},function(n){n.fill(t,"heliosClass",{},e.SystemAnnouncement.klass)})},args:[],source:"heliosClass\n	^ 'announcement'",messageSends:[],referencedClasses:[]}),e.SystemAnnouncement.klass),e.addClass("ClassAnnouncement",e.SystemAnnouncement,["theClass"],"Kernel-Announcements"),e.ClassAnnouncement.comment="I am the abstract superclass of class-related announcements.",e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ClassAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ClassAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.ClassAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassAnnouncement),e.addClass("ClassAdded",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassAdded.comment="I am emitted when a class is added to the system.\nSee ClassBuilder >> #addSubclassOf:... methods",e.addClass("ClassCommentChanged",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassCommentChanged.comment="I am emitted when the comment of a class changes. (Behavior >> #comment)",e.addClass("ClassDefinitionChanged",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassDefinitionChanged.comment="I am emitted when the definition of a class changes.\nSee ClassBuilder >> #class:instanceVariableNames:",e.addClass("ClassMigrated",e.ClassAnnouncement,["oldClass"],"Kernel-Announcements"),e.ClassMigrated.comment="I am emitted when a class is migrated.",e.addMethod(e.method({selector:"oldClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldClass"]},function(n){n.fill(t,"oldClass",{},e.ClassMigrated)})},args:[],source:"oldClass\n	^ oldClass",messageSends:[],referencedClasses:[]}),e.ClassMigrated),e.addMethod(e.method({selector:"oldClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldClass"]=t,n},function(s){s.fill(n,"oldClass:",{aClass:t},e.ClassMigrated)})},args:["aClass"],source:"oldClass: aClass\n	oldClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassMigrated),e.addClass("ClassMoved",e.ClassAnnouncement,["oldPackage"],"Kernel-Announcements"),e.ClassMoved.comment="I am emitted when a class is moved from one package to another.",e.addMethod(e.method({selector:"oldPackage",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldPackage"]},function(n){n.fill(t,"oldPackage",{},e.ClassMoved)})},args:[],source:"oldPackage\n	^ oldPackage",messageSends:[],referencedClasses:[]}),e.ClassMoved),e.addMethod(e.method({selector:"oldPackage:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldPackage"]=t,n},function(s){s.fill(n,"oldPackage:",{aPackage:t},e.ClassMoved)})},args:["aPackage"],source:"oldPackage: aPackage\n	oldPackage := aPackage",messageSends:[],referencedClasses:[]}),e.ClassMoved),e.addClass("ClassRemoved",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassRemoved.comment="I am emitted when a class is removed.\nSee Smalltalk >> #removeClass:",e.addClass("ClassRenamed",e.ClassAnnouncement,[],"Kernel-Announcements"),e.ClassRenamed.comment="I am emitted when a class is renamed.\nSee ClassBuilder >> #renameClass:to:",e.addClass("MethodAnnouncement",e.SystemAnnouncement,["method"],"Kernel-Announcements"),e.MethodAnnouncement.comment="I am the abstract superclass of method-related announcements.",e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@method"]},function(n){n.fill(t,"method",{},e.MethodAnnouncement)})},args:[],source:"method\n	^ method",messageSends:[],referencedClasses:[]}),e.MethodAnnouncement),e.addMethod(e.method({selector:"method:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@method"]=t,n},function(s){s.fill(n,"method:",{aCompiledMethod:t},e.MethodAnnouncement)})},args:["aCompiledMethod"],source:"method: aCompiledMethod\n	method := aCompiledMethod",messageSends:[],referencedClasses:[]}),e.MethodAnnouncement),e.addClass("MethodAdded",e.MethodAnnouncement,[],"Kernel-Announcements"),e.MethodAdded.comment="I am emitted when a `CompiledMethod` is added to a class.",e.addClass("MethodModified",e.MethodAnnouncement,["oldMethod"],"Kernel-Announcements"),e.MethodModified.comment="I am emitted when a `CompiledMethod` is modified (a new method is installed). I hold a reference to the old method being replaced.",e.addMethod(e.method({selector:"oldMethod",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldMethod"]},function(n){n.fill(t,"oldMethod",{},e.MethodModified)})},args:[],source:"oldMethod\n	^ oldMethod",messageSends:[],referencedClasses:[]}),e.MethodModified),e.addMethod(e.method({selector:"oldMethod:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldMethod"]=t,n},function(s){s.fill(n,"oldMethod:",{aMethod:t},e.MethodModified)})},args:["aMethod"],source:"oldMethod: aMethod\n	oldMethod := aMethod",messageSends:[],referencedClasses:[]}),e.MethodModified),e.addClass("MethodMoved",e.MethodAnnouncement,["oldProtocol"],"Kernel-Announcements"),e.MethodMoved.comment="I am emitted when a `CompiledMethod` is moved to another protocol. I hold a refernce to the old protocol of the method.",e.addMethod(e.method({selector:"oldProtocol",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@oldProtocol"]},function(n){n.fill(t,"oldProtocol",{},e.MethodMoved)})},args:[],source:"oldProtocol\n	^ oldProtocol",messageSends:[],referencedClasses:[]}),e.MethodMoved),e.addMethod(e.method({selector:"oldProtocol:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@oldProtocol"]=t,n},function(s){s.fill(n,"oldProtocol:",{aString:t},e.MethodMoved)})},args:["aString"],source:"oldProtocol: aString\n	oldProtocol := aString",messageSends:[],referencedClasses:[]}),e.MethodMoved),e.addClass("MethodRemoved",e.MethodAnnouncement,[],"Kernel-Announcements"),e.MethodRemoved.comment="I am emitted when a `CompiledMethod` is removed from a class.",e.addClass("PackageAnnouncement",e.SystemAnnouncement,["package"],"Kernel-Announcements"),e.PackageAnnouncement.comment="I am the abstract superclass of package-related announcements.",e.addMethod(e.method({selector:"package",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@package"]},function(n){n.fill(t,"package",{},e.PackageAnnouncement)})},args:[],source:"package\n	^ package",messageSends:[],referencedClasses:[]}),e.PackageAnnouncement),e.addMethod(e.method({selector:"package:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@package"]=t,n},function(s){s.fill(n,"package:",{aPackage:t},e.PackageAnnouncement)})},args:["aPackage"],source:"package: aPackage\n	package := aPackage",messageSends:[],referencedClasses:[]}),e.PackageAnnouncement),e.addClass("PackageAdded",e.PackageAnnouncement,[],"Kernel-Announcements"),e.PackageAdded.comment="I am emitted when a `Package` is added to the system.",e.addClass("PackageRemoved",e.PackageAnnouncement,[],"Kernel-Announcements"),e.PackageRemoved.comment="I am emitted when a `Package` is removed from the system.",e.addClass("ProtocolAnnouncement",e.SystemAnnouncement,["theClass","protocol"],"Kernel-Announcements"),e.ProtocolAnnouncement.comment="I am the abstract superclass of protocol-related announcements.",e.addMethod(e.method({selector:"protocol",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@protocol"]},function(n){n.fill(t,"protocol",{},e.ProtocolAnnouncement)})},args:[],source:"protocol\n	^ protocol",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"protocol:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@protocol"]=t,n},function(s){s.fill(n,"protocol:",{aString:t},e.ProtocolAnnouncement)})},args:["aString"],source:"protocol: aString\n	protocol := aString",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ProtocolAnnouncement)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.ProtocolAnnouncement)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ProtocolAnnouncement),e.addClass("ProtocolAdded",e.ProtocolAnnouncement,[],"Kernel-Announcements"),e.ProtocolAdded.comment="I am emitted when a protocol is added to a class.",e.addClass("ProtocolRemoved",e.ProtocolAnnouncement,[],"Kernel-Announcements"),e.ProtocolRemoved.comment="I am emitted when a protocol is removed from a class."}),define("amber_core/Canvas",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Infrastructure","amber_core/Kernel-Methods","amber_core/Kernel-Collections"],function(e,t,n){e.addPackage("Canvas"),e.packages.Canvas.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("BrowserInterface",e.Object,[],"Canvas"),e.BrowserInterface.comment="I am platform interface class that tries to use window and jQuery; that is, one for browser environment.\n\n## API\n\n    self isAvailable. \"true if window and jQuery exist\".\n\n    self alert: 'Hey, there is a problem'.\n    self confirm: 'Affirmative?'.\n    self prompt: 'Your name:'.\n\n    self ajax: #{\n        'url' -> '/patch.js'. 'type' -> 'GET'. dataType->'script'\n    }.",e.addMethod(e.method({selector:"ajax:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(jQuery)._ajax_(t)},function(n){n.fill(s,"ajax:",{anObject:t},e.BrowserInterface)})},args:["anObject"],source:"ajax: anObject\n	^ jQuery ajax: anObject",messageSends:["ajax:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"alert:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(window)._alert_(t)},function(n){n.fill(s,"alert:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"alert: aString\n	^ window alert: aString",messageSends:["alert:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"confirm:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(window)._confirm_(t)},function(n){n.fill(s,"confirm:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"confirm: aString\n	^ window confirm: aString",messageSends:["confirm:"],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"isAvailable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return"undefined"!=typeof window&&"undefined"!=typeof jQuery},function(n){n.fill(t,"isAvailable",{},e.BrowserInterface)})},args:[],source:'isAvailable\n<return typeof window !== "undefined" && typeof jQuery !== "undefined">',messageSends:[],referencedClasses:[]}),e.BrowserInterface),e.addMethod(e.method({selector:"prompt:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(window)._prompt_(t)},function(n){n.fill(s,"prompt:",{aString:t},e.BrowserInterface)})},args:["aString"],source:"prompt: aString\n	^ window prompt: aString",messageSends:["prompt:"],referencedClasses:[]}),e.BrowserInterface),e.BrowserInterface.klass.iVarNames=["uiWorker","ajaxWorker"],e.addClass("HTMLCanvas",e.Object,["root"],"Canvas"),e.HTMLCanvas.comment="I am a canvas for building HTML.\n\nI provide the `#tag:` method to create a `TagBrush` (wrapping a DOM element) and convenience methods in the `tags` protocol.\n\n## API\n\nMy instances are used as the argument of the `#renderOn:` method of `Widget` objects.\n\nThe `#with:` method is used to compose HTML, nesting tags. `#with:` can take a `TagBrush`, a `String`, a `BlockClosure` or a `Widget` as argument.\n\n## Usage example:\n\n    aCanvas a \n        with: [ aCanvas span with: 'click me' ];\n        onClick: [ window alert: 'clicked!' ]",e.addMethod(e.method({selector:"a",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("a")},function(n){n.fill(t,"a",{},e.HTMLCanvas)})},args:[],source:"a\n	^ self tag: 'a'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"abbr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("abbr")},function(n){n.fill(t,"abbr",{},e.HTMLCanvas)})},args:[],source:"abbr\n	^ self tag: 'abbr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"address",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("address")},function(n){n.fill(t,"address",{},e.HTMLCanvas)})},args:[],source:"address\n	^ self tag: 'address'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"area",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("area")},function(n){n.fill(t,"area",{},e.HTMLCanvas)})},args:[],source:"area\n	^ self tag: 'area'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"article",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("article")},function(n){n.fill(t,"article",{},e.HTMLCanvas)})},args:[],source:"article\n	^ self tag: 'article'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"aside",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("aside")},function(n){n.fill(t,"aside",{},e.HTMLCanvas)})},args:[],source:"aside\n	^ self tag: 'aside'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"audio",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("audio")},function(n){n.fill(t,"audio",{},e.HTMLCanvas)})},args:[],source:"audio\n	^ self tag: 'audio'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"base",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("base")},function(n){n.fill(t,"base",{},e.HTMLCanvas)})},args:[],source:"base\n	^ self tag: 'base'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"blockquote",category:"tags",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t._tag_("blockquote")},function(n){n.fill(t,"blockquote",{},e.HTMLCanvas)})},args:[],source:"blockquote\n	^ self tag: 'blockquote'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"body",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("body")},function(n){n.fill(t,"body",{},e.HTMLCanvas)})},args:[],source:"body\n	^ self tag: 'body'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"br",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("br")},function(n){n.fill(t,"br",{},e.HTMLCanvas)})},args:[],source:"br\n	^ self tag: 'br'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"button",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("button")},function(n){n.fill(t,"button",{},e.HTMLCanvas)})},args:[],source:"button\n	^ self tag: 'button'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"canvas",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("canvas")},function(n){n.fill(t,"canvas",{},e.HTMLCanvas)})},args:[],source:"canvas\n	^ self tag: 'canvas'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"caption",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("caption")},function(n){n.fill(t,"caption",{},e.HTMLCanvas)})},args:[],source:"caption\n	^ self tag: 'caption'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"cite",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("cite")},function(n){n.fill(t,"cite",{},e.HTMLCanvas)})},args:[],source:"cite\n	^ self tag: 'cite'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"code",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("code")},function(n){n.fill(t,"code",{},e.HTMLCanvas)})},args:[],source:"code\n	^ self tag: 'code'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"col",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("col")},function(n){n.fill(t,"col",{},e.HTMLCanvas)})},args:[],source:"col\n	^ self tag: 'col'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"colgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("colgroup")},function(n){n.fill(t,"colgroup",{},e.HTMLCanvas)})},args:[],source:"colgroup\n	^ self tag: 'colgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"command",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("command")},function(n){n.fill(t,"command",{},e.HTMLCanvas)})},args:[],source:"command\n	^ self tag: 'command'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"datalist",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("datalist")},function(n){n.fill(t,"datalist",{},e.HTMLCanvas)})},args:[],source:"datalist\n	^ self tag: 'datalist'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dd",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dd")},function(n){n.fill(t,"dd",{},e.HTMLCanvas)})},args:[],source:"dd\n	^ self tag: 'dd'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"del",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("del")},function(n){n.fill(t,"del",{},e.HTMLCanvas)})},args:[],source:"del\n	^ self tag: 'del'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"details",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("details")},function(n){n.fill(t,"details",{},e.HTMLCanvas)})},args:[],source:"details\n	^ self tag: 'details'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"div",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("div")},function(n){n.fill(t,"div",{},e.HTMLCanvas)})},args:[],source:"div\n	^ self tag: 'div'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"div:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._div())._with_(t)},function(n){n.fill(s,"div:",{aBlock:t},e.HTMLCanvas)})},args:["aBlock"],source:"div: aBlock\n	^ self div with: aBlock",messageSends:["with:","div"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dl",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dl")},function(n){n.fill(t,"dl",{},e.HTMLCanvas)})},args:[],source:"dl\n	^ self tag: 'dl'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"dt",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("dt")},function(n){n.fill(t,"dt",{},e.HTMLCanvas)})},args:[],source:"dt\n	^ self tag: 'dt'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"em",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("em")},function(n){n.fill(t,"em",{},e.HTMLCanvas)})},args:[],source:"em\n	^ self tag: 'em'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"embed",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("embed")},function(n){n.fill(t,"embed",{},e.HTMLCanvas)})},args:[],source:"embed\n	^ self tag: 'embed'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"entity:",category:"adding",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l,c,u;return o="<span />"._asJQuery(),i="&".__comma(t),a.sendIdx[","]=2,l=n(i).__comma(";"),a.sendIdx[","]=1,c=n(o)._html_(l),s=n(c)._text(),u=n(n(s)._size()).__eq(1),e.assert(u)||r._error_("Not an HTML entity: ".__comma(t)),r._with_(s),r},function(n){n.fill(r,"entity:",{aString:t,result:s},e.HTMLCanvas)})},args:["aString"],source:"entity: aString\n	\"Adds a character representing html entity, eg.\n	html entity: 'copy'\n	adds a copyright sign.\n	If a name does not represent valid HTML entity, error is raised.\"\n	| result |\n	result := ('<span />' asJQuery html: '&', aString, ';') text.\n	result size = 1 ifFalse: [ self error: 'Not an HTML entity: ', aString ].\n	self with: result",messageSends:["text","html:","asJQuery",",","ifFalse:","=","size","error:","with:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"fieldset",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("fieldset")},function(n){n.fill(t,"fieldset",{},e.HTMLCanvas)})},args:[],source:"fieldset\n	^ self tag: 'fieldset'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"figcaption",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("figcaption")},function(n){n.fill(t,"figcaption",{},e.HTMLCanvas)})},args:[],source:"figcaption\n	^ self tag: 'figcaption'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"figure",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("figure")},function(n){n.fill(t,"figure",{},e.HTMLCanvas)})},args:[],source:"figure\n	^ self tag: 'figure'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"footer",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("footer")},function(n){n.fill(t,"footer",{},e.HTMLCanvas)})},args:[],source:"footer\n	^ self tag: 'footer'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"form",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("form")},function(n){n.fill(t,"form",{},e.HTMLCanvas)})},args:[],source:"form\n	^ self tag: 'form'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h1",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h1")},function(n){n.fill(t,"h1",{},e.HTMLCanvas)})},args:[],source:"h1\n	^ self tag: 'h1'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h1:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h1())._with_(t)},function(n){n.fill(s,"h1:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h1: anObject\n	^ self h1 with: anObject",messageSends:["with:","h1"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h2",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h2")},function(n){n.fill(t,"h2",{},e.HTMLCanvas)})},args:[],source:"h2\n	^ self tag: 'h2'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h2:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h2())._with_(t)},function(n){n.fill(s,"h2:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h2: anObject\n	^ self h2 with: anObject",messageSends:["with:","h2"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h3",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h3")},function(n){n.fill(t,"h3",{},e.HTMLCanvas)})},args:[],source:"h3\n	^ self tag: 'h3'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h3:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h3())._with_(t)},function(n){n.fill(s,"h3:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h3: anObject\n	^ self h3 with: anObject",messageSends:["with:","h3"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h4",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h4")},function(n){n.fill(t,"h4",{},e.HTMLCanvas)})},args:[],source:"h4\n	^ self tag: 'h4'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h4:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h4())._with_(t)},function(n){n.fill(s,"h4:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h4: anObject\n	^ self h4 with: anObject",messageSends:["with:","h4"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h5",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h5")},function(n){n.fill(t,"h5",{},e.HTMLCanvas)})},args:[],source:"h5\n	^ self tag: 'h5'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h5:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h5())._with_(t)},function(n){n.fill(s,"h5:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h5: anObject\n	^ self h5 with: anObject",messageSends:["with:","h5"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h6",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("h6")},function(n){n.fill(t,"h6",{},e.HTMLCanvas)})},args:[],source:"h6\n	^ self tag: 'h6'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"h6:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._h6())._with_(t)},function(n){n.fill(s,"h6:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"h6: anObject\n	^ self h6 with: anObject",messageSends:["with:","h6"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"head",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("head")},function(n){n.fill(t,"head",{},e.HTMLCanvas)})},args:[],source:"head\n	^ self tag: 'head'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"header",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("header")},function(n){n.fill(t,"header",{},e.HTMLCanvas)})},args:[],source:"header\n	^ self tag: 'header'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"hgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("hgroup")},function(n){n.fill(t,"hgroup",{},e.HTMLCanvas)})},args:[],source:"hgroup\n	^ self tag: 'hgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"hr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("hr")},function(n){n.fill(t,"hr",{},e.HTMLCanvas)})},args:[],source:"hr\n	^ self tag: 'hr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"html",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("html")},function(n){n.fill(t,"html",{},e.HTMLCanvas)})},args:[],source:"html\n	^ self tag: 'html'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"iframe",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("iframe")},function(n){n.fill(t,"iframe",{},e.HTMLCanvas)})},args:[],source:"iframe\n	^ self tag: 'iframe'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"iframe:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._iframe())._src_(t)},function(n){n.fill(s,"iframe:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"iframe: aString\n	^ self iframe src: aString",messageSends:["src:","iframe"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"img",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("img")},function(n){n.fill(t,"img",{},e.HTMLCanvas)})},args:[],source:"img\n	^ self tag: 'img'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"img:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._img())._src_(t)},function(n){n.fill(s,"img:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"img: aString\n	^ self img src: aString",messageSends:["src:","img"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var r=this;return e.withContext(function(){var a;return e.HTMLCanvas.superclass.fn.prototype._initialize.apply(n(r),[]),a=r["@root"],(($receiver=a)==t||null==$receiver)&&(r["@root"]=n(s())._fromString_canvas_("div",r),r["@root"]),r},function(t){t.fill(r,"initialize",{},e.HTMLCanvas)})},args:[],source:"initialize\n	super initialize.\n	root ifNil: [ root := TagBrush fromString: 'div' canvas: self ]",messageSends:["initialize","ifNil:","fromString:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"initializeFromJQuery:",category:"initialization",fn:function(s){function r(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var a=this;return e.withContext(function(){return a["@root"]=n(r())._fromJQuery_canvas_(s,a),a},function(t){t.fill(a,"initializeFromJQuery:",{aJQuery:s},e.HTMLCanvas)})},args:["aJQuery"],source:"initializeFromJQuery: aJQuery\n	root := TagBrush fromJQuery: aJQuery canvas: self",messageSends:["fromJQuery:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"input",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("input")},function(n){n.fill(t,"input",{},e.HTMLCanvas)})},args:[],source:"input\n	^ self tag: 'input'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"label",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("label")},function(n){n.fill(t,"label",{},e.HTMLCanvas)})},args:[],source:"label\n	^ self tag: 'label'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"legend",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("legend")},function(n){n.fill(t,"legend",{},e.HTMLCanvas)})},args:[],source:"legend\n	^ self tag: 'legend'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"li",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("li")},function(n){n.fill(t,"li",{},e.HTMLCanvas)})},args:[],source:"li\n	^ self tag: 'li'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"li:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._li())._with_(t)},function(n){n.fill(s,"li:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"li: anObject\n	^ self li with: anObject",messageSends:["with:","li"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"link",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("link")},function(n){n.fill(t,"link",{},e.HTMLCanvas)})},args:[],source:"link\n	^ self tag: 'link'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"map",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("map")},function(n){n.fill(t,"map",{},e.HTMLCanvas)})},args:[],source:"map\n	^ self tag: 'map'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"mark",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("mark")},function(n){n.fill(t,"mark",{},e.HTMLCanvas)})},args:[],source:"mark\n	^ self tag: 'mark'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"menu",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("menu")},function(n){n.fill(t,"menu",{},e.HTMLCanvas)})},args:[],source:"menu\n	^ self tag: 'menu'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"meta",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("meta")},function(n){n.fill(t,"meta",{},e.HTMLCanvas)})},args:[],source:"meta\n	^ self tag: 'meta'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"nav",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("nav")},function(n){n.fill(t,"nav",{},e.HTMLCanvas)})},args:[],source:"nav\n	^ self tag: 'nav'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"newTag:",category:"tags",fn:function(s){function r(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var a=this;return e.withContext(function(){var e;return e=n(r())._fromString_canvas_(s,a)},function(t){t.fill(a,"newTag:",{aString:s},e.HTMLCanvas)})},args:["aString"],source:"newTag: aString\n	^ TagBrush fromString: aString canvas: self",messageSends:["fromString:canvas:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"noscript",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("noscript")},function(n){n.fill(t,"noscript",{},e.HTMLCanvas)})},args:[],source:"noscript\n	^ self tag: 'noscript'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"object",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("object")},function(n){n.fill(t,"object",{},e.HTMLCanvas)})},args:[],source:"object\n	^ self tag: 'object'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ol",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("ol")},function(n){n.fill(t,"ol",{},e.HTMLCanvas)})},args:[],source:"ol\n	^ self tag: 'ol'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ol:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._ol())._with_(t)},function(n){n.fill(s,"ol:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"ol: anObject\n	^ self ol with: anObject",messageSends:["with:","ol"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"optgroup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("optgroup")},function(n){n.fill(t,"optgroup",{},e.HTMLCanvas)})},args:[],source:"optgroup\n	^ self tag: 'optgroup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"option",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("option")},function(n){n.fill(t,"option",{},e.HTMLCanvas)})},args:[],source:"option\n	^ self tag: 'option'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"output",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("output")},function(n){n.fill(t,"output",{},e.HTMLCanvas)})},args:[],source:"output\n	^ self tag: 'output'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"p",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("p")},function(n){n.fill(t,"p",{},e.HTMLCanvas)})},args:[],source:"p\n	^ self tag: 'p'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"p:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._p())._with_(t)},function(n){n.fill(s,"p:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"p: anObject\n	^ self p with: anObject",messageSends:["with:","p"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"param",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("param")},function(n){n.fill(t,"param",{},e.HTMLCanvas)})},args:[],source:"param\n	^ self tag: 'param'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"pre",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("pre")},function(n){n.fill(t,"pre",{},e.HTMLCanvas)})},args:[],source:"pre\n	^ self tag: 'pre'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"progress",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("progress")},function(n){n.fill(t,"progress",{},e.HTMLCanvas)})},args:[],source:"progress\n	^ self tag: 'progress'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"root",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@root"]},function(n){n.fill(t,"root",{},e.HTMLCanvas)})},args:[],source:"root\n	^ root",messageSends:[],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"root:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@root"]=t,n},function(s){s.fill(n,"root:",{aTagBrush:t},e.HTMLCanvas)})},args:["aTagBrush"],source:"root: aTagBrush\n	root := aTagBrush",messageSends:[],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"script",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("script")},function(n){n.fill(t,"script",{},e.HTMLCanvas)})},args:[],source:"script\n	^ self tag: 'script'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"section",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("section")},function(n){n.fill(t,"section",{},e.HTMLCanvas)})},args:[],source:"section\n	^ self tag: 'section'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"select",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("select")},function(n){n.fill(t,"select",{},e.HTMLCanvas)})},args:[],source:"select\n	^ self tag: 'select'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"small",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("small")},function(n){n.fill(t,"small",{},e.HTMLCanvas)})},args:[],source:"small\n	^ self tag: 'small'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"snippet:",category:"accessing",fn:function(s){function r(){return e.TagBrush||("undefined"==typeof TagBrush?t:TagBrush)}var a,o,i=this;return e.withContext(function(t){var l,c,u;return a=n(n(s)._asJQuery())._clone(),l=n(r())._fromJQuery_canvas_(a,i),t.sendIdx["fromJQuery:canvas:"]=1,i._with_(l),o=n(a)._find_('[data-snippet="*"]'),c=n(n(o)._toArray())._isEmpty(),e.assert(c)&&(o=a),u=n(r())._fromJQuery_canvas_(n(o)._removeAttr_("data-snippet"),i)},function(t){t.fill(i,"snippet:",{anElement:s,clone:a,caret:o},e.HTMLCanvas)})},args:["anElement"],source:'snippet: anElement\n	"Adds clone of anElement, finds [data-snippet=""*""] subelement\n	and returns TagBrush as if that subelement was just added.\n	\n	Rarely needed to use directly, use `html foo` dynamically installed method\n	for a snippet named foo."\n	\n	| clone caret |\n	\n	clone := anElement asJQuery clone.\n	self with: (TagBrush fromJQuery: clone canvas: self).\n	caret := clone find: \'[data-snippet="*"]\'.\n	caret toArray isEmpty ifTrue: [ caret := clone ].\n	^ TagBrush fromJQuery: (caret removeAttr: \'data-snippet\') canvas: self',messageSends:["clone","asJQuery","with:","fromJQuery:canvas:","find:","ifTrue:","isEmpty","toArray","removeAttr:"],referencedClasses:["TagBrush"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"source",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("source")},function(n){n.fill(t,"source",{},e.HTMLCanvas)})},args:[],source:"source\n	^ self tag: 'source'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"span",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("span")},function(n){n.fill(t,"span",{},e.HTMLCanvas)})},args:[],source:"span\n	^ self tag: 'span'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"span:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._span())._with_(t)},function(n){n.fill(s,"span:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"span: anObject\n	^ self span with: anObject",messageSends:["with:","span"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"strong",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("strong")},function(n){n.fill(t,"strong",{},e.HTMLCanvas)})},args:[],source:"strong\n	^ self tag: 'strong'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"strong:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._strong())._with_(t)},function(n){n.fill(s,"strong:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"strong: anObject\n	^ self strong with: anObject",messageSends:["with:","strong"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"style",category:"tags",fn:function(){function s(){return e.StyleTag||("undefined"==typeof StyleTag?t:StyleTag)}var r=this;return e.withContext(function(){var e;return e=n(r["@root"])._addBrush_(n(s())._canvas_(r))},function(t){t.fill(r,"style",{},e.HTMLCanvas)})},args:[],source:"style\n	^ root addBrush: (StyleTag canvas: self)",messageSends:["addBrush:","canvas:"],referencedClasses:["StyleTag"]}),e.HTMLCanvas),e.addMethod(e.method({selector:"style:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._style(),n(e)._with_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"style:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"style: aString\n	^ self style with: aString; yourself",messageSends:["with:","style","yourself"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"sub",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("sub")},function(n){n.fill(t,"sub",{},e.HTMLCanvas)})},args:[],source:"sub\n	^ self tag: 'sub'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"summary",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("summary")},function(n){n.fill(t,"summary",{},e.HTMLCanvas)})},args:[],source:"summary\n	^ self tag: 'summary'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"sup",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("sup")},function(n){n.fill(t,"sup",{},e.HTMLCanvas)})},args:[],source:"sup\n	^ self tag: 'sup'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"table",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("table")},function(n){n.fill(t,"table",{},e.HTMLCanvas)})},args:[],source:"table\n	^ self tag: 'table'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tag:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@root"])._addBrush_(s._newTag_(t))},function(n){n.fill(s,"tag:",{aString:t},e.HTMLCanvas)})},args:["aString"],source:"tag: aString\n	^ root addBrush: (self newTag: aString)",messageSends:["addBrush:","newTag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tbody",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tbody")},function(n){n.fill(t,"tbody",{},e.HTMLCanvas)})},args:[],source:"tbody\n	^ self tag: 'tbody'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"td",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("td")},function(n){n.fill(t,"td",{},e.HTMLCanvas)})},args:[],source:"td\n	^ self tag: 'td'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"textarea",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("textarea")},function(n){n.fill(t,"textarea",{},e.HTMLCanvas)})},args:[],source:"textarea\n	^ self tag: 'textarea'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tfoot",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tfoot")},function(n){n.fill(t,"tfoot",{},e.HTMLCanvas)})},args:[],source:"tfoot\n	^ self tag: 'tfoot'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"th",category:"tags",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t._tag_("th")},function(n){n.fill(t,"th",{},e.HTMLCanvas)})},args:[],source:"th\n	^ self tag: 'th'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"thead",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("thead")},function(n){n.fill(t,"thead",{},e.HTMLCanvas)})},args:[],source:"thead\n	^ self tag: 'thead'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"time",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("time")},function(n){n.fill(t,"time",{},e.HTMLCanvas)})},args:[],source:"time\n	^ self tag: 'time'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"title",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("title")},function(n){n.fill(t,"title",{},e.HTMLCanvas)})},args:[],source:"title\n	^ self tag: 'title'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"tr",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("tr")},function(n){n.fill(t,"tr",{},e.HTMLCanvas)})},args:[],source:"tr\n	^ self tag: 'tr'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ul",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("ul")},function(n){n.fill(t,"ul",{},e.HTMLCanvas)})},args:[],source:"ul\n	^ self tag: 'ul'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"ul:",category:"tags",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._ul())._with_(t)},function(n){n.fill(s,"ul:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"ul: anObject\n	^ self ul with: anObject",messageSends:["with:","ul"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"video",category:"tags",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._tag_("video")},function(n){n.fill(t,"video",{},e.HTMLCanvas)})},args:[],source:"video\n	^ self tag: 'video'",messageSends:["tag:"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"with:",category:"adding",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._root())._with_(t)},function(n){n.fill(s,"with:",{anObject:t},e.HTMLCanvas)})},args:["anObject"],source:"with: anObject\n	^ self root with: anObject",messageSends:["with:","root"],referencedClasses:[]}),e.HTMLCanvas),e.addMethod(e.method({selector:"browserVersion",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(jQuery)._at_("browser"))._version()},function(n){n.fill(t,"browserVersion",{},e.HTMLCanvas.klass)})},args:[],source:"browserVersion\n	^ (jQuery at: #browser) version",messageSends:["version","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isMSIE",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,s;return t=n(n(jQuery)._at_("browser"))._at_("msie"),e.sendIdx["at:"]=1,s=n(t)._notNil()},function(n){n.fill(t,"isMSIE",{},e.HTMLCanvas.klass)})},args:[],source:"isMSIE\n	^ ((jQuery at: #browser) at: #msie) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isMozilla",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,s;return t=n(n(jQuery)._at_("browser"))._at_("mozilla"),e.sendIdx["at:"]=1,s=n(t)._notNil()},function(n){n.fill(t,"isMozilla",{},e.HTMLCanvas.klass)})},args:[],source:"isMozilla\n	^ ((jQuery at: #browser) at: #mozilla) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isOpera",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,s;return t=n(n(jQuery)._at_("browser"))._at_("opera"),e.sendIdx["at:"]=1,s=n(t)._notNil()},function(n){n.fill(t,"isOpera",{},e.HTMLCanvas.klass)})},args:[],source:"isOpera\n	^ ((jQuery at: #browser) at: #opera) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"isWebkit",category:"instance creation",fn:function(){var t=this;return e.withContext(function(e){var t,s;return t=n(n(jQuery)._at_("browser"))._at_("webkit"),e.sendIdx["at:"]=1,s=n(t)._notNil()},function(n){n.fill(t,"isWebkit",{},e.HTMLCanvas.klass)})},args:[],source:"isWebkit\n	^ ((jQuery at: #browser) at: #webkit) notNil",messageSends:["notNil","at:"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addMethod(e.method({selector:"onJQuery:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._basicNew(),n(e)._initializeFromJQuery_(t),n(e)._initialize(),r=n(e)._yourself(),a=r},function(n){n.fill(s,"onJQuery:",{aJQuery:t},e.HTMLCanvas.klass)})},args:["aJQuery"],source:"onJQuery: aJQuery\n	^ self basicNew\n		initializeFromJQuery: aJQuery;\n		initialize;\n		yourself",messageSends:["initializeFromJQuery:","basicNew","initialize","yourself"],referencedClasses:[]}),e.HTMLCanvas.klass),e.addClass("HTMLSnippet",e.Object,["snippets"],"Canvas"),e.HTMLSnippet.comment="My sole instance is the registry of html snippets.\n`HTMLSnippet current` is the public singleton instance.\n\nOn startup, it scans the document for any html elements\nwith `'data-snippet=\"foo\"'` attribute and takes them off the document,\nremembering them in the store under the specified name.\nIt also install method #foo into HTMLCanvas dynamically.\n\nEvery html snippet should mark a 'caret', a place where contents\ncan be inserted, by 'data-snippet=\"*\"' (a special name for caret).\nFor example:\n\n`<li data-snippet='menuelement' class='...'><a data-snippet='*'></a></li>`\n\ndefines a list element with a link inside; the link itself is marked as a caret.\n\nYou can later issue\n\n`html menuelement href: '/foo'; with: 'A foo'`\n\nto insert the whole snippet and directly manipulate the caret, so it renders:\n\n`<li class='...'><a href='/foo'>A foo</a></li>`\n\nFor a self-careting tags (not very useful, but you do not need to fill class etc.\nyou can use\n\n`<div class='lots of classes' attr1='one' attr2='two' data-snippet='*bar'></div>`\n\nand in code later do:\n\n`html bar with: [ xxx ]`\n\nto render\n\n`<div class='lots of classes' attr1='one' attr2='two'>...added by xxx...</div>`",e.addMethod(e.method({selector:"initializeFromJQuery:",category:"initialization",fn:function(t){var s=this;return e.withContext(function(r){return n(s._snippetsFromJQuery_(t))._do_(function(t){return e.withContext(function(){return s._installSnippetFromJQuery_(n(t)._asJQuery())},function(e){e.fillBlock({each:t},r,1)})}),s},function(n){n.fill(s,"initializeFromJQuery:",{aJQuery:t},e.HTMLSnippet)})},args:["aJQuery"],source:'initializeFromJQuery: aJQuery\n	"Finds and takes out all snippets out of aJQuery.\n	Installs it into self."\n	\n	(self snippetsFromJQuery: aJQuery) do: [ :each |\n		self installSnippetFromJQuery: each asJQuery ]',messageSends:["do:","snippetsFromJQuery:","installSnippetFromJQuery:","asJQuery"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"installSnippetFromJQuery:",category:"snippet installation",fn:function(t){var s,r=this;return e.withContext(function(){var a,o;return s=n(t)._attr_("data-snippet"),a=n(s).__eq("*"),e.assert(a)||(o=n("^\\*"._asRegexp())._test_(s),e.assert(o)?(s=n(s)._allButFirst(),n(t)._attr_put_("data-snippet","*")):n(t)._removeAttr_("data-snippet"),r._snippetAt_install_(s,n(n(t)._detach())._get_(0))),r},function(n){n.fill(r,"installSnippetFromJQuery:",{element:t,name:s},e.HTMLSnippet)})},args:["element"],source:"installSnippetFromJQuery: element\n	| name |\n	name := element attr: 'data-snippet'.\n	name = '*' ifFalse: [\n		('^\\*' asRegexp test: name)\n			ifTrue: [\n				name := name allButFirst.\n				element attr: 'data-snippet' put: '*' ]\n			ifFalse: [\n				element removeAttr: 'data-snippet' ].\n		self snippetAt: name install: (element detach get: 0) ]",messageSends:["attr:","ifFalse:","=","ifTrue:ifFalse:","test:","asRegexp","allButFirst","attr:put:","removeAttr:","snippetAt:install:","get:","detach"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._snippets())._at_(t)},function(n){n.fill(s,"snippetAt:",{aString:t},e.HTMLSnippet)})},args:["aString"],source:"snippetAt: aString\n	^ self snippets at: aString",messageSends:["at:","snippets"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:compile:",category:"method generation",fn:function(s,r){function a(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}function o(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var i=this;return e.withContext(function(t){return n(n(a())._new())._installMethod_forClass_category_(n(n(function(s){return e.withContext(function(){return n(s)._snippet_(r)},function(e){e.fillBlock({htmlReceiver:s},t,1)})})._currySelf())._asCompiledMethod_(s),o(),"**snippets"),i},function(t){t.fill(i,"snippetAt:compile:",{aString:s,anElement:r},e.HTMLSnippet)})},args:["aString","anElement"],source:"snippetAt: aString compile: anElement\n	\"Method generation for the snippet.\n	The selector is aString, the method block uses anElement\"\n	\n	ClassBuilder new\n		installMethod: ([ :htmlReceiver | htmlReceiver snippet: anElement ]\n			currySelf asCompiledMethod: aString)\n		forClass: HTMLCanvas\n		category: '**snippets'",messageSends:["installMethod:forClass:category:","new","asCompiledMethod:","currySelf","snippet:"],referencedClasses:["ClassBuilder","HTMLCanvas"]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetAt:install:",category:"snippet installation",fn:function(t,s){var r=this;return e.withContext(function(){return n(r._snippets())._at_put_(t,s),r._snippetAt_compile_(t,s),r},function(n){n.fill(r,"snippetAt:install:",{aString:t,anElement:s},e.HTMLSnippet)})},args:["aString","anElement"],source:"snippetAt: aString install: anElement\n	self snippets at: aString put: anElement.\n	self snippetAt: aString compile: anElement",messageSends:["at:put:","snippets","snippetAt:compile:"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippets",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var s,r;return s=n["@snippets"],($receiver=s)==t||null==$receiver?(n["@snippets"]=e.HashedCollection._from_([]),r=n["@snippets"]):r=s,r},function(t){t.fill(n,"snippets",{},e.HTMLSnippet)})},args:[],source:"snippets\n	^ snippets ifNil: [ snippets := #{} ]",messageSends:["ifNil:"],referencedClasses:[]}),e.HTMLSnippet),e.addMethod(e.method({selector:"snippetsFromJQuery:",category:"private",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(n(t)._find_("[data-snippet]"))._toArray()},function(n){n.fill(s,"snippetsFromJQuery:",{aJQuery:t},e.HTMLSnippet)})},args:["aJQuery"],source:"snippetsFromJQuery: aJQuery\n	^ (aJQuery find: '[data-snippet]') toArray",messageSends:["toArray","find:"],referencedClasses:[]}),e.HTMLSnippet),e.HTMLSnippet.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@current"]},function(n){n.fill(t,"current",{},e.HTMLSnippet.klass)})},args:[],source:"current\n	^ current",messageSends:[],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"ensureCurrent",category:"initialization",fn:function(){var s=this;return e.withContext(function(){var r,a,o;return r=s["@current"],(($receiver=r)==t||null==$receiver)&&(a=e.HTMLSnippet.klass.superclass.fn.prototype._new.apply(n(s),[]),n(a)._initializeFromJQuery_(n(document)._asJQuery()),o=n(a)._yourself(),s["@current"]=o,s["@current"]),s},function(t){t.fill(s,"ensureCurrent",{},e.HTMLSnippet.klass)})},args:[],source:"ensureCurrent\n	current ifNil: [\n		current := super new\n			initializeFromJQuery: document asJQuery;\n			yourself ]",messageSends:["ifNil:","initializeFromJQuery:","new","asJQuery","yourself"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){var s;return e.HTMLSnippet.klass.superclass.fn.prototype._initialize.apply(n(t),[]),s=t._isDOMAvailable(),e.assert(s)&&t._ensureCurrent(),t},function(n){n.fill(t,"initialize",{},e.HTMLSnippet.klass)})},args:[],source:"initialize\n	super initialize.\n	self isDOMAvailable ifTrue: [\n		self ensureCurrent ]",messageSends:["initialize","ifTrue:","isDOMAvailable","ensureCurrent"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"isDOMAvailable",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return"undefined"!=typeof document},function(n){n.fill(t,"isDOMAvailable",{},e.HTMLSnippet.klass)})},args:[],source:"isDOMAvailable\n	< return typeof document !== 'undefined' >",messageSends:[],referencedClasses:[]}),e.HTMLSnippet.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.HTMLSnippet.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.HTMLSnippet.klass),e.addClass("TagBrush",e.Object,["canvas","element"],"Canvas"),e.TagBrush.comment="I am a brush for building a single DOM element (which I hold onto).\n\nAll tags but `<style>` are instances of me (see the `StyleBrush` class).\n\n## API\n\n1. Nesting\n\n    Use `#with:` to nest tags. `#with:` can take aString, `TagBrush` instance, a `Widget` or block closure as parameter.\n\n    Example: `aTag with: aString with: aCanvas div`\n\n2. Events\n\n    The `events` protocol contains all methods related to events (delegating event handling to jQuery).\n\n    Example: `aTag onClick: [ window alert: 'clicked' ]`\n\n3. Attributes\n\n    The `attribute` protocol contains methods for attribute manipulation (delegating to jQuery too).\n\n    Example: `aTag at: 'value' put: 'hello world'`\n\n4. Raw access and jQuery\n\n    The `#element` method can be used to access to JavaScript DOM element object.\n\n    Example: `aTag element cssStyle`\n\n    Use `#asJQuery` to access to the receiver converted into a jQuery object.\n\n    Example: `aTag asJQuery css: 'color' value: 'red'`",e.addMethod(e.method({selector:"accesskey:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("accesskey",t),n},function(s){s.fill(n,"accesskey:",{aString:t},e.TagBrush)})},args:["aString"],source:"accesskey: aString\n	self at: 'accesskey' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"action:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("action",t),n},function(s){s.fill(n,"action:",{aString:t},e.TagBrush)})},args:["aString"],source:"action: aString\n	self at: 'action' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"addBrush:",category:"adding",fn:function(t){var s=this;return e.withContext(function(){return s._appendChild_(n(t)._element()),t},function(n){n.fill(s,"addBrush:",{aTagBrush:t},e.TagBrush)})},args:["aTagBrush"],source:"addBrush: aTagBrush\n	self appendChild: aTagBrush element.\n	^ aTagBrush",messageSends:["appendChild:","element"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"align:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("align",t),n},function(s){s.fill(n,"align:",{aString:t},e.TagBrush)})},args:["aString"],source:"align: aString\n	self at: 'align' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"alt:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("alt",t),n},function(s){s.fill(n,"alt:",{aString:t},e.TagBrush)})},args:["aString"],source:"alt: aString\n	self at: 'alt' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"append:",category:"adding",fn:function(t){var s=this;return e.withContext(function(){return n(t)._appendToBrush_(s),s},function(n){n.fill(s,"append:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"append: anObject\n	anObject appendToBrush: self",messageSends:["appendToBrush:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendBlock:",category:"adding",fn:function(t){var s,r=this;return e.withContext(function(e){return s=n(r["@canvas"])._root(),n(r["@canvas"])._root_(r),e.sendIdx["root:"]=1,n(t)._value_(r["@canvas"]),n(r["@canvas"])._root_(s),r},function(n){n.fill(r,"appendBlock:",{aBlock:t,root:s},e.TagBrush)})},args:["aBlock"],source:"appendBlock: aBlock\n	| root |\n	root := canvas root.\n	canvas root: self.\n	aBlock value: canvas.\n	canvas root: root",messageSends:["root","root:","value:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendChild:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){var e=n["@element"];return null==e.canHaveChildren||e.canHaveChildren?e.appendChild(t):e.text=String(e.text)+t.innerHTML,n},function(s){s.fill(n,"appendChild:",{anElement:t},e.TagBrush)})},args:["anElement"],source:"appendChild: anElement\n	\"In IE7 and IE8 appendChild fails on several node types. So we need to check\"\n	<var element=self['@element'];\n	if (null == element.canHaveChildren || element.canHaveChildren) {\n		element.appendChild(anElement);\n	} else {\n		element.text = String(element.text) + anElement.innerHTML;\n	} >",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendDocumentFragment:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].appendChild(t["@element"]),n},function(s){s.fill(n,"appendDocumentFragment:",{anElement:t},e.TagBrush)})},args:["anElement"],source:"appendDocumentFragment: anElement\n	<var element=self['@element'].appendChild(anElement[\"@element\"])>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendString:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){return n._appendChild_(n._createTextNodeFor_(t)),n},function(s){s.fill(n,"appendString:",{aString:t},e.TagBrush)})},args:["aString"],source:"appendString: aString\n	self appendChild: (self createTextNodeFor: aString)",messageSends:["appendChild:","createTextNodeFor:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"appendToBrush:",category:"adding",fn:function(t){var s=this;return e.withContext(function(){return n(t)._addBrush_(s),s},function(n){n.fill(s,"appendToBrush:",{aTagBrush:t},e.TagBrush)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush addBrush: self",messageSends:["addBrush:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"asJQuery",category:"converting",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._element())._asJQuery()},function(n){n.fill(t,"asJQuery",{},e.TagBrush)})},args:[],source:"asJQuery\n	^ self element asJQuery",messageSends:["asJQuery","element"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"at:put:",category:"attributes",fn:function(t,n){var s=this;return e.withContext(function(){return s["@element"].setAttribute(t,n),s},function(r){r.fill(s,"at:put:",{aString:t,aValue:n},e.TagBrush)})},args:["aString","aValue"],source:"at: aString put: aValue\n	<self['@element'].setAttribute(aString, aValue)>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"class:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].className=t,n},function(s){s.fill(n,"class:",{aString:t},e.TagBrush)})},args:["aString"],source:"class: aString\n	<self['@element'].className = aString>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"cols:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("cols",t),n},function(s){s.fill(n,"cols:",{aString:t},e.TagBrush)})},args:["aString"],source:"cols: aString\n	self at: 'cols' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contenteditable:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("contenteditable",t),n},function(s){s.fill(n,"contenteditable:",{aString:t},e.TagBrush)})},args:["aString"],source:"contenteditable: aString\n	self at: 'contenteditable' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contents:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){var e;return n._empty(),e=n._append_(t),n},function(s){s.fill(n,"contents:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"contents: anObject\n	self\n	empty;\n	append: anObject",messageSends:["empty","append:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"contextmenu:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("contextmenu",t),n},function(s){s.fill(n,"contextmenu:",{aString:t},e.TagBrush)})},args:["aString"],source:"contextmenu: aString\n	self at: 'contextmenu' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"createElementFor:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return document.createElement(String(t))},function(s){s.fill(n,"createElementFor:",{aString:t},e.TagBrush)})},args:["aString"],source:"createElementFor: aString\n	<return document.createElement(String(aString))>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"createTextNodeFor:",category:"private",fn:function(t){var n=this;return e.withContext(function(){return document.createTextNode(String(t))},function(s){s.fill(n,"createTextNodeFor:",{aString:t},e.TagBrush)})},args:["aString"],source:"createTextNodeFor: aString\n	<return document.createTextNode(String(aString))>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"draggable:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("draggable",t),n},function(s){s.fill(n,"draggable:",{aString:t},e.TagBrush)})},args:["aString"],source:"draggable: aString\n	self at: 'draggable' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"element",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@element"]},function(n){n.fill(t,"element",{},e.TagBrush)})},args:[],source:"element\n	^ element",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"empty",category:"adding",fn:function(){var t=this;return e.withContext(function(){return n(t._asJQuery())._empty(),t},function(n){n.fill(t,"empty",{},e.TagBrush)})},args:[],source:"empty\n	self asJQuery empty",messageSends:["empty","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"for:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("for",t),n},function(s){s.fill(n,"for:",{aString:t},e.TagBrush)})},args:["aString"],source:"for: aString\n	self at: 'for' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"height:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("height",t),n},function(s){s.fill(n,"height:",{aString:t},e.TagBrush)})},args:["aString"],source:"height: aString\n	self at: 'height' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"hidden",category:"attributes",fn:function(){var t=this;return e.withContext(function(){return t._at_put_("hidden","hidden"),t},function(n){n.fill(t,"hidden",{},e.TagBrush)})},args:[],source:"hidden\n	self at: 'hidden' put: 'hidden'",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"href:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("href",t),n},function(s){s.fill(n,"href:",{aString:t},e.TagBrush)})},args:["aString"],source:"href: aString\n	self at: 'href' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"id:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("id",t),n},function(s){s.fill(n,"id:",{aString:t},e.TagBrush)})},args:["aString"],source:"id: aString\n	self at: 'id' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"initializeFromJQuery:canvas:",category:"initialization",fn:function(t,s){var r=this;return e.withContext(function(){return r["@element"]=n(t)._get_(0),r["@canvas"]=s,r},function(n){n.fill(r,"initializeFromJQuery:canvas:",{aJQuery:t,aCanvas:s},e.TagBrush)})},args:["aJQuery","aCanvas"],source:"initializeFromJQuery: aJQuery canvas: aCanvas\n	element := aJQuery get: 0.\n	canvas := aCanvas",messageSends:["get:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"initializeFromString:canvas:",category:"initialization",fn:function(t,n){var s=this;return e.withContext(function(){return s["@element"]=s._createElementFor_(t),s["@canvas"]=n,s},function(r){r.fill(s,"initializeFromString:canvas:",{aString:t,aCanvas:n},e.TagBrush)})},args:["aString","aCanvas"],source:"initializeFromString: aString canvas: aCanvas\n	element := self createElementFor: aString.\n	canvas := aCanvas",messageSends:["createElementFor:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"media:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("media",t),n},function(s){s.fill(n,"media:",{aString:t},e.TagBrush)})},args:["aString"],source:"media: aString\n	self at: 'media' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"method:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("method",t),n},function(s){s.fill(n,"method:",{aString:t},e.TagBrush)})},args:["aString"],source:"method: aString\n	self at: 'method' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"name:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("name",t),n},function(s){s.fill(n,"name:",{aString:t},e.TagBrush)})},args:["aString"],source:"name: aString\n	self at: 'name' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onBlur:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("blur",t),s},function(n){n.fill(s,"onBlur:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onBlur: aBlock\n	self asJQuery bind: 'blur' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onChange:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("change",t),s},function(n){n.fill(s,"onChange:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onChange: aBlock\n	self asJQuery bind: 'change' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onClick:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("click",t),s},function(n){n.fill(s,"onClick:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onClick: aBlock\n	self asJQuery bind: 'click' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onDblClick:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("dblclick",t),s},function(n){n.fill(s,"onDblClick:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onDblClick: aBlock\n	self asJQuery bind: 'dblclick' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocus:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("focus",t),s},function(n){n.fill(s,"onFocus:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocus: aBlock\n	self asJQuery bind: 'focus' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocusIn:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("focusin",t),s},function(n){n.fill(s,"onFocusIn:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocusIn: aBlock\n	self asJQuery bind: 'focusin' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onFocusOut:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("focusout",t),s},function(n){n.fill(s,"onFocusOut:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onFocusOut: aBlock\n	self asJQuery bind: 'focusout' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onHover:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("hover",t),s},function(n){n.fill(s,"onHover:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onHover: aBlock\n	self asJQuery bind: 'hover' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyDown:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("keydown",t),s},function(n){n.fill(s,"onKeyDown:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyDown: aBlock\n	self asJQuery bind: 'keydown' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyPress:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("keypress",t),s},function(n){n.fill(s,"onKeyPress:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyPress: aBlock\n	self asJQuery bind: 'keypress' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onKeyUp:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("keyup",t),s},function(n){n.fill(s,"onKeyUp:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onKeyUp: aBlock\n	self asJQuery bind: 'keyup' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseDown:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mousedown",t),s},function(n){n.fill(s,"onMouseDown:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseDown: aBlock\n	self asJQuery bind: 'mousedown' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseEnter:",category:"events",fn:function(t){var s=this;
return e.withContext(function(){return n(s._asJQuery())._bind_do_("mouseenter",t),s},function(n){n.fill(s,"onMouseEnter:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseEnter: aBlock\n	self asJQuery bind: 'mouseenter' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseLeave:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mouseleave",t),s},function(n){n.fill(s,"onMouseLeave:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseLeave: aBlock\n	self asJQuery bind: 'mouseleave' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseMove:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mousemove",t),s},function(n){n.fill(s,"onMouseMove:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseMove: aBlock\n	self asJQuery bind: 'mousemove' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseOut:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mouseout",t),s},function(n){n.fill(s,"onMouseOut:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseOut: aBlock\n	self asJQuery bind: 'mouseout' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseOver:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mouseover",t),s},function(n){n.fill(s,"onMouseOver:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseOver: aBlock\n	self asJQuery bind: 'mouseover' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onMouseUp:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("mouseup",t),s},function(n){n.fill(s,"onMouseUp:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onMouseUp: aBlock\n	self asJQuery bind: 'mouseup' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onSelect:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("select",t),s},function(n){n.fill(s,"onSelect:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onSelect: aBlock\n	self asJQuery bind: 'select' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onSubmit:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("submit",t),s},function(n){n.fill(s,"onSubmit:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onSubmit: aBlock\n	self asJQuery bind: 'submit' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"onUnload:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s._asJQuery())._bind_do_("unload",t),s},function(n){n.fill(s,"onUnload:",{aBlock:t},e.TagBrush)})},args:["aBlock"],source:"onUnload: aBlock\n	self asJQuery bind: 'unload' do: aBlock",messageSends:["bind:do:","asJQuery"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"placeholder:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("placeholder",t),n},function(s){s.fill(n,"placeholder:",{aString:t},e.TagBrush)})},args:["aString"],source:"placeholder: aString\n	self at: 'placeholder' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"rel:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("rel",t),n},function(s){s.fill(n,"rel:",{aString:t},e.TagBrush)})},args:["aString"],source:"rel: aString\n	self at: 'rel' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"removeAt:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n["@element"].removeAttribute(t),n},function(s){s.fill(n,"removeAt:",{aString:t},e.TagBrush)})},args:["aString"],source:"removeAt: aString\n	<self['@element'].removeAttribute(aString)>",messageSends:[],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"rows:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("rows",t),n},function(s){s.fill(n,"rows:",{aString:t},e.TagBrush)})},args:["aString"],source:"rows: aString\n	self at: 'rows' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"src:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("src",t),n},function(s){s.fill(n,"src:",{aString:t},e.TagBrush)})},args:["aString"],source:"src: aString\n	self at: 'src' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"style:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("style",t),n},function(s){s.fill(n,"style:",{aString:t},e.TagBrush)})},args:["aString"],source:"style: aString\n	self at: 'style' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"tabindex:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("tabindex",t),n},function(s){s.fill(n,"tabindex:",{aNumber:t},e.TagBrush)})},args:["aNumber"],source:"tabindex: aNumber\n	self at: 'tabindex' put: aNumber",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"target:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("target",t),n},function(s){s.fill(n,"target:",{aString:t},e.TagBrush)})},args:["aString"],source:"target: aString\n	self at: 'target' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"title:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("title",t),n},function(s){s.fill(n,"title:",{aString:t},e.TagBrush)})},args:["aString"],source:"title: aString\n	self at: 'title' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"type:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("type",t),n},function(s){s.fill(n,"type:",{aString:t},e.TagBrush)})},args:["aString"],source:"type: aString\n	self at: 'type' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"valign:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("valign",t),n},function(s){s.fill(n,"valign:",{aString:t},e.TagBrush)})},args:["aString"],source:"valign: aString\n	self at: 'valign' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"value:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("value",t),n},function(s){s.fill(n,"value:",{aString:t},e.TagBrush)})},args:["aString"],source:"value: aString\n	self at: 'value' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"width:",category:"attributes",fn:function(t){var n=this;return e.withContext(function(){return n._at_put_("width",t),n},function(s){s.fill(n,"width:",{aString:t},e.TagBrush)})},args:["aString"],source:"width: aString\n	self at: 'width' put: aString",messageSends:["at:put:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"with:",category:"adding",fn:function(t){var n=this;return e.withContext(function(){return n._append_(t),n},function(s){s.fill(n,"with:",{anObject:t},e.TagBrush)})},args:["anObject"],source:"with: anObject\n	self append: anObject",messageSends:["append:"],referencedClasses:[]}),e.TagBrush),e.addMethod(e.method({selector:"fromJQuery:canvas:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._initializeFromJQuery_canvas_(t,s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"fromJQuery:canvas:",{aJQuery:t,aCanvas:s},e.TagBrush.klass)})},args:["aJQuery","aCanvas"],source:"fromJQuery: aJQuery canvas: aCanvas\n	^ self new\n		initializeFromJQuery: aJQuery canvas: aCanvas;\n		yourself",messageSends:["initializeFromJQuery:canvas:","new","yourself"],referencedClasses:[]}),e.TagBrush.klass),e.addMethod(e.method({selector:"fromString:canvas:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._initializeFromString_canvas_(t,s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"fromString:canvas:",{aString:t,aCanvas:s},e.TagBrush.klass)})},args:["aString","aCanvas"],source:"fromString: aString canvas: aCanvas\n	^ self new\n	initializeFromString: aString canvas: aCanvas;\n	yourself",messageSends:["initializeFromString:canvas:","new","yourself"],referencedClasses:[]}),e.TagBrush.klass),e.addClass("StyleTag",e.TagBrush,[],"Canvas"),e.StyleTag.comment="I'm a `<style>` tag use to inline CSS or load a stylesheet.\n\n## Motivation\n\nThe need for a specific class comes from Internet Explorer compatibility issues.",e.addMethod(e.method({selector:"with:",category:"adding",fn:function(s){function r(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var a=this;return e.withContext(function(){var t;return t=n(r())._isMSIE(),e.assert(t)?n(n(a._element())._styleSheet())._cssText_(s):e.StyleTag.superclass.fn.prototype._with_.apply(n(a),[s]),a},function(t){t.fill(a,"with:",{aString:s},e.StyleTag)})},args:["aString"],source:"with: aString\n	HTMLCanvas isMSIE\n		ifTrue: [ self element styleSheet cssText: aString ]\n		ifFalse: [ super with: aString ].",messageSends:["ifTrue:ifFalse:","isMSIE","cssText:","styleSheet","element","with:"],referencedClasses:["HTMLCanvas"]}),e.StyleTag),e.addMethod(e.method({selector:"canvas:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._initializeFromString_canvas_("style",t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"canvas:",{aCanvas:t},e.StyleTag.klass)})},args:["aCanvas"],source:"canvas: aCanvas\n	^ self new\n		initializeFromString: 'style' canvas: aCanvas;\n		yourself",messageSends:["initializeFromString:canvas:","new","yourself"],referencedClasses:[]}),e.StyleTag.klass),e.addClass("Widget",e.InterfacingObject,[],"Canvas"),e.Widget.comment="I am a presenter building HTML. Subclasses are typically reusable components.\n\n## API\n\nUse `#renderContentOn:` to build HTML. (See `HTMLCanvas` and `TagBrush` classes for more about building HTML).\n\nTo add a widget to the page, the convenience method `#appendToJQuery:` is very useful.\n\nExemple: \n\n    Counter new appendToJQuery: 'body' asJQuery",e.addMethod(e.method({selector:"appendToBrush:",category:"adding",fn:function(t){var s=this;return e.withContext(function(){return s._appendToJQuery_(n(t)._asJQuery()),s},function(n){n.fill(s,"appendToBrush:",{aTagBrush:t},e.Widget)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	self appendToJQuery: aTagBrush asJQuery",messageSends:["appendToJQuery:","asJQuery"],referencedClasses:[]}),e.Widget),e.addMethod(e.method({selector:"appendToJQuery:",category:"adding",fn:function(s){function r(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var a=this;return e.withContext(function(){return a._renderOn_(n(r())._onJQuery_(s)),a},function(t){t.fill(a,"appendToJQuery:",{aJQuery:s},e.Widget)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	self renderOn: (HTMLCanvas onJQuery: aJQuery)",messageSends:["renderOn:","onJQuery:"],referencedClasses:["HTMLCanvas"]}),e.Widget),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"renderOn:",{html:t},e.Widget)})},args:["html"],source:"renderOn: html\n	self",messageSends:[],referencedClasses:[]}),e.Widget),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"widget"},function(n){n.fill(t,"heliosClass",{},e.Widget.klass)})},args:[],source:"heliosClass\n	^ 'widget'",messageSends:[],referencedClasses:[]}),e.Widget.klass),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var s=this;return e.withContext(function(){return n(t)._append_(s._asString()),s},function(n){n.fill(s,"appendToBrush:",{aTagBrush:t},e.Object)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush append: self asString",messageSends:["append:","asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(t){var s=this;return e.withContext(function(){return n(t)._append_(s._asString()),s},function(n){n.fill(s,"appendToJQuery:",{aJQuery:t},e.Object)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	aJQuery append: self asString",messageSends:["append:","asString"],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var s=this;return e.withContext(function(){return n(t)._appendBlock_(s),s},function(n){n.fill(s,"appendToBrush:",{aTagBrush:t},e.BlockClosure)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush appendBlock: self",messageSends:["appendBlock:"],referencedClasses:[]}),e.BlockClosure),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(s){function r(){return e.HTMLCanvas||("undefined"==typeof HTMLCanvas?t:HTMLCanvas)}var a=this;return e.withContext(function(){return a._value_(n(r())._onJQuery_(s)),a},function(t){t.fill(a,"appendToJQuery:",{aJQuery:s},e.BlockClosure)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	self value: (HTMLCanvas onJQuery: aJQuery)",messageSends:["value:","onJQuery:"],referencedClasses:["HTMLCanvas"]}),e.BlockClosure),e.addMethod(e.method({selector:"asSnippet",category:"*Canvas",fn:function(){function s(){return e.HTMLSnippet||("undefined"==typeof HTMLSnippet?t:HTMLSnippet)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._current())._snippetAt_(r._asString())},function(t){t.fill(r,"asSnippet",{},e.CharacterArray)})},args:[],source:"asSnippet\n	^ HTMLSnippet current snippetAt: self asString",messageSends:["snippetAt:","current","asString"],referencedClasses:["HTMLSnippet"]}),e.CharacterArray),e.addMethod(e.method({selector:"appendToBrush:",category:"*Canvas",fn:function(t){var s=this;return e.withContext(function(){return n(t)._appendString_(s),s},function(n){n.fill(s,"appendToBrush:",{aTagBrush:t},e.String)})},args:["aTagBrush"],source:"appendToBrush: aTagBrush\n	aTagBrush appendString: self",messageSends:["appendString:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"appendToJQuery:",category:"*Canvas",fn:function(t){var s=this;return e.withContext(function(){return n(t)._append_(s),s},function(n){n.fill(s,"appendToJQuery:",{aJQuery:t},e.String)})},args:["aJQuery"],source:"appendToJQuery: aJQuery\n	aJQuery append: self",messageSends:["append:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJQuery",category:"*Canvas",fn:function(){var t=this;return e.withContext(function(){return jQuery(String(t))},function(n){n.fill(t,"asJQuery",{},e.String)})},args:[],source:"asJQuery\n	<return jQuery(String(self))>",messageSends:[],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"asJQuery",category:"*Canvas",fn:function(){var t=this;return e.withContext(function(){return jQuery(t["@jsObject"])},function(n){n.fill(t,"asJQuery",{},e.JSObjectProxy)})},args:[],source:"asJQuery\n	<return jQuery(self['@jsObject'])>",messageSends:[],referencedClasses:[]}),e.JSObjectProxy)}),define("amber_core/SUnit",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Exceptions"],function(e,t,n){e.addPackage("SUnit"),e.packages.SUnit.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ResultAnnouncement",e.Object,["result"],"SUnit"),e.ResultAnnouncement.comment="I get signaled when a `TestCase` has been run.\n\nMy instances hold the result (instance of `TestResult`) of the test run.",e.addMethod(e.method({selector:"result",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@result"]},function(n){n.fill(t,"result",{},e.ResultAnnouncement)})},args:[],source:"result\n	^ result",messageSends:[],referencedClasses:[]}),e.ResultAnnouncement),e.addMethod(e.method({selector:"result:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@result"]=t,n},function(s){s.fill(n,"result:",{aTestResult:t},e.ResultAnnouncement)})},args:["aTestResult"],source:"result: aTestResult\n	result := aTestResult",messageSends:[],referencedClasses:[]}),e.ResultAnnouncement),e.addClass("TestCase",e.Object,["testSelector","asyncTimeout","context"],"SUnit"),e.TestCase.comment="I am an implementation of the command pattern to run a test.\n\n## API\n\nMy instances are created with the class method `#selector:`,\npassing the symbol that names the method to be executed when the test case runs.\n\nWhen you discover a new fixture, subclass `TestCase` and create a `#test...` method for the first test.\nAs that method develops and more `#test...` methods are added, you will find yourself refactoring temps\ninto instance variables for the objects in the fixture and overriding `#setUp` to initialize these variables.\nAs required, override `#tearDown` to nil references, release objects and deallocate.",e.addMethod(e.method({selector:"assert:",category:"testing",fn:function(t){var n=this;return e.withContext(function(){return n._assert_description_(t,"Assertion failed"),n},function(s){s.fill(n,"assert:",{aBoolean:t},e.TestCase)})},args:["aBoolean"],source:"assert: aBoolean\n	self assert: aBoolean description: 'Assertion failed'",messageSends:["assert:description:"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"assert:description:",category:"testing",fn:function(t,n){var s=this;return e.withContext(function(){return e.assert(t)||s._signalFailure_(n),s},function(r){r.fill(s,"assert:description:",{aBoolean:t,aString:n},e.TestCase)})},args:["aBoolean","aString"],source:"assert: aBoolean description: aString\n	aBoolean ifFalse: [ self signalFailure: aString ]",messageSends:["ifFalse:","signalFailure:"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"assert:equals:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i,l,c,u;return a=n(t).__eq(s),o=n(s)._printString(),e.sendIdx.printString=1,i="Expected: ".__comma(o),l=n(i).__comma(" but was: "),e.sendIdx[","]=2,c=n(l).__comma(n(t)._printString()),e.sendIdx[","]=1,u=r._assert_description_(a,c)},function(n){n.fill(r,"assert:equals:",{actual:t,expected:s},e.TestCase)})},args:["actual","expected"],source:"assert: actual equals: expected\n	^ self assert: (actual = expected) description: 'Expected: ', expected printString, ' but was: ', actual printString",messageSends:["assert:description:","=",",","printString"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"async:",category:"async",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return r._errorIfNotAsync_("#async"),s=r["@context"],i=function(){return e.withContext(function(){return o=r._isAsync(),e.assert(o)?n(s)._execute_(t):void 0},function(e){e.fillBlock({},a,1)})}},function(n){n.fill(r,"async:",{aBlock:t,c:s},e.TestCase)})},args:["aBlock"],source:"async: aBlock\n	| c |\n	self errorIfNotAsync: '#async'.\n	c := context.\n	^ [ self isAsync ifTrue: [ c execute: aBlock ] ]",messageSends:["errorIfNotAsync:","ifTrue:","isAsync","execute:"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@context"]=t,n},function(s){s.fill(n,"context:",{aRunningTestContext:t},e.TestCase)})},args:["aRunningTestContext"],source:"context: aRunningTestContext\n	context := aRunningTestContext",messageSends:[],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"deny:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){return s._assert_(n(t)._not()),s},function(n){n.fill(s,"deny:",{aBoolean:t},e.TestCase)})},args:["aBoolean"],source:"deny: aBoolean\n	self assert: aBoolean not",messageSends:["assert:","not"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"errorIfNotAsync:",category:"error handling",fn:function(t){var s=this;return e.withContext(function(){var r;return r=s._isAsync(),e.assert(r)||s._error_(n(t).__comma(" used without prior #timeout:")),s},function(n){n.fill(s,"errorIfNotAsync:",{aString:t},e.TestCase)})},args:["aString"],source:"errorIfNotAsync: aString\n	self isAsync ifFalse: [\n		self error: aString, ' used without prior #timeout:' ]",messageSends:["ifFalse:","isAsync","error:",","],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"finished",category:"async",fn:function(){var n=this;return e.withContext(function(){return n._errorIfNotAsync_("#finished"),n["@asyncTimeout"]=t,n},function(t){t.fill(n,"finished",{},e.TestCase)})},args:[],source:"finished\n	self errorIfNotAsync: '#finished'.\n	asyncTimeout := nil",messageSends:["errorIfNotAsync:"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"isAsync",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@asyncTimeout"])._notNil()},function(n){n.fill(t,"isAsync",{},e.TestCase)})},args:[],source:"isAsync\n	^ asyncTimeout notNil",messageSends:["notNil"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"performTest",category:"running",fn:function(){var n=this;return e.withContext(function(){return n["@asyncTimeout"]=t,n._perform_(n._selector()),n},function(t){t.fill(n,"performTest",{},e.TestCase)})},args:[],source:"performTest\n	asyncTimeout := nil.\n	self perform: self selector",messageSends:["perform:","selector"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"runCase",category:"running",fn:function(){function s(){return e.TestContext||("undefined"==typeof TestContext?t:TestContext)}var r=this;return e.withContext(function(){return n(n(s())._testCase_(r))._start(),r},function(t){t.fill(r,"runCase",{},e.TestCase)})},args:[],source:'runCase\n	"Runs a test case in isolated context, leaking all errors."\n\n	(TestContext testCase: self) start',messageSends:["start","testCase:"],referencedClasses:["TestContext"]}),e.TestCase),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@testSelector"]},function(n){n.fill(t,"selector",{},e.TestCase)})},args:[],source:"selector\n	^ testSelector",messageSends:[],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"setTestSelector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@testSelector"]=t,n},function(s){s.fill(n,"setTestSelector:",{aSelector:t},e.TestCase)})},args:["aSelector"],source:"setTestSelector: aSelector\n	testSelector := aSelector",messageSends:[],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"setUp",category:"running",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"setUp",{},e.TestCase)})},args:[],source:"setUp",messageSends:[],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"should:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){return s._assert_(n(t)._value()),s},function(n){n.fill(s,"should:",{aBlock:t},e.TestCase)})},args:["aBlock"],source:"should: aBlock\n	self assert: aBlock value",messageSends:["assert:","value"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"should:raise:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(a){return r._assert_(n(function(){return e.withContext(function(){return n(t)._value(),!1},function(e){e.fillBlock({},a,1)})})._on_do_(s,function(t){return e.withContext(function(){return!0},function(e){e.fillBlock({ex:t},a,2)})})),r},function(n){n.fill(r,"should:raise:",{aBlock:t,anExceptionClass:s},e.TestCase)})},args:["aBlock","anExceptionClass"],source:"should: aBlock raise: anExceptionClass\n	self assert: ([ aBlock value. false ]\n		on: anExceptionClass\n		do: [ :ex | true ])",messageSends:["assert:","on:do:","value"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"shouldnt:raise:",category:"testing",fn:function(t,s){var r=this;return e.withContext(function(a){return r._assert_(n(function(){return e.withContext(function(){return n(t)._value(),!0},function(e){e.fillBlock({},a,1)})})._on_do_(s,function(t){return e.withContext(function(){return!1},function(e){e.fillBlock({ex:t},a,2)})})),r},function(n){n.fill(r,"shouldnt:raise:",{aBlock:t,anExceptionClass:s},e.TestCase)})},args:["aBlock","anExceptionClass"],source:"shouldnt: aBlock raise: anExceptionClass\n	self assert: ([ aBlock value. true ]\n		on: anExceptionClass\n		do: [ :ex | false ])",messageSends:["assert:","on:do:","value"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"signalFailure:",category:"private",fn:function(s){function r(){return e.TestFailure||("undefined"==typeof TestFailure?t:TestFailure)}var a=this;return e.withContext(function(){var e,t;return e=n(r())._new(),n(e)._messageText_(s),t=n(e)._signal(),a},function(t){t.fill(a,"signalFailure:",{aString:s},e.TestCase)})},args:["aString"],source:"signalFailure: aString\n	TestFailure new\n		messageText: aString;\n		signal",messageSends:["messageText:","new","signal"],referencedClasses:["TestFailure"]}),e.TestCase),e.addMethod(e.method({selector:"tearDown",category:"running",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"tearDown",{},e.TestCase)})},args:[],source:"tearDown",messageSends:[],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"timeout:",category:"async",fn:function(s){var r=this;return e.withContext(function(a){var o;return o=r["@asyncTimeout"],($receiver=o)==t||null==$receiver||n(r["@asyncTimeout"])._clearTimeout(),r["@asyncTimeout"]=0,r["@asyncTimeout"]=n(r._async_(function(){return e.withContext(function(){return r._assert_description_(!1,"SUnit grace time exhausted")},function(e){e.fillBlock({},a,2)})}))._valueWithTimeout_(s),r},function(t){t.fill(r,"timeout:",{aNumber:s},e.TestCase)})},args:["aNumber"],source:'timeout: aNumber\n	"Set a grace time timeout in milliseconds to run the test asynchronously"\n	\n	asyncTimeout ifNotNil: [ asyncTimeout clearTimeout ].\n	\n	"to allow #async: message send without throwing an error"\n	asyncTimeout := 0.\n	\n	asyncTimeout := (self async: [\n		self assert: false description: \'SUnit grace time exhausted\' ])\n			valueWithTimeout: aNumber',messageSends:["ifNotNil:","clearTimeout","valueWithTimeout:","async:","assert:description:"],referencedClasses:[]}),e.TestCase),e.addMethod(e.method({selector:"allTestSelectors",category:"accessing",fn:function(){var t,s=this;return e.withContext(function(){var r,a;return t=s._testSelectors(),r=s._shouldInheritSelectors(),e.assert(r)&&n(t)._addAll_(n(s._superclass())._allTestSelectors()),a=t},function(n){n.fill(s,"allTestSelectors",{selectors:t},e.TestCase.klass)})},args:[],source:"allTestSelectors\n	| selectors |\n	selectors := self testSelectors.\n	self shouldInheritSelectors ifTrue: [\n		selectors addAll: self superclass allTestSelectors ].\n	^ selectors",messageSends:["testSelectors","ifTrue:","shouldInheritSelectors","addAll:","allTestSelectors","superclass"],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"buildSuite",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._allTestSelectors())._collect_(function(n){return e.withContext(function(){return t._selector_(n)},function(e){e.fillBlock({each:n},s,1)})})},function(n){n.fill(t,"buildSuite",{},e.TestCase.klass)})},args:[],source:"buildSuite\n	^ self allTestSelectors collect: [ :each | self selector: each ]",messageSends:["collect:","allTestSelectors","selector:"],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"heliosClass",category:"helios",fn:function(){var t=this;return e.withContext(function(){return"test"},function(n){n.fill(t,"heliosClass",{},e.TestCase.klass)})},args:[],source:"heliosClass\n	^ 'test'",messageSends:[],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"isAbstract",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._name()).__eq("TestCase")},function(n){n.fill(t,"isAbstract",{},e.TestCase.klass)})},args:[],source:"isAbstract\n	^ self name = 'TestCase'",messageSends:["=","name"],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"lookupHierarchyRoot",category:"accessing",fn:function(){function n(){return e.TestCase||("undefined"==typeof TestCase?t:TestCase)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"lookupHierarchyRoot",{},e.TestCase.klass)})},args:[],source:"lookupHierarchyRoot\n	^ TestCase",messageSends:[],referencedClasses:["TestCase"]}),e.TestCase.klass),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._setTestSelector_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"selector:",{aSelector:t},e.TestCase.klass)})},args:["aSelector"],source:"selector: aSelector\n	^ self new\n		setTestSelector: aSelector;\n		yourself",messageSends:["setTestSelector:","new","yourself"],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"shouldInheritSelectors",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t.__tild_eq(t._lookupHierarchyRoot())},function(n){n.fill(t,"shouldInheritSelectors",{},e.TestCase.klass)})},args:[],source:"shouldInheritSelectors\n	^ self ~= self lookupHierarchyRoot",messageSends:["~=","lookupHierarchyRoot"],referencedClasses:[]}),e.TestCase.klass),e.addMethod(e.method({selector:"testSelectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(n(t._methodDictionary())._keys())._select_(function(t){return e.withContext(function(){return n(t)._match_("^test")},function(e){e.fillBlock({each:t},s,1)})})},function(n){n.fill(t,"testSelectors",{},e.TestCase.klass)})},args:[],source:"testSelectors\n	^ self methodDictionary keys select: [ :each | each match: '^test' ]",messageSends:["select:","keys","methodDictionary","match:"],referencedClasses:[]}),e.TestCase.klass),e.addClass("TestContext",e.Object,["testCase"],"SUnit"),e.TestContext.comment="I govern running a particular test case.\n\nMy main added value is `#execute:` method which runs a block as a part of test case (restores context, nilling it afterwards, cleaning/calling `#tearDown` as appropriate for sync/async scenario).",e.addMethod(e.method({selector:"execute:",category:"running",fn:function(s){var r,a=this;return e.withContext(function(o){var i,l;return n(a["@testCase"])._context_(a),o.sendIdx["context:"]=1,n(function(){return e.withContext(function(){return r=!0,n(s)._value(),r=!1},function(e){e.fillBlock({},o,1)})})._ensure_(function(){return e.withContext(function(s){return n(a["@testCase"])._context_(t),i=n(r)._and_(function(){return e.withContext(function(e){return n(a["@testCase"])._isAsync()
},function(e){e.fillBlock({},s,3)})}),e.assert(i)&&n(a["@testCase"])._finished(),l=n(a["@testCase"])._isAsync(),e.assert(l)?void 0:n(a["@testCase"])._tearDown()},function(e){e.fillBlock({},o,2)})}),a},function(t){t.fill(a,"execute:",{aBlock:s,failed:r},e.TestContext)})},args:["aBlock"],source:"execute: aBlock\n	| failed |\n	\n	testCase context: self.\n	[\n		failed := true.\n		aBlock value.\n		failed := false\n	]\n		ensure: [\n			testCase context: nil.\n			\n			(failed and: [ testCase isAsync ]) ifTrue: [\n				testCase finished ].\n			testCase isAsync ifFalse: [\n				testCase tearDown ] ]",messageSends:["context:","ensure:","value","ifTrue:","and:","isAsync","finished","ifFalse:","tearDown"],referencedClasses:[]}),e.TestContext),e.addMethod(e.method({selector:"start",category:"running",fn:function(){var t=this;return e.withContext(function(s){return t._execute_(function(){return e.withContext(function(){return n(t["@testCase"])._setUp(),n(t["@testCase"])._performTest()},function(e){e.fillBlock({},s,1)})}),t},function(n){n.fill(t,"start",{},e.TestContext)})},args:[],source:"start\n	self execute: [\n		testCase setUp.\n		testCase performTest ]",messageSends:["execute:","setUp","performTest"],referencedClasses:[]}),e.TestContext),e.addMethod(e.method({selector:"testCase:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@testCase"]=t,n},function(s){s.fill(n,"testCase:",{aTestCase:t},e.TestContext)})},args:["aTestCase"],source:"testCase: aTestCase\n	testCase := aTestCase",messageSends:[],referencedClasses:[]}),e.TestContext),e.addMethod(e.method({selector:"testCase:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._testCase_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"testCase:",{aTestCase:t},e.TestContext.klass)})},args:["aTestCase"],source:"testCase: aTestCase\n	^ self new\n		testCase: aTestCase;\n		yourself",messageSends:["testCase:","new","yourself"],referencedClasses:[]}),e.TestContext.klass),e.addClass("ReportingTestContext",e.TestContext,["finished","result"],"SUnit"),e.ReportingTestContext.comment="I add `TestResult` reporting to `TestContext`.\n\nErrors are caught and save into a `TestResult`,\nWhen test case is finished (which can be later for async tests), a callback block is executed; this is used by a `TestSuiteRunner`.",e.addMethod(e.method({selector:"execute:",category:"running",fn:function(t){var s=this;return e.withContext(function(r){var a;return n(function(){return e.withContext(function(r){return s._withErrorReporting_(function(){return e.withContext(function(){return e.ReportingTestContext.superclass.fn.prototype._execute_.apply(n(s),[t])},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({},r,1)})})._ensure_(function(){return e.withContext(function(){return a=n(s["@testCase"])._isAsync(),e.assert(a)?void 0:(n(s["@result"])._increaseRuns(),n(s["@finished"])._value())},function(e){e.fillBlock({},r,3)})}),s},function(n){n.fill(s,"execute:",{aBlock:t},e.ReportingTestContext)})},args:["aBlock"],source:"execute: aBlock\n	[\n		self withErrorReporting: [ super execute: aBlock ]\n	]\n		ensure: [\n			testCase isAsync ifFalse: [\n				result increaseRuns. finished value ] ]",messageSends:["ensure:","withErrorReporting:","execute:","ifFalse:","isAsync","increaseRuns","value"],referencedClasses:[]}),e.ReportingTestContext),e.addMethod(e.method({selector:"finished:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@finished"]=t,n},function(s){s.fill(n,"finished:",{aBlock:t},e.ReportingTestContext)})},args:["aBlock"],source:"finished: aBlock\n	finished := aBlock",messageSends:[],referencedClasses:[]}),e.ReportingTestContext),e.addMethod(e.method({selector:"result:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@result"]=t,n},function(s){s.fill(n,"result:",{aTestResult:t},e.ReportingTestContext)})},args:["aTestResult"],source:"result: aTestResult\n	result := aTestResult",messageSends:[],referencedClasses:[]}),e.ReportingTestContext),e.addMethod(e.method({selector:"withErrorReporting:",category:"private",fn:function(s){function r(){return e.TestFailure||("undefined"==typeof TestFailure?t:TestFailure)}function a(){return e.Error||("undefined"==typeof Error?t:Error)}var o=this;return e.withContext(function(t){return n(function(){return e.withContext(function(t){return n(s)._on_do_(r(),function(s){return e.withContext(function(){return n(o["@result"])._addFailure_(o["@testCase"])},function(e){e.fillBlock({ex:s},t,2)})})},function(e){e.fillBlock({},t,1)})})._on_do_(a(),function(s){return e.withContext(function(){return n(o["@result"])._addError_(o["@testCase"])},function(e){e.fillBlock({ex:s},t,3)})}),t.sendIdx["on:do:"]=1,o},function(t){t.fill(o,"withErrorReporting:",{aBlock:s},e.ReportingTestContext)})},args:["aBlock"],source:"withErrorReporting: aBlock\n	[ aBlock\n		on: TestFailure\n		do: [ :ex | result addFailure: testCase ]\n	]\n		on: Error\n		do: [ :ex | result addError: testCase ]",messageSends:["on:do:","addFailure:","addError:"],referencedClasses:["TestFailure","Error"]}),e.ReportingTestContext),e.addMethod(e.method({selector:"testCase:result:finished:",category:"instance creation",fn:function(t,s,r){var a=this;return e.withContext(function(){var o,i,l;return o=e.ReportingTestContext.klass.superclass.fn.prototype._testCase_.apply(n(a),[t]),n(o)._result_(s),n(o)._finished_(r),i=n(o)._yourself(),l=i},function(n){n.fill(a,"testCase:result:finished:",{aTestCase:t,aTestResult:s,aBlock:r},e.ReportingTestContext.klass)})},args:["aTestCase","aTestResult","aBlock"],source:"testCase: aTestCase result: aTestResult finished: aBlock\n	^ (super testCase: aTestCase)\n		result: aTestResult;\n		finished: aBlock;\n		yourself",messageSends:["result:","testCase:","finished:","yourself"],referencedClasses:[]}),e.ReportingTestContext.klass),e.addClass("TestFailure",e.Error,[],"SUnit"),e.TestFailure.comment="I am raised when the boolean parameter of an #`assert:` or `#deny:` call is the opposite of what the assertion claims.\n\nThe test framework distinguishes between failures and errors.\nA failure is an event whose possibiity is explicitly anticipated and checked for in an assertion,\nwhereas an error is an unanticipated problem like a division by 0 or an index out of bounds.",e.addClass("TestResult",e.Object,["timestamp","runs","errors","failures","total"],"SUnit"),e.TestResult.comment="I implement the collecting parameter pattern for running a bunch of tests.\n\nMy instances hold tests that have run, sorted into the result categories of passed, failures and errors.\n\n`TestResult` is an interesting object to subclass or substitute. `#runCase:` is the external protocol you need to reproduce",e.addMethod(e.method({selector:"addError:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return n(s._errors())._add_(t),s},function(n){n.fill(s,"addError:",{anError:t},e.TestResult)})},args:["anError"],source:"addError: anError\n	self errors add: anError",messageSends:["add:","errors"],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"addFailure:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return n(s._failures())._add_(t),s},function(n){n.fill(s,"addFailure:",{aFailure:t},e.TestResult)})},args:["aFailure"],source:"addFailure: aFailure\n	self failures add: aFailure",messageSends:["add:","failures"],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"errors",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@errors"]},function(n){n.fill(t,"errors",{},e.TestResult)})},args:[],source:"errors\n	^ errors",messageSends:[],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"failures",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@failures"]},function(n){n.fill(t,"failures",{},e.TestResult)})},args:[],source:"failures\n	^ failures",messageSends:[],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"increaseRuns",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t["@runs"]=n(t["@runs"]).__plus(1),t},function(n){n.fill(t,"increaseRuns",{},e.TestResult)})},args:[],source:"increaseRuns\n	runs := runs + 1",messageSends:["+"],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.Date||("undefined"==typeof Date?t:Date)}function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a=this;return e.withContext(function(t){return e.TestResult.superclass.fn.prototype._initialize.apply(n(a),[]),a["@timestamp"]=n(s())._now(),a["@runs"]=0,a["@errors"]=n(r())._new(),t.sendIdx["new"]=1,a["@failures"]=n(r())._new(),a["@total"]=0,a},function(t){t.fill(a,"initialize",{},e.TestResult)})},args:[],source:"initialize\n	super initialize.\n	timestamp := Date now.\n	runs := 0.\n	errors := Array new.\n	failures := Array new.\n	total := 0",messageSends:["initialize","now","new"],referencedClasses:["Date","Array"]}),e.TestResult),e.addMethod(e.method({selector:"nextRunDo:",category:"running",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i;return a=s._runs(),r.sendIdx.runs=1,o=n(a).__eq_eq(s._total()),e.assert(o)||(i=n(t)._value_(n(s._runs()).__plus(1))),i},function(n){n.fill(s,"nextRunDo:",{aBlock:t},e.TestResult)})},args:["aBlock"],source:'nextRunDo: aBlock\n	"Runs aBlock with index of next run or does nothing if no more runs"\n	^ self runs == self total\n		ifFalse: [ aBlock value: self runs + 1 ]',messageSends:["ifFalse:","==","runs","total","value:","+"],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"runCase:",category:"running",fn:function(s){function r(){return e.TestFailure||("undefined"==typeof TestFailure?t:TestFailure)}function a(){return e.Error||("undefined"==typeof Error?t:Error)}var o=this;return e.withContext(function(t){return n(function(){return e.withContext(function(t){return n(function(){return e.withContext(function(){return o._increaseRuns(),n(s)._runCase()},function(e){e.fillBlock({},t,2)})})._on_do_(r(),function(n){return e.withContext(function(){return o._addFailure_(s)},function(e){e.fillBlock({ex:n},t,3)})})},function(e){e.fillBlock({},t,1)})})._on_do_(a(),function(n){return e.withContext(function(){return o._addError_(s)},function(e){e.fillBlock({ex:n},t,4)})}),t.sendIdx["on:do:"]=1,o},function(t){t.fill(o,"runCase:",{aTestCase:s},e.TestResult)})},args:["aTestCase"],source:"runCase: aTestCase\n	[ [ self increaseRuns.\n		aTestCase runCase ]\n	on: TestFailure do: [ :ex | self addFailure: aTestCase ]]\n	on: Error do: [ :ex | self addError: aTestCase ]",messageSends:["on:do:","increaseRuns","runCase","addFailure:","addError:"],referencedClasses:["TestFailure","Error"]}),e.TestResult),e.addMethod(e.method({selector:"runs",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@runs"]},function(n){n.fill(t,"runs",{},e.TestResult)})},args:[],source:"runs\n	^ runs",messageSends:[],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"status",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=n(t._errors())._isEmpty(),s.sendIdx.isEmpty=1,e.assert(r)?(a=n(t._failures())._isEmpty(),o=e.assert(a)?"success":"failure"):o="error",o},function(n){n.fill(t,"status",{},e.TestResult)})},args:[],source:"status\n	^ self errors isEmpty\n		ifTrue: [\n			self failures isEmpty\n				ifTrue: [ 'success' ]\n				ifFalse: [ 'failure' ]]\n		ifFalse: [ 'error' ]",messageSends:["ifTrue:ifFalse:","isEmpty","errors","failures"],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"timestamp",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@timestamp"]},function(n){n.fill(t,"timestamp",{},e.TestResult)})},args:[],source:"timestamp\n	^ timestamp",messageSends:[],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"total",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@total"]},function(n){n.fill(t,"total",{},e.TestResult)})},args:[],source:"total\n	^ total",messageSends:[],referencedClasses:[]}),e.TestResult),e.addMethod(e.method({selector:"total:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@total"]=t,n},function(s){s.fill(n,"total:",{aNumber:t},e.TestResult)})},args:["aNumber"],source:"total: aNumber\n	total := aNumber",messageSends:[],referencedClasses:[]}),e.TestResult),e.addClass("TestSuiteRunner",e.Object,["suite","result","announcer","runNextTest"],"SUnit"),e.TestSuiteRunner.comment="I am responsible for running a collection (`suite`) of tests.\n\n## API\n\nInstances should be created using the class-side `#on:` method, taking a collection of tests to run as parameter.\nTo run the test suite, use `#run`.",e.addMethod(e.method({selector:"announcer",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@announcer"]},function(n){n.fill(t,"announcer",{},e.TestSuiteRunner)})},args:[],source:"announcer\n	^ announcer",messageSends:[],referencedClasses:[]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"contextOf:",category:"private",fn:function(s){function r(){return e.ReportingTestContext||("undefined"==typeof ReportingTestContext?t:ReportingTestContext)}var a=this;return e.withContext(function(t){var o;return o=n(r())._testCase_result_finished_(n(a["@suite"])._at_(s),a["@result"],function(){return e.withContext(function(){return a._resume()},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(a,"contextOf:",{anInteger:s},e.TestSuiteRunner)})},args:["anInteger"],source:"contextOf: anInteger\n	^ ReportingTestContext testCase: (suite at: anInteger) result: result finished: [ self resume ]",messageSends:["testCase:result:finished:","at:","resume"],referencedClasses:["ReportingTestContext"]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.Announcer||("undefined"==typeof Announcer?t:Announcer)}function r(){return e.TestResult||("undefined"==typeof TestResult?t:TestResult)}var a=this;return e.withContext(function(t){var o;return e.TestSuiteRunner.superclass.fn.prototype._initialize.apply(n(a),[]),a["@announcer"]=n(s())._new(),t.sendIdx["new"]=1,a["@result"]=n(r())._new(),a["@runNextTest"]=function(){var s;return e.withContext(function(){return s=n(a["@result"])._runs(),o=n(s).__lt(n(a["@result"])._total()),e.assert(o)?n(a._contextOf_(n(s).__plus(1)))._start():void 0},function(e){e.fillBlock({runs:s},t,1)})},a},function(t){t.fill(a,"initialize",{},e.TestSuiteRunner)})},args:[],source:"initialize\n	super initialize.\n	announcer := Announcer new.\n	result := TestResult new.\n	runNextTest := [ | runs | runs := result runs. runs < result total ifTrue: [ (self contextOf: runs + 1) start ] ].",messageSends:["initialize","new","runs","ifTrue:","<","total","start","contextOf:","+"],referencedClasses:["Announcer","TestResult"]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"result",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@result"]},function(n){n.fill(t,"result",{},e.TestSuiteRunner)})},args:[],source:"result\n	^ result",messageSends:[],referencedClasses:[]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"resume",category:"actions",fn:function(){function s(){return e.ResultAnnouncement||("undefined"==typeof ResultAnnouncement?t:ResultAnnouncement)}var r=this;return e.withContext(function(){return n(r["@runNextTest"])._fork(),n(r["@announcer"])._announce_(n(n(s())._new())._result_(r["@result"])),r},function(t){t.fill(r,"resume",{},e.TestSuiteRunner)})},args:[],source:"resume\n	runNextTest fork.\n	announcer announce: (ResultAnnouncement new result: result)",messageSends:["fork","announce:","result:","new"],referencedClasses:["ResultAnnouncement"]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"run",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@result"])._total_(n(t["@suite"])._size()),t._resume(),t},function(n){n.fill(t,"run",{},e.TestSuiteRunner)})},args:[],source:"run\n	result total: suite size.\n	self resume",messageSends:["total:","size","resume"],referencedClasses:[]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"suite:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@suite"]=t,n},function(s){s.fill(n,"suite:",{aCollection:t},e.TestSuiteRunner)})},args:["aCollection"],source:"suite: aCollection\n	suite := aCollection",messageSends:[],referencedClasses:[]}),e.TestSuiteRunner),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.TestSuiteRunner.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.TestSuiteRunner.klass),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var r;return r=n(e.TestSuiteRunner.klass.superclass.fn.prototype._new.apply(n(s),[]))._suite_(t)},function(n){n.fill(s,"on:",{aCollection:t},e.TestSuiteRunner.klass)})},args:["aCollection"],source:"on: aCollection\n	^ super new suite: aCollection",messageSends:["suite:","new"],referencedClasses:[]}),e.TestSuiteRunner.klass)}),define("amber_core/Importer-Exporter",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Infrastructure"],function(e,t,n){e.addPackage("Importer-Exporter"),e.packages["Importer-Exporter"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("AbstractExporter",e.Object,[],"Importer-Exporter"),e.AbstractExporter.comment="I am an abstract exporter for Amber source code.\n\n## API\n\nUse `#exportPackage:on:` to export a given package on a Stream.",e.addMethod(e.method({selector:"chunkEscape:",category:"convenience",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(n(t)._replace_with_("!","!!"))._trimBoth()},function(n){n.fill(s,"chunkEscape:",{aString:t},e.AbstractExporter)})},args:["aString"],source:"chunkEscape: aString\n	\"Replace all occurrences of ! with !! and trim at both ends.\"\n\n	^ (aString replace: '!' with: '!!') trimBoth",messageSends:["trimBoth","replace:with:"],referencedClasses:[]}),e.AbstractExporter),e.addMethod(e.method({selector:"classNameFor:",category:"convenience",fn:function(t){var s=this;return e.withContext(function(s){var r,a,o,i;return r=n(t)._isMetaclass(),e.assert(r)?(a=n(n(t)._instanceClass())._name(),s.sendIdx.name=1,i=n(a).__comma(" class")):(o=n(t)._isNil(),i=e.assert(o)?"nil":n(t)._name()),i},function(n){n.fill(s,"classNameFor:",{aClass:t},e.AbstractExporter)})},args:["aClass"],source:"classNameFor: aClass\n	^ aClass isMetaclass\n		ifTrue: [ aClass instanceClass name, ' class' ]\n		ifFalse: [\n			aClass isNil\n				ifTrue: [ 'nil' ]\n				ifFalse: [ aClass name ] ]",messageSends:["ifTrue:ifFalse:","isMetaclass",",","name","instanceClass","isNil"],referencedClasses:[]}),e.AbstractExporter),e.addMethod(e.method({selector:"exportPackage:on:",category:"output",fn:function(t,n){var s=this;return e.withContext(function(){return s._subclassResponsibility(),s},function(r){r.fill(s,"exportPackage:on:",{aPackage:t,aStream:n},e.AbstractExporter)})},args:["aPackage","aStream"],source:"exportPackage: aPackage on: aStream\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.AbstractExporter),e.addMethod(e.method({selector:"extensionMethodsOfPackage:",category:"accessing",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(o._extensionProtocolsOfPackage_(s))._do_(function(s){return e.withContext(function(){return n(a)._addAll_(n(s)._methods())},function(e){e.fillBlock({each:s},t,1)})}),i=a},function(t){t.fill(o,"extensionMethodsOfPackage:",{aPackage:s,result:a},e.AbstractExporter)})},args:["aPackage"],source:"extensionMethodsOfPackage: aPackage\n	| result |\n	\n	result := OrderedCollection new.\n	\n	(self extensionProtocolsOfPackage: aPackage) do: [ :each |\n		result addAll: each methods ].\n		\n	^ result",messageSends:["new","do:","extensionProtocolsOfPackage:","addAll:","methods"],referencedClasses:["OrderedCollection"]}),e.AbstractExporter),e.addMethod(e.method({selector:"extensionProtocolsOfPackage:",category:"accessing",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function o(){return e.ExportMethodProtocol||("undefined"==typeof ExportMethodProtocol?t:ExportMethodProtocol)}var i,l,c=this;return e.withContext(function(t){var c,u;return i="*".__comma(n(s)._name()),l=n(r())._new(),n(n(n(a())._current())._classes())._do_(function(s){return e.withContext(function(t){return n([s,n(s)._class()])._do_(function(s){return e.withContext(function(){return c=n(n(s)._protocols())._includes_(i),e.assert(c)?n(l)._add_(n(o())._name_theClass_(i,s)):void 0},function(e){e.fillBlock({behavior:s},t,2)})})},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["do:"]=1,u=l},function(t){t.fill(c,"extensionProtocolsOfPackage:",{aPackage:s,extensionName:i,result:l},e.AbstractExporter)})},args:["aPackage"],source:"extensionProtocolsOfPackage: aPackage\n	| extensionName result |\n	\n	extensionName := '*', aPackage name.\n	result := OrderedCollection new.\n	\n	\"The classes must be loaded since it is extensions only.\n	Therefore sorting (dependency resolution) does not matter here.\n	Not sorting improves the speed by a number of magnitude.\"\n	\n	Smalltalk current classes do: [ :each |\n		{each. each class} do: [ :behavior |\n			(behavior protocols includes: extensionName) ifTrue: [\n				result add: (ExportMethodProtocol name: extensionName theClass: behavior) ] ] ].\n\n	^ result",messageSends:[",","name","new","do:","classes","current","class","ifTrue:","includes:","protocols","add:","name:theClass:"],referencedClasses:["OrderedCollection","Smalltalk","ExportMethodProtocol"]}),e.AbstractExporter),e.addClass("ChunkExporter",e.AbstractExporter,[],"Importer-Exporter"),e.ChunkExporter.comment="I am an exporter dedicated to outputting Amber source code in the classic Smalltalk chunk format.\n\nI do not output any compiled code.",e.addMethod(e.method({selector:"exportCategoryEpilogueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var t;return n(s)._nextPutAll_(" !"),n(s)._lf(),e.sendIdx.lf=1,t=n(s)._lf(),r},function(n){n.fill(r,"exportCategoryEpilogueOf:on:",{aCategory:t,aStream:s},e.ChunkExporter)})},args:["aCategory","aStream"],source:"exportCategoryEpilogueOf: aCategory on: aStream\n	aStream nextPutAll: ' !'; lf; lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportCategoryPrologueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i;return a="!".__comma(r._classNameFor_(n(t)._theClass())),e.sendIdx[","]=1,n(s)._nextPutAll_(a),e.sendIdx["nextPutAll:"]=1,o=n(" methodsFor: '".__comma(n(t)._name())).__comma("'!"),e.sendIdx[","]=2,i=n(s)._nextPutAll_(o),r},function(n){n.fill(r,"exportCategoryPrologueOf:on:",{aCategory:t,aStream:s},e.ChunkExporter)})},args:["aCategory","aStream"],source:"exportCategoryPrologueOf: aCategory on: aStream\n	aStream\n		nextPutAll: '!', (self classNameFor: aCategory theClass);\n		nextPutAll: ' methodsFor: ''', aCategory name, '''!'",messageSends:["nextPutAll:",",","classNameFor:","theClass","name"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportDefinitionOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p,_;return o=r._classNameFor_(n(t)._superclass()),a.sendIdx["classNameFor:"]=1,n(s)._nextPutAll_(o),a.sendIdx["nextPutAll:"]=1,i=r._classNameFor_(t),a.sendIdx["classNameFor:"]=2,l=" subclass: #".__comma(i),a.sendIdx[","]=1,n(s)._nextPutAll_(l),a.sendIdx["nextPutAll:"]=2,n(s)._lf(),a.sendIdx.lf=1,n(s)._tab(),a.sendIdx.tab=1,c=n(s)._nextPutAll_("instanceVariableNames: '"),a.sendIdx["nextPutAll:"]=3,n(n(t)._instanceVariableNames())._do_separatedBy_(function(t){return e.withContext(function(e){return n(s)._nextPutAll_(t)},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(e){return n(s)._nextPutAll_(" ")},function(e){e.fillBlock({},a,2)})}),n(s)._nextPutAll_("'"),a.sendIdx["nextPutAll:"]=6,n(s)._lf(),a.sendIdx.lf=2,n(s)._tab(),u="package: '".__comma(n(t)._category()),a.sendIdx[","]=3,d=n(u).__comma("'!"),a.sendIdx[","]=2,n(s)._nextPutAll_(d),a.sendIdx["nextPutAll:"]=7,f=n(s)._lf(),a.sendIdx.lf=3,h=n(t)._comment(),a.sendIdx.comment=1,m=n(h)._notEmpty(),e.assert(m)&&(g="!".__comma(r._classNameFor_(t)),a.sendIdx[","]=5,p=n(g).__comma(" commentStamp!"),a.sendIdx[","]=4,n(s)._nextPutAll_(p),a.sendIdx["nextPutAll:"]=8,n(s)._lf(),a.sendIdx.lf=4,n(s)._nextPutAll_(n(r._chunkEscape_(n(t)._comment())).__comma("!")),_=n(s)._lf(),a.sendIdx.lf=5),n(s)._lf(),r},function(n){n.fill(r,"exportDefinitionOf:on:",{aClass:t,aStream:s},e.ChunkExporter)})},args:["aClass","aStream"],source:"exportDefinitionOf: aClass on: aStream\n	\"Chunk format.\"\n\n	aStream\n		nextPutAll: (self classNameFor: aClass superclass);\n		nextPutAll: ' subclass: #', (self classNameFor: aClass); lf;\n		tab; nextPutAll: 'instanceVariableNames: '''.\n	aClass instanceVariableNames\n		do: [ :each | aStream nextPutAll: each ]\n		separatedBy: [ aStream nextPutAll: ' ' ].\n	aStream\n		nextPutAll: ''''; lf;\n		tab; nextPutAll: 'package: ''', aClass category, '''!'; lf.\n	aClass comment notEmpty ifTrue: [\n		aStream\n		nextPutAll: '!', (self classNameFor: aClass), ' commentStamp!';lf;\n		nextPutAll: (self chunkEscape: aClass comment), '!';lf ].\n	aStream lf",messageSends:["nextPutAll:","classNameFor:","superclass",",","lf","tab","do:separatedBy:","instanceVariableNames","category","ifTrue:","notEmpty","comment","chunkEscape:"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportMetaDefinitionOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c,u,d,f;return o=n(t)._class(),a.sendIdx["class"]=1,i=n(o)._instanceVariableNames(),a.sendIdx.instanceVariableNames=1,l=n(i)._isEmpty(),e.assert(l)||(c=n(t)._class(),a.sendIdx["class"]=2,u=r._classNameFor_(c),n(s)._nextPutAll_(u),a.sendIdx["nextPutAll:"]=1,d=n(s)._nextPutAll_(" instanceVariableNames: '"),a.sendIdx["nextPutAll:"]=2,n(n(n(t)._class())._instanceVariableNames())._do_separatedBy_(function(t){return e.withContext(function(e){return n(s)._nextPutAll_(t)},function(e){e.fillBlock({each:t},a,2)})},function(){return e.withContext(function(e){return n(s)._nextPutAll_(" ")},function(e){e.fillBlock({},a,3)})}),n(s)._nextPutAll_("'!"),n(s)._lf(),a.sendIdx.lf=1,f=n(s)._lf()),r},function(n){n.fill(r,"exportMetaDefinitionOf:on:",{aClass:t,aStream:s},e.ChunkExporter)})},args:["aClass","aStream"],source:"exportMetaDefinitionOf: aClass on: aStream\n\n	aClass class instanceVariableNames isEmpty ifFalse: [\n		aStream\n			nextPutAll: (self classNameFor: aClass class);\n			nextPutAll: ' instanceVariableNames: '''.\n		aClass class instanceVariableNames\n			do: [ :each | aStream nextPutAll: each ]\n			separatedBy: [ aStream nextPutAll: ' ' ].\n		aStream\n			nextPutAll: '''!'; lf; lf ]",messageSends:["ifFalse:","isEmpty","instanceVariableNames","class","nextPutAll:","classNameFor:","do:separatedBy:","lf"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportMethod:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a;return n(s)._lf(),e.sendIdx.lf=1,n(s)._lf(),e.sendIdx.lf=2,n(s)._nextPutAll_(r._chunkEscape_(n(t)._source())),e.sendIdx["nextPutAll:"]=1,n(s)._lf(),a=n(s)._nextPutAll_("!"),r},function(n){n.fill(r,"exportMethod:on:",{aMethod:t,aStream:s},e.ChunkExporter)})},args:["aMethod","aStream"],source:"exportMethod: aMethod on: aStream\n	aStream\n		lf; lf; nextPutAll: (self chunkEscape: aMethod source); lf;\n		nextPutAll: '!'",messageSends:["lf","nextPutAll:","chunkEscape:","source"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportPackage:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){var o;return r._exportPackageDefinitionOf_on_(t,s),n(n(t)._sortedClasses())._do_(function(t){return e.withContext(function(e){return r._exportDefinitionOf_on_(t,s),o=r._ownMethodProtocolsOfClass_(t),e.sendIdx["ownMethodProtocolsOfClass:"]=1,r._exportProtocols_on_(o,s),e.sendIdx["exportProtocols:on:"]=1,r._exportMetaDefinitionOf_on_(t,s),r._exportProtocols_on_(r._ownMethodProtocolsOfClass_(n(t)._class()),s)},function(e){e.fillBlock({each:t},a,1)})}),r._exportProtocols_on_(r._extensionProtocolsOfPackage_(t),s),r},function(n){n.fill(r,"exportPackage:on:",{aPackage:t,aStream:s},e.ChunkExporter)})},args:["aPackage","aStream"],source:"exportPackage: aPackage on: aStream\n\n	self exportPackageDefinitionOf: aPackage on: aStream.\n	\n	aPackage sortedClasses do: [ :each |\n		self exportDefinitionOf: each on: aStream.\n		\n		self \n			exportProtocols: (self ownMethodProtocolsOfClass: each)\n			on: aStream.\n			\n		self exportMetaDefinitionOf: each on: aStream.\n		\n		self \n			exportProtocols: (self ownMethodProtocolsOfClass: each class)\n			on: aStream ].\n			\n	self \n		exportProtocols: (self extensionProtocolsOfPackage: aPackage)\n		on: aStream",messageSends:["exportPackageDefinitionOf:on:","do:","sortedClasses","exportDefinitionOf:on:","exportProtocols:on:","ownMethodProtocolsOfClass:","exportMetaDefinitionOf:on:","class","extensionProtocolsOfPackage:"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportPackageDefinitionOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o;return a=n("Smalltalk current createPackage: '".__comma(n(t)._name())).__comma("'!"),e.sendIdx[","]=1,n(s)._nextPutAll_(a),o=n(s)._lf(),r},function(n){n.fill(r,"exportPackageDefinitionOf:on:",{aPackage:t,aStream:s},e.ChunkExporter)})},args:["aPackage","aStream"],source:"exportPackageDefinitionOf: aPackage on: aStream\n	aStream\n		nextPutAll: 'Smalltalk current createPackage: ''', aPackage name, '''!';\n		lf",messageSends:["nextPutAll:",",","name","lf"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportProtocol:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){return r._exportProtocolPrologueOf_on_(t,s),n(n(t)._methods())._do_(function(t){return e.withContext(function(){return r._exportMethod_on_(t,s)},function(e){e.fillBlock({method:t},a,1)})}),r._exportProtocolEpilogueOf_on_(t,s),r},function(n){n.fill(r,"exportProtocol:on:",{aProtocol:t,aStream:s},e.ChunkExporter)})},args:["aProtocol","aStream"],source:"exportProtocol: aProtocol on: aStream\n	self exportProtocolPrologueOf: aProtocol on: aStream.\n	aProtocol methods do: [ :method | \n		self exportMethod: method on: aStream ].\n	self exportProtocolEpilogueOf: aProtocol on: aStream",messageSends:["exportProtocolPrologueOf:on:","do:","methods","exportMethod:on:","exportProtocolEpilogueOf:on:"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportProtocolEpilogueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var t;return n(s)._nextPutAll_(" !"),n(s)._lf(),e.sendIdx.lf=1,t=n(s)._lf(),r},function(n){n.fill(r,"exportProtocolEpilogueOf:on:",{aProtocol:t,aStream:s},e.ChunkExporter)
})},args:["aProtocol","aStream"],source:"exportProtocolEpilogueOf: aProtocol on: aStream\n	aStream nextPutAll: ' !'; lf; lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportProtocolPrologueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i;return a="!".__comma(r._classNameFor_(n(t)._theClass())),e.sendIdx[","]=1,n(s)._nextPutAll_(a),e.sendIdx["nextPutAll:"]=1,o=n(" methodsFor: '".__comma(n(t)._name())).__comma("'!"),e.sendIdx[","]=2,i=n(s)._nextPutAll_(o),r},function(n){n.fill(r,"exportProtocolPrologueOf:on:",{aProtocol:t,aStream:s},e.ChunkExporter)})},args:["aProtocol","aStream"],source:"exportProtocolPrologueOf: aProtocol on: aStream\n	aStream\n		nextPutAll: '!', (self classNameFor: aProtocol theClass);\n		nextPutAll: ' methodsFor: ''', aProtocol name, '''!'",messageSends:["nextPutAll:",",","classNameFor:","theClass","name"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"exportProtocols:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){return n(t)._do_(function(t){return e.withContext(function(){return r._exportProtocol_on_(t,s)},function(e){e.fillBlock({each:t},a,1)})}),r},function(n){n.fill(r,"exportProtocols:on:",{aCollection:t,aStream:s},e.ChunkExporter)})},args:["aCollection","aStream"],source:"exportProtocols: aCollection on: aStream\n	aCollection do: [ :each |\n		self exportProtocol: each on: aStream ]",messageSends:["do:","exportProtocol:on:"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"extensionCategoriesOfPackage:",category:"accessing",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}function a(){return e.Package||("undefined"==typeof Package?t:Package)}function o(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function i(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}function l(){return e.MethodCategory||("undefined"==typeof MethodCategory?t:MethodCategory)}var c,u,d,f=this;return e.withContext(function(t){var f,h;return c=n(s)._name(),d=n(r())._new(),t.sendIdx["new"]=1,n(n(a())._sortedClasses_(n(n(o())._current())._classes()))._do_(function(s){return e.withContext(function(t){return n([s,n(s)._class()])._do_(function(s){return e.withContext(function(t){return u=n(i())._new(),n(s)._protocolsDo_(function(s,r){return e.withContext(function(){return f=n(s).__eq("*".__comma(c)),e.assert(f)?n(u)._at_put_(s,r):void 0},function(e){e.fillBlock({category:s,methods:r},t,3)})}),n(d)._addAll_(n(n(n(u)._keys())._sorted_(function(s,r){return e.withContext(function(){return n(s).__lt_eq(r)},function(e){e.fillBlock({a:s,b:r},t,5)})}))._collect_(function(r){return e.withContext(function(){return n(l())._name_theClass_methods_(r,s,n(u)._at_(r))},function(e){e.fillBlock({category:r},t,6)})}))},function(e){e.fillBlock({aClass:s},t,2)})})},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["do:"]=1,h=d},function(t){t.fill(f,"extensionCategoriesOfPackage:",{aPackage:s,name:c,map:u,result:d},e.ChunkExporter)})},args:["aPackage"],source:"extensionCategoriesOfPackage: aPackage\n	\"Issue #143: sort protocol alphabetically\"\n\n	| name map result |\n	name := aPackage name.\n	result := OrderedCollection new.\n	(Package sortedClasses: Smalltalk current classes) do: [ :each |\n		{each. each class} do: [ :aClass |\n			map := Dictionary new.\n			aClass protocolsDo: [ :category :methods |\n				category = ('*', name) ifTrue: [ map at: category put: methods ] ].\n			result addAll: ((map keys sorted: [ :a :b | a <= b ]) collect: [ :category |\n				MethodCategory name: category theClass: aClass methods: (map at: category) ]) ] ].\n	^ result",messageSends:["name","new","do:","sortedClasses:","classes","current","class","protocolsDo:","ifTrue:","=",",","at:put:","addAll:","collect:","sorted:","keys","<=","name:theClass:methods:","at:"],referencedClasses:["OrderedCollection","Package","Smalltalk","Dictionary","MethodCategory"]}),e.ChunkExporter),e.addMethod(e.method({selector:"ownCategoriesOfClass:",category:"accessing",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}function a(){return e.MethodCategory||("undefined"==typeof MethodCategory?t:MethodCategory)}var o,i=this;return e.withContext(function(t){var i,l;return o=n(r())._new(),n(s)._protocolsDo_(function(s,r){return e.withContext(function(){return i=n(s)._match_("^\\*"),e.assert(i)?void 0:n(o)._at_put_(s,r)},function(e){e.fillBlock({each:s,methods:r},t,1)})}),l=n(n(n(o)._keys())._sorted_(function(s,r){return e.withContext(function(){return n(s).__lt_eq(r)},function(e){e.fillBlock({a:s,b:r},t,3)})}))._collect_(function(r){return e.withContext(function(){return n(a())._name_theClass_methods_(r,s,n(o)._at_(r))},function(e){e.fillBlock({each:r},t,4)})})},function(t){t.fill(i,"ownCategoriesOfClass:",{aClass:s,map:o},e.ChunkExporter)})},args:["aClass"],source:'ownCategoriesOfClass: aClass\n	"Answer the protocols of aClass that are not package extensions"\n	\n	"Issue #143: sort protocol alphabetically"\n\n	| map |\n	map := Dictionary new.\n	aClass protocolsDo: [ :each :methods |\n		(each match: \'^\\*\') ifFalse: [ map at: each put: methods ] ].\n	^ (map keys sorted: [ :a :b | a <= b ]) collect: [ :each |\n		MethodCategory name: each theClass: aClass methods: (map at: each) ]',messageSends:["new","protocolsDo:","ifFalse:","match:","at:put:","collect:","sorted:","keys","<=","name:theClass:methods:","at:"],referencedClasses:["Dictionary","MethodCategory"]}),e.ChunkExporter),e.addMethod(e.method({selector:"ownCategoriesOfMetaClass:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=s._ownCategoriesOfClass_(n(t)._class())},function(n){n.fill(s,"ownCategoriesOfMetaClass:",{aClass:t},e.ChunkExporter)})},args:["aClass"],source:'ownCategoriesOfMetaClass: aClass\n	"Issue #143: sort protocol alphabetically"\n\n	^ self ownCategoriesOfClass: aClass class',messageSends:["ownCategoriesOfClass:","class"],referencedClasses:[]}),e.ChunkExporter),e.addMethod(e.method({selector:"ownMethodProtocolsOfClass:",category:"accessing",fn:function(s){function r(){return e.ExportMethodProtocol||("undefined"==typeof ExportMethodProtocol?t:ExportMethodProtocol)}var a=this;return e.withContext(function(t){var a;return a=n(n(s)._ownProtocols())._collect_(function(a){return e.withContext(function(){return n(r())._name_theClass_(a,s)},function(e){e.fillBlock({each:a},t,1)})})},function(t){t.fill(a,"ownMethodProtocolsOfClass:",{aClass:s},e.ChunkExporter)})},args:["aClass"],source:'ownMethodProtocolsOfClass: aClass\n	"Answer a collection of ExportMethodProtocol object of aClass that are not package extensions"\n	\n	^ aClass ownProtocols collect: [ :each |\n		ExportMethodProtocol name: each theClass: aClass ]',messageSends:["collect:","ownProtocols","name:theClass:"],referencedClasses:["ExportMethodProtocol"]}),e.ChunkExporter),e.addClass("Exporter",e.AbstractExporter,[],"Importer-Exporter"),e.Exporter.comment="I am responsible for outputting Amber code into a JavaScript string.\n\nThe generated output is enough to reconstruct the exported data, including Smalltalk source code and other metadata.\n\n## Use case\n\nI am typically used to save code outside of the Amber runtime (committing to disk, etc.).",e.addMethod(e.method({selector:"classNameFor:",category:"convenience",fn:function(t){var s=this;return e.withContext(function(s){var r,a,o,i;return r=n(t)._isMetaclass(),e.assert(r)?(a=n(n(t)._instanceClass())._name(),s.sendIdx.name=1,i=n(a).__comma(".klass")):(o=n(t)._isNil(),i=e.assert(o)?"nil":n(t)._name()),i},function(n){n.fill(s,"classNameFor:",{aClass:t},e.Exporter)})},args:["aClass"],source:"classNameFor: aClass\n	^ aClass isMetaclass\n		ifTrue: [ aClass instanceClass name, '.klass' ]\n		ifFalse: [\n			aClass isNil\n				ifTrue: [ 'nil' ]\n				ifFalse: [ aClass name ] ]",messageSends:["ifTrue:ifFalse:","isMetaclass",",","name","instanceClass","isNil"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportDefinitionOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p,_;return n(s)._lf(),a.sendIdx.lf=1,n(s)._nextPutAll_("smalltalk.addClass("),a.sendIdx["nextPutAll:"]=1,o=r._classNameFor_(t),a.sendIdx["classNameFor:"]=1,i="'".__comma(o),a.sendIdx[","]=2,l=n(i).__comma("', "),a.sendIdx[","]=1,n(s)._nextPutAll_(l),a.sendIdx["nextPutAll:"]=2,c=r._classNameFor_(n(t)._superclass()),a.sendIdx["classNameFor:"]=2,u="smalltalk.".__comma(c),a.sendIdx[","]=3,n(s)._nextPutAll_(u),a.sendIdx["nextPutAll:"]=3,d=n(s)._nextPutAll_(", ["),a.sendIdx["nextPutAll:"]=4,n(n(t)._instanceVariableNames())._do_separatedBy_(function(t){return e.withContext(function(e){return f="'".__comma(t),e.sendIdx[","]=5,h=n(f).__comma("'"),e.sendIdx[","]=4,n(s)._nextPutAll_(h)},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(e){return n(s)._nextPutAll_(", ")},function(e){e.fillBlock({},a,2)})}),n(s)._nextPutAll_("], '"),a.sendIdx["nextPutAll:"]=7,n(s)._nextPutAll_(n(n(t)._category()).__comma("'")),a.sendIdx["nextPutAll:"]=8,m=n(s)._nextPutAll_(");"),a.sendIdx["nextPutAll:"]=9,g=n(t)._comment(),a.sendIdx.comment=1,p=n(g)._notEmpty(),e.assert(p)&&(n(s)._lf(),a.sendIdx.lf=2,n(s)._nextPutAll_("smalltalk."),a.sendIdx["nextPutAll:"]=10,n(s)._nextPutAll_(r._classNameFor_(t)),a.sendIdx["nextPutAll:"]=11,n(s)._nextPutAll_(".comment="),a.sendIdx["nextPutAll:"]=12,n(s)._nextPutAll_(n(n(t)._comment())._asJavascript()),a.sendIdx["nextPutAll:"]=13,_=n(s)._nextPutAll_(";")),n(s)._lf(),r},function(n){n.fill(r,"exportDefinitionOf:on:",{aClass:t,aStream:s},e.Exporter)})},args:["aClass","aStream"],source:"exportDefinitionOf: aClass on: aStream\n	aStream\n		lf;\n		nextPutAll: 'smalltalk.addClass(';\n		nextPutAll: '''', (self classNameFor: aClass), ''', ';\n		nextPutAll: 'smalltalk.', (self classNameFor: aClass superclass);\n		nextPutAll: ', ['.\n	aClass instanceVariableNames\n		do: [ :each | aStream nextPutAll: '''', each, '''' ]\n		separatedBy: [ aStream nextPutAll: ', ' ].\n	aStream\n		nextPutAll: '], ''';\n		nextPutAll: aClass category, '''';\n		nextPutAll: ');'.\n	aClass comment notEmpty ifTrue: [\n		aStream\n			lf;\n		nextPutAll: 'smalltalk.';\n		nextPutAll: (self classNameFor: aClass);\n		nextPutAll: '.comment=';\n		nextPutAll: aClass comment asJavascript;\n		nextPutAll: ';' ].\n	aStream lf",messageSends:["lf","nextPutAll:",",","classNameFor:","superclass","do:separatedBy:","instanceVariableNames","category","ifTrue:","notEmpty","comment","asJavascript"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportMetaDefinitionOf:on:",category:"output",fn:function(s,r){function a(){return e.String||("undefined"==typeof String?t:String)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g;return n(r)._lf(),t.sendIdx.lf=1,i=n(s)._class(),t.sendIdx["class"]=1,l=n(i)._instanceVariableNames(),t.sendIdx.instanceVariableNames=1,c=n(l)._isEmpty(),e.assert(c)||(u=n(s)._class(),t.sendIdx["class"]=2,d=o._classNameFor_(u),f="smalltalk.".__comma(d),t.sendIdx[","]=1,n(r)._nextPutAll_(f),t.sendIdx["nextPutAll:"]=1,h=n(r)._nextPutAll_(".iVarNames = ["),t.sendIdx["nextPutAll:"]=2,n(n(n(s)._class())._instanceVariableNames())._do_separatedBy_(function(s){return e.withContext(function(e){return m="'".__comma(s),e.sendIdx[","]=3,g=n(m).__comma("'"),e.sendIdx[","]=2,n(r)._nextPutAll_(g)},function(e){e.fillBlock({each:s},t,2)})},function(){return e.withContext(function(e){return n(r)._nextPutAll_(",")},function(e){e.fillBlock({},t,3)})}),n(r)._nextPutAll_("];".__comma(n(a())._lf()))),o},function(t){t.fill(o,"exportMetaDefinitionOf:on:",{aClass:s,aStream:r},e.Exporter)})},args:["aClass","aStream"],source:"exportMetaDefinitionOf: aClass on: aStream\n	aStream lf.\n	aClass class instanceVariableNames isEmpty ifFalse: [\n		aStream\n		nextPutAll: 'smalltalk.', (self classNameFor: aClass class);\n		nextPutAll: '.iVarNames = ['.\n		aClass class instanceVariableNames\n		do: [ :each | aStream nextPutAll: '''', each, '''' ]\n		separatedBy: [ aStream nextPutAll: ',' ].\n		aStream nextPutAll: '];', String lf ]",messageSends:["lf","ifFalse:","isEmpty","instanceVariableNames","class","nextPutAll:",",","classNameFor:","do:separatedBy:"],referencedClasses:["String"]}),e.Exporter),e.addMethod(e.method({selector:"exportMethod:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b;return n(s)._nextPutAll_("smalltalk.addMethod("),e.sendIdx["nextPutAll:"]=1,n(s)._lf(),e.sendIdx.lf=1,n(s)._nextPutAll_("smalltalk.method({"),e.sendIdx["nextPutAll:"]=2,n(s)._lf(),e.sendIdx.lf=2,a=n(n(t)._selector())._asJavascript(),e.sendIdx.asJavascript=1,o="selector: ".__comma(a),e.sendIdx[","]=2,i=n(o).__comma(","),e.sendIdx[","]=1,n(s)._nextPutAll_(i),e.sendIdx["nextPutAll:"]=3,n(s)._lf(),e.sendIdx.lf=3,l="category: '".__comma(n(t)._category()),e.sendIdx[","]=4,c=n(l).__comma("',"),e.sendIdx[","]=3,n(s)._nextPutAll_(c),e.sendIdx["nextPutAll:"]=4,n(s)._lf(),e.sendIdx.lf=4,u="fn: ".__comma(n(n(t)._fn())._compiledSource()),e.sendIdx[","]=6,d=n(u).__comma(","),e.sendIdx[","]=5,n(s)._nextPutAll_(d),e.sendIdx["nextPutAll:"]=5,n(s)._lf(),e.sendIdx.lf=5,f=n(n(t)._arguments())._asJavascript(),e.sendIdx.asJavascript=2,h="args: ".__comma(f),e.sendIdx[","]=8,m=n(h).__comma(","),e.sendIdx[","]=7,n(s)._nextPutAll_(m),e.sendIdx["nextPutAll:"]=6,n(s)._lf(),e.sendIdx.lf=6,g=n(n(t)._source())._asJavascript(),e.sendIdx.asJavascript=3,p="source: ".__comma(g),e.sendIdx[","]=10,_=n(p).__comma(","),e.sendIdx[","]=9,n(s)._nextPutAll_(_),e.sendIdx["nextPutAll:"]=7,n(s)._lf(),e.sendIdx.lf=7,C=n(n(t)._messageSends())._asJavascript(),e.sendIdx.asJavascript=4,v="messageSends: ".__comma(C),e.sendIdx[","]=12,x=n(v).__comma(","),e.sendIdx[","]=11,n(s)._nextPutAll_(x),e.sendIdx["nextPutAll:"]=8,n(s)._lf(),e.sendIdx.lf=8,y="referencedClasses: ".__comma(n(n(t)._referencedClasses())._asJavascript()),e.sendIdx[","]=13,S=n(s)._nextPutAll_(y),e.sendIdx["nextPutAll:"]=9,n(s)._lf(),e.sendIdx.lf=9,n(s)._nextPutAll_("}),"),e.sendIdx["nextPutAll:"]=10,n(s)._lf(),e.sendIdx.lf=10,n(s)._nextPutAll_("smalltalk.".__comma(r._classNameFor_(n(t)._methodClass()))),e.sendIdx["nextPutAll:"]=11,n(s)._nextPutAll_(");"),n(s)._lf(),e.sendIdx.lf=11,b=n(s)._lf(),r},function(n){n.fill(r,"exportMethod:on:",{aMethod:t,aStream:s},e.Exporter)})},args:["aMethod","aStream"],source:"exportMethod: aMethod on: aStream\n	aStream\n		nextPutAll: 'smalltalk.addMethod(';lf;\n		\"nextPutAll: aMethod selector asSelector asJavascript, ',';lf;\"\n		nextPutAll: 'smalltalk.method({';lf;\n		nextPutAll: 'selector: ', aMethod selector asJavascript, ',';lf;\n		nextPutAll: 'category: ''', aMethod category, ''',';lf;\n		nextPutAll: 'fn: ', aMethod fn compiledSource, ',';lf;\n		nextPutAll: 'args: ', aMethod arguments asJavascript, ','; lf;\n		nextPutAll: 'source: ', aMethod source asJavascript, ',';lf;\n		nextPutAll: 'messageSends: ', aMethod messageSends asJavascript, ',';lf;\n		nextPutAll: 'referencedClasses: ', aMethod referencedClasses asJavascript.\n	aStream\n		lf;\n		nextPutAll: '}),';lf;\n		nextPutAll: 'smalltalk.', (self classNameFor: aMethod methodClass);\n		nextPutAll: ');';lf;lf",messageSends:["nextPutAll:","lf",",","asJavascript","selector","category","compiledSource","fn","arguments","source","messageSends","referencedClasses","classNameFor:","methodClass"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportPackage:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i;return r._exportPackagePrologueOf_on_(t,s),r._exportPackageDefinitionOf_on_(t,s),o=r._exportPackageTransportOf_on_(t,s),n(n(t)._sortedClasses())._do_(function(t){return e.withContext(function(a){return r._exportDefinitionOf_on_(t,s),i=n(t)._ownMethods(),a.sendIdx.ownMethods=1,n(i)._do_(function(t){return e.withContext(function(e){return r._exportMethod_on_(t,s)},function(e){e.fillBlock({method:t},a,2)})}),a.sendIdx["do:"]=2,r._exportMetaDefinitionOf_on_(t,s),n(n(n(t)._class())._ownMethods())._do_(function(t){return e.withContext(function(e){return r._exportMethod_on_(t,s)},function(e){e.fillBlock({method:t},a,3)})})},function(e){e.fillBlock({each:t},a,1)})}),a.sendIdx["do:"]=1,n(r._extensionMethodsOfPackage_(t))._do_(function(t){return e.withContext(function(){return r._exportMethod_on_(t,s)},function(e){e.fillBlock({each:t},a,4)})}),r._exportPackageEpilogueOf_on_(t,s),r},function(n){n.fill(r,"exportPackage:on:",{aPackage:t,aStream:s},e.Exporter)})},args:["aPackage","aStream"],source:"exportPackage: aPackage on: aStream\n	\n	self \n		exportPackagePrologueOf: aPackage on: aStream;\n		exportPackageDefinitionOf: aPackage on: aStream;\n		exportPackageTransportOf: aPackage on: aStream.\n	\n	aPackage sortedClasses do: [ :each |\n		self exportDefinitionOf: each on: aStream.\n		each ownMethods do: [ :method |\n			self exportMethod: method on: aStream ].\n			\n		self exportMetaDefinitionOf: each on: aStream.\n		each class ownMethods do: [ :method |\n			self exportMethod: method on: aStream ] ].\n			\n	(self extensionMethodsOfPackage: aPackage) do: [ :each |\n		self exportMethod: each on: aStream ].\n		\n	self exportPackageEpilogueOf: aPackage on: aStream",messageSends:["exportPackagePrologueOf:on:","exportPackageDefinitionOf:on:","exportPackageTransportOf:on:","do:","sortedClasses","exportDefinitionOf:on:","ownMethods","exportMethod:on:","exportMetaDefinitionOf:on:","class","extensionMethodsOfPackage:","exportPackageEpilogueOf:on:"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportPackageDefinitionOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o;return n(s)._nextPutAll_("smalltalk.addPackage("),e.sendIdx["nextPutAll:"]=1,a=n("'".__comma(n(t)._name())).__comma("');"),e.sendIdx[","]=1,n(s)._nextPutAll_(a),o=n(s)._lf(),r},function(n){n.fill(r,"exportPackageDefinitionOf:on:",{aPackage:t,aStream:s},e.Exporter)})},args:["aPackage","aStream"],source:"exportPackageDefinitionOf: aPackage on: aStream\n	aStream\n		nextPutAll: 'smalltalk.addPackage(';\n		nextPutAll: '''', aPackage name, ''');';\n		lf",messageSends:["nextPutAll:",",","name","lf"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportPackageEpilogueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(){var e;return n(s)._nextPutAll_("})(global_smalltalk,global_nil,global__st);"),e=n(s)._lf(),r},function(n){n.fill(r,"exportPackageEpilogueOf:on:",{aPackage:t,aStream:s},e.Exporter)})},args:["aPackage","aStream"],source:"exportPackageEpilogueOf: aPackage on: aStream\n	aStream\n		nextPutAll: '})(global_smalltalk,global_nil,global__st);';\n		lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportPackagePrologueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(){var e;return n(s)._nextPutAll_("(function(smalltalk,nil,_st){"),e=n(s)._lf(),r},function(n){n.fill(r,"exportPackagePrologueOf:on:",{aPackage:t,aStream:s},e.Exporter)})},args:["aPackage","aStream"],source:"exportPackagePrologueOf: aPackage on: aStream\n	aStream\n		nextPutAll: '(function(smalltalk,nil,_st){';\n		lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"exportPackageTransportOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a;return n(s)._nextPutAll_("smalltalk.packages["),e.sendIdx["nextPutAll:"]=1,n(s)._nextPutAll_(n(n(t)._name())._asJavascript()),e.sendIdx["nextPutAll:"]=2,n(s)._nextPutAll_("].transport = "),e.sendIdx["nextPutAll:"]=3,n(s)._nextPutAll_(n(n(t)._transport())._asJSONString()),e.sendIdx["nextPutAll:"]=4,n(s)._nextPutAll_(";"),a=n(s)._lf(),r},function(n){n.fill(r,"exportPackageTransportOf:on:",{aPackage:t,aStream:s},e.Exporter)})},args:["aPackage","aStream"],source:"exportPackageTransportOf: aPackage on: aStream\n	aStream\n		nextPutAll: 'smalltalk.packages[';\n		nextPutAll: aPackage name asJavascript;\n		nextPutAll: '].transport = ';\n		nextPutAll: aPackage transport asJSONString;\n		nextPutAll: ';';\n		lf",messageSends:["nextPutAll:","asJavascript","name","asJSONString","transport","lf"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"ownMethodsOfClass:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(s){var r,a;return a=n(n(n(n(t)._methodDictionary())._values())._sorted_(function(t,a){return e.withContext(function(e){return r=n(t)._selector(),e.sendIdx.selector=1,n(r).__lt_eq(n(a)._selector())},function(e){e.fillBlock({a:t,b:a},s,1)})}))._reject_(function(t){return e.withContext(function(){return n(n(t)._category())._match_("^\\*")},function(e){e.fillBlock({each:t},s,2)})})},function(n){n.fill(s,"ownMethodsOfClass:",{aClass:t},e.Exporter)})},args:["aClass"],source:"ownMethodsOfClass: aClass\n	\"Issue #143: sort methods alphabetically\"\n\n	^ ((aClass methodDictionary values) sorted: [ :a :b | a selector <= b selector ])\n		reject: [ :each | (each category match: '^\\*') ]",messageSends:["reject:","sorted:","values","methodDictionary","<=","selector","match:","category"],referencedClasses:[]}),e.Exporter),e.addMethod(e.method({selector:"ownMethodsOfMetaClass:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=s._ownMethodsOfClass_(n(t)._class())},function(n){n.fill(s,"ownMethodsOfMetaClass:",{aClass:t},e.Exporter)})},args:["aClass"],source:'ownMethodsOfMetaClass: aClass\n	"Issue #143: sort methods alphabetically"\n\n	^ self ownMethodsOfClass: aClass class',messageSends:["ownMethodsOfClass:","class"],referencedClasses:[]}),e.Exporter),e.addClass("AmdExporter",e.Exporter,["namespace"],"Importer-Exporter"),e.AmdExporter.comment="I am used to export Packages in an AMD (Asynchronous Module Definition) JavaScript format.",e.addMethod(e.method({selector:"amdNamesOfPackages:",category:"private",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return o=n(n(t)._select_(function(t){return e.withContext(function(e){return a=s._amdNamespaceOfPackage_(t),e.sendIdx["amdNamespaceOfPackage:"]=1,n(a)._notNil()},function(e){e.fillBlock({each:t},r,1)})}))._collect_(function(t){return e.withContext(function(e){return n(n(s._amdNamespaceOfPackage_(t)).__comma("/")).__comma(n(t)._name())},function(e){e.fillBlock({each:t},r,2)})})},function(n){n.fill(s,"amdNamesOfPackages:",{anArray:t},e.AmdExporter)})},args:["anArray"],source:"amdNamesOfPackages: anArray\n	^ (anArray\n		select: [ :each | (self amdNamespaceOfPackage: each) notNil ])\n		collect: [ :each | (self amdNamespaceOfPackage: each), '/', each name ]",messageSends:["collect:","select:","notNil","amdNamespaceOfPackage:",",","name"],referencedClasses:[]}),e.AmdExporter),e.addMethod(e.method({selector:"amdNamespaceOfPackage:",category:"private",fn:function(s){var r=this;return e.withContext(function(r){var a,o,i,l;return a=n(s)._transport(),r.sendIdx.transport=1,o=n(a)._type(),i=n(o).__eq("amd"),l=e.assert(i)?n(n(s)._transport())._namespace():t},function(t){t.fill(r,"amdNamespaceOfPackage:",{aPackage:s},e.AmdExporter)})},args:["aPackage"],source:"amdNamespaceOfPackage: aPackage\n	^ (aPackage transport type = 'amd')\n		ifTrue: [ aPackage transport namespace ]\n		ifFalse: [ nil ]",messageSends:["ifTrue:ifFalse:","=","type","transport","namespace"],referencedClasses:[]}),e.AmdExporter),e.addMethod(e.method({selector:"exportPackageEpilogueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(){var e;return n(s)._nextPutAll_("});"),e=n(s)._lf(),r},function(n){n.fill(r,"exportPackageEpilogueOf:on:",{aPackage:t,aStream:s},e.AmdExporter)})},args:["aPackage","aStream"],source:"exportPackageEpilogueOf: aPackage on: aStream\n	aStream\n		nextPutAll: '});';\n		lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.AmdExporter),e.addMethod(e.method({selector:"exportPackagePrologueOf:on:",category:"output",fn:function(t,s){var r=this;return e.withContext(function(e){var a;return n(s)._nextPutAll_('define("'),e.sendIdx["nextPutAll:"]=1,n(s)._nextPutAll_(r._amdNamespaceOfPackage_(t)),e.sendIdx["nextPutAll:"]=2,n(s)._nextPutAll_("/"),e.sendIdx["nextPutAll:"]=3,n(s)._nextPutAll_(n(t)._name()),e.sendIdx["nextPutAll:"]=4,n(s)._nextPutAll_('", '),e.sendIdx["nextPutAll:"]=5,n(s)._nextPutAll_(n(["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st"].__comma(r._amdNamesOfPackages_(n(t)._loadDependencies())))._asJavascript()),e.sendIdx["nextPutAll:"]=6,n(s)._nextPutAll_(", function(smalltalk,nil,_st){"),a=n(s)._lf(),r},function(n){n.fill(r,"exportPackagePrologueOf:on:",{aPackage:t,aStream:s},e.AmdExporter)})},args:["aPackage","aStream"],source:"exportPackagePrologueOf: aPackage on: aStream\n	aStream\n		nextPutAll: 'define(\"';\n		nextPutAll: (self amdNamespaceOfPackage: aPackage);\n		nextPutAll: '/';\n		nextPutAll: aPackage name;\n		nextPutAll: '\", ';\n		nextPutAll: (#('amber_vm/smalltalk' 'amber_vm/nil' 'amber_vm/_st'), (self amdNamesOfPackages: aPackage loadDependencies)) asJavascript;\n		nextPutAll: ', function(smalltalk,nil,_st){';\n		lf",messageSends:["nextPutAll:","amdNamespaceOfPackage:","name","asJavascript",",","amdNamesOfPackages:","loadDependencies","lf"],referencedClasses:[]}),e.AmdExporter),e.addClass("ChunkParser",e.Object,["stream"],"Importer-Exporter"),e.ChunkParser.comment="I am responsible for parsing aStream contents in the chunk format.\n\n## API\n\n    ChunkParser new\n        stream: aStream;\n        nextChunk",e.addMethod(e.method({selector:"nextChunk",category:"reading",fn:function(){var s,r,a,o=this;return e.withContext(function(a){var i,l,c,u={};try{return r=""._writeStream(),n(function(){return e.withContext(function(e){return s=n(o["@stream"])._next(),e.sendIdx.next=1,n(s)._notNil()},function(e){e.fillBlock({},a,1)})})._whileTrue_(function(){return e.withContext(function(t){if(i=n(s).__eq("!"),t.sendIdx["="]=1,e.assert(i)){if(l=n(n(o["@stream"])._peek()).__eq("!"),!e.assert(l))throw c=n(n(r)._contents())._trimBoth(),u=[c];n(o["@stream"])._next()}return n(r)._nextPut_(s)},function(e){e.fillBlock({},a,2)})}),t}catch(d){if(d===u)return d[0];throw d}},function(t){t.fill(o,"nextChunk",{"char":s,result:r,chunk:a},e.ChunkParser)})},args:[],source:'nextChunk\n	"The chunk format (Smalltalk Interchange Format or Fileout format)\n	is a trivial format but can be a bit tricky to understand:\n		- Uses the exclamation mark as delimiter of chunks.\n		- Inside a chunk a normal exclamation mark must be doubled.\n		- A non empty chunk must be a valid Smalltalk expression.\n		- A chunk on top level with a preceding empty chunk is an instruction chunk:\n			- The object created by the expression then takes over reading chunks.\n\n	This method returns next chunk as a String (trimmed), empty String (all whitespace) or nil."\n\n	| char result chunk |\n	result := \'\' writeStream.\n		[ char := stream next.\n		char notNil ] whileTrue: [\n				char = \'!\' ifTrue: [\n						stream peek = \'!\'\n								ifTrue: [ stream next "skipping the escape double" ]\n								ifFalse: [ ^ result contents trimBoth "chunk end marker found" ]].\n				result nextPut: char ].\n	^ nil "a chunk needs to end with !"',messageSends:["writeStream","whileTrue:","next","notNil","ifTrue:","=","ifTrue:ifFalse:","peek","trimBoth","contents","nextPut:"],referencedClasses:[]}),e.ChunkParser),e.addMethod(e.method({selector:"stream:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@stream"]=t,n},function(s){s.fill(n,"stream:",{aStream:t},e.ChunkParser)})},args:["aStream"],source:"stream: aStream\n	stream := aStream",messageSends:[],referencedClasses:[]}),e.ChunkParser),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._new())._stream_(t)},function(n){n.fill(s,"on:",{aStream:t},e.ChunkParser.klass)})},args:["aStream"],source:"on: aStream\n	^ self new stream: aStream",messageSends:["stream:","new"],referencedClasses:[]}),e.ChunkParser.klass),e.addClass("ExportMethodProtocol",e.Object,["name","theClass"],"Importer-Exporter"),e.ExportMethodProtocol.comment="I am an abstraction for a method protocol in a class / metaclass.\n\nI know of my class, name and methods.\nI am used when exporting a package.",e.addMethod(e.method({selector:"methods",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a;return a=n(n(t._theClass())._methodsInProtocol_(t._name()))._sorted_(function(t,a){return e.withContext(function(e){return r=n(t)._selector(),e.sendIdx.selector=1,n(r).__lt_eq(n(a)._selector())},function(e){e.fillBlock({a:t,b:a},s,1)})})},function(n){n.fill(t,"methods",{},e.ExportMethodProtocol)})},args:[],source:"methods\n	^ (self theClass methodsInProtocol: self name)\n		sorted: [ :a :b | a selector <= b selector ]",messageSends:["sorted:","methodsInProtocol:","theClass","name","<=","selector"],referencedClasses:[]}),e.ExportMethodProtocol),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@name"]},function(n){n.fill(t,"name",{},e.ExportMethodProtocol)})},args:[],source:"name\n	^ name",messageSends:[],referencedClasses:[]}),e.ExportMethodProtocol),e.addMethod(e.method({selector:"name:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@name"]=t,n},function(s){s.fill(n,"name:",{aString:t},e.ExportMethodProtocol)})},args:["aString"],source:"name: aString\n	name := aString",messageSends:[],referencedClasses:[]}),e.ExportMethodProtocol),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ExportMethodProtocol)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ExportMethodProtocol),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.ExportMethodProtocol)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ExportMethodProtocol),e.addMethod(e.method({selector:"name:theClass:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._name_(t),n(e)._theClass_(s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"name:theClass:",{aString:t,aClass:s},e.ExportMethodProtocol.klass)})},args:["aString","aClass"],source:"name: aString theClass: aClass\n	^ self new\n		name: aString;\n		theClass: aClass;\n		yourself",messageSends:["name:","new","theClass:","yourself"],referencedClasses:[]}),e.ExportMethodProtocol.klass),e.addClass("Importer",e.Object,[],"Importer-Exporter"),e.Importer.comment="I can import Amber code from a string in the chunk format.\n\n## API\n\n    Importer new import: aString",e.addMethod(e.method({selector:"import:",category:"fileIn",fn:function(s){function r(){return e.ChunkParser||("undefined"==typeof ChunkParser?t:ChunkParser)}function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o,i,l,c,u=this;return e.withContext(function(t){var d,f;return l=n(r())._on_(s),c=!1,n(function(){return e.withContext(function(){return o=n(l)._nextChunk(),n(o)._isNil()},function(e){e.fillBlock({},t,1)})})._whileFalse_(function(){return e.withContext(function(){return d=n(o)._isEmpty(),e.assert(d)?c=!0:(i=n(n(a())._new())._evaluateExpression_(o),f=c,e.assert(f)?(c=!1,n(i)._scanFrom_(l)):void 0)},function(e){e.fillBlock({},t,2)})}),u},function(t){t.fill(u,"import:",{aStream:s,chunk:o,result:i,parser:l,lastEmpty:c},e.Importer)})},args:["aStream"],source:"import: aStream\n	| chunk result parser lastEmpty |\n	parser := ChunkParser on: aStream.\n	lastEmpty := false.\n	[ chunk := parser nextChunk.\n	chunk isNil ] whileFalse: [\n		chunk isEmpty\n			ifTrue: [ lastEmpty := true ]\n			ifFalse: [\n				result := Compiler new evaluateExpression: chunk.\n				lastEmpty\n						ifTrue: [\n									lastEmpty := false.\n									result scanFrom: parser ]] ]",messageSends:["on:","whileFalse:","nextChunk","isNil","ifTrue:ifFalse:","isEmpty","evaluateExpression:","new","ifTrue:","scanFrom:"],referencedClasses:["ChunkParser","Compiler"]}),e.Importer),e.addClass("PackageHandler",e.InterfacingObject,[],"Importer-Exporter"),e.PackageHandler.comment="I am responsible for handling package loading and committing.\n\nI should not be used directly. Instead, use the corresponding `Package` methods.",e.addMethod(e.method({selector:"ajaxPutAt:data:",category:"private",fn:function(t,s){var r=this;
return e.withContext(function(a){var o,i,l,c,u,d,f,h;return o="url".__minus_gt(t),a.sendIdx["->"]=1,i="type".__minus_gt("PUT"),a.sendIdx["->"]=2,l="data".__minus_gt(s),a.sendIdx["->"]=3,c="contentType".__minus_gt("text/plain;charset=UTF-8"),a.sendIdx["->"]=4,h=e.HashedCollection._from_([o,i,l,c,"error".__minus_gt(function(s){return e.withContext(function(e){return u=n("Commiting ".__comma(t)).__comma(' failed with reason: "'),e.sendIdx[","]=3,d=n(u).__comma(n(s)._responseText()),e.sendIdx[","]=2,f=n(d).__comma('"'),e.sendIdx[","]=1,r._alert_(f)},function(e){e.fillBlock({xhr:s},a,1)})})]),r._ajax_(h),r},function(n){n.fill(r,"ajaxPutAt:data:",{aURL:t,aString:s},e.PackageHandler)})},args:["aURL","aString"],source:"ajaxPutAt: aURL data: aString\n	self\n		ajax: #{\n			'url' -> aURL.\n			'type' -> 'PUT'.\n			'data' -> aString.\n			'contentType' -> 'text/plain;charset=UTF-8'.\n			'error' -> [ :xhr | self alert: 'Commiting ' , aURL , ' failed with reason: \"' , (xhr responseText) , '\"' ] }",messageSends:["ajax:","->","alert:",",","responseText"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"chunkContentsFor:",category:"accessing",fn:function(s){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var o;return o=n(r())._streamContents_(function(r){return e.withContext(function(){return n(a._chunkExporter())._exportPackage_on_(s,r)},function(e){e.fillBlock({str:r},t,1)})})},function(t){t.fill(a,"chunkContentsFor:",{aPackage:s},e.PackageHandler)})},args:["aPackage"],source:"chunkContentsFor: aPackage\n	^ String streamContents: [ :str |\n		self chunkExporter exportPackage: aPackage on: str ]",messageSends:["streamContents:","exportPackage:on:","chunkExporter"],referencedClasses:["String"]}),e.PackageHandler),e.addMethod(e.method({selector:"chunkExporter",category:"factory",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._chunkExporterClass())._new()},function(n){n.fill(t,"chunkExporter",{},e.PackageHandler)})},args:[],source:"chunkExporter\n	^ self chunkExporterClass new",messageSends:["new","chunkExporterClass"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"chunkExporterClass",category:"accessing",fn:function(){function n(){return e.ChunkExporter||("undefined"==typeof ChunkExporter?t:ChunkExporter)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"chunkExporterClass",{},e.PackageHandler)})},args:[],source:"chunkExporterClass\n	^ ChunkExporter",messageSends:[],referencedClasses:["ChunkExporter"]}),e.PackageHandler),e.addMethod(e.method({selector:"commit:",category:"committing",fn:function(t){var s=this;return e.withContext(function(r){return n([function(){return e.withContext(function(){return s._commitStFileFor_(t)},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(){return s._commitJsFileFor_(t)},function(e){e.fillBlock({},r,2)})}])._do_displayingProgress_(function(t){return e.withContext(function(){return n(t)._value()},function(e){e.fillBlock({each:t},r,3)})},"Committing package ".__comma(n(t)._name())),s},function(n){n.fill(s,"commit:",{aPackage:t},e.PackageHandler)})},args:["aPackage"],source:"commit: aPackage\n	{\n		[ self commitStFileFor: aPackage ].\n		[ self commitJsFileFor: aPackage ]\n	}\n		do: [ :each | each value ]\n		displayingProgress: 'Committing package ', aPackage name",messageSends:["do:displayingProgress:","commitStFileFor:","commitJsFileFor:","value",",","name"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"commitJsFileFor:",category:"committing",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=n(n(s._commitPathJsFor_(t)).__comma("/")).__comma(n(t)._name()),e.sendIdx[","]=2,a=n(r).__comma(".js"),e.sendIdx[","]=1,s._ajaxPutAt_data_(a,s._contentsFor_(t)),s},function(n){n.fill(s,"commitJsFileFor:",{aPackage:t},e.PackageHandler)})},args:["aPackage"],source:"commitJsFileFor: aPackage\n	self \n		ajaxPutAt: (self commitPathJsFor: aPackage), '/', aPackage name, '.js'\n		data: (self contentsFor: aPackage)",messageSends:["ajaxPutAt:data:",",","commitPathJsFor:","name","contentsFor:"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"commitPathJsFor:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(s){s.fill(n,"commitPathJsFor:",{aPackage:t},e.PackageHandler)})},args:["aPackage"],source:"commitPathJsFor: aPackage\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"commitPathStFor:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n._subclassResponsibility(),n},function(s){s.fill(n,"commitPathStFor:",{aPackage:t},e.PackageHandler)})},args:["aPackage"],source:"commitPathStFor: aPackage\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"commitStFileFor:",category:"committing",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=n(n(s._commitPathStFor_(t)).__comma("/")).__comma(n(t)._name()),e.sendIdx[","]=2,a=n(r).__comma(".st"),e.sendIdx[","]=1,s._ajaxPutAt_data_(a,s._chunkContentsFor_(t)),s},function(n){n.fill(s,"commitStFileFor:",{aPackage:t},e.PackageHandler)})},args:["aPackage"],source:"commitStFileFor: aPackage\n	self \n		ajaxPutAt: (self commitPathStFor: aPackage), '/', aPackage name, '.st'\n		data: (self chunkContentsFor: aPackage)",messageSends:["ajaxPutAt:data:",",","commitPathStFor:","name","chunkContentsFor:"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"contentsFor:",category:"accessing",fn:function(s){function r(){return e.String||("undefined"==typeof String?t:String)}var a=this;return e.withContext(function(t){var o;return o=n(r())._streamContents_(function(r){return e.withContext(function(){return n(a._exporter())._exportPackage_on_(s,r)},function(e){e.fillBlock({str:r},t,1)})})},function(t){t.fill(a,"contentsFor:",{aPackage:s},e.PackageHandler)})},args:["aPackage"],source:"contentsFor: aPackage\n	^ String streamContents: [ :str |\n		self exporter exportPackage: aPackage on: str ]",messageSends:["streamContents:","exportPackage:on:","exporter"],referencedClasses:["String"]}),e.PackageHandler),e.addMethod(e.method({selector:"exporter",category:"factory",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._exporterClass())._new()},function(n){n.fill(t,"exporter",{},e.PackageHandler)})},args:[],source:"exporter\n	^ self exporterClass new",messageSends:["new","exporterClass"],referencedClasses:[]}),e.PackageHandler),e.addMethod(e.method({selector:"exporterClass",category:"accessing",fn:function(){function n(){return e.Exporter||("undefined"==typeof Exporter?t:Exporter)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"exporterClass",{},e.PackageHandler)})},args:[],source:"exporterClass\n	^ Exporter",messageSends:[],referencedClasses:["Exporter"]}),e.PackageHandler),e.addClass("AmdPackageHandler",e.PackageHandler,[],"Importer-Exporter"),e.AmdPackageHandler.comment="I am responsible for handling package loading and committing.\n\nI should not be used directly. Instead, use the corresponding `Package` methods.",e.addMethod(e.method({selector:"commitPathJsFor:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._toUrl_(n._namespaceFor_(t))},function(s){s.fill(n,"commitPathJsFor:",{aPackage:t},e.AmdPackageHandler)})},args:["aPackage"],source:"commitPathJsFor: aPackage\n	^ self toUrl: (self namespaceFor: aPackage)",messageSends:["toUrl:","namespaceFor:"],referencedClasses:[]}),e.AmdPackageHandler),e.addMethod(e.method({selector:"commitPathStFor:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=s._toUrl_(n(s._namespaceFor_(t)).__comma("/_source"))},function(n){n.fill(s,"commitPathStFor:",{aPackage:t},e.AmdPackageHandler)})},args:["aPackage"],source:"commitPathStFor: aPackage\n	\"if _source is not mapped, .st commit will likely fail\"\n	^ self toUrl: (self namespaceFor: aPackage), '/_source'.",messageSends:["toUrl:",",","namespaceFor:"],referencedClasses:[]}),e.AmdPackageHandler),e.addMethod(e.method({selector:"exporterClass",category:"accessing",fn:function(){function n(){return e.AmdExporter||("undefined"==typeof AmdExporter?t:AmdExporter)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"exporterClass",{},e.AmdPackageHandler)})},args:[],source:"exporterClass\n	^ AmdExporter",messageSends:[],referencedClasses:["AmdExporter"]}),e.AmdPackageHandler),e.addMethod(e.method({selector:"namespaceFor:",category:"committing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(n(t)._transport())._namespace()},function(n){n.fill(s,"namespaceFor:",{aPackage:t},e.AmdPackageHandler)})},args:["aPackage"],source:"namespaceFor: aPackage\n	^ aPackage transport namespace",messageSends:["namespace","transport"],referencedClasses:[]}),e.AmdPackageHandler),e.addMethod(e.method({selector:"toUrl:",category:"private",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e,o;if(e=n(n(r())._current())._amdRequire(),($receiver=e)==t||null==$receiver)o=a._error_("AMD loader not present");else{var i;i=$receiver,o=n(n(i)._basicAt_("toUrl"))._value_(s)}return o},function(t){t.fill(a,"toUrl:",{aString:s},e.AmdPackageHandler)})},args:["aString"],source:"toUrl: aString\n	^ Smalltalk current amdRequire\n		ifNil: [ self error: 'AMD loader not present' ]\n		ifNotNil: [ :require | (require basicAt: 'toUrl') value: aString ]",messageSends:["ifNil:ifNotNil:","amdRequire","current","error:","value:","basicAt:"],referencedClasses:["Smalltalk"]}),e.AmdPackageHandler),e.addMethod(e.method({selector:"defaultNamespace",category:"commit paths",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._current())._defaultAmdNamespace()},function(t){t.fill(r,"defaultNamespace",{},e.AmdPackageHandler.klass)})},args:[],source:"defaultNamespace\n	^ Smalltalk current defaultAmdNamespace",messageSends:["defaultAmdNamespace","current"],referencedClasses:["Smalltalk"]}),e.AmdPackageHandler.klass),e.addMethod(e.method({selector:"defaultNamespace:",category:"commit paths",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){return n(n(r())._current())._defaultAmdNamespace_(s),a},function(t){t.fill(a,"defaultNamespace:",{aString:s},e.AmdPackageHandler.klass)})},args:["aString"],source:"defaultNamespace: aString\n	Smalltalk current defaultAmdNamespace: aString",messageSends:["defaultAmdNamespace:","current"],referencedClasses:["Smalltalk"]}),e.AmdPackageHandler.klass),e.addClass("PackageTransport",e.Object,["package"],"Importer-Exporter"),e.PackageTransport.comment="I represent the transport mechanism used to commit a package.\n\nMy concrete subclasses have a `#handler` to which committing is delegated.",e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var n;return n=e.HashedCollection._from_(["type".__minus_gt(t._type())])},function(n){n.fill(t,"asJSON",{},e.PackageTransport)})},args:[],source:"asJSON\n	^ #{ 'type' -> self type }",messageSends:["->","type"],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"commit",category:"committing",fn:function(){var t=this;return e.withContext(function(){return n(t._commitHandler())._commit_(t._package()),t},function(n){n.fill(t,"commit",{},e.PackageTransport)})},args:[],source:"commit\n	self commitHandler commit: self package",messageSends:["commit:","commitHandler","package"],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"commitHandler",category:"factory",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._commitHandlerClass())._new()},function(n){n.fill(t,"commitHandler",{},e.PackageTransport)})},args:[],source:"commitHandler\n	^ self commitHandlerClass new",messageSends:["new","commitHandlerClass"],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"commitHandlerClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"commitHandlerClass",{},e.PackageTransport)})},args:[],source:"commitHandlerClass\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return""},function(n){n.fill(t,"definition",{},e.PackageTransport)})},args:[],source:"definition\n	^ ''",messageSends:[],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"package",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@package"]},function(n){n.fill(t,"package",{},e.PackageTransport)})},args:[],source:"package\n	^ package",messageSends:[],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"package:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@package"]=t,n},function(s){s.fill(n,"package:",{aPackage:t},e.PackageTransport)})},args:["aPackage"],source:"package: aPackage\n	package := aPackage",messageSends:[],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"setupFromJson:",category:"initialization",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"setupFromJson:",{anObject:t},e.PackageTransport)})},args:["anObject"],source:'setupFromJson: anObject\n	"no op. override if needed in subclasses"',messageSends:[],referencedClasses:[]}),e.PackageTransport),e.addMethod(e.method({selector:"type",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._type()},function(n){n.fill(t,"type",{},e.PackageTransport)})},args:[],source:"type\n	^ self class type",messageSends:["type","class"],referencedClasses:[]}),e.PackageTransport),e.PackageTransport.klass.iVarNames=["registry"],e.addMethod(e.method({selector:"classRegisteredFor:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s["@registry"])._at_(t)},function(n){n.fill(s,"classRegisteredFor:",{aString:t},e.PackageTransport.klass)})},args:["aString"],source:"classRegisteredFor: aString\n	^ registry at: aString",messageSends:["at:"],referencedClasses:[]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"defaultType",category:"accessing",fn:function(){function s(){return e.AmdPackageTransport||("undefined"==typeof AmdPackageTransport?t:AmdPackageTransport)}var r=this;return e.withContext(function(){var e;return e=n(s())._type()},function(t){t.fill(r,"defaultType",{},e.PackageTransport.klass)})},args:[],source:"defaultType\n	^ AmdPackageTransport type",messageSends:["type"],referencedClasses:["AmdPackageTransport"]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"for:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._classRegisteredFor_(t))._new()},function(n){n.fill(s,"for:",{aString:t},e.PackageTransport.klass)})},args:["aString"],source:"for: aString\n	^ (self classRegisteredFor: aString) new",messageSends:["new","classRegisteredFor:"],referencedClasses:[]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"fromJson:",category:"instance creation",fn:function(s){var r=this;return e.withContext(function(e){var a,o,i,l;return($receiver=s)==t||null==$receiver?(a=r._for_(r._defaultType()),e.sendIdx["for:"]=1,a):(o=r._for_(n(s)._type()),n(o)._setupFromJson_(s),i=n(o)._yourself(),l=i)},function(t){t.fill(r,"fromJson:",{anObject:s},e.PackageTransport.klass)})},args:["anObject"],source:"fromJson: anObject\n	anObject ifNil: [ ^ self for: self defaultType ].\n	\n	^ (self for: anObject type)\n		setupFromJson: anObject;\n		yourself",messageSends:["ifNil:","for:","defaultType","setupFromJson:","type","yourself"],referencedClasses:[]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.PackageTransport.klass.superclass.fn.prototype._initialize.apply(n(t),[]),t["@registry"]=e.HashedCollection._from_([]),t._register(),t},function(n){n.fill(t,"initialize",{},e.PackageTransport.klass)})},args:[],source:"initialize\n	super initialize.\n	registry := #{}.\n	self register",messageSends:["initialize","register"],referencedClasses:[]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"register",category:"registration",fn:function(){function s(){return e.PackageTransport||("undefined"==typeof PackageTransport?t:PackageTransport)}var r=this;return e.withContext(function(){return n(s())._register_(r),r},function(t){t.fill(r,"register",{},e.PackageTransport.klass)})},args:[],source:"register\n	PackageTransport register: self",messageSends:["register:"],referencedClasses:["PackageTransport"]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"register:",category:"registration",fn:function(s){var r=this;return e.withContext(function(e){var a;return a=n(s)._type(),e.sendIdx.type=1,($receiver=a)==t||null==$receiver||n(r["@registry"])._at_put_(n(s)._type(),s),r},function(t){t.fill(r,"register:",{aClass:s},e.PackageTransport.klass)})},args:["aClass"],source:"register: aClass\n	aClass type ifNotNil: [\n		registry at: aClass type put: aClass ]",messageSends:["ifNotNil:","type","at:put:"],referencedClasses:[]}),e.PackageTransport.klass),e.addMethod(e.method({selector:"type",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return t},function(t){t.fill(n,"type",{},e.PackageTransport.klass)})},args:[],source:'type\n	"Override in subclasses"\n	^ nil',messageSends:[],referencedClasses:[]}),e.PackageTransport.klass),e.addClass("AmdPackageTransport",e.PackageTransport,["namespace"],"Importer-Exporter"),e.AmdPackageTransport.comment="I am the default transport for committing packages.\n\nSee `AmdExporter` and `AmdPackageHandler`.",e.addMethod(e.method({selector:"asJSON",category:"converting",fn:function(){var t=this;return e.withContext(function(){var s,r,a;return s=e.AmdPackageTransport.superclass.fn.prototype._asJSON.apply(n(t),[]),n(s)._at_put_("amdNamespace",t._namespace()),r=n(s)._yourself(),a=r},function(n){n.fill(t,"asJSON",{},e.AmdPackageTransport)})},args:[],source:"asJSON\n	^ super asJSON\n		at: 'amdNamespace' put: self namespace;\n		yourself",messageSends:["at:put:","asJSON","namespace","yourself"],referencedClasses:[]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"commitHandlerClass",category:"accessing",fn:function(){function n(){return e.AmdPackageHandler||("undefined"==typeof AmdPackageHandler?t:AmdPackageHandler)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"commitHandlerClass",{},e.AmdPackageTransport)})},args:[],source:"commitHandlerClass\n	^ AmdPackageHandler",messageSends:[],referencedClasses:["AmdPackageHandler"]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"defaultNamespace",category:"defaults",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=n(n(s())._current())._defaultAmdNamespace()},function(t){t.fill(r,"defaultNamespace",{},e.AmdPackageTransport)})},args:[],source:"defaultNamespace\n	^ Smalltalk current defaultAmdNamespace",messageSends:["defaultAmdNamespace","current"],referencedClasses:["Smalltalk"]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"definition",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a,o,i;return i=n(s())._streamContents_(function(s){return e.withContext(function(e){return n(s)._nextPutAll_(n(r._class())._name()),e.sendIdx["nextPutAll:"]=1,n(s)._nextPutAll_(" namespace: "),e.sendIdx["nextPutAll:"]=2,a=n("'".__comma(r._namespace())).__comma("'"),e.sendIdx[","]=1,o=n(s)._nextPutAll_(a)},function(e){e.fillBlock({stream:s},t,1)})})},function(t){t.fill(r,"definition",{},e.AmdPackageTransport)})},args:[],source:"definition\n	^ String streamContents: [ :stream |\n		stream \n			nextPutAll: self class name;\n			nextPutAll: ' namespace: ';\n			nextPutAll: '''', self namespace, '''' ]",messageSends:["streamContents:","nextPutAll:","name","class",",","namespace"],referencedClasses:["String"]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"namespace",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@namespace"],s=($receiver=e)==t||null==$receiver?n._defaultNamespace():e},function(t){t.fill(n,"namespace",{},e.AmdPackageTransport)})},args:[],source:"namespace\n	^ namespace ifNil: [ self defaultNamespace ]",messageSends:["ifNil:","defaultNamespace"],referencedClasses:[]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"namespace:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@namespace"]=t,n},function(s){s.fill(n,"namespace:",{aString:t},e.AmdPackageTransport)})},args:["aString"],source:"namespace: aString\n	namespace := aString",messageSends:[],referencedClasses:[]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"printOn:",category:"printing",fn:function(t){var s=this;return e.withContext(function(r){var a;return e.AmdPackageTransport.superclass.fn.prototype._printOn_.apply(n(s),[t]),n(t)._nextPutAll_(" (AMD Namespace: "),r.sendIdx["nextPutAll:"]=1,n(t)._nextPutAll_(s._namespace()),r.sendIdx["nextPutAll:"]=2,a=n(t)._nextPutAll_(")"),s},function(n){n.fill(s,"printOn:",{aStream:t},e.AmdPackageTransport)})},args:["aStream"],source:"printOn: aStream\n	super printOn: aStream.\n	aStream\n		nextPutAll: ' (AMD Namespace: ';\n		nextPutAll: self namespace;\n		nextPutAll: ')'",messageSends:["printOn:","nextPutAll:","namespace"],referencedClasses:[]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"setupFromJson:",category:"initialization",fn:function(t){var s=this;return e.withContext(function(){return s._namespace_(n(t)._at_("amdNamespace")),s},function(n){n.fill(s,"setupFromJson:",{anObject:t},e.AmdPackageTransport)})},args:["anObject"],source:"setupFromJson: anObject\n	self namespace: (anObject at: 'amdNamespace')",messageSends:["namespace:","at:"],referencedClasses:[]}),e.AmdPackageTransport),e.addMethod(e.method({selector:"namespace:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._namespace_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"namespace:",{aString:t},e.AmdPackageTransport.klass)})},args:["aString"],source:"namespace: aString\n	^ self new\n		namespace: aString;\n		yourself",messageSends:["namespace:","new","yourself"],referencedClasses:[]}),e.AmdPackageTransport.klass),e.addMethod(e.method({selector:"type",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"amd"},function(n){n.fill(t,"type",{},e.AmdPackageTransport.klass)})},args:[],source:"type\n	^ 'amd'",messageSends:[],referencedClasses:[]}),e.AmdPackageTransport.klass),e.addMethod(e.method({selector:"commit",category:"*Importer-Exporter",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._transport())._commit()},function(n){n.fill(t,"commit",{},e.Package)})},args:[],source:"commit\n	^ self transport commit",messageSends:["commit","transport"],referencedClasses:[]}),e.Package)}),define("amber_core/Compiler-Exceptions",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Exceptions"],function(e,t,n){e.addPackage("Compiler-Exceptions"),e.packages["Compiler-Exceptions"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("CompilerError",e.Error,[],"Compiler-Exceptions"),e.CompilerError.comment="I am the common superclass of all compiling errors.",e.addClass("ParseError",e.CompilerError,[],"Compiler-Exceptions"),e.ParseError.comment="Instance of ParseError are signaled on any parsing error.\nSee `Smalltalk >> #parse:`",e.addClass("SemanticError",e.CompilerError,[],"Compiler-Exceptions"),e.SemanticError.comment="I represent an abstract semantic error thrown by the SemanticAnalyzer.\nSemantic errors can be unknown variable errors, etc.\nSee my subclasses for concrete errors.\n\nThe IDE should catch instances of Semantic error to deal with them when compiling",e.addClass("InliningError",e.SemanticError,[],"Compiler-Exceptions"),e.InliningError.comment="Instances of InliningError are signaled when using an `InliningCodeGenerator`in a `Compiler`.",e.addClass("InvalidAssignmentError",e.SemanticError,["variableName"],"Compiler-Exceptions"),e.InvalidAssignmentError.comment="I get signaled when a pseudo variable gets assigned.",e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=" Invalid assignment to variable: ".__comma(t._variableName())},function(n){n.fill(t,"messageText",{},e.InvalidAssignmentError)})},args:[],source:"messageText\n	^ ' Invalid assignment to variable: ', self variableName",messageSends:[",","variableName"],referencedClasses:[]}),e.InvalidAssignmentError),e.addMethod(e.method({selector:"variableName",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@variableName"]},function(n){n.fill(t,"variableName",{},e.InvalidAssignmentError)})},args:[],source:"variableName\n	^ variableName",messageSends:[],referencedClasses:[]}),e.InvalidAssignmentError),e.addMethod(e.method({selector:"variableName:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@variableName"]=t,n},function(s){s.fill(n,"variableName:",{aString:t},e.InvalidAssignmentError)})},args:["aString"],source:"variableName: aString\n	variableName := aString",messageSends:[],referencedClasses:[]}),e.InvalidAssignmentError),e.addClass("ShadowingVariableError",e.SemanticError,["variableName"],"Compiler-Exceptions"),e.ShadowingVariableError.comment="I get signaled when a variable in a block or method scope shadows a variable of the same name in an outer scope.",e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n("Variable shadowing error: ".__comma(t._variableName())).__comma(" is already defined"),e.sendIdx[","]=1,s},function(n){n.fill(t,"messageText",{},e.ShadowingVariableError)})},args:[],source:"messageText\n	^ 'Variable shadowing error: ', self variableName, ' is already defined'",messageSends:[",","variableName"],referencedClasses:[]}),e.ShadowingVariableError),e.addMethod(e.method({selector:"variableName",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@variableName"]},function(n){n.fill(t,"variableName",{},e.ShadowingVariableError)})},args:[],source:"variableName\n	^ variableName",messageSends:[],referencedClasses:[]}),e.ShadowingVariableError),e.addMethod(e.method({selector:"variableName:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@variableName"]=t,n},function(s){s.fill(n,"variableName:",{aString:t},e.ShadowingVariableError)})},args:["aString"],source:"variableName: aString\n	variableName := aString",messageSends:[],referencedClasses:[]}),e.ShadowingVariableError),e.addClass("UnknownVariableError",e.SemanticError,["variableName"],"Compiler-Exceptions"),e.UnknownVariableError.comment="I get signaled when a variable is not defined.\nThe default behavior is to allow it, as this is how Amber currently is able to seamlessly send messages to JavaScript objects.",e.addMethod(e.method({selector:"messageText",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n("Unknown Variable error: ".__comma(t._variableName())).__comma(" is not defined"),e.sendIdx[","]=1,s},function(n){n.fill(t,"messageText",{},e.UnknownVariableError)})},args:[],source:"messageText\n	^ 'Unknown Variable error: ', self variableName, ' is not defined'",messageSends:[",","variableName"],referencedClasses:[]}),e.UnknownVariableError),e.addMethod(e.method({selector:"variableName",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@variableName"]},function(n){n.fill(t,"variableName",{},e.UnknownVariableError)})},args:[],source:"variableName\n	^ variableName",messageSends:[],referencedClasses:[]}),e.UnknownVariableError),e.addMethod(e.method({selector:"variableName:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@variableName"]=t,n},function(s){s.fill(n,"variableName:",{aString:t},e.UnknownVariableError)})},args:["aString"],source:"variableName: aString\n	variableName := aString",messageSends:[],referencedClasses:[]}),e.UnknownVariableError),e.addClass("RethrowErrorHandler",e.ErrorHandler,[],"Compiler-Exceptions"),e.RethrowErrorHandler.comment="This class is used in the commandline version of the compiler.\nIt uses the handleError: message of ErrorHandler for printing the stacktrace and throws the error again as JS exception.\nAs a result Smalltalk errors are not swallowd by the Amber runtime and compilation can be aborted.",e.addMethod(e.method({selector:"basicSignal:",category:"error handling",fn:function(t){var n=this;return e.withContext(function(){throw t},function(s){s.fill(n,"basicSignal:",{anError:t},e.RethrowErrorHandler)})},args:["anError"],source:"basicSignal: anError\n	<throw anError>",messageSends:[],referencedClasses:[]}),e.RethrowErrorHandler),e.addMethod(e.method({selector:"handleError:",category:"error handling",fn:function(t){var s=this;return e.withContext(function(){return e.RethrowErrorHandler.superclass.fn.prototype._handleError_.apply(n(s),[t]),s._basicSignal_(t),s},function(n){n.fill(s,"handleError:",{anError:t},e.RethrowErrorHandler)})},args:["anError"],source:"handleError: anError\n	super handleError: anError.\n	self basicSignal: anError",messageSends:["handleError:","basicSignal:"],referencedClasses:[]}),e.RethrowErrorHandler)}),define("amber_core/Compiler-Core",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(smalltalk,nil,_st){smalltalk.addPackage("Compiler-Core"),smalltalk.packages["Compiler-Core"].transport={type:"amd",amdNamespace:"amber_core"},smalltalk.addClass("AbstractCodeGenerator",smalltalk.Object,["currentClass","source"],"Compiler-Core"),smalltalk.AbstractCodeGenerator.comment="I am the abstract super class of all code generators and provide their common API.",smalltalk.addMethod(smalltalk.method({selector:"classNameFor:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(t){var n,s,r,a;return n=_st(e)._isMetaclass(),smalltalk.assert(n)?(s=_st(_st(e)._instanceClass())._name(),t.sendIdx.name=1,a=_st(s).__comma(".klass")):(r=_st(e)._isNil(),a=smalltalk.assert(r)?"nil":_st(e)._name()),a},function(n){n.fill(t,"classNameFor:",{aClass:e},smalltalk.AbstractCodeGenerator)})},args:["aClass"],source:"classNameFor: aClass\n	^ aClass isMetaclass\n		ifTrue: [ aClass instanceClass name, '.klass' ]\n		ifFalse: [\n		aClass isNil\n			ifTrue: [ 'nil' ]\n			ifFalse: [ aClass name ]]",messageSends:["ifTrue:ifFalse:","isMetaclass",",","name","instanceClass","isNil"],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"compileNode:",category:"compiling",fn:function(e){var t=this;
return smalltalk.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"compileNode:",{aNode:e},smalltalk.AbstractCodeGenerator)})},args:["aNode"],source:"compileNode: aNode\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"currentClass",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@currentClass"]},function(t){t.fill(e,"currentClass",{},smalltalk.AbstractCodeGenerator)})},args:[],source:"currentClass\n	^ currentClass",messageSends:[],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"currentClass:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@currentClass"]=e,t},function(n){n.fill(t,"currentClass:",{aClass:e},smalltalk.AbstractCodeGenerator)})},args:["aClass"],source:"currentClass: aClass\n	currentClass := aClass",messageSends:[],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"pseudoVariables",category:"accessing",fn:function(){function e(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var t=this;return smalltalk.withContext(function(){var t;return t=_st(_st(e())._current())._pseudoVariableNames()},function(e){e.fill(t,"pseudoVariables",{},smalltalk.AbstractCodeGenerator)})},args:[],source:"pseudoVariables\n	^ Smalltalk current pseudoVariableNames",messageSends:["pseudoVariableNames","current"],referencedClasses:["Smalltalk"]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"safeVariableNameFor:",category:"accessing",fn:function(e){function t(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var n=this;return smalltalk.withContext(function(){var n,s;return n=_st(_st(_st(t())._current())._reservedWords())._includes_(e),s=smalltalk.assert(n)?_st(e).__comma("_"):e},function(t){t.fill(n,"safeVariableNameFor:",{aString:e},smalltalk.AbstractCodeGenerator)})},args:["aString"],source:"safeVariableNameFor: aString\n	^ (Smalltalk current reservedWords includes: aString)\n		ifTrue: [ aString, '_' ]\n		ifFalse: [ aString ]",messageSends:["ifTrue:ifFalse:","includes:","reservedWords","current",","],referencedClasses:["Smalltalk"]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"source",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@source"],n=($receiver=t)==nil||null==$receiver?"":t},function(t){t.fill(e,"source",{},smalltalk.AbstractCodeGenerator)})},args:[],source:"source\n	^ source ifNil: [ '' ]",messageSends:["ifNil:"],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"source:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@source"]=e,t},function(n){n.fill(t,"source:",{aString:e},smalltalk.AbstractCodeGenerator)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),smalltalk.AbstractCodeGenerator),smalltalk.addClass("CodeGenerator",smalltalk.AbstractCodeGenerator,[],"Compiler-Core"),smalltalk.CodeGenerator.comment="I am a basic code generator. I generate a valid JavaScript output, but no not perform any inlining.\nSee `InliningCodeGenerator` for an optimized JavaScript code generation.",smalltalk.addMethod(smalltalk.method({selector:"compileNode:",category:"compiling",fn:function(e){var t,n,s=this;return smalltalk.withContext(function(n){var r,a,o;return _st(s._semanticAnalyzer())._visit_(e),n.sendIdx["visit:"]=1,t=_st(s._translator())._visit_(e),n.sendIdx["visit:"]=2,r=s._irTranslator(),_st(r)._currentClass_(s._currentClass()),_st(r)._visit_(t),a=_st(r)._contents(),o=a},function(r){r.fill(s,"compileNode:",{aNode:e,ir:t,stream:n},smalltalk.CodeGenerator)})},args:["aNode"],source:"compileNode: aNode\n	| ir stream |\n	self semanticAnalyzer visit: aNode.\n	ir := self translator visit: aNode.\n	^ self irTranslator\n		currentClass: self currentClass;\n		visit: ir;\n		contents",messageSends:["visit:","semanticAnalyzer","translator","currentClass:","irTranslator","currentClass","contents"],referencedClasses:[]}),smalltalk.CodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"irTranslator",category:"compiling",fn:function(){function e(){return smalltalk.IRJSTranslator||("undefined"==typeof IRJSTranslator?nil:IRJSTranslator)}var t=this;return smalltalk.withContext(function(){var t;return t=_st(e())._new()},function(e){e.fill(t,"irTranslator",{},smalltalk.CodeGenerator)})},args:[],source:"irTranslator\n	^ IRJSTranslator new",messageSends:["new"],referencedClasses:["IRJSTranslator"]}),smalltalk.CodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"semanticAnalyzer",category:"compiling",fn:function(){function e(){return smalltalk.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?nil:SemanticAnalyzer)}var t=this;return smalltalk.withContext(function(){var n;return n=_st(e())._on_(t._currentClass())},function(e){e.fill(t,"semanticAnalyzer",{},smalltalk.CodeGenerator)})},args:[],source:"semanticAnalyzer\n	^ SemanticAnalyzer on: self currentClass",messageSends:["on:","currentClass"],referencedClasses:["SemanticAnalyzer"]}),smalltalk.CodeGenerator),smalltalk.addMethod(smalltalk.method({selector:"translator",category:"compiling",fn:function(){function e(){return smalltalk.IRASTTranslator||("undefined"==typeof IRASTTranslator?nil:IRASTTranslator)}var t=this;return smalltalk.withContext(function(){var n,s,r;return n=_st(e())._new(),_st(n)._source_(t._source()),_st(n)._theClass_(t._currentClass()),s=_st(n)._yourself(),r=s},function(e){e.fill(t,"translator",{},smalltalk.CodeGenerator)})},args:[],source:"translator\n	^ IRASTTranslator new\n		source: self source;\n		theClass: self currentClass;\n		yourself",messageSends:["source:","new","source","theClass:","currentClass","yourself"],referencedClasses:["IRASTTranslator"]}),smalltalk.CodeGenerator),smalltalk.addClass("Compiler",smalltalk.Object,["currentClass","source","unknownVariables","codeGeneratorClass"],"Compiler-Core"),smalltalk.Compiler.comment="I provide the public interface for compiling Amber source code into JavaScript.\n\nThe code generator used to produce JavaScript can be plugged with `#codeGeneratorClass`.\nThe default code generator is an instance of `InlinedCodeGenerator`",smalltalk.addMethod(smalltalk.method({selector:"codeGeneratorClass",category:"accessing",fn:function(){function e(){return smalltalk.InliningCodeGenerator||("undefined"==typeof InliningCodeGenerator?nil:InliningCodeGenerator)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@codeGeneratorClass"],s=($receiver=n)==nil||null==$receiver?e():n},function(e){e.fill(t,"codeGeneratorClass",{},smalltalk.Compiler)})},args:[],source:"codeGeneratorClass\n	^ codeGeneratorClass ifNil: [ InliningCodeGenerator ]",messageSends:["ifNil:"],referencedClasses:["InliningCodeGenerator"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"codeGeneratorClass:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@codeGeneratorClass"]=e,t},function(n){n.fill(t,"codeGeneratorClass:",{aClass:e},smalltalk.Compiler)})},args:["aClass"],source:"codeGeneratorClass: aClass\n	codeGeneratorClass := aClass",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"compile:",category:"compiling",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._compileNode_(t._parse_(e))},function(n){n.fill(t,"compile:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:"compile: aString\n	^ self compileNode: (self parse: aString)",messageSends:["compileNode:","parse:"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"compile:forClass:",category:"compiling",fn:function(e,t){var n=this;return smalltalk.withContext(function(){var s;return n._currentClass_(t),n._source_(e),s=n._compile_(e)},function(s){s.fill(n,"compile:forClass:",{aString:e,aClass:t},smalltalk.Compiler)})},args:["aString","aClass"],source:"compile: aString forClass: aClass\n	self currentClass: aClass.\n	self source: aString.\n	^ self compile: aString",messageSends:["currentClass:","source:","compile:"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"compileExpression:",category:"compiling",fn:function(e){function t(){return smalltalk.DoIt||("undefined"==typeof DoIt?nil:DoIt)}var n=this;return smalltalk.withContext(function(s){var r,a;return n._currentClass_(t()),r=_st("doIt ^ [ ".__comma(e)).__comma(" ] value"),s.sendIdx[","]=1,n._source_(r),a=n._compileNode_(n._parse_(n._source()))},function(t){t.fill(n,"compileExpression:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:"compileExpression: aString\n	self currentClass: DoIt.\n	self source: 'doIt ^ [ ', aString, ' ] value'.\n	^ self compileNode: (self parse: self source)",messageSends:["currentClass:","source:",",","compileNode:","parse:","source"],referencedClasses:["DoIt"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"compileExpression:on:",category:"compiling",fn:function(e,t){var n=this;return smalltalk.withContext(function(s){var r,a;return n._currentClass_(_st(t)._class()),r=_st("xxxDoIt ^ [ ".__comma(e)).__comma(" ] value"),s.sendIdx[","]=1,n._source_(r),a=n._compileNode_(n._parse_(n._source()))},function(s){s.fill(n,"compileExpression:on:",{aString:e,anObject:t},smalltalk.Compiler)})},args:["aString","anObject"],source:"compileExpression: aString on: anObject\n	self currentClass: anObject class.\n	self source: 'xxxDoIt ^ [ ', aString, ' ] value'.\n	^ self compileNode: (self parse: self source)",messageSends:["currentClass:","class","source:",",","compileNode:","parse:","source"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"compileNode:",category:"compiling",fn:function(e){var t,n,s=this;return smalltalk.withContext(function(){var r,a,o;return t=_st(s._codeGeneratorClass())._new(),r=t,_st(r)._source_(s._source()),a=_st(r)._currentClass_(s._currentClass()),n=_st(t)._compileNode_(e),s._unknownVariables_([]),o=n},function(r){r.fill(s,"compileNode:",{aNode:e,generator:t,result:n},smalltalk.Compiler)})},args:["aNode"],source:"compileNode: aNode\n	| generator result |\n	generator := self codeGeneratorClass new.\n	generator\n		source: self source;\n		currentClass: self currentClass.\n	result := generator compileNode: aNode.\n	self unknownVariables: #().\n	^ result",messageSends:["new","codeGeneratorClass","source:","source","currentClass:","currentClass","compileNode:","unknownVariables:"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"currentClass",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@currentClass"]},function(t){t.fill(e,"currentClass",{},smalltalk.Compiler)})},args:[],source:"currentClass\n	^ currentClass",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"currentClass:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@currentClass"]=e,t},function(n){n.fill(t,"currentClass:",{aClass:e},smalltalk.Compiler)})},args:["aClass"],source:"currentClass: aClass\n	currentClass := aClass",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"eval:",category:"compiling",fn:function(aString){var self=this;return smalltalk.withContext(function($ctx1){return eval(aString)},function(e){e.fill(self,"eval:",{aString:aString},smalltalk.Compiler)})},args:["aString"],source:"eval: aString\n	<return eval(aString)>",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"evaluateExpression:",category:"compiling",fn:function(e){function t(){return smalltalk.DoIt||("undefined"==typeof DoIt?nil:DoIt)}var n=this;return smalltalk.withContext(function(){var s;return s=n._evaluateExpression_on_(e,_st(t())._new())},function(t){t.fill(n,"evaluateExpression:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:'evaluateExpression: aString\n	"Unlike #eval: evaluate a Smalltalk expression and answer the returned object"\n	^ self evaluateExpression: aString on: DoIt new',messageSends:["evaluateExpression:on:","new"],referencedClasses:["DoIt"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"evaluateExpression:on:",category:"compiling",fn:function(e,t){var n,s,r=this;return smalltalk.withContext(function(a){var o,i;return s=r._eval_(r._compileExpression_on_(e,t)),_st(s)._category_("xxxDoIt"),o=_st(t)._class(),a.sendIdx["class"]=1,_st(o)._addCompiledMethod_(s),n=_st(t)._xxxDoIt(),_st(_st(t)._class())._removeCompiledMethod_(s),i=n},function(a){a.fill(r,"evaluateExpression:on:",{aString:e,anObject:t,result:n,method:s},smalltalk.Compiler)})},args:["aString","anObject"],source:"evaluateExpression: aString on: anObject\n	\"Unlike #eval: evaluate a Smalltalk expression with anObject as the receiver and answer the returned object\"\n	| result method |\n	method := self eval: (self compileExpression: aString on: anObject).\n	method category: 'xxxDoIt'.\n	anObject class addCompiledMethod: method.\n	result := anObject xxxDoIt.\n	anObject class removeCompiledMethod: method.\n	^ result",messageSends:["eval:","compileExpression:on:","category:","addCompiledMethod:","class","xxxDoIt","removeCompiledMethod:"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"install:forClass:category:",category:"compiling",fn:function(e,t,n){function s(){return smalltalk.ClassBuilder||("undefined"==typeof ClassBuilder?nil:ClassBuilder)}var r=this;return smalltalk.withContext(function(){var a;return a=_st(_st(s())._new())._installMethod_forClass_category_(r._eval_(r._compile_forClass_(e,t)),t,n)},function(s){s.fill(r,"install:forClass:category:",{aString:e,aBehavior:t,anotherString:n},smalltalk.Compiler)})},args:["aString","aBehavior","anotherString"],source:"install: aString forClass: aBehavior category: anotherString\n	^ ClassBuilder new\n		installMethod: (self eval: (self compile: aString forClass: aBehavior))\n		forClass: aBehavior\n		category: anotherString",messageSends:["installMethod:forClass:category:","new","eval:","compile:forClass:"],referencedClasses:["ClassBuilder"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"parse:",category:"compiling",fn:function(e){function t(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var n=this;return smalltalk.withContext(function(){var n;return n=_st(_st(t())._current())._parse_(e)},function(t){t.fill(n,"parse:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:"parse: aString\n	^ Smalltalk current parse: aString",messageSends:["parse:","current"],referencedClasses:["Smalltalk"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"parseExpression:",category:"compiling",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s,r;return s=_st("doIt ^ [ ".__comma(e)).__comma(" ] value"),n.sendIdx[","]=1,r=t._parse_(s)},function(n){n.fill(t,"parseExpression:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:"parseExpression: aString\n	^ self parse: 'doIt ^ [ ', aString, ' ] value'",messageSends:["parse:",","],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"recompile:",category:"compiling",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return _st(_st(_st(e)._methodDictionary())._values())._do_displayingProgress_(function(s){return smalltalk.withContext(function(){return t._install_forClass_category_(_st(s)._source(),e,_st(s)._category())},function(e){e.fillBlock({each:s},n,1)})},"Recompiling ".__comma(_st(e)._name())),s=_st(e)._isMetaclass(),smalltalk.assert(s)||t._recompile_(_st(e)._class()),t},function(n){n.fill(t,"recompile:",{aClass:e},smalltalk.Compiler)})},args:["aClass"],source:"recompile: aClass\n	aClass methodDictionary values\n		do: [ :each | self install: each source forClass: aClass category: each category ]\n		displayingProgress: 'Recompiling ', aClass name.\n	\"self setupClass: aClass.\"\n	aClass isMetaclass ifFalse: [ self recompile: aClass class ]",messageSends:["do:displayingProgress:","values","methodDictionary","install:forClass:category:","source","category",",","name","ifFalse:","isMetaclass","recompile:","class"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"recompileAll",category:"compiling",fn:function(){function e(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var t=this;return smalltalk.withContext(function(n){return _st(_st(_st(e())._current())._classes())._do_displayingProgress_(function(e){return smalltalk.withContext(function(){return t._recompile_(e)},function(t){t.fillBlock({each:e},n,1)})},"Compiling all classes..."),t},function(e){e.fill(t,"recompileAll",{},smalltalk.Compiler)})},args:[],source:"recompileAll\n	Smalltalk current classes \n		do: [ :each | self recompile: each ]\n		displayingProgress: 'Compiling all classes...'",messageSends:["do:displayingProgress:","classes","current","recompile:"],referencedClasses:["Smalltalk"]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"source",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@source"],n=($receiver=t)==nil||null==$receiver?"":t},function(t){t.fill(e,"source",{},smalltalk.Compiler)})},args:[],source:"source\n	^ source ifNil: [ '' ]",messageSends:["ifNil:"],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"source:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@source"]=e,t},function(n){n.fill(t,"source:",{aString:e},smalltalk.Compiler)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"unknownVariables",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@unknownVariables"]},function(t){t.fill(e,"unknownVariables",{},smalltalk.Compiler)})},args:[],source:"unknownVariables\n	^ unknownVariables",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"unknownVariables:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@unknownVariables"]=e,t},function(n){n.fill(t,"unknownVariables:",{aCollection:e},smalltalk.Compiler)})},args:["aCollection"],source:"unknownVariables: aCollection\n	unknownVariables := aCollection",messageSends:[],referencedClasses:[]}),smalltalk.Compiler),smalltalk.addMethod(smalltalk.method({selector:"recompile:",category:"compiling",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t._new())._recompile_(e),t},function(n){n.fill(t,"recompile:",{aClass:e},smalltalk.Compiler.klass)})},args:["aClass"],source:"recompile: aClass\n	self new recompile: aClass",messageSends:["recompile:","new"],referencedClasses:[]}),smalltalk.Compiler.klass),smalltalk.addMethod(smalltalk.method({selector:"recompileAll",category:"compiling",fn:function(){function e(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}var t=this;return smalltalk.withContext(function(n){return _st(_st(_st(e())._current())._classes())._do_(function(e){return smalltalk.withContext(function(){return t._recompile_(e)},function(t){t.fillBlock({each:e},n,1)})}),t},function(e){e.fill(t,"recompileAll",{},smalltalk.Compiler.klass)})},args:[],source:"recompileAll\n	Smalltalk current classes do: [ :each |\n		self recompile: each ]",messageSends:["do:","classes","current","recompile:"],referencedClasses:["Smalltalk"]}),smalltalk.Compiler.klass),smalltalk.addClass("DoIt",smalltalk.Object,[],"Compiler-Core"),smalltalk.DoIt.comment="`DoIt` is the class used to compile and evaluate expressions. See `Compiler >> evaluateExpression:`.",smalltalk.addClass("NodeVisitor",smalltalk.Object,[],"Compiler-Core"),smalltalk.NodeVisitor.comment="I am the abstract super class of all AST node visitors.",smalltalk.addMethod(smalltalk.method({selector:"visit:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(e)._accept_(t)},function(n){n.fill(t,"visit:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visit: aNode\n	^ aNode accept: self",messageSends:["accept:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitAll:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return s=_st(e)._collect_(function(e){return smalltalk.withContext(function(){return t._visit_(e)},function(t){t.fillBlock({each:e},n,1)})})},function(n){n.fill(t,"visitAll:",{aCollection:e},smalltalk.NodeVisitor)})},args:["aCollection"],source:"visitAll: aCollection\n	^ aCollection collect: [ :each | self visit: each ]",messageSends:["collect:","visit:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitAssignmentNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitAssignmentNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitAssignmentNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitBlockNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitBlockNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitBlockNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitBlockSequenceNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitSequenceNode_(e)},function(n){n.fill(t,"visitBlockSequenceNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitBlockSequenceNode: aNode\n	^ self visitSequenceNode: aNode",messageSends:["visitSequenceNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitCascadeNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitCascadeNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitCascadeNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitDynamicArrayNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitDynamicArrayNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitDynamicArrayNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitDynamicDictionaryNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitDynamicDictionaryNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitDynamicDictionaryNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitJSStatementNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitJSStatementNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitJSStatementNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitMethodNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitMethodNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitMethodNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitAll_(_st(e)._nodes())},function(n){n.fill(t,"visitNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitNode: aNode\n	^ self visitAll: aNode nodes",messageSends:["visitAll:","nodes"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitReturnNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitReturnNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitReturnNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitSendNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitSendNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitSendNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitSequenceNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitSequenceNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitSequenceNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitValueNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitValueNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitValueNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor),smalltalk.addMethod(smalltalk.method({selector:"visitVariableNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=t._visitNode_(e)},function(n){n.fill(t,"visitVariableNode:",{aNode:e},smalltalk.NodeVisitor)})},args:["aNode"],source:"visitVariableNode: aNode\n	^ self visitNode: aNode",messageSends:["visitNode:"],referencedClasses:[]}),smalltalk.NodeVisitor)}),define("amber_core/Compiler-AST",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Kernel-Methods"],function(e,t,n){e.addPackage("Compiler-AST"),e.packages["Compiler-AST"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Node",e.Object,["parent","position","nodes","shouldBeInlined","shouldBeAliased"],"Compiler-AST"),e.Node.comment="I am the abstract root class of the abstract syntax tree.\n\nConcrete classes should implement `#accept:` to allow visiting.\n\n`position` holds a point containing line and column number of the symbol location in the original source file.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.Node)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitNode: self",messageSends:["visitNode:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"addNode:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return n(s._nodes())._add_(t),n(t)._parent_(s),s},function(n){n.fill(s,"addNode:",{aNode:t},e.Node)})},args:["aNode"],source:"addNode: aNode\n	self nodes add: aNode.\n	aNode parent: self",messageSends:["add:","nodes","parent:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isAssignmentNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isAssignmentNode",{},e.Node)})},args:[],source:"isAssignmentNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isBlockNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBlockNode",{},e.Node)})},args:[],source:"isBlockNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isBlockSequenceNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBlockSequenceNode",{},e.Node)})},args:[],source:"isBlockSequenceNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isCascadeNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isCascadeNode",{},e.Node)})},args:[],source:"isCascadeNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isImmutable",{},e.Node)})},args:[],source:"isImmutable\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isJSStatementNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isJSStatementNode",{},e.Node)})},args:[],source:"isJSStatementNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isLastChild",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(n(t._parent())._nodes())._last()).__eq(t)},function(n){n.fill(t,"isLastChild",{},e.Node)})},args:[],source:"isLastChild\n	^ self parent nodes last = self",messageSends:["=","last","nodes","parent"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isNode",{},e.Node)})},args:[],source:"isNode\n	^ true",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isReferenced",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return r=t._parent(),s.sendIdx.parent=1,a=n(r)._isSequenceNode(),o=n(a)._or_(function(){return e.withContext(function(){return n(t._parent())._isAssignmentNode()},function(e){e.fillBlock({},s,1)})}),i=n(o)._not()},function(n){n.fill(t,"isReferenced",{},e.Node)})},args:[],source:'isReferenced\n	"Answer true if the receiver is referenced by other nodes.\n	Do not take sequences or assignments into account"\n	\n	^ (self parent isSequenceNode or: [\n		self parent isAssignmentNode ]) not',messageSends:["not","or:","isSequenceNode","parent","isAssignmentNode"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isReturnNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isReturnNode",{},e.Node)})},args:[],source:"isReturnNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isSendNode",category:"testing",fn:function(){var t=this;
return e.withContext(function(){return!1},function(n){n.fill(t,"isSendNode",{},e.Node)})},args:[],source:"isSendNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isSequenceNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSequenceNode",{},e.Node)})},args:[],source:"isSequenceNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isValueNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isValueNode",{},e.Node)})},args:[],source:"isValueNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isVariableNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isVariableNode",{},e.Node)})},args:[],source:"isVariableNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;if(e=s._parent(),($receiver=e)==t||null==$receiver)r=e;else{var a;a=$receiver,r=n(a)._method()}return r},function(t){t.fill(s,"method",{},e.Node)})},args:[],source:"method\n	^ self parent ifNotNil: [ :node | node method ]",messageSends:["ifNotNil:","parent","method"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"nextChild",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=t._nodes(),s.sendIdx.nodes=1,a=n(r)._isEmpty(),o=e.assert(a)?t:n(n(t._nodes())._first())._nextChild()},function(n){n.fill(t,"nextChild",{},e.Node)})},args:[],source:'nextChild\n	"Answer the next node after aNode.\n	Recurse into the possible children of the receiver to answer the next node to be evaluated"\n	\n	^ self nodes isEmpty\n		ifTrue: [ self ]\n		ifFalse: [ self nodes first nextChild ]',messageSends:["ifTrue:ifFalse:","isEmpty","nodes","nextChild","first"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"nextNode",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;if(e=s._parent(),($receiver=e)==t||null==$receiver)r=e;else{var a;a=$receiver,r=n(a)._nextNode_(s)}return r},function(t){t.fill(s,"nextNode",{},e.Node)})},args:[],source:"nextNode\n	^ self parent ifNotNil: [ :node |\n		node nextNode: self ]",messageSends:["ifNotNil:","parent","nextNode:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"nextNode:",category:"accessing",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l={};try{return o=r._nodes(),a.sendIdx.nodes=1,s=n(o)._at_ifAbsent_(n(n(r._nodes())._indexOf_(t)).__plus(1),function(){return e.withContext(function(){throw l=[r]},function(e){e.fillBlock({},a,1)})}),i=n(s)._nextChild()}catch(c){if(c===l)return c[0];throw c}},function(n){n.fill(r,"nextNode:",{aNode:t,next:s},e.Node)})},args:["aNode"],source:'nextNode: aNode\n	"Answer the next node after aNode.\n	Recurse into the possible children of the next node to answer the next node to be evaluated"\n	\n	| next |\n	\n	next := self nodes \n		at: (self nodes indexOf: aNode) + 1\n		ifAbsent: [ ^ self ].\n	\n	^ next nextChild',messageSends:["at:ifAbsent:","nodes","+","indexOf:","nextChild"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@nodes"],($receiver=e)==t||null==$receiver?(r["@nodes"]=n(s())._new(),a=r["@nodes"]):a=e,a},function(t){t.fill(r,"nodes",{},e.Node)})},args:[],source:"nodes\n	^ nodes ifNil: [ nodes := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.Node),e.addMethod(e.method({selector:"nodes:",category:"building",fn:function(t){var s=this;return e.withContext(function(r){return s["@nodes"]=t,n(t)._do_(function(t){return e.withContext(function(){return n(t)._parent_(s)},function(e){e.fillBlock({each:t},r,1)})}),s},function(n){n.fill(s,"nodes:",{aCollection:t},e.Node)})},args:["aCollection"],source:"nodes: aCollection\n	nodes := aCollection.\n	aCollection do: [ :each | each parent: self ]",messageSends:["do:","parent:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"parent",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@parent"]},function(n){n.fill(t,"parent",{},e.Node)})},args:[],source:"parent\n	^ parent",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"parent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@parent"]=t,n},function(s){s.fill(n,"parent:",{aNode:t},e.Node)})},args:["aNode"],source:"parent: aNode\n	parent := aNode",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"position",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r,a;if(e=s["@position"],($receiver=e)==t||null==$receiver)if(r=s._parent(),($receiver=r)==t||null==$receiver)a=r;else{var o;o=$receiver,a=n(o)._position()}else a=e;return a},function(t){t.fill(s,"position",{},e.Node)})},args:[],source:'position\n	"answer the line and column of the receiver in the source code"\n	\n	^ position ifNil: [ \n		self parent ifNotNil: [ :node | node position ] ]',messageSends:["ifNil:","ifNotNil:","parent","position"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"position:",category:"building",fn:function(t){var n=this;return e.withContext(function(){return n["@position"]=t,n},function(s){s.fill(n,"position:",{aPosition:t},e.Node)})},args:["aPosition"],source:"position: aPosition\n	position := aPosition",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"postCopy",category:"copying",fn:function(){var t=this;return e.withContext(function(s){return e.Node.superclass.fn.prototype._postCopy.apply(n(t),[]),n(t._nodes())._do_(function(r){return e.withContext(function(){return n(r)._parent_(t)},function(e){e.fillBlock({each:r},s,1)})}),t},function(n){n.fill(t,"postCopy",{},e.Node)})},args:[],source:"postCopy\n	super postCopy.\n	self nodes do: [ :each | each parent: self ]",messageSends:["postCopy","do:","nodes","parent:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"shouldBeAliased",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@shouldBeAliased"],s=($receiver=e)==t||null==$receiver?!1:e},function(t){t.fill(n,"shouldBeAliased",{},e.Node)})},args:[],source:"shouldBeAliased\n	^ shouldBeAliased ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"shouldBeAliased:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@shouldBeAliased"]=t,n},function(s){s.fill(n,"shouldBeAliased:",{aBoolean:t},e.Node)})},args:["aBoolean"],source:"shouldBeAliased: aBoolean\n	shouldBeAliased := aBoolean",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"shouldBeInlined",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@shouldBeInlined"],s=($receiver=e)==t||null==$receiver?!1:e},function(t){t.fill(n,"shouldBeInlined",{},e.Node)})},args:[],source:"shouldBeInlined\n	^ shouldBeInlined ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"shouldBeInlined:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@shouldBeInlined"]=t,n},function(s){s.fill(n,"shouldBeInlined:",{aBoolean:t},e.Node)})},args:["aBoolean"],source:"shouldBeInlined: aBoolean\n	shouldBeInlined := aBoolean",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"stopOnStepping",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"stopOnStepping",{},e.Node)})},args:[],source:"stopOnStepping\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"subtreeNeedsAliasing",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(n(t._shouldBeAliased())._or_(function(){return e.withContext(function(){return t._shouldBeInlined()},function(e){e.fillBlock({},s,1)})}))._or_(function(){return e.withContext(function(s){return n(n(t._nodes())._detect_ifNone_(function(t){return e.withContext(function(){return n(t)._subtreeNeedsAliasing()},function(e){e.fillBlock({each:t},s,3)})},function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,4)})})).__tild_eq(!1)},function(e){e.fillBlock({},s,2)})}),s.sendIdx["or:"]=1,r},function(n){n.fill(t,"subtreeNeedsAliasing",{},e.Node)})},args:[],source:"subtreeNeedsAliasing\n	^ (self shouldBeAliased or: [ self shouldBeInlined ]) or: [\n		(self nodes detect: [ :each | each subtreeNeedsAliasing ] ifNone: [ false ]) ~= false ]",messageSends:["or:","shouldBeAliased","shouldBeInlined","~=","detect:ifNone:","nodes","subtreeNeedsAliasing"],referencedClasses:[]}),e.Node),e.addClass("AssignmentNode",e.Node,["left","right"],"Compiler-AST"),e.AssignmentNode.comment="I represent an assignment node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitAssignmentNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.AssignmentNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitAssignmentNode: self",messageSends:["visitAssignmentNode:"],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"isAssignmentNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isAssignmentNode",{},e.AssignmentNode)})},args:[],source:"isAssignmentNode\n	^ true",messageSends:[],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"left",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@left"]},function(n){n.fill(t,"left",{},e.AssignmentNode)})},args:[],source:"left\n	^ left",messageSends:[],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"left:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return s["@left"]=t,n(t)._parent_(s),s},function(n){n.fill(s,"left:",{aNode:t},e.AssignmentNode)})},args:["aNode"],source:"left: aNode\n	left := aNode.\n	aNode parent: self",messageSends:["parent:"],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e;return e=n(s())._with_with_(r._left(),r._right())},function(t){t.fill(r,"nodes",{},e.AssignmentNode)})},args:[],source:"nodes\n	^ Array with: self left with: self right",messageSends:["with:with:","left","right"],referencedClasses:["Array"]}),e.AssignmentNode),e.addMethod(e.method({selector:"right",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@right"]},function(n){n.fill(t,"right",{},e.AssignmentNode)})},args:[],source:"right\n	^ right",messageSends:[],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"right:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return s["@right"]=t,n(t)._parent_(s),s},function(n){n.fill(s,"right:",{aNode:t},e.AssignmentNode)})},args:["aNode"],source:"right: aNode\n	right := aNode.\n	aNode parent: self",messageSends:["parent:"],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"shouldBeAliased",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(e.AssignmentNode.superclass.fn.prototype._shouldBeAliased.apply(n(t),[]))._or_(function(){return e.withContext(function(){return t._isReferenced()},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(t,"shouldBeAliased",{},e.AssignmentNode)})},args:[],source:"shouldBeAliased\n	^ super shouldBeAliased or: [ self isReferenced ]",messageSends:["or:","shouldBeAliased","isReferenced"],referencedClasses:[]}),e.AssignmentNode),e.addClass("BlockNode",e.Node,["parameters","scope"],"Compiler-AST"),e.BlockNode.comment="I represent an block closure node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitBlockNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.BlockNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitBlockNode: self",messageSends:["visitBlockNode:"],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"isBlockNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBlockNode",{},e.BlockNode)})},args:[],source:"isBlockNode\n	^ true",messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"nextChild",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"nextChild",{},e.BlockNode)})},args:[],source:'nextChild\n	"Answer the receiver as we want to avoid eager evaluation"\n	\n	^ self',messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"nextNode:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"nextNode:",{aNode:t},e.BlockNode)})},args:["aNode"],source:'nextNode: aNode\n	"Answer the receiver as we want to avoid eager evaluation"\n	\n	^ self',messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"parameters",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@parameters"],($receiver=e)==t||null==$receiver?(r["@parameters"]=n(s())._new(),a=r["@parameters"]):a=e,a},function(t){t.fill(r,"parameters",{},e.BlockNode)})},args:[],source:"parameters\n	^ parameters ifNil: [ parameters := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.BlockNode),e.addMethod(e.method({selector:"parameters:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@parameters"]=t,n},function(s){s.fill(n,"parameters:",{aCollection:t},e.BlockNode)})},args:["aCollection"],source:"parameters: aCollection\n	parameters := aCollection",messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@scope"]},function(n){n.fill(t,"scope",{},e.BlockNode)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@scope"]=t,n},function(s){s.fill(n,"scope:",{aLexicalScope:t},e.BlockNode)})},args:["aLexicalScope"],source:"scope: aLexicalScope\n	scope := aLexicalScope",messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"subtreeNeedsAliasing",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._shouldBeAliased())._or_(function(){return e.withContext(function(){return t._shouldBeInlined()},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(t,"subtreeNeedsAliasing",{},e.BlockNode)})},args:[],source:"subtreeNeedsAliasing\n	^ self shouldBeAliased or: [ self shouldBeInlined ]",messageSends:["or:","shouldBeAliased","shouldBeInlined"],referencedClasses:[]}),e.BlockNode),e.addClass("CascadeNode",e.Node,["receiver"],"Compiler-AST"),e.CascadeNode.comment="I represent an cascade node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitCascadeNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.CascadeNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitCascadeNode: self",messageSends:["visitCascadeNode:"],referencedClasses:[]}),e.CascadeNode),e.addMethod(e.method({selector:"isCascadeNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isCascadeNode",{},e.CascadeNode)})},args:[],source:"isCascadeNode\n	^ true",messageSends:[],referencedClasses:[]}),e.CascadeNode),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@receiver"]},function(n){n.fill(t,"receiver",{},e.CascadeNode)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),e.CascadeNode),e.addMethod(e.method({selector:"receiver:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@receiver"]=t,n},function(s){s.fill(n,"receiver:",{aNode:t},e.CascadeNode)})},args:["aNode"],source:"receiver: aNode\n	receiver := aNode",messageSends:[],referencedClasses:[]}),e.CascadeNode),e.addClass("DynamicArrayNode",e.Node,[],"Compiler-AST"),e.DynamicArrayNode.comment="I represent an dynamic array node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitDynamicArrayNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.DynamicArrayNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitDynamicArrayNode: self",messageSends:["visitDynamicArrayNode:"],referencedClasses:[]}),e.DynamicArrayNode),e.addClass("DynamicDictionaryNode",e.Node,[],"Compiler-AST"),e.DynamicDictionaryNode.comment="I represent an dynamic dictionary node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitDynamicDictionaryNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.DynamicDictionaryNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitDynamicDictionaryNode: self",messageSends:["visitDynamicDictionaryNode:"],referencedClasses:[]}),e.DynamicDictionaryNode),e.addClass("JSStatementNode",e.Node,["source"],"Compiler-AST"),e.JSStatementNode.comment="I represent an JavaScript statement node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitJSStatementNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.JSStatementNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitJSStatementNode: self",messageSends:["visitJSStatementNode:"],referencedClasses:[]}),e.JSStatementNode),e.addMethod(e.method({selector:"isJSStatementNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isJSStatementNode",{},e.JSStatementNode)})},args:[],source:"isJSStatementNode\n	^ true",messageSends:[],referencedClasses:[]}),e.JSStatementNode),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@source"],s=($receiver=e)==t||null==$receiver?"":e},function(t){t.fill(n,"source",{},e.JSStatementNode)})},args:[],source:"source\n	^ source ifNil: [ '' ]",messageSends:["ifNil:"],referencedClasses:[]}),e.JSStatementNode),e.addMethod(e.method({selector:"source:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@source"]=t,n},function(s){s.fill(n,"source:",{aString:t},e.JSStatementNode)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),e.JSStatementNode),e.addClass("MethodNode",e.Node,["selector","arguments","source","scope","classReferences","sendIndexes","superSends"],"Compiler-AST"),e.MethodNode.comment="I represent an method node.\n\nA method node must be the root and only method node of a valid AST.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitMethodNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.MethodNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitMethodNode: self",messageSends:["visitMethodNode:"],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"arguments",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@arguments"],s=($receiver=e)==t||null==$receiver?[]:e},function(t){t.fill(n,"arguments",{},e.MethodNode)})},args:[],source:"arguments\n	^ arguments ifNil: [ #() ]",messageSends:["ifNil:"],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"arguments:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@arguments"]=t,n},function(s){s.fill(n,"arguments:",{aCollection:t},e.MethodNode)})},args:["aCollection"],source:"arguments: aCollection\n	arguments := aCollection",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"classReferences",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@classReferences"]},function(n){n.fill(t,"classReferences",{},e.MethodNode)})},args:[],source:"classReferences\n	^ classReferences",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"classReferences:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@classReferences"]=t,n},function(s){s.fill(n,"classReferences:",{aCollection:t},e.MethodNode)})},args:["aCollection"],source:"classReferences: aCollection\n	classReferences := aCollection",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"extent",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o;return s=t._source(),e.sendIdx.source=1,r=n(s)._lines(),e.sendIdx.lines=1,a=n(r)._size(),e.sendIdx.size=1,o=n(a).__at(n(n(n(n(t._source())._lines())._last())._size()).__plus(1))},function(n){n.fill(t,"extent",{},e.MethodNode)})},args:[],source:"extent\n	^ self source lines size @ (self source lines last size + 1)",messageSends:["@","size","lines","source","+","last"],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"messageSends",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._sendIndexes())._keys()},function(n){n.fill(t,"messageSends",{},e.MethodNode)})},args:[],source:"messageSends\n	^ self sendIndexes keys",messageSends:["keys","sendIndexes"],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"method",{},e.MethodNode)})},args:[],source:"method\n	^ self",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@scope"]},function(n){n.fill(t,"scope",{},e.MethodNode)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@scope"]=t,n},function(s){s.fill(n,"scope:",{aMethodScope:t},e.MethodNode)})},args:["aMethodScope"],source:"scope: aMethodScope\n	scope := aMethodScope",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.MethodNode)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.MethodNode)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"sendIndexes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@sendIndexes"]},function(n){n.fill(t,"sendIndexes",{},e.MethodNode)})},args:[],source:"sendIndexes\n	^ sendIndexes",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"sendIndexes:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@sendIndexes"]=t,n},function(s){s.fill(n,"sendIndexes:",{aDictionary:t},e.MethodNode)})},args:["aDictionary"],source:"sendIndexes: aDictionary\n	sendIndexes := aDictionary",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@source"]},function(n){n.fill(t,"source",{},e.MethodNode)})},args:[],source:"source\n	^ source",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"source:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@source"]=t,n},function(s){s.fill(n,"source:",{aString:t},e.MethodNode)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"superSends",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@superSends"]},function(n){n.fill(t,"superSends",{},e.MethodNode)})},args:[],source:"superSends\n	^ superSends",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addMethod(e.method({selector:"superSends:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@superSends"]=t,n},function(s){s.fill(n,"superSends:",{aCollection:t},e.MethodNode)})},args:["aCollection"],source:"superSends: aCollection\n	superSends := aCollection",messageSends:[],referencedClasses:[]}),e.MethodNode),e.addClass("ReturnNode",e.Node,["scope"],"Compiler-AST"),e.ReturnNode.comment="I represent an return node. At the AST level, there is not difference between a local return or non-local return.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitReturnNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.ReturnNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitReturnNode: self",messageSends:["visitReturnNode:"],referencedClasses:[]}),e.ReturnNode),e.addMethod(e.method({selector:"isReturnNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isReturnNode",{},e.ReturnNode)})},args:[],source:"isReturnNode\n	^ true",messageSends:[],referencedClasses:[]}),e.ReturnNode),e.addMethod(e.method({selector:"nonLocalReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t._scope())._isMethodScope())._not()},function(n){n.fill(t,"nonLocalReturn",{},e.ReturnNode)})},args:[],source:"nonLocalReturn\n	^ self scope isMethodScope not",messageSends:["not","isMethodScope","scope"],referencedClasses:[]}),e.ReturnNode),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@scope"]},function(n){n.fill(t,"scope",{},e.ReturnNode)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),e.ReturnNode),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@scope"]=t,n},function(s){s.fill(n,"scope:",{aLexicalScope:t},e.ReturnNode)})},args:["aLexicalScope"],source:"scope: aLexicalScope\n	scope := aLexicalScope",messageSends:[],referencedClasses:[]}),e.ReturnNode),e.addClass("SendNode",e.Node,["selector","arguments","receiver","superSend","index"],"Compiler-AST"),e.SendNode.comment="I represent an message send node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitSendNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.SendNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitSendNode: self",messageSends:["visitSendNode:"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"arguments",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@arguments"],($receiver=e)==t||null==$receiver?(n["@arguments"]=[],s=n["@arguments"]):s=e,s},function(t){t.fill(n,"arguments",{},e.SendNode)})},args:[],source:"arguments\n	^ arguments ifNil: [ arguments := #() ]",messageSends:["ifNil:"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"arguments:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(r){return s["@arguments"]=t,n(t)._do_(function(t){return e.withContext(function(){return n(t)._parent_(s)},function(e){e.fillBlock({each:t},r,1)})}),s},function(n){n.fill(s,"arguments:",{aCollection:t},e.SendNode)})},args:["aCollection"],source:"arguments: aCollection\n	arguments := aCollection.\n	aCollection do: [ :each | each parent: self ]",messageSends:["do:","parent:"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"cascadeNodeWithMessages:",category:"accessing",fn:function(s){function r(){return e.SendNode||("undefined"==typeof SendNode?t:SendNode)}function a(){return e.CascadeNode||("undefined"==typeof CascadeNode?t:CascadeNode)}function o(){return e.Array||("undefined"==typeof Array?t:Array)}var i,l=this;return e.withContext(function(e){var t,c,u,d,f;return t=n(r())._new(),e.sendIdx["new"]=1,n(t)._selector_(l._selector()),n(t)._arguments_(l._arguments()),c=n(t)._yourself(),e.sendIdx.yourself=1,i=c,u=n(a())._new(),n(u)._receiver_(l._receiver()),n(u)._nodes_(n(n(o())._with_(i)).__comma(s)),d=n(u)._yourself(),f=d},function(t){t.fill(l,"cascadeNodeWithMessages:",{aCollection:s,first:i},e.SendNode)})},args:["aCollection"],source:"cascadeNodeWithMessages: aCollection\n	| first |\n	first := SendNode new\n		selector: self selector;\n		arguments: self arguments;\n		yourself.\n	^ CascadeNode new\n		receiver: self receiver;\n		nodes: (Array with: first), aCollection;\n		yourself",messageSends:["selector:","new","selector","arguments:","arguments","yourself","receiver:","receiver","nodes:",",","with:"],referencedClasses:["SendNode","CascadeNode","Array"]}),e.SendNode),e.addMethod(e.method({selector:"index",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@index"]},function(n){n.fill(t,"index",{},e.SendNode)})},args:[],source:"index\n	^ index",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"index:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@index"]=t,n},function(s){s.fill(n,"index:",{anInteger:t},e.SendNode)})},args:["anInteger"],source:"index: anInteger\n	index := anInteger",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"isCascadeSendNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._parent())._isCascadeNode()},function(n){n.fill(t,"isCascadeSendNode",{},e.SendNode)})},args:[],source:"isCascadeSendNode\n	^ self parent isCascadeNode",messageSends:["isCascadeNode","parent"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"isSendNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSendNode",{},e.SendNode)})},args:[],source:"isSendNode\n	^ true",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)
}var r=this;return e.withContext(function(e){var a,o,i,l,c,u;return a=r._receiver(),e.sendIdx.receiver=1,($receiver=a)==t||null==$receiver?(o=r._arguments(),e.sendIdx.arguments=1,i=n(o)._copy()):(l=n(s())._with_(r._receiver()),n(l)._addAll_(r._arguments()),c=n(l)._yourself(),u=c)},function(t){t.fill(r,"nodes",{},e.SendNode)})},args:[],source:"nodes\n	self receiver ifNil: [ ^ self arguments copy ].\n	\n	^ (Array with: self receiver)\n		addAll: self arguments;\n		yourself",messageSends:["ifNil:","receiver","copy","arguments","addAll:","with:","yourself"],referencedClasses:["Array"]}),e.SendNode),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@receiver"]},function(n){n.fill(t,"receiver",{},e.SendNode)})},args:[],source:"receiver\n	^ receiver",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"receiver:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){var r;return s["@receiver"]=t,r=n(t)._isNode(),e.assert(r)&&n(t)._parent_(s),s},function(n){n.fill(s,"receiver:",{aNode:t},e.SendNode)})},args:["aNode"],source:"receiver: aNode\n	receiver := aNode.\n	aNode isNode ifTrue: [\n		aNode parent: self ]",messageSends:["ifTrue:","isNode","parent:"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.SendNode)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.SendNode)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"shouldBeAliased",category:"testing",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(n(n(s._method())._sendIndexes())._at_(s._selector()))._size(),a=n(e.SendNode.superclass.fn.prototype._shouldBeAliased.apply(n(s),[]))._or_(function(){return e.withContext(function(r){return n(n(n(t).__gt(1))._and_(function(){return e.withContext(function(){return n(s._index()).__lt(t)},function(e){e.fillBlock({},r,2)})}))._and_(function(){return e.withContext(function(){return s._isReferenced()},function(e){e.fillBlock({},r,3)})})},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"shouldBeAliased",{sends:t},e.SendNode)})},args:[],source:'shouldBeAliased\n	"Because we keep track of send indexes, some send nodes need additional care for aliasing. \n	See IRJSVisitor >> visitIRSend:"\n	\n	| sends |\n	\n	sends := (self method sendIndexes at: self selector) size.\n	\n	^ super shouldBeAliased or: [\n		(sends > 1 and: [ self index < sends ]) and: [ self isReferenced ] ]',messageSends:["size","at:","sendIndexes","method","selector","or:","shouldBeAliased","and:",">","<","index","isReferenced"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"stopOnStepping",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"stopOnStepping",{},e.SendNode)})},args:[],source:"stopOnStepping\n	^ true",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"superSend",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@superSend"],s=($receiver=e)==t||null==$receiver?!1:e},function(t){t.fill(n,"superSend",{},e.SendNode)})},args:[],source:"superSend\n	^ superSend ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"superSend:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@superSend"]=t,n},function(s){s.fill(n,"superSend:",{aBoolean:t},e.SendNode)})},args:["aBoolean"],source:"superSend: aBoolean\n	superSend := aBoolean",messageSends:[],referencedClasses:[]}),e.SendNode),e.addMethod(e.method({selector:"valueForReceiver:",category:"accessing",fn:function(s){function r(){return e.SendNode||("undefined"==typeof SendNode?t:SendNode)}var a=this;return e.withContext(function(e){var o,i,l,c,u,d;return o=n(r())._new(),n(o)._position_(a._position()),i=o,l=a._receiver(),e.sendIdx.receiver=1,c=($receiver=l)==t||null==$receiver?s:n(a._receiver())._valueForReceiver_(s),n(i)._receiver_(c),n(o)._selector_(a._selector()),n(o)._arguments_(a._arguments()),u=n(o)._yourself(),d=u},function(t){t.fill(a,"valueForReceiver:",{anObject:s},e.SendNode)})},args:["anObject"],source:"valueForReceiver: anObject\n	^ SendNode new\n		position: self position;\n		receiver: (self receiver\n		ifNil: [ anObject ] \n		ifNotNil: [ self receiver valueForReceiver: anObject ]);\n		selector: self selector;\n		arguments: self arguments;\n		yourself",messageSends:["position:","new","position","receiver:","ifNil:ifNotNil:","receiver","valueForReceiver:","selector:","selector","arguments:","arguments","yourself"],referencedClasses:["SendNode"]}),e.SendNode),e.addClass("SequenceNode",e.Node,["temps","scope"],"Compiler-AST"),e.SequenceNode.comment="I represent an sequence node. A sequence represent a set of instructions inside the same scope (the method scope or a block scope).",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitSequenceNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.SequenceNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitSequenceNode: self",messageSends:["visitSequenceNode:"],referencedClasses:[]}),e.SequenceNode),e.addMethod(e.method({selector:"asBlockSequenceNode",category:"converting",fn:function(){function s(){return e.BlockSequenceNode||("undefined"==typeof BlockSequenceNode?t:BlockSequenceNode)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._position_(r._position()),n(e)._nodes_(r._nodes()),n(e)._temps_(r._temps()),t=n(e)._yourself(),a=t},function(t){t.fill(r,"asBlockSequenceNode",{},e.SequenceNode)})},args:[],source:"asBlockSequenceNode\n	^ BlockSequenceNode new\n		position: self position;\n		nodes: self nodes;\n		temps: self temps;\n		yourself",messageSends:["position:","new","position","nodes:","nodes","temps:","temps","yourself"],referencedClasses:["BlockSequenceNode"]}),e.SequenceNode),e.addMethod(e.method({selector:"isSequenceNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSequenceNode",{},e.SequenceNode)})},args:[],source:"isSequenceNode\n	^ true",messageSends:[],referencedClasses:[]}),e.SequenceNode),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@scope"]},function(n){n.fill(t,"scope",{},e.SequenceNode)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),e.SequenceNode),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@scope"]=t,n},function(s){s.fill(n,"scope:",{aLexicalScope:t},e.SequenceNode)})},args:["aLexicalScope"],source:"scope: aLexicalScope\n	scope := aLexicalScope",messageSends:[],referencedClasses:[]}),e.SequenceNode),e.addMethod(e.method({selector:"temps",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@temps"],s=($receiver=e)==t||null==$receiver?[]:e},function(t){t.fill(n,"temps",{},e.SequenceNode)})},args:[],source:"temps\n	^ temps ifNil: [ #() ]",messageSends:["ifNil:"],referencedClasses:[]}),e.SequenceNode),e.addMethod(e.method({selector:"temps:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@temps"]=t,n},function(s){s.fill(n,"temps:",{aCollection:t},e.SequenceNode)})},args:["aCollection"],source:"temps: aCollection\n	temps := aCollection",messageSends:[],referencedClasses:[]}),e.SequenceNode),e.addClass("BlockSequenceNode",e.SequenceNode,[],"Compiler-AST"),e.BlockSequenceNode.comment="I represent an special sequence node for block scopes.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitBlockSequenceNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.BlockSequenceNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitBlockSequenceNode: self",messageSends:["visitBlockSequenceNode:"],referencedClasses:[]}),e.BlockSequenceNode),e.addMethod(e.method({selector:"isBlockSequenceNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBlockSequenceNode",{},e.BlockSequenceNode)})},args:[],source:"isBlockSequenceNode\n	^ true",messageSends:[],referencedClasses:[]}),e.BlockSequenceNode),e.addClass("ValueNode",e.Node,["value"],"Compiler-AST"),e.ValueNode.comment="I represent a value node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitValueNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.ValueNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitValueNode: self",messageSends:["visitValueNode:"],referencedClasses:[]}),e.ValueNode),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._value())._isImmutable()},function(n){n.fill(t,"isImmutable",{},e.ValueNode)})},args:[],source:"isImmutable\n	^ self value isImmutable",messageSends:["isImmutable","value"],referencedClasses:[]}),e.ValueNode),e.addMethod(e.method({selector:"isValueNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isValueNode",{},e.ValueNode)})},args:[],source:"isValueNode\n	^ true",messageSends:[],referencedClasses:[]}),e.ValueNode),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@value"]},function(n){n.fill(t,"value",{},e.ValueNode)})},args:[],source:"value\n	^ value",messageSends:[],referencedClasses:[]}),e.ValueNode),e.addMethod(e.method({selector:"value:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@value"]=t,n},function(s){s.fill(n,"value:",{anObject:t},e.ValueNode)})},args:["anObject"],source:"value: anObject\n	value := anObject",messageSends:[],referencedClasses:[]}),e.ValueNode),e.addClass("VariableNode",e.ValueNode,["assigned","binding"],"Compiler-AST"),e.VariableNode.comment="I represent an variable node.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitVariableNode_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.VariableNode)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitVariableNode: self",messageSends:["visitVariableNode:"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"alias",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._binding())._alias()},function(n){n.fill(t,"alias",{},e.VariableNode)})},args:[],source:"alias\n	^ self binding alias",messageSends:["alias","binding"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"assigned",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@assigned"],s=($receiver=e)==t||null==$receiver?!1:e},function(t){t.fill(n,"assigned",{},e.VariableNode)})},args:[],source:"assigned\n	^ assigned ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"assigned:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@assigned"]=t,n},function(s){s.fill(n,"assigned:",{aBoolean:t},e.VariableNode)})},args:["aBoolean"],source:"assigned: aBoolean\n	assigned := aBoolean",messageSends:[],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"beAssigned",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return n(t._binding())._validateAssignment(),t["@assigned"]=!0,t},function(n){n.fill(t,"beAssigned",{},e.VariableNode)})},args:[],source:"beAssigned\n	self binding validateAssignment.\n	assigned := true",messageSends:["validateAssignment","binding"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"binding",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@binding"]},function(n){n.fill(t,"binding",{},e.VariableNode)})},args:[],source:"binding\n	^ binding",messageSends:[],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"binding:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@binding"]=t,n},function(s){s.fill(n,"binding:",{aScopeVar:t},e.VariableNode)})},args:["aScopeVar"],source:"binding: aScopeVar\n	binding := aScopeVar",messageSends:[],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"isArgument",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._binding())._isArgVar()},function(n){n.fill(t,"isArgument",{},e.VariableNode)})},args:[],source:"isArgument\n	^ self binding isArgVar",messageSends:["isArgVar","binding"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"isImmutable",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._binding())._isImmutable()},function(n){n.fill(t,"isImmutable",{},e.VariableNode)})},args:[],source:"isImmutable\n	^ self binding isImmutable",messageSends:["isImmutable","binding"],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"isVariableNode",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isVariableNode",{},e.VariableNode)})},args:[],source:"isVariableNode\n	^ true",messageSends:[],referencedClasses:[]}),e.VariableNode),e.addMethod(e.method({selector:"isNode",category:"*Compiler-AST",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isNode",{},e.Object)})},args:[],source:"isNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Object),e.addMethod(e.method({selector:"ast",category:"*Compiler-AST",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var a,o;return a=r._source(),t.sendIdx.source=1,n(a)._ifEmpty_(function(){return e.withContext(function(){return r._error_("Method source is empty")},function(e){e.fillBlock({},t,1)})}),o=n(n(s())._current())._parse_(r._source())},function(t){t.fill(r,"ast",{},e.CompiledMethod)})},args:[],source:"ast\n	self source ifEmpty: [ self error: 'Method source is empty' ].\n	\n	^ Smalltalk current parse: self source",messageSends:["ifEmpty:","source","error:","parse:","current"],referencedClasses:["Smalltalk"]}),e.CompiledMethod)}),define("amber_core/Compiler-Semantic",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects","amber_core/Compiler-Core"],function(smalltalk,nil,_st){smalltalk.addPackage("Compiler-Semantic"),smalltalk.packages["Compiler-Semantic"].transport={type:"amd",amdNamespace:"amber_core"},smalltalk.addClass("LexicalScope",smalltalk.Object,["node","instruction","temps","args","outerScope","blockIndex"],"Compiler-Semantic"),smalltalk.LexicalScope.comment="I represent a lexical scope where variable names are associated with ScopeVars\nInstances are used for block scopes. Method scopes are instances of MethodLexicalScope.\n\nI am attached to a ScopeVar and method/block nodes.\nEach context (method/closure) get a fresh scope that inherits from its outer scope.",smalltalk.addMethod(smalltalk.method({selector:"addArg:",category:"adding",fn:function(e){function t(){return smalltalk.ArgVar||("undefined"==typeof ArgVar?nil:ArgVar)}var n=this;return smalltalk.withContext(function(s){var r;return r=n._args(),s.sendIdx.args=1,_st(r)._at_put_(e,_st(t())._on_(e)),_st(_st(n._args())._at_(e))._scope_(n),n},function(t){t.fill(n,"addArg:",{aString:e},smalltalk.LexicalScope)})},args:["aString"],source:"addArg: aString\n	self args at: aString put: (ArgVar on: aString).\n	(self args at: aString) scope: self",messageSends:["at:put:","args","on:","scope:","at:"],referencedClasses:["ArgVar"]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"addTemp:",category:"adding",fn:function(e){function t(){return smalltalk.TempVar||("undefined"==typeof TempVar?nil:TempVar)}var n=this;return smalltalk.withContext(function(s){var r;return r=n._temps(),s.sendIdx.temps=1,_st(r)._at_put_(e,_st(t())._on_(e)),_st(_st(n._temps())._at_(e))._scope_(n),n},function(t){t.fill(n,"addTemp:",{aString:e},smalltalk.LexicalScope)})},args:["aString"],source:"addTemp: aString\n	self temps at: aString put: (TempVar on: aString).\n	(self temps at: aString) scope: self",messageSends:["at:put:","temps","on:","scope:","at:"],referencedClasses:["TempVar"]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"alias",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t="$ctx".__comma(_st(e._scopeLevel())._asString())},function(t){t.fill(e,"alias",{},smalltalk.LexicalScope)})},args:[],source:"alias\n	^ '$ctx', self scopeLevel asString",messageSends:[",","asString","scopeLevel"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"allVariableNames",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s;return n=_st(e._args())._keys(),t.sendIdx.keys=1,s=_st(n).__comma(_st(e._temps())._keys())},function(t){t.fill(e,"allVariableNames",{},smalltalk.LexicalScope)})},args:[],source:"allVariableNames\n	^ self args keys, self temps keys",messageSends:[",","keys","args","temps"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"args",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@args"],($receiver=n)==nil||null==$receiver?(t["@args"]=_st(e())._new(),s=t["@args"]):s=n,s},function(e){e.fill(t,"args",{},smalltalk.LexicalScope)})},args:[],source:"args\n	^ args ifNil: [ args := Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"bindingFor:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s,r,a,o,i;return s=t._pseudoVars(),r=_st(e)._value(),n.sendIdx.value=1,i=_st(s)._at_ifAbsent_(r,function(){return smalltalk.withContext(function(n){return a=t._args(),o=_st(e)._value(),n.sendIdx.value=2,_st(a)._at_ifAbsent_(o,function(){return smalltalk.withContext(function(n){return _st(t._temps())._at_ifAbsent_(_st(e)._value(),function(){return smalltalk.withContext(function(){return nil},function(e){e.fillBlock({},n,3)})})},function(e){e.fillBlock({},n,2)})})},function(e){e.fillBlock({},n,1)})}),n.sendIdx["at:ifAbsent:"]=1,i},function(n){n.fill(t,"bindingFor:",{aStringOrNode:e},smalltalk.LexicalScope)})},args:["aStringOrNode"],source:"bindingFor: aStringOrNode\n	^ self pseudoVars at: aStringOrNode value ifAbsent: [\n		self args at: aStringOrNode value ifAbsent: [\n			self temps at: aStringOrNode value ifAbsent: [ nil ]]]",messageSends:["at:ifAbsent:","pseudoVars","value","args","temps"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"blockIndex",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@blockIndex"],n=($receiver=t)==nil||null==$receiver?0:t},function(t){t.fill(e,"blockIndex",{},smalltalk.LexicalScope)})},args:[],source:"blockIndex\n	^ blockIndex ifNil: [ 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"blockIndex:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@blockIndex"]=e,t},function(n){n.fill(t,"blockIndex:",{anInteger:e},smalltalk.LexicalScope)})},args:["anInteger"],source:"blockIndex: anInteger \n	blockIndex := anInteger",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"canInlineNonLocalReturns",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n;return n=_st(e._isInlined())._and_(function(){return smalltalk.withContext(function(){return _st(e._outerScope())._canInlineNonLocalReturns()},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(e,"canInlineNonLocalReturns",{},smalltalk.LexicalScope)})},args:[],source:"canInlineNonLocalReturns\n	^ self isInlined and: [ self outerScope canInlineNonLocalReturns ]",messageSends:["and:","isInlined","canInlineNonLocalReturns","outerScope"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"instruction",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@instruction"]},function(t){t.fill(e,"instruction",{},smalltalk.LexicalScope)})},args:[],source:"instruction\n	^ instruction",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"instruction:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@instruction"]=e,t},function(n){n.fill(t,"instruction:",{anIRInstruction:e},smalltalk.LexicalScope)})},args:["anIRInstruction"],source:"instruction: anIRInstruction\n	instruction := anIRInstruction",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"isBlockScope",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._isMethodScope())._not()},function(t){t.fill(e,"isBlockScope",{},smalltalk.LexicalScope)})},args:[],source:"isBlockScope\n	^ self isMethodScope not",messageSends:["not","isMethodScope"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"isInlined",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s,r;return n=e._instruction(),t.sendIdx.instruction=1,s=_st(n)._notNil(),r=_st(s)._and_(function(){return smalltalk.withContext(function(){return _st(e._instruction())._isInlined()},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(e,"isInlined",{},smalltalk.LexicalScope)})},args:[],source:"isInlined\n	^ self instruction notNil and: [\n		self instruction isInlined ]",messageSends:["and:","notNil","instruction","isInlined"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"isMethodScope",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isMethodScope",{},smalltalk.LexicalScope)})},args:[],source:"isMethodScope\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"lookupVariable:",category:"accessing",fn:function(e){var t,n=this;return smalltalk.withContext(function(s){var r,a,o;return t=n._bindingFor_(e),r=t,(($receiver=r)==nil||null==$receiver)&&(a=n._outerScope(),s.sendIdx.outerScope=1,t=($receiver=a)==nil||null==$receiver?a:_st(n._outerScope())._lookupVariable_(e)),o=t},function(s){s.fill(n,"lookupVariable:",{aNode:e,lookup:t},smalltalk.LexicalScope)})},args:["aNode"],source:"lookupVariable: aNode\n	| lookup |\n	lookup := (self bindingFor: aNode).\n	lookup ifNil: [\n		lookup := self outerScope ifNotNil: [\n			(self outerScope lookupVariable: aNode) ]].\n	^ lookup",messageSends:["bindingFor:","ifNil:","ifNotNil:","outerScope","lookupVariable:"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"methodScope",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s;return n=e._outerScope(),t.sendIdx.outerScope=1,s=($receiver=n)==nil||null==$receiver?n:_st(e._outerScope())._methodScope()},function(t){t.fill(e,"methodScope",{},smalltalk.LexicalScope)})},args:[],source:"methodScope\n	^ self outerScope ifNotNil: [\n		self outerScope methodScope ]",messageSends:["ifNotNil:","outerScope","methodScope"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"node",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@node"]},function(t){t.fill(e,"node",{},smalltalk.LexicalScope)})},args:[],source:'node\n	"Answer the node in which I am defined"\n	\n	^ node',messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"node:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@node"]=e,t},function(n){n.fill(t,"node:",{aNode:e},smalltalk.LexicalScope)})},args:["aNode"],source:"node: aNode\n	node := aNode",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"outerScope",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@outerScope"]},function(t){t.fill(e,"outerScope",{},smalltalk.LexicalScope)})},args:[],source:"outerScope\n	^ outerScope",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"outerScope:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@outerScope"]=e,t},function(n){n.fill(t,"outerScope:",{aLexicalScope:e},smalltalk.LexicalScope)})},args:["aLexicalScope"],source:"outerScope: aLexicalScope\n	outerScope := aLexicalScope",messageSends:[],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"pseudoVars",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._methodScope())._pseudoVars()},function(t){t.fill(e,"pseudoVars",{},smalltalk.LexicalScope)})},args:[],source:"pseudoVars\n	^ self methodScope pseudoVars",messageSends:["pseudoVars","methodScope"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"scopeLevel",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n,s,r,a,o;return n=e._outerScope(),t.sendIdx.outerScope=1,($receiver=n)==nil||null==$receiver?1:(s=e._isInlined(),smalltalk.assert(s)?(r=e._outerScope(),t.sendIdx.outerScope=2,a=_st(r)._scopeLevel(),t.sendIdx.scopeLevel=1,a):o=_st(_st(e._outerScope())._scopeLevel()).__plus(1))},function(t){t.fill(e,"scopeLevel",{},smalltalk.LexicalScope)})},args:[],source:"scopeLevel\n	self outerScope ifNil: [ ^ 1 ].\n	self isInlined ifTrue: [ ^ self outerScope scopeLevel ].\n	\n	^ self outerScope scopeLevel + 1",messageSends:["ifNil:","outerScope","ifTrue:","isInlined","scopeLevel","+"],referencedClasses:[]}),smalltalk.LexicalScope),smalltalk.addMethod(smalltalk.method({selector:"temps",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@temps"],($receiver=n)==nil||null==$receiver?(t["@temps"]=_st(e())._new(),s=t["@temps"]):s=n,s},function(e){e.fill(t,"temps",{},smalltalk.LexicalScope)})},args:[],source:"temps\n	^ temps ifNil: [ temps := Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),smalltalk.LexicalScope),smalltalk.addClass("MethodLexicalScope",smalltalk.LexicalScope,["iVars","pseudoVars","unknownVariables","localReturn","nonLocalReturns"],"Compiler-Semantic"),smalltalk.MethodLexicalScope.comment="I represent a method scope.",smalltalk.addMethod(smalltalk.method({selector:"addIVar:",category:"adding",fn:function(e){function t(){return smalltalk.InstanceVar||("undefined"==typeof InstanceVar?nil:InstanceVar)}var n=this;return smalltalk.withContext(function(s){var r;return r=n._iVars(),s.sendIdx.iVars=1,_st(r)._at_put_(e,_st(t())._on_(e)),_st(_st(n._iVars())._at_(e))._scope_(n),n},function(t){t.fill(n,"addIVar:",{aString:e},smalltalk.MethodLexicalScope)})},args:["aString"],source:"addIVar: aString\n	self iVars at: aString put: (InstanceVar on: aString).\n	(self iVars at: aString) scope: self",messageSends:["at:put:","iVars","on:","scope:","at:"],referencedClasses:["InstanceVar"]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"addNonLocalReturn:",category:"adding",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(t._nonLocalReturns())._add_(e),t},function(n){n.fill(t,"addNonLocalReturn:",{aScope:e},smalltalk.MethodLexicalScope)})},args:["aScope"],source:"addNonLocalReturn: aScope\n	self nonLocalReturns add: aScope",messageSends:["add:","nonLocalReturns"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"allVariableNames",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(smalltalk.MethodLexicalScope.superclass.fn.prototype._allVariableNames.apply(_st(e),[])).__comma(_st(e._iVars())._keys())},function(t){t.fill(e,"allVariableNames",{},smalltalk.MethodLexicalScope)})},args:[],source:"allVariableNames\n	^ super allVariableNames, self iVars keys",messageSends:[",","allVariableNames","keys","iVars"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"bindingFor:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s,r;return s=smalltalk.MethodLexicalScope.superclass.fn.prototype._bindingFor_.apply(_st(t),[e]),r=($receiver=s)==nil||null==$receiver?_st(t._iVars())._at_ifAbsent_(_st(e)._value(),function(){return smalltalk.withContext(function(){return nil},function(e){e.fillBlock({},n,2)})}):s},function(n){n.fill(t,"bindingFor:",{aNode:e},smalltalk.MethodLexicalScope)})},args:["aNode"],source:"bindingFor: aNode\n	^ (super bindingFor: aNode) ifNil: [\n		self iVars at: aNode value ifAbsent: [ nil ]]",messageSends:["ifNil:","bindingFor:","at:ifAbsent:","iVars","value"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"canInlineNonLocalReturns",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"canInlineNonLocalReturns",{},smalltalk.MethodLexicalScope)})},args:[],source:"canInlineNonLocalReturns\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"hasLocalReturn",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._localReturn()},function(t){t.fill(e,"hasLocalReturn",{},smalltalk.MethodLexicalScope)})},args:[],source:"hasLocalReturn\n	^ self localReturn",messageSends:["localReturn"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"hasNonLocalReturn",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._nonLocalReturns())._notEmpty()},function(t){t.fill(e,"hasNonLocalReturn",{},smalltalk.MethodLexicalScope)})},args:[],source:"hasNonLocalReturn\n	^ self nonLocalReturns notEmpty",messageSends:["notEmpty","nonLocalReturns"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"iVars",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)
}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@iVars"],($receiver=n)==nil||null==$receiver?(t["@iVars"]=_st(e())._new(),s=t["@iVars"]):s=n,s},function(e){e.fill(t,"iVars",{},smalltalk.MethodLexicalScope)})},args:[],source:"iVars\n	^ iVars ifNil: [ iVars := Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"isMethodScope",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isMethodScope",{},smalltalk.MethodLexicalScope)})},args:[],source:"isMethodScope\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"localReturn",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@localReturn"],n=($receiver=t)==nil||null==$receiver?!1:t},function(t){t.fill(e,"localReturn",{},smalltalk.MethodLexicalScope)})},args:[],source:"localReturn\n	^ localReturn ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"localReturn:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@localReturn"]=e,t},function(n){n.fill(t,"localReturn:",{aBoolean:e},smalltalk.MethodLexicalScope)})},args:["aBoolean"],source:"localReturn: aBoolean\n	localReturn := aBoolean",messageSends:[],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"methodScope",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){return e},function(t){t.fill(e,"methodScope",{},smalltalk.MethodLexicalScope)})},args:[],source:"methodScope\n	^ self",messageSends:[],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"nonLocalReturns",category:"accessing",fn:function(){function e(){return smalltalk.OrderedCollection||("undefined"==typeof OrderedCollection?nil:OrderedCollection)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@nonLocalReturns"],($receiver=n)==nil||null==$receiver?(t["@nonLocalReturns"]=_st(e())._new(),s=t["@nonLocalReturns"]):s=n,s},function(e){e.fill(t,"nonLocalReturns",{},smalltalk.MethodLexicalScope)})},args:[],source:"nonLocalReturns\n	^ nonLocalReturns ifNil: [ nonLocalReturns := OrderedCollection new ]",messageSends:["ifNil:","new"],referencedClasses:["OrderedCollection"]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"pseudoVars",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)}function t(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}function n(){return smalltalk.PseudoVar||("undefined"==typeof PseudoVar?nil:PseudoVar)}var s=this;return smalltalk.withContext(function(r){var a,o,i,l;return a=s["@pseudoVars"],(($receiver=a)==nil||null==$receiver)&&(s["@pseudoVars"]=_st(e())._new(),s["@pseudoVars"],_st(_st(_st(t())._current())._pseudoVariableNames())._do_(function(e){return smalltalk.withContext(function(){return o=_st(n())._on_(e),_st(o)._scope_(s._methodScope()),i=_st(o)._yourself(),_st(s["@pseudoVars"])._at_put_(e,i)},function(t){t.fillBlock({each:e},r,2)})})),l=s["@pseudoVars"]},function(e){e.fill(s,"pseudoVars",{},smalltalk.MethodLexicalScope)})},args:[],source:"pseudoVars\n	pseudoVars ifNil: [\n		pseudoVars := Dictionary new.\n		Smalltalk current pseudoVariableNames do: [ :each |\n			pseudoVars at: each put: ((PseudoVar on: each)\n				scope: self methodScope;\n				yourself) ]].\n	^ pseudoVars",messageSends:["ifNil:","new","do:","pseudoVariableNames","current","at:put:","scope:","on:","methodScope","yourself"],referencedClasses:["Dictionary","Smalltalk","PseudoVar"]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"removeNonLocalReturn:",category:"adding",fn:function(e){var t=this;return smalltalk.withContext(function(n){return _st(t._nonLocalReturns())._remove_ifAbsent_(e,function(){return smalltalk.withContext(function(){},function(e){e.fillBlock({},n,1)})}),t},function(n){n.fill(t,"removeNonLocalReturn:",{aScope:e},smalltalk.MethodLexicalScope)})},args:["aScope"],source:"removeNonLocalReturn: aScope\n	self nonLocalReturns remove: aScope ifAbsent: []",messageSends:["remove:ifAbsent:","nonLocalReturns"],referencedClasses:[]}),smalltalk.MethodLexicalScope),smalltalk.addMethod(smalltalk.method({selector:"unknownVariables",category:"accessing",fn:function(){function e(){return smalltalk.OrderedCollection||("undefined"==typeof OrderedCollection?nil:OrderedCollection)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@unknownVariables"],($receiver=n)==nil||null==$receiver?(t["@unknownVariables"]=_st(e())._new(),s=t["@unknownVariables"]):s=n,s},function(e){e.fill(t,"unknownVariables",{},smalltalk.MethodLexicalScope)})},args:[],source:"unknownVariables\n	^ unknownVariables ifNil: [ unknownVariables := OrderedCollection new ]",messageSends:["ifNil:","new"],referencedClasses:["OrderedCollection"]}),smalltalk.MethodLexicalScope),smalltalk.addClass("ScopeVar",smalltalk.Object,["scope","name"],"Compiler-Semantic"),smalltalk.ScopeVar.comment="I am an entry in a LexicalScope that gets associated with variable nodes of the same name.\nThere are 4 different subclasses of vars: temp vars, local vars, args, and unknown/global vars.",smalltalk.addMethod(smalltalk.method({selector:"alias",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=_st(e._name())._asVariableName()},function(t){t.fill(e,"alias",{},smalltalk.ScopeVar)})},args:[],source:"alias\n	^ self name asVariableName",messageSends:["asVariableName","name"],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isArgVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isArgVar",{},smalltalk.ScopeVar)})},args:[],source:"isArgVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isClassRefVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isClassRefVar",{},smalltalk.ScopeVar)})},args:[],source:"isClassRefVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isImmutable",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isImmutable",{},smalltalk.ScopeVar)})},args:[],source:"isImmutable\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isInstanceVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isInstanceVar",{},smalltalk.ScopeVar)})},args:[],source:"isInstanceVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isPseudoVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isPseudoVar",{},smalltalk.ScopeVar)})},args:[],source:"isPseudoVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isTempVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isTempVar",{},smalltalk.ScopeVar)})},args:[],source:"isTempVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"isUnknownVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!1},function(t){t.fill(e,"isUnknownVar",{},smalltalk.ScopeVar)})},args:[],source:"isUnknownVar\n	^ false",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"name",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@name"]},function(t){t.fill(e,"name",{},smalltalk.ScopeVar)})},args:[],source:"name\n	^ name",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"name:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@name"]=e,t},function(n){n.fill(t,"name:",{aString:e},smalltalk.ScopeVar)})},args:["aString"],source:"name: aString\n	name := aString",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"scope",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@scope"]},function(t){t.fill(e,"scope",{},smalltalk.ScopeVar)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"scope:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@scope"]=e,t},function(n){n.fill(t,"scope:",{aScope:e},smalltalk.ScopeVar)})},args:["aScope"],source:"scope: aScope\n	scope := aScope",messageSends:[],referencedClasses:[]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"validateAssignment",category:"testing",fn:function(){function e(){return smalltalk.InvalidAssignmentError||("undefined"==typeof InvalidAssignmentError?nil:InvalidAssignmentError)}var t=this;return smalltalk.withContext(function(n){var s,r,a;return s=_st(t._isArgVar())._or_(function(){return smalltalk.withContext(function(){return t._isPseudoVar()},function(e){e.fillBlock({},n,1)})}),smalltalk.assert(s)&&(r=_st(e())._new(),_st(r)._variableName_(t._name()),a=_st(r)._signal()),t},function(e){e.fill(t,"validateAssignment",{},smalltalk.ScopeVar)})},args:[],source:"validateAssignment\n	(self isArgVar or: [ self isPseudoVar ]) ifTrue: [\n		InvalidAssignmentError new\n			variableName: self name;\n			signal]",messageSends:["ifTrue:","or:","isArgVar","isPseudoVar","variableName:","new","name","signal"],referencedClasses:["InvalidAssignmentError"]}),smalltalk.ScopeVar),smalltalk.addMethod(smalltalk.method({selector:"on:",category:"instance creation",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,s,r;return n=t._new(),_st(n)._name_(e),s=_st(n)._yourself(),r=s},function(n){n.fill(t,"on:",{aString:e},smalltalk.ScopeVar.klass)})},args:["aString"],source:"on: aString\n	^ self new\n		name: aString;\n		yourself",messageSends:["name:","new","yourself"],referencedClasses:[]}),smalltalk.ScopeVar.klass),smalltalk.addClass("AliasVar",smalltalk.ScopeVar,["node"],"Compiler-Semantic"),smalltalk.AliasVar.comment="I am an internally defined variable by the compiler",smalltalk.addMethod(smalltalk.method({selector:"node",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@node"]},function(t){t.fill(e,"node",{},smalltalk.AliasVar)})},args:[],source:"node\n	^ node",messageSends:[],referencedClasses:[]}),smalltalk.AliasVar),smalltalk.addMethod(smalltalk.method({selector:"node:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@node"]=e,t},function(n){n.fill(t,"node:",{aNode:e},smalltalk.AliasVar)})},args:["aNode"],source:"node: aNode\n	node := aNode",messageSends:[],referencedClasses:[]}),smalltalk.AliasVar),smalltalk.addClass("ArgVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.ArgVar.comment="I am an argument of a method or block.",smalltalk.addMethod(smalltalk.method({selector:"isArgVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isArgVar",{},smalltalk.ArgVar)})},args:[],source:"isArgVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.ArgVar),smalltalk.addMethod(smalltalk.method({selector:"isImmutable",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isImmutable",{},smalltalk.ArgVar)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.ArgVar),smalltalk.addClass("ClassRefVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.ClassRefVar.comment="I am an class reference variable",smalltalk.addMethod(smalltalk.method({selector:"alias",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n;return n=_st("$".__comma(e._name())).__comma("()"),t.sendIdx[","]=1,n},function(t){t.fill(e,"alias",{},smalltalk.ClassRefVar)})},args:[],source:"alias\n	\"Fixes issue #190.\n	A function is created in the method definition, answering the class or nil.\n	See JSStream >> #nextPutClassRefFunction:\"\n	\n	^ '$', self name, '()'",messageSends:[",","name"],referencedClasses:[]}),smalltalk.ClassRefVar),smalltalk.addMethod(smalltalk.method({selector:"isClassRefVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isClassRefVar",{},smalltalk.ClassRefVar)})},args:[],source:"isClassRefVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.ClassRefVar),smalltalk.addMethod(smalltalk.method({selector:"isImmutable",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isImmutable",{},smalltalk.ClassRefVar)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.ClassRefVar),smalltalk.addClass("InstanceVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.InstanceVar.comment="I am an instance variable of a method or block.",smalltalk.addMethod(smalltalk.method({selector:"alias",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(t){var n;return n=_st('self["@'.__comma(e._name())).__comma('"]'),t.sendIdx[","]=1,n},function(t){t.fill(e,"alias",{},smalltalk.InstanceVar)})},args:[],source:"alias\n	^ 'self[\"@', self name, '\"]'",messageSends:[",","name"],referencedClasses:[]}),smalltalk.InstanceVar),smalltalk.addMethod(smalltalk.method({selector:"isInstanceVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isInstanceVar",{},smalltalk.InstanceVar)})},args:[],source:"isInstanceVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.InstanceVar),smalltalk.addClass("PseudoVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.PseudoVar.comment="I am an pseudo variable.\n\nThe five Smalltalk pseudo variables are: 'self', 'super', 'nil', 'true' and 'false'",smalltalk.addMethod(smalltalk.method({selector:"alias",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e._name()},function(t){t.fill(e,"alias",{},smalltalk.PseudoVar)})},args:[],source:"alias\n	^ self name",messageSends:["name"],referencedClasses:[]}),smalltalk.PseudoVar),smalltalk.addMethod(smalltalk.method({selector:"isImmutable",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isImmutable",{},smalltalk.PseudoVar)})},args:[],source:"isImmutable\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.PseudoVar),smalltalk.addMethod(smalltalk.method({selector:"isPseudoVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isPseudoVar",{},smalltalk.PseudoVar)})},args:[],source:"isPseudoVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.PseudoVar),smalltalk.addClass("TempVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.TempVar.comment="I am an temporary variable of a method or block.",smalltalk.addMethod(smalltalk.method({selector:"isTempVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isTempVar",{},smalltalk.TempVar)})},args:[],source:"isTempVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.TempVar),smalltalk.addClass("UnknownVar",smalltalk.ScopeVar,[],"Compiler-Semantic"),smalltalk.UnknownVar.comment="I am an unknown variable. Amber uses unknown variables as JavaScript globals",smalltalk.addMethod(smalltalk.method({selector:"isUnknownVar",category:"testing",fn:function(){var e=this;return smalltalk.withContext(function(){return!0},function(t){t.fill(e,"isUnknownVar",{},smalltalk.UnknownVar)})},args:[],source:"isUnknownVar\n	^ true",messageSends:[],referencedClasses:[]}),smalltalk.UnknownVar),smalltalk.addClass("SemanticAnalyzer",smalltalk.NodeVisitor,["currentScope","blockIndex","theClass","classReferences","messageSends","superSends"],"Compiler-Semantic"),smalltalk.SemanticAnalyzer.comment="I semantically analyze the abstract syntax tree and annotate it with informations such as non local returns and variable scopes.",smalltalk.addMethod(smalltalk.method({selector:"classReferences",category:"accessing",fn:function(){function e(){return smalltalk.Set||("undefined"==typeof Set?nil:Set)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@classReferences"],($receiver=n)==nil||null==$receiver?(t["@classReferences"]=_st(e())._new(),s=t["@classReferences"]):s=n,s},function(e){e.fill(t,"classReferences",{},smalltalk.SemanticAnalyzer)})},args:[],source:"classReferences\n	^ classReferences ifNil: [ classReferences := Set new ]",messageSends:["ifNil:","new"],referencedClasses:["Set"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"errorShadowingVariable:",category:"error handling",fn:function(e){function t(){return smalltalk.ShadowingVariableError||("undefined"==typeof ShadowingVariableError?nil:ShadowingVariableError)}var n=this;return smalltalk.withContext(function(){var s,r;return s=_st(t())._new(),_st(s)._variableName_(e),r=_st(s)._signal(),n},function(t){t.fill(n,"errorShadowingVariable:",{aString:e},smalltalk.SemanticAnalyzer)})},args:["aString"],source:"errorShadowingVariable: aString\n	ShadowingVariableError new\n		variableName: aString;\n		signal",messageSends:["variableName:","new","signal"],referencedClasses:["ShadowingVariableError"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"errorUnknownVariable:",category:"error handling",fn:function(e){function t(){return smalltalk.Smalltalk||("undefined"==typeof Smalltalk?nil:Smalltalk)}function n(){return smalltalk.UnknownVariableError||("undefined"==typeof UnknownVariableError?nil:UnknownVariableError)}var s,r=this;return smalltalk.withContext(function(a){var o,i,l,c,u;return s=_st(e)._value(),a.sendIdx.value=1,o=_st(_st(_st(_st(_st(t())._current())._globalJsVariables())._includes_(s))._not())._and_(function(){return smalltalk.withContext(function(){return r._isVariableGloballyUndefined_(s)},function(e){e.fillBlock({},a,1)})}),smalltalk.assert(o)?(i=_st(n())._new(),l=i,c=_st(e)._value(),a.sendIdx.value=2,_st(l)._variableName_(c),u=_st(i)._signal()):_st(_st(_st(r["@currentScope"])._methodScope())._unknownVariables())._add_(_st(e)._value()),r},function(t){t.fill(r,"errorUnknownVariable:",{aNode:e,identifier:s},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:'errorUnknownVariable: aNode\n	"Throw an error if the variable is undeclared in the global JS scope (i.e. window).\n	We allow all variables listed by Smalltalk>>#globalJsVariables.\n	This list includes: `jQuery`, `window`, `document`,  `process` and `global`\n	for nodejs and browser environments.\n	\n	This is only to make sure compilation works on both browser-based and nodejs environments.\n	The ideal solution would be to use a pragma instead"\n\n	| identifier |\n	identifier := aNode value.\n	\n	((Smalltalk current globalJsVariables includes: identifier) not\n		and: [ self isVariableGloballyUndefined: identifier ])\n			ifTrue: [\n				UnknownVariableError new\n					variableName: aNode value;\n					signal ]\n			ifFalse: [\n				currentScope methodScope unknownVariables add: aNode value ]',messageSends:["value","ifTrue:ifFalse:","and:","not","includes:","globalJsVariables","current","isVariableGloballyUndefined:","variableName:","new","signal","add:","unknownVariables","methodScope"],referencedClasses:["Smalltalk","UnknownVariableError"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"isVariableGloballyUndefined:",category:"testing",fn:function(aString){var self=this;return smalltalk.withContext(function($ctx1){return eval("typeof "+aString+' == "undefined"')},function(e){e.fill(self,"isVariableGloballyUndefined:",{aString:aString},smalltalk.SemanticAnalyzer)})},args:["aString"],source:"isVariableGloballyUndefined: aString\n	<return eval('typeof ' + aString + ' == \"undefined\"')>",messageSends:[],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"messageSends",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@messageSends"],($receiver=n)==nil||null==$receiver?(t["@messageSends"]=_st(e())._new(),s=t["@messageSends"]):s=n,s},function(e){e.fill(t,"messageSends",{},smalltalk.SemanticAnalyzer)})},args:[],source:"messageSends\n	^ messageSends ifNil: [ messageSends := Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"newBlockScope",category:"factory",fn:function(){function e(){return smalltalk.LexicalScope||("undefined"==typeof LexicalScope?nil:LexicalScope)}var t=this;return smalltalk.withContext(function(){var n;return n=t._newScopeOfClass_(e())},function(e){e.fill(t,"newBlockScope",{},smalltalk.SemanticAnalyzer)})},args:[],source:"newBlockScope\n	^ self newScopeOfClass: LexicalScope",messageSends:["newScopeOfClass:"],referencedClasses:["LexicalScope"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"newMethodScope",category:"factory",fn:function(){function e(){return smalltalk.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?nil:MethodLexicalScope)}var t=this;return smalltalk.withContext(function(){var n;return n=t._newScopeOfClass_(e())},function(e){e.fill(t,"newMethodScope",{},smalltalk.SemanticAnalyzer)})},args:[],source:"newMethodScope\n	^ self newScopeOfClass: MethodLexicalScope",messageSends:["newScopeOfClass:"],referencedClasses:["MethodLexicalScope"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"newScopeOfClass:",category:"factory",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,s,r;return n=_st(e)._new(),_st(n)._outerScope_(t["@currentScope"]),s=_st(n)._yourself(),r=s},function(n){n.fill(t,"newScopeOfClass:",{aLexicalScopeClass:e},smalltalk.SemanticAnalyzer)})},args:["aLexicalScopeClass"],source:"newScopeOfClass: aLexicalScopeClass\n	^ aLexicalScopeClass new\n		outerScope: currentScope;\n		yourself",messageSends:["outerScope:","new","yourself"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"nextBlockIndex",category:"private",fn:function(){var e=this;return smalltalk.withContext(function(){var t,n;return t=e["@blockIndex"],(($receiver=t)==nil||null==$receiver)&&(e["@blockIndex"]=0,e["@blockIndex"]),e["@blockIndex"]=_st(e["@blockIndex"]).__plus(1),n=e["@blockIndex"]},function(t){t.fill(e,"nextBlockIndex",{},smalltalk.SemanticAnalyzer)})},args:[],source:"nextBlockIndex\n	blockIndex ifNil: [ blockIndex := 0 ].\n	\n	blockIndex := blockIndex + 1.\n	^ blockIndex",messageSends:["ifNil:","+"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"popScope",category:"scope",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@currentScope"],($receiver=t)==nil||null==$receiver||(e["@currentScope"]=_st(e["@currentScope"])._outerScope(),e["@currentScope"]),e},function(t){t.fill(e,"popScope",{},smalltalk.SemanticAnalyzer)})},args:[],source:"popScope\n	currentScope ifNotNil: [\n		currentScope := currentScope outerScope ]",messageSends:["ifNotNil:","outerScope"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"pushScope:",category:"scope",fn:function(e){var t=this;return smalltalk.withContext(function(){return _st(e)._outerScope_(t["@currentScope"]),t["@currentScope"]=e,t},function(n){n.fill(t,"pushScope:",{aScope:e},smalltalk.SemanticAnalyzer)})},args:["aScope"],source:"pushScope: aScope\n	aScope outerScope: currentScope.\n	currentScope := aScope",messageSends:["outerScope:"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"superSends",category:"accessing",fn:function(){function e(){return smalltalk.Dictionary||("undefined"==typeof Dictionary?nil:Dictionary)}var t=this;return smalltalk.withContext(function(){var n,s;return n=t["@superSends"],($receiver=n)==nil||null==$receiver?(t["@superSends"]=_st(e())._new(),s=t["@superSends"]):s=n,s},function(e){e.fill(t,"superSends",{},smalltalk.SemanticAnalyzer)})},args:[],source:"superSends\n	^ superSends ifNil: [ superSends := Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"theClass",category:"accessing",fn:function(){var e=this;return smalltalk.withContext(function(){var t;return t=e["@theClass"]},function(t){t.fill(e,"theClass",{},smalltalk.SemanticAnalyzer)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"theClass:",category:"accessing",fn:function(e){var t=this;return smalltalk.withContext(function(){return t["@theClass"]=e,t},function(n){n.fill(t,"theClass:",{aClass:e},smalltalk.SemanticAnalyzer)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"validateVariableScope:",category:"scope",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return n=_st(t["@currentScope"])._lookupVariable_(e),($receiver=n)==nil||null==$receiver||t._errorShadowingVariable_(e),t},function(n){n.fill(t,"validateVariableScope:",{aString:e},smalltalk.SemanticAnalyzer)})},args:["aString"],source:'validateVariableScope: aString\n	"Validate the variable scope in by doing a recursive lookup, up to the method scope"\n\n	(currentScope lookupVariable: aString) ifNotNil: [\n		self errorShadowingVariable: aString ]',messageSends:["ifNotNil:","lookupVariable:","errorShadowingVariable:"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitAssignmentNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){return smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitAssignmentNode_.apply(_st(t),[e]),_st(_st(e)._left())._beAssigned(),t},function(n){n.fill(t,"visitAssignmentNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitAssignmentNode: aNode\n	super visitAssignmentNode: aNode.\n	aNode left beAssigned",messageSends:["visitAssignmentNode:","beAssigned","left"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitBlockNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(n){return t._pushScope_(t._newBlockScope()),_st(e)._scope_(t["@currentScope"]),_st(t["@currentScope"])._node_(e),_st(t["@currentScope"])._blockIndex_(t._nextBlockIndex()),_st(_st(e)._parameters())._do_(function(e){return smalltalk.withContext(function(){return t._validateVariableScope_(e),_st(t["@currentScope"])._addArg_(e)},function(t){t.fillBlock({each:e},n,1)})}),smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitBlockNode_.apply(_st(t),[e]),t._popScope(),t},function(n){n.fill(t,"visitBlockNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitBlockNode: aNode\n	self pushScope: self newBlockScope.\n	aNode scope: currentScope.\n	currentScope node: aNode.\n	currentScope blockIndex: self nextBlockIndex.\n\n	aNode parameters do: [ :each |\n		self validateVariableScope: each.\n		currentScope addArg: each ].\n\n	super visitBlockNode: aNode.\n	self popScope",messageSends:["pushScope:","newBlockScope","scope:","node:","blockIndex:","nextBlockIndex","do:","parameters","validateVariableScope:","addArg:","visitBlockNode:","popScope"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitCascadeNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s,r,a;return smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitCascadeNode_.apply(_st(t),[e]),s=_st(e)._nodes(),n.sendIdx.nodes=1,r=_st(s)._first(),a=_st(r)._superSend(),smalltalk.assert(a)&&_st(_st(e)._nodes())._do_(function(e){return smalltalk.withContext(function(){return _st(e)._superSend_(!0)},function(t){t.fillBlock({each:e},n,2)})}),t},function(n){n.fill(t,"visitCascadeNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitCascadeNode: aNode\n	super visitCascadeNode: aNode.\n	aNode nodes first superSend ifTrue: [\n		aNode nodes do: [ :each | each superSend: true ] ]",messageSends:["visitCascadeNode:","ifTrue:","superSend","first","nodes","do:","superSend:"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitMethodNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(n){var s;return t._pushScope_(t._newMethodScope()),_st(e)._scope_(t["@currentScope"]),_st(t["@currentScope"])._node_(e),_st(_st(t._theClass())._allInstanceVariableNames())._do_(function(e){return smalltalk.withContext(function(){return _st(t["@currentScope"])._addIVar_(e)},function(t){t.fillBlock({each:e},n,1)})}),n.sendIdx["do:"]=1,_st(_st(e)._arguments())._do_(function(e){return smalltalk.withContext(function(){return t._validateVariableScope_(e),_st(t["@currentScope"])._addArg_(e)},function(t){t.fillBlock({each:e},n,2)})}),smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitMethodNode_.apply(_st(t),[e]),_st(e)._classReferences_(t._classReferences()),_st(e)._sendIndexes_(t._messageSends()),s=_st(e)._superSends_(_st(t._superSends())._keys()),t._popScope(),t},function(n){n.fill(t,"visitMethodNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitMethodNode: aNode\n	self pushScope: self newMethodScope.\n	aNode scope: currentScope.\n	currentScope node: aNode.\n\n	self theClass allInstanceVariableNames do: [ :each |\n		currentScope addIVar: each ].\n	aNode arguments do: [ :each |\n		self validateVariableScope: each.\n		currentScope addArg: each ].\n\n	super visitMethodNode: aNode.\n\n	aNode\n		classReferences: self classReferences;\n		sendIndexes: self messageSends;\n		superSends: self superSends keys.\n	self popScope",messageSends:["pushScope:","newMethodScope","scope:","node:","do:","allInstanceVariableNames","theClass","addIVar:","arguments","validateVariableScope:","addArg:","visitMethodNode:","classReferences:","classReferences","sendIndexes:","messageSends","superSends:","keys","superSends","popScope"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitReturnNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(){var n;return _st(e)._scope_(t["@currentScope"]),n=_st(t["@currentScope"])._isMethodScope(),smalltalk.assert(n)?_st(t["@currentScope"])._localReturn_(!0):_st(_st(t["@currentScope"])._methodScope())._addNonLocalReturn_(t["@currentScope"]),smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitReturnNode_.apply(_st(t),[e]),t
},function(n){n.fill(t,"visitReturnNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitReturnNode: aNode\n	aNode scope: currentScope.\n	currentScope isMethodScope\n		ifTrue: [ currentScope localReturn: true ]\n		ifFalse: [ currentScope methodScope addNonLocalReturn: currentScope ].\n	super visitReturnNode: aNode",messageSends:["scope:","ifTrue:ifFalse:","isMethodScope","localReturn:","addNonLocalReturn:","methodScope","visitReturnNode:"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitSendNode:",category:"visiting",fn:function(e){function t(){return smalltalk.Set||("undefined"==typeof Set?nil:Set)}function n(){return smalltalk.IRSendInliner||("undefined"==typeof IRSendInliner?nil:IRSendInliner)}var s=this;return smalltalk.withContext(function(r){var a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y;return a=_st(e)._receiver(),r.sendIdx.receiver=1,o=_st(a)._value(),i=_st(o).__eq("super"),smalltalk.assert(i)?(_st(e)._superSend_(!0),l=_st(e)._receiver(),r.sendIdx.receiver=2,_st(l)._value_("self"),c=s._superSends(),r.sendIdx.superSends=1,u=_st(e)._selector(),r.sendIdx.selector=1,_st(c)._at_ifAbsentPut_(u,function(){return smalltalk.withContext(function(e){return _st(t())._new()},function(e){e.fillBlock({},r,2)})}),r.sendIdx["at:ifAbsentPut:"]=1,d=s._superSends(),f=_st(e)._selector(),r.sendIdx.selector=2,h=_st(d)._at_(f),r.sendIdx["at:"]=1,_st(h)._add_(e),r.sendIdx["add:"]=1):(m=_st(n())._inlinedSelectors(),g=_st(e)._selector(),r.sendIdx.selector=3,p=_st(m)._includes_(g),smalltalk.assert(p)&&(_st(e)._shouldBeInlined_(!0),_st(_st(e)._receiver())._shouldBeAliased_(!0))),_=s._messageSends(),r.sendIdx.messageSends=1,C=_st(e)._selector(),r.sendIdx.selector=4,_st(_)._at_ifAbsentPut_(C,function(){return smalltalk.withContext(function(){return _st(t())._new()},function(e){e.fillBlock({},r,5)})}),v=s._messageSends(),r.sendIdx.messageSends=2,x=_st(e)._selector(),r.sendIdx.selector=5,y=_st(v)._at_(x),r.sendIdx["at:"]=2,_st(y)._add_(e),_st(e)._index_(_st(_st(s._messageSends())._at_(_st(e)._selector()))._size()),smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitSendNode_.apply(_st(s),[e]),s},function(t){t.fill(s,"visitSendNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitSendNode: aNode\n\n	aNode receiver value = 'super'\n		ifTrue: [\n			aNode superSend: true.\n			aNode receiver value: 'self'.\n			self superSends at: aNode selector ifAbsentPut: [ Set new ].\n			(self superSends at: aNode selector) add: aNode ]\n		\n		ifFalse: [ (IRSendInliner inlinedSelectors includes: aNode selector) ifTrue: [\n			aNode shouldBeInlined: true.\n			aNode receiver shouldBeAliased: true ] ].\n\n	self messageSends at: aNode selector ifAbsentPut: [ Set new ].\n	(self messageSends at: aNode selector) add: aNode.\n\n	aNode index: (self messageSends at: aNode selector) size.\n\n	super visitSendNode: aNode",messageSends:["ifTrue:ifFalse:","=","value","receiver","superSend:","value:","at:ifAbsentPut:","superSends","selector","new","add:","at:","ifTrue:","includes:","inlinedSelectors","shouldBeInlined:","shouldBeAliased:","messageSends","index:","size","visitSendNode:"],referencedClasses:["Set","IRSendInliner"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitSequenceNode:",category:"visiting",fn:function(e){var t=this;return smalltalk.withContext(function(n){return _st(_st(e)._temps())._do_(function(e){return smalltalk.withContext(function(){return t._validateVariableScope_(e),_st(t["@currentScope"])._addTemp_(e)},function(t){t.fillBlock({each:e},n,1)})}),smalltalk.SemanticAnalyzer.superclass.fn.prototype._visitSequenceNode_.apply(_st(t),[e]),t},function(n){n.fill(t,"visitSequenceNode:",{aNode:e},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:"visitSequenceNode: aNode\n	aNode temps do: [ :each |\n		self validateVariableScope: each.\n		currentScope addTemp: each ].\n\n	super visitSequenceNode: aNode",messageSends:["do:","temps","validateVariableScope:","addTemp:","visitSequenceNode:"],referencedClasses:[]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"visitVariableNode:",category:"visiting",fn:function(e){function t(){return smalltalk.ClassRefVar||("undefined"==typeof ClassRefVar?nil:ClassRefVar)}function n(){return smalltalk.UnknownVar||("undefined"==typeof UnknownVar?nil:UnknownVar)}var s,r=this;return smalltalk.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p;return s=_st(r["@currentScope"])._lookupVariable_(e),o=s,(($receiver=o)==nil||null==$receiver)&&(i=_st(e)._value(),a.sendIdx.value=1,l=_st(i)._isCapitalized(),smalltalk.assert(l)?(c=_st(t())._new(),a.sendIdx["new"]=1,u=c,d=_st(e)._value(),a.sendIdx.value=2,_st(u)._name_(d),a.sendIdx["name:"]=1,f=_st(c)._yourself(),a.sendIdx.yourself=1,s=f,h=r._classReferences(),m=_st(e)._value(),a.sendIdx.value=3,_st(h)._add_(m)):(r._errorUnknownVariable_(e),g=_st(n())._new(),_st(g)._name_(_st(e)._value()),p=_st(g)._yourself(),s=p)),_st(e)._binding_(s),r},function(t){t.fill(r,"visitVariableNode:",{aNode:e,binding:s},smalltalk.SemanticAnalyzer)})},args:["aNode"],source:'visitVariableNode: aNode\n	"Bind a ScopeVar to aNode by doing a lookup in the current scope.\n	If no ScopeVar is found, bind a UnknowVar and throw an error."\n\n	| binding |\n	binding := currentScope lookupVariable: aNode.\n	\n	binding ifNil: [\n		aNode value isCapitalized\n			ifTrue: [ "Capital letter variables might be globals."\n				binding := ClassRefVar new name: aNode value; yourself.\n				self classReferences add: aNode value]\n			ifFalse: [\n				self errorUnknownVariable: aNode.\n				binding := UnknownVar new name: aNode value; yourself ] ].\n		\n	aNode binding: binding.',messageSends:["lookupVariable:","ifNil:","ifTrue:ifFalse:","isCapitalized","value","name:","new","yourself","add:","classReferences","errorUnknownVariable:","binding:"],referencedClasses:["ClassRefVar","UnknownVar"]}),smalltalk.SemanticAnalyzer),smalltalk.addMethod(smalltalk.method({selector:"on:",category:"instance creation",fn:function(e){var t=this;return smalltalk.withContext(function(){var n,s,r;return n=t._new(),_st(n)._theClass_(e),s=_st(n)._yourself(),r=s},function(n){n.fill(t,"on:",{aClass:e},smalltalk.SemanticAnalyzer.klass)})},args:["aClass"],source:"on: aClass\n	^ self new\n		theClass: aClass;\n		yourself",messageSends:["theClass:","new","yourself"],referencedClasses:[]}),smalltalk.SemanticAnalyzer.klass)}),define("amber_core/Compiler-IR",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Compiler-Core","amber_core/Kernel-Objects","amber_core/Kernel-Methods","amber_core/Kernel-Collections"],function(e,t,n){e.addPackage("Compiler-IR"),e.packages["Compiler-IR"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("IRASTTranslator",e.NodeVisitor,["source","theClass","method","sequence","nextAlias"],"Compiler-IR"),e.IRASTTranslator.comment="I am the AST (abstract syntax tree) visitor responsible for building the intermediate representation graph.",e.addMethod(e.method({selector:"alias:",category:"visiting",fn:function(s){function r(){return e.IRVariable||("undefined"==typeof IRVariable?t:IRVariable)}function a(){return e.AliasVar||("undefined"==typeof AliasVar?t:AliasVar)}function o(){return e.IRAssignment||("undefined"==typeof IRAssignment?t:IRAssignment)}var i,l=this;return e.withContext(function(t){var c,u,d,f,h,m,g,p,_,C,v,x;return c=n(s)._isImmutable(),e.assert(c)?(u=l._visit_(s),t.sendIdx["visit:"]=1,u):(d=n(r())._new(),t.sendIdx["new"]=1,f=d,h=n(a())._new(),t.sendIdx["new"]=2,m=n(h)._name_("$".__comma(l._nextAlias())),n(f)._variable_(m),g=n(d)._yourself(),t.sendIdx.yourself=1,i=g,p=l._sequence(),_=n(o())._new(),n(_)._add_(i),t.sendIdx["add:"]=2,n(_)._add_(l._visit_(s)),t.sendIdx["add:"]=3,C=n(_)._yourself(),v=C,n(p)._add_(v),t.sendIdx["add:"]=1,n(n(l._method())._internalVariables())._add_(i),x=i)},function(t){t.fill(l,"alias:",{aNode:s,variable:i},e.IRASTTranslator)})},args:["aNode"],source:"alias: aNode\n	| variable |\n\n	aNode isImmutable ifTrue: [ ^ self visit: aNode ].\n\n	variable := IRVariable new\n		variable: (AliasVar new name: '$', self nextAlias);\n		yourself.\n\n	self sequence add: (IRAssignment new\n		add: variable;\n		add: (self visit: aNode);\n		yourself).\n\n	self method internalVariables add: variable.\n\n	^ variable",messageSends:["ifTrue:","isImmutable","visit:","variable:","new","name:",",","nextAlias","yourself","add:","sequence","internalVariables","method"],referencedClasses:["IRVariable","AliasVar","IRAssignment"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"aliasTemporally:",category:"visiting",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var a,o,i=this;return e.withContext(function(t){var l,c,u,d,f;return a=0,n(s)._withIndexDo_(function(s,r){return e.withContext(function(){return l=n(s)._subtreeNeedsAliasing(),e.assert(l)?a=r:void 0},function(e){e.fillBlock({each:s,i:r},t,1)})}),t.sendIdx["withIndexDo:"]=1,o=n(r())._new(),n(s)._withIndexDo_(function(s,r){return e.withContext(function(){return c=o,u=n(r).__lt_eq(a),d=e.assert(u)?i._alias_(s):i._visit_(s),n(c)._add_(d)},function(e){e.fillBlock({each:s,i:r},t,3)})}),f=o},function(t){t.fill(i,"aliasTemporally:",{aCollection:s,threshold:a,result:o},e.IRASTTranslator)})},args:["aCollection"],source:'aliasTemporally: aCollection\n	"https://github.com/NicolasPetton/amber/issues/296\n	\n	If a node is aliased, all preceding ones are aliased as well.\n	The tree is iterated twice. First we get the aliasing dependency,\n	then the aliasing itself is done"\n\n	| threshold result |\n	threshold := 0.\n	\n	aCollection withIndexDo: [ :each :i |\n		each subtreeNeedsAliasing\n			ifTrue: [ threshold := i ] ].\n\n	result := OrderedCollection new.\n	aCollection withIndexDo: [ :each :i |\n		result add: (i <= threshold\n			ifTrue: [ self alias: each ]\n			ifFalse: [ self visit: each ]) ].\n\n	^ result',messageSends:["withIndexDo:","ifTrue:","subtreeNeedsAliasing","new","add:","ifTrue:ifFalse:","<=","alias:","visit:"],referencedClasses:["OrderedCollection"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@method"]},function(n){n.fill(t,"method",{},e.IRASTTranslator)})},args:[],source:"method\n	^ method",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"method:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@method"]=t,n},function(s){s.fill(n,"method:",{anIRMethod:t},e.IRASTTranslator)})},args:["anIRMethod"],source:"method: anIRMethod\n	method := anIRMethod",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"nextAlias",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;return e=s["@nextAlias"],(($receiver=e)==t||null==$receiver)&&(s["@nextAlias"]=0,s["@nextAlias"]),s["@nextAlias"]=n(s["@nextAlias"]).__plus(1),r=n(s["@nextAlias"])._asString()},function(t){t.fill(s,"nextAlias",{},e.IRASTTranslator)})},args:[],source:"nextAlias\n	nextAlias ifNil: [ nextAlias := 0 ].\n	nextAlias := nextAlias + 1.\n	^ nextAlias asString",messageSends:["ifNil:","+","asString"],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"sequence",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@sequence"]},function(n){n.fill(t,"sequence",{},e.IRASTTranslator)})},args:[],source:"sequence\n	^ sequence",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"sequence:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@sequence"]=t,n},function(s){s.fill(n,"sequence:",{anIRSequence:t},e.IRASTTranslator)})},args:["anIRSequence"],source:"sequence: anIRSequence\n	sequence := anIRSequence",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@source"]},function(n){n.fill(t,"source",{},e.IRASTTranslator)})},args:[],source:"source\n	^ source",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"source:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@source"]=t,n},function(s){s.fill(n,"source:",{aString:t},e.IRASTTranslator)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.IRASTTranslator)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.IRASTTranslator)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitAssignmentNode:",category:"visiting",fn:function(s){function r(){return e.IRAssignment||("undefined"==typeof IRAssignment?t:IRAssignment)}var a,o,i,l=this;return e.withContext(function(e){var t,i,c,u,d;return o=l._visit_(n(s)._right()),e.sendIdx["visit:"]=1,a=l._visit_(n(s)._left()),t=l._sequence(),i=n(r())._new(),n(i)._add_(a),e.sendIdx["add:"]=2,n(i)._add_(o),c=n(i)._yourself(),u=c,n(t)._add_(u),e.sendIdx["add:"]=1,d=a},function(t){t.fill(l,"visitAssignmentNode:",{aNode:s,left:a,right:o,assignment:i},e.IRASTTranslator)})},args:["aNode"],source:"visitAssignmentNode: aNode\n	| left right assignment |\n	right := self visit: aNode right.\n	left := self visit: aNode left.\n	self sequence add: (IRAssignment new\n		add: left;\n		add: right;\n		yourself).\n	^ left",messageSends:["visit:","right","left","add:","sequence","new","yourself"],referencedClasses:["IRAssignment"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitBlockNode:",category:"visiting",fn:function(s){function r(){return e.IRClosure||("undefined"==typeof IRClosure?t:IRClosure)}function a(){return e.IRTempDeclaration||("undefined"==typeof IRTempDeclaration?t:IRTempDeclaration)}var o,i=this;return e.withContext(function(t){var l,c,u,d,f,h,m,g,p;return l=n(r())._new(),t.sendIdx["new"]=1,n(l)._arguments_(n(s)._parameters()),c=l,u=n(s)._scope(),t.sendIdx.scope=1,n(c)._scope_(u),t.sendIdx["scope:"]=1,d=n(l)._yourself(),t.sendIdx.yourself=1,o=d,f=n(s)._scope(),t.sendIdx.scope=2,h=n(f)._temps(),n(h)._do_(function(r){return e.withContext(function(e){return m=n(a())._new(),n(m)._name_(n(r)._name()),n(m)._scope_(n(s)._scope()),g=n(m)._yourself(),n(o)._add_(g)},function(e){e.fillBlock({each:r},t,1)})}),t.sendIdx["do:"]=1,n(n(s)._nodes())._do_(function(s){return e.withContext(function(){return n(o)._add_(i._visit_(s))},function(e){e.fillBlock({each:s},t,2)})}),p=o},function(t){t.fill(i,"visitBlockNode:",{aNode:s,closure:o},e.IRASTTranslator)})},args:["aNode"],source:"visitBlockNode: aNode\n	| closure |\n	closure := IRClosure new\n		arguments: aNode parameters;\n		scope: aNode scope;\n		yourself.\n	aNode scope temps do: [ :each |\n		closure add: (IRTempDeclaration new\n			name: each name;\n			scope: aNode scope;\n			yourself) ].\n	aNode nodes do: [ :each | closure add: (self visit: each) ].\n	^ closure",messageSends:["arguments:","new","parameters","scope:","scope","yourself","do:","temps","add:","name:","name","nodes","visit:"],referencedClasses:["IRClosure","IRTempDeclaration"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitBlockSequenceNode:",category:"visiting",fn:function(s){function r(){return e.IRBlockSequence||("undefined"==typeof IRBlockSequence?t:IRBlockSequence)}function a(){return e.IRBlockReturn||("undefined"==typeof IRBlockReturn?t:IRBlockReturn)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w;return i=n(r())._new(),t.sendIdx["new"]=1,w=o._withSequence_do_(i,function(){return e.withContext(function(t){return l=n(s)._nodes(),t.sendIdx.nodes=1,n(l)._ifNotEmpty_(function(){return e.withContext(function(t){return c=n(s)._nodes(),t.sendIdx.nodes=2,u=n(c)._allButLast(),n(u)._do_(function(s){return e.withContext(function(e){return d=o._sequence(),e.sendIdx.sequence=1,f=o._visitOrAlias_(s),e.sendIdx["visitOrAlias:"]=1,n(d)._add_(f)},function(e){e.fillBlock({each:s},t,3)})}),h=n(s)._nodes(),t.sendIdx.nodes=3,m=n(h)._last(),t.sendIdx.last=1,g=n(m)._isReturnNode(),e.assert(g)?n(o._sequence())._add_(o._visitOrAlias_(n(n(s)._nodes())._last())):(p=o._sequence(),t.sendIdx.sequence=2,_=n(a())._new(),C=_,v=n(s)._nodes(),t.sendIdx.nodes=4,x=n(v)._last(),t.sendIdx.last=2,y=o._visitOrAlias_(x),t.sendIdx["visitOrAlias:"]=2,n(C)._add_(y),t.sendIdx["add:"]=3,S=n(_)._yourself(),b=S,n(p)._add_(b))},function(e){e.fillBlock({},t,2)})})},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(o,"visitBlockSequenceNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitBlockSequenceNode: aNode\n	^ self\n		withSequence: IRBlockSequence new\n		do: [\n			aNode nodes ifNotEmpty: [\n				aNode nodes allButLast do: [ :each |\n					self sequence add: (self visitOrAlias: each) ].\n				aNode nodes last isReturnNode\n					ifFalse: [ self sequence add: (IRBlockReturn new add: (self visitOrAlias: aNode nodes last); yourself) ]\n					ifTrue: [ self sequence add: (self visitOrAlias: aNode nodes last) ] ]]",messageSends:["withSequence:do:","new","ifNotEmpty:","nodes","do:","allButLast","add:","sequence","visitOrAlias:","ifFalse:ifTrue:","isReturnNode","last","yourself"],referencedClasses:["IRBlockSequence","IRBlockReturn"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitCascadeNode:",category:"visiting",fn:function(s){function r(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}var a,o,i=this;return e.withContext(function(t){var l,c,u,d,f,h;return l=n(s)._receiver(),t.sendIdx.receiver=1,c=n(l)._isImmutable(),e.assert(c)?(o=n(s)._receiver(),t.sendIdx.receiver=2):(a=i._alias_(n(s)._receiver()),t.sendIdx["alias:"]=1,o=n(n(r())._new())._binding_(n(a)._variable())),u=n(s)._nodes(),t.sendIdx.nodes=1,n(u)._do_(function(s){return e.withContext(function(){return n(s)._receiver_(o)},function(e){e.fillBlock({each:s},t,3)})}),t.sendIdx["do:"]=1,d=n(s)._nodes(),t.sendIdx.nodes=2,f=n(d)._allButLast(),n(f)._do_(function(s){return e.withContext(function(){return n(i._sequence())._add_(i._visit_(s))},function(e){e.fillBlock({each:s},t,4)})}),h=i._alias_(n(n(s)._nodes())._last())},function(t){t.fill(i,"visitCascadeNode:",{aNode:s,alias:a,receiver:o},e.IRASTTranslator)})},args:["aNode"],source:"visitCascadeNode: aNode\n	| alias receiver |\n\n	aNode receiver isImmutable \n		ifTrue: [ receiver := aNode receiver ]\n		ifFalse: [\n			alias := self alias: aNode receiver.\n			receiver := VariableNode new binding: alias variable ].\n	\n	aNode nodes do: [ :each |\n			each receiver: receiver ].\n\n	aNode nodes allButLast do: [ :each |\n		self sequence add: (self visit: each) ].\n\n	^ self alias: aNode nodes last",messageSends:["ifTrue:ifFalse:","isImmutable","receiver","alias:","binding:","new","variable","do:","nodes","receiver:","allButLast","add:","sequence","visit:","last"],referencedClasses:["VariableNode"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitDynamicArrayNode:",category:"visiting",fn:function(s){function r(){return e.IRDynamicArray||("undefined"==typeof IRDynamicArray?t:IRDynamicArray)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(o._aliasTemporally_(n(s)._nodes()))._do_(function(s){return e.withContext(function(){return n(a)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),i=a},function(t){t.fill(o,"visitDynamicArrayNode:",{aNode:s,array:a},e.IRASTTranslator)})},args:["aNode"],source:"visitDynamicArrayNode: aNode\n	| array |\n	array := IRDynamicArray new.\n	(self aliasTemporally: aNode nodes) do: [ :each | array add: each ].\n	^ array",messageSends:["new","do:","aliasTemporally:","nodes","add:"],referencedClasses:["IRDynamicArray"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitDynamicDictionaryNode:",category:"visiting",fn:function(s){function r(){return e.IRDynamicDictionary||("undefined"==typeof IRDynamicDictionary?t:IRDynamicDictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(o._aliasTemporally_(n(s)._nodes()))._do_(function(s){return e.withContext(function(){return n(a)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),i=a},function(t){t.fill(o,"visitDynamicDictionaryNode:",{aNode:s,dictionary:a},e.IRASTTranslator)})},args:["aNode"],source:"visitDynamicDictionaryNode: aNode\n	| dictionary |\n	dictionary := IRDynamicDictionary new.\n	(self aliasTemporally: aNode nodes) do: [ :each | dictionary add: each ].\n	^ dictionary",messageSends:["new","do:","aliasTemporally:","nodes","add:"],referencedClasses:["IRDynamicDictionary"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitJSStatementNode:",category:"visiting",fn:function(s){function r(){return e.IRVerbatim||("undefined"==typeof IRVerbatim?t:IRVerbatim)}var a=this;return e.withContext(function(){var e,t,a;return e=n(r())._new(),n(e)._source_(n(n(s)._source())._crlfSanitized()),t=n(e)._yourself(),a=t},function(t){t.fill(a,"visitJSStatementNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitJSStatementNode: aNode\n	^ IRVerbatim new\n		source: aNode source crlfSanitized;\n		yourself",messageSends:["source:","new","crlfSanitized","source","yourself"],referencedClasses:["IRVerbatim"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitMethodNode:",category:"visiting",fn:function(s){function r(){return e.IRMethod||("undefined"==typeof IRMethod?t:IRMethod)}function a(){return e.IRTempDeclaration||("undefined"==typeof IRTempDeclaration?t:IRTempDeclaration)}function o(){return e.IRReturn||("undefined"==typeof IRReturn?t:IRReturn)}function i(){return e.IRVariable||("undefined"==typeof IRVariable?t:IRVariable)}var l=this;return e.withContext(function(t){var c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M,T,A,N;return c=n(r())._new(),t.sendIdx["new"]=1,n(c)._source_(n(l._source())._crlfSanitized()),n(c)._theClass_(l._theClass()),n(c)._arguments_(n(s)._arguments()),n(c)._selector_(n(s)._selector()),n(c)._sendIndexes_(n(s)._sendIndexes()),n(c)._superSends_(n(s)._superSends()),n(c)._classReferences_(n(s)._classReferences()),u=c,d=n(s)._scope(),t.sendIdx.scope=1,n(u)._scope_(d),t.sendIdx["scope:"]=1,f=n(c)._yourself(),t.sendIdx.yourself=1,h=f,l._method_(h),m=n(s)._scope(),t.sendIdx.scope=2,g=n(m)._temps(),n(g)._do_(function(r){return e.withContext(function(e){return p=l._method(),e.sendIdx.method=1,_=n(a())._new(),e.sendIdx["new"]=2,n(_)._name_(n(r)._name()),C=_,v=n(s)._scope(),e.sendIdx.scope=3,n(C)._scope_(v),x=n(_)._yourself(),e.sendIdx.yourself=2,y=x,n(p)._add_(y)},function(e){e.fillBlock({each:r},t,1)})}),t.sendIdx["do:"]=1,n(n(s)._nodes())._do_(function(s){return e.withContext(function(e){return S=l._method(),e.sendIdx.method=2,n(S)._add_(l._visit_(s))},function(e){e.fillBlock({each:s},t,2)})}),b=n(s)._scope(),t.sendIdx.scope=4,w=n(b)._hasLocalReturn(),e.assert(w)||(k=l._method(),t.sendIdx.method=3,I=n(o())._new(),t.sendIdx["new"]=3,M=n(k)._add_(I),T=n(i())._new(),n(T)._variable_(n(n(n(s)._scope())._pseudoVars())._at_("self")),A=n(T)._yourself(),n(M)._add_(A),t.sendIdx["add:"]=3),N=l._method()},function(t){t.fill(l,"visitMethodNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitMethodNode: aNode\n\n	self method: (IRMethod new\n		source: self source crlfSanitized;\n		theClass: self theClass;\n		arguments: aNode arguments;\n		selector: aNode selector;\n		sendIndexes: aNode sendIndexes;\n		superSends: aNode superSends;\n		classReferences: aNode classReferences;\n		scope: aNode scope;\n		yourself).\n\n	aNode scope temps do: [ :each |\n		self method add: (IRTempDeclaration new\n			name: each name;\n			scope: aNode scope;\n			yourself) ].\n\n	aNode nodes do: [ :each | self method add: (self visit: each) ].\n\n	aNode scope hasLocalReturn ifFalse: [\n		(self method add: IRReturn new) add: (IRVariable new\n			variable: (aNode scope pseudoVars at: 'self');\n			yourself) ].\n\n	^ self method",messageSends:["method:","source:","new","crlfSanitized","source","theClass:","theClass","arguments:","arguments","selector:","selector","sendIndexes:","sendIndexes","superSends:","superSends","classReferences:","classReferences","scope:","scope","yourself","do:","temps","add:","method","name:","name","nodes","visit:","ifFalse:","hasLocalReturn","variable:","at:","pseudoVars"],referencedClasses:["IRMethod","IRTempDeclaration","IRReturn","IRVariable"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitOrAlias:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=n(t)._shouldBeAliased(),a=e.assert(r)?s._alias_(t):s._visit_(t)},function(n){n.fill(s,"visitOrAlias:",{aNode:t},e.IRASTTranslator)})},args:["aNode"],source:"visitOrAlias: aNode\n	^ aNode shouldBeAliased\n		ifTrue: [ self alias: aNode ]\n		ifFalse: [ self visit: aNode ]",messageSends:["ifTrue:ifFalse:","shouldBeAliased","alias:","visit:"],referencedClasses:[]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitReturnNode:",category:"visiting",fn:function(s){function r(){return e.IRNonLocalReturn||("undefined"==typeof IRNonLocalReturn?t:IRNonLocalReturn)}function a(){return e.IRReturn||("undefined"==typeof IRReturn?t:IRReturn)}var o,i=this;return e.withContext(function(t){var l,c;return l=n(s)._nonLocalReturn(),e.assert(l)?(o=n(r())._new(),t.sendIdx["new"]=1):o=n(a())._new(),n(o)._scope_(n(s)._scope()),n(n(s)._nodes())._do_(function(s){return e.withContext(function(){return n(o)._add_(i._alias_(s))},function(e){e.fillBlock({each:s},t,3)})}),c=o},function(t){t.fill(i,"visitReturnNode:",{aNode:s,return_:o},e.IRASTTranslator)})},args:["aNode"],source:"visitReturnNode: aNode\n	| return |\n	return := aNode nonLocalReturn\n		ifTrue: [ IRNonLocalReturn new ]\n		ifFalse: [ IRReturn new ].\n	return scope: aNode scope.\n	aNode nodes do: [ :each |\n		return add: (self alias: each) ].\n	^ return",messageSends:["ifTrue:ifFalse:","nonLocalReturn","new","scope:","scope","do:","nodes","add:","alias:"],referencedClasses:["IRNonLocalReturn","IRReturn"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitSendNode:",category:"visiting",fn:function(s){function r(){return e.IRSend||("undefined"==typeof IRSend?t:IRSend)}var a,o,i,l,c=this;return e.withContext(function(t){var u,d,f,h;return a=n(r())._new(),u=a,n(u)._selector_(n(s)._selector()),d=n(u)._index_(n(s)._index()),f=n(s)._superSend(),e.assert(f)&&n(a)._classSend_(n(c._theClass())._superclass()),o=c._aliasTemporally_(n([n(s)._receiver()]).__comma(n(s)._arguments())),i=n(o)._first(),l=n(o)._allButFirst(),n(a)._add_(i),t.sendIdx["add:"]=1,n(l)._do_(function(s){return e.withContext(function(){return n(a)._add_(s)},function(e){e.fillBlock({each:s},t,2)})}),h=a},function(t){t.fill(c,"visitSendNode:",{aNode:s,send:a,all:o,receiver:i,arguments:l},e.IRASTTranslator)})},args:["aNode"],source:"visitSendNode: aNode\n	| send all receiver arguments |\n	send := IRSend new.\n	send\n		selector: aNode selector;\n		index: aNode index.\n	aNode superSend ifTrue: [ send classSend: self theClass superclass ].\n	\n	all := self aliasTemporally: { aNode receiver }, aNode arguments.\n	receiver := all first.\n	arguments := all allButFirst.\n\n	send add: receiver.\n	arguments do: [ :each | send add: each ].\n\n	^ send",messageSends:["new","selector:","selector","index:","index","ifTrue:","superSend","classSend:","superclass","theClass","aliasTemporally:",",","receiver","arguments","first","allButFirst","add:","do:"],referencedClasses:["IRSend"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitSequenceNode:",category:"visiting",fn:function(s){function r(){return e.IRSequence||("undefined"==typeof IRSequence?t:IRSequence)}var a=this;return e.withContext(function(t){var o,i;return i=a._withSequence_do_(n(r())._new(),function(){return e.withContext(function(t){return n(n(s)._nodes())._do_(function(s){var r;return e.withContext(function(){return r=a._visitOrAlias_(s),o=n(r)._isVariable(),e.assert(o)?void 0:n(a._sequence())._add_(r)},function(e){e.fillBlock({each:s,instruction:r},t,2)})})},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(a,"visitSequenceNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitSequenceNode: aNode\n	^ self\n		withSequence: IRSequence new\n		do: [\n			aNode nodes do: [ :each | | instruction |\n				instruction := self visitOrAlias: each.\n				instruction isVariable ifFalse: [\n					self sequence add: instruction ] ]]",messageSends:["withSequence:do:","new","do:","nodes","visitOrAlias:","ifFalse:","isVariable","add:","sequence"],referencedClasses:["IRSequence"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitValueNode:",category:"visiting",fn:function(s){function r(){return e.IRValue||("undefined"==typeof IRValue?t:IRValue)}var a=this;return e.withContext(function(){var e,t,a;return e=n(r())._new(),n(e)._value_(n(s)._value()),t=n(e)._yourself(),a=t},function(t){t.fill(a,"visitValueNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitValueNode: aNode\n	^ IRValue new\n		value: aNode value;\n		yourself",messageSends:["value:","new","value","yourself"],referencedClasses:["IRValue"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"visitVariableNode:",category:"visiting",fn:function(s){function r(){return e.IRVariable||("undefined"==typeof IRVariable?t:IRVariable)}var a=this;return e.withContext(function(){var e,t,a;return e=n(r())._new(),n(e)._variable_(n(s)._binding()),t=n(e)._yourself(),a=t},function(t){t.fill(a,"visitVariableNode:",{aNode:s},e.IRASTTranslator)})},args:["aNode"],source:"visitVariableNode: aNode\n	^ IRVariable new\n		variable: aNode binding;\n		yourself",messageSends:["variable:","new","binding","yourself"],referencedClasses:["IRVariable"]}),e.IRASTTranslator),e.addMethod(e.method({selector:"withSequence:do:",category:"accessing",fn:function(t,s){var r,a=this;return e.withContext(function(e){return r=a._sequence(),a._sequence_(t),e.sendIdx["sequence:"]=1,n(s)._value(),a._sequence_(r),t},function(n){n.fill(a,"withSequence:do:",{aSequence:t,aBlock:s,outerSequence:r},e.IRASTTranslator)})},args:["aSequence","aBlock"],source:"withSequence: aSequence do: aBlock\n	| outerSequence |\n	outerSequence := self sequence.\n	self sequence: aSequence.\n	aBlock value.\n	self sequence: outerSequence.\n	^ aSequence",messageSends:["sequence","sequence:","value"],referencedClasses:[]}),e.IRASTTranslator),e.addClass("IRInstruction",e.Object,["parent","instructions"],"Compiler-IR"),e.IRInstruction.comment="I am the abstract root class of the IR (intermediate representation) instructions class hierarchy.\nThe IR graph is used to emit JavaScript code using a JSStream.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRInstruction_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInstruction)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRInstruction: self",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"add:",category:"building",fn:function(t){var s=this;return e.withContext(function(){var e;return n(t)._parent_(s),e=n(s._instructions())._add_(t)},function(n){n.fill(s,"add:",{anObject:t},e.IRInstruction)})},args:["anObject"],source:"add: anObject\n	anObject parent: self.\n	^ self instructions add: anObject",messageSends:["parent:","add:","instructions"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"canBeAssigned",category:"testing",fn:function(){var t=this;
return e.withContext(function(){return!0},function(n){n.fill(t,"canBeAssigned",{},e.IRInstruction)})},args:[],source:"canBeAssigned\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"instructions",category:"accessing",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(){var e,a;return e=r["@instructions"],($receiver=e)==t||null==$receiver?(r["@instructions"]=n(s())._new(),a=r["@instructions"]):a=e,a},function(t){t.fill(r,"instructions",{},e.IRInstruction)})},args:[],source:"instructions\n	^ instructions ifNil: [ instructions := OrderedCollection new ]",messageSends:["ifNil:","new"],referencedClasses:["OrderedCollection"]}),e.IRInstruction),e.addMethod(e.method({selector:"isClosure",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isClosure",{},e.IRInstruction)})},args:[],source:"isClosure\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isInlined",{},e.IRInstruction)})},args:[],source:"isInlined\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isLocalReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isLocalReturn",{},e.IRInstruction)})},args:[],source:"isLocalReturn\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isMethod",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isMethod",{},e.IRInstruction)})},args:[],source:"isMethod\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isReturn",{},e.IRInstruction)})},args:[],source:"isReturn\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isSend",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSend",{},e.IRInstruction)})},args:[],source:"isSend\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isSequence",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSequence",{},e.IRInstruction)})},args:[],source:"isSequence\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isTempDeclaration",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isTempDeclaration",{},e.IRInstruction)})},args:[],source:"isTempDeclaration\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"isVariable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isVariable",{},e.IRInstruction)})},args:[],source:"isVariable\n	^ false",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._parent())._method()},function(n){n.fill(t,"method",{},e.IRInstruction)})},args:[],source:"method\n	^ self parent method",messageSends:["method","parent"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"needsBoxingAsReceiver",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"needsBoxingAsReceiver",{},e.IRInstruction)})},args:[],source:"needsBoxingAsReceiver\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"parent",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@parent"]},function(n){n.fill(t,"parent",{},e.IRInstruction)})},args:[],source:"parent\n	^ parent",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"parent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@parent"]=t,n},function(s){s.fill(n,"parent:",{anIRInstruction:t},e.IRInstruction)})},args:["anIRInstruction"],source:"parent: anIRInstruction\n	parent := anIRInstruction",messageSends:[],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"remove",category:"building",fn:function(){var t=this;return e.withContext(function(){return n(t._parent())._remove_(t),t},function(n){n.fill(t,"remove",{},e.IRInstruction)})},args:[],source:"remove\n	self parent remove: self",messageSends:["remove:","parent"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"remove:",category:"building",fn:function(t){var s=this;return e.withContext(function(){return n(s._instructions())._remove_(t),s},function(n){n.fill(s,"remove:",{anIRInstruction:t},e.IRInstruction)})},args:["anIRInstruction"],source:"remove: anIRInstruction\n	self instructions remove: anIRInstruction",messageSends:["remove:","instructions"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"replace:with:",category:"building",fn:function(t,s){var r=this;return e.withContext(function(e){var a;return n(s)._parent_(r),a=r._instructions(),e.sendIdx.instructions=1,n(a)._at_put_(n(r._instructions())._indexOf_(t),s),r},function(n){n.fill(r,"replace:with:",{anIRInstruction:t,anotherIRInstruction:s},e.IRInstruction)})},args:["anIRInstruction","anotherIRInstruction"],source:"replace: anIRInstruction with: anotherIRInstruction\n	anotherIRInstruction parent: self.\n	self instructions\n		at: (self instructions indexOf: anIRInstruction)\n		put: anotherIRInstruction",messageSends:["parent:","at:put:","instructions","indexOf:"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"replaceWith:",category:"building",fn:function(t){var s=this;return e.withContext(function(){return n(s._parent())._replace_with_(s,t),s},function(n){n.fill(s,"replaceWith:",{anIRInstruction:t},e.IRInstruction)})},args:["anIRInstruction"],source:"replaceWith: anIRInstruction\n	self parent replace: self with: anIRInstruction",messageSends:["replace:with:","parent"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;if(e=s._parent(),($receiver=e)==t||null==$receiver)r=e;else{var a;a=$receiver,r=n(a)._scope()}return r},function(t){t.fill(s,"scope",{},e.IRInstruction)})},args:[],source:"scope\n	^ self parent ifNotNil: [ :node | \n		node scope ]",messageSends:["ifNotNil:","parent","scope"],referencedClasses:[]}),e.IRInstruction),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._builder_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{aBuilder:t},e.IRInstruction.klass)})},args:["aBuilder"],source:"on: aBuilder\n	^ self new\n		builder: aBuilder;\n		yourself",messageSends:["builder:","new","yourself"],referencedClasses:[]}),e.IRInstruction.klass),e.addClass("IRAssignment",e.IRInstruction,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRAssignment_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRAssignment)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRAssignment: self",messageSends:["visitIRAssignment:"],referencedClasses:[]}),e.IRAssignment),e.addClass("IRDynamicArray",e.IRInstruction,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRDynamicArray_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRDynamicArray)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRDynamicArray: self",messageSends:["visitIRDynamicArray:"],referencedClasses:[]}),e.IRDynamicArray),e.addClass("IRDynamicDictionary",e.IRInstruction,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRDynamicDictionary_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRDynamicDictionary)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRDynamicDictionary: self",messageSends:["visitIRDynamicDictionary:"],referencedClasses:[]}),e.IRDynamicDictionary),e.addClass("IRScopedInstruction",e.IRInstruction,["scope"],"Compiler-IR"),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@scope"]},function(n){n.fill(t,"scope",{},e.IRScopedInstruction)})},args:[],source:"scope\n	^ scope",messageSends:[],referencedClasses:[]}),e.IRScopedInstruction),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@scope"]=t,n},function(s){s.fill(n,"scope:",{aScope:t},e.IRScopedInstruction)})},args:["aScope"],source:"scope: aScope\n	scope := aScope",messageSends:[],referencedClasses:[]}),e.IRScopedInstruction),e.addClass("IRClosureInstruction",e.IRScopedInstruction,["arguments"],"Compiler-IR"),e.addMethod(e.method({selector:"arguments",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@arguments"],s=($receiver=e)==t||null==$receiver?[]:e},function(t){t.fill(n,"arguments",{},e.IRClosureInstruction)})},args:[],source:"arguments\n	^ arguments ifNil: [ #() ]",messageSends:["ifNil:"],referencedClasses:[]}),e.IRClosureInstruction),e.addMethod(e.method({selector:"arguments:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@arguments"]=t,n},function(s){s.fill(n,"arguments:",{aCollection:t},e.IRClosureInstruction)})},args:["aCollection"],source:"arguments: aCollection\n	arguments := aCollection",messageSends:[],referencedClasses:[]}),e.IRClosureInstruction),e.addMethod(e.method({selector:"locals",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=n(t._arguments())._copy(),n(r)._addAll_(n(t._tempDeclarations())._collect_(function(t){return e.withContext(function(){return n(t)._name()},function(e){e.fillBlock({each:t},s,1)})})),a=n(r)._yourself(),o=a},function(n){n.fill(t,"locals",{},e.IRClosureInstruction)})},args:[],source:"locals\n	^ self arguments copy\n		addAll: (self tempDeclarations collect: [ :each | each name ]);\n		yourself",messageSends:["addAll:","copy","arguments","collect:","tempDeclarations","name","yourself"],referencedClasses:[]}),e.IRClosureInstruction),e.addMethod(e.method({selector:"scope:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return e.IRClosureInstruction.superclass.fn.prototype._scope_.apply(n(s),[t]),n(t)._instruction_(s),s},function(n){n.fill(s,"scope:",{aScope:t},e.IRClosureInstruction)})},args:["aScope"],source:"scope: aScope\n	super scope: aScope.\n	aScope instruction: self",messageSends:["scope:","instruction:"],referencedClasses:[]}),e.IRClosureInstruction),e.addMethod(e.method({selector:"tempDeclarations",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._instructions())._select_(function(t){return e.withContext(function(){return n(t)._isTempDeclaration()},function(e){e.fillBlock({each:t},s,1)})})},function(n){n.fill(t,"tempDeclarations",{},e.IRClosureInstruction)})},args:[],source:"tempDeclarations\n	^ self instructions select: [ :each |\n		each isTempDeclaration ]",messageSends:["select:","instructions","isTempDeclaration"],referencedClasses:[]}),e.IRClosureInstruction),e.addClass("IRClosure",e.IRClosureInstruction,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRClosure_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRClosure)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRClosure: self",messageSends:["visitIRClosure:"],referencedClasses:[]}),e.IRClosure),e.addMethod(e.method({selector:"isClosure",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isClosure",{},e.IRClosure)})},args:[],source:"isClosure\n	^ true",messageSends:[],referencedClasses:[]}),e.IRClosure),e.addMethod(e.method({selector:"sequence",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._instructions())._last()},function(n){n.fill(t,"sequence",{},e.IRClosure)})},args:[],source:"sequence\n	^ self instructions last",messageSends:["last","instructions"],referencedClasses:[]}),e.IRClosure),e.addClass("IRMethod",e.IRClosureInstruction,["theClass","source","selector","classReferences","sendIndexes","superSends","internalVariables"],"Compiler-IR"),e.IRMethod.comment="I am a method instruction",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRMethod_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRMethod)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRMethod: self",messageSends:["visitIRMethod:"],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"classReferences",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@classReferences"]},function(n){n.fill(t,"classReferences",{},e.IRMethod)})},args:[],source:"classReferences\n	^ classReferences",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"classReferences:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@classReferences"]=t,n},function(s){s.fill(n,"classReferences:",{aCollection:t},e.IRMethod)})},args:["aCollection"],source:"classReferences: aCollection\n	classReferences := aCollection",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"internalVariables",category:"accessing",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r=this;return e.withContext(function(){var e,a;return e=r["@internalVariables"],($receiver=e)==t||null==$receiver?(r["@internalVariables"]=n(s())._new(),a=r["@internalVariables"]):a=e,a},function(t){t.fill(r,"internalVariables",{},e.IRMethod)})},args:[],source:"internalVariables\n	^ internalVariables ifNil: [ internalVariables := Set new ]",messageSends:["ifNil:","new"],referencedClasses:["Set"]}),e.IRMethod),e.addMethod(e.method({selector:"isMethod",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isMethod",{},e.IRMethod)})},args:[],source:"isMethod\n	^ true",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"messageSends",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._sendIndexes())._keys()},function(n){n.fill(t,"messageSends",{},e.IRMethod)})},args:[],source:"messageSends\n	^ self sendIndexes keys",messageSends:["keys","sendIndexes"],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"method",{},e.IRMethod)})},args:[],source:"method\n	^ self",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.IRMethod)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.IRMethod)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"sendIndexes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@sendIndexes"]},function(n){n.fill(t,"sendIndexes",{},e.IRMethod)})},args:[],source:"sendIndexes\n	^ sendIndexes",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"sendIndexes:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@sendIndexes"]=t,n},function(s){s.fill(n,"sendIndexes:",{aDictionary:t},e.IRMethod)})},args:["aDictionary"],source:"sendIndexes: aDictionary\n	sendIndexes := aDictionary",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@source"]},function(n){n.fill(t,"source",{},e.IRMethod)})},args:[],source:"source\n	^ source",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"source:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@source"]=t,n},function(s){s.fill(n,"source:",{aString:t},e.IRMethod)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"superSends",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@superSends"]},function(n){n.fill(t,"superSends",{},e.IRMethod)})},args:[],source:"superSends\n	^ superSends",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"superSends:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@superSends"]=t,n},function(s){s.fill(n,"superSends:",{aCollection:t},e.IRMethod)})},args:["aCollection"],source:"superSends: aCollection\n	superSends := aCollection",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.IRMethod)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.IRMethod)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.IRMethod),e.addClass("IRReturn",e.IRScopedInstruction,[],"Compiler-IR"),e.IRReturn.comment="I am a local return instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRReturn_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRReturn)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRReturn: self",messageSends:["visitIRReturn:"],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"canBeAssigned",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"canBeAssigned",{},e.IRReturn)})},args:[],source:"canBeAssigned\n	^ false",messageSends:[],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"isBlockReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isBlockReturn",{},e.IRReturn)})},args:[],source:"isBlockReturn\n	^ false",messageSends:[],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"isLocalReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isLocalReturn",{},e.IRReturn)})},args:[],source:"isLocalReturn\n	^ true",messageSends:[],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"isNonLocalReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._isLocalReturn())._not()},function(n){n.fill(t,"isNonLocalReturn",{},e.IRReturn)})},args:[],source:"isNonLocalReturn\n	^ self isLocalReturn not",messageSends:["not","isLocalReturn"],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"isReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isReturn",{},e.IRReturn)})},args:[],source:"isReturn\n	^ true",messageSends:[],referencedClasses:[]}),e.IRReturn),e.addMethod(e.method({selector:"scope",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;return e=s["@scope"],r=($receiver=e)==t||null==$receiver?n(s._parent())._scope():e},function(t){t.fill(s,"scope",{},e.IRReturn)})},args:[],source:"scope\n	^ scope ifNil: [ self parent scope ]",messageSends:["ifNil:","scope","parent"],referencedClasses:[]}),e.IRReturn),e.addClass("IRBlockReturn",e.IRReturn,[],"Compiler-IR"),e.IRBlockReturn.comment="Smalltalk blocks return their last statement. I am a implicit block return instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRBlockReturn_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRBlockReturn)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRBlockReturn: self",messageSends:["visitIRBlockReturn:"],referencedClasses:[]}),e.IRBlockReturn),e.addMethod(e.method({selector:"isBlockReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isBlockReturn",{},e.IRBlockReturn)})},args:[],source:"isBlockReturn\n	^ true",messageSends:[],referencedClasses:[]}),e.IRBlockReturn),e.addClass("IRNonLocalReturn",e.IRReturn,[],"Compiler-IR"),e.IRNonLocalReturn.comment="I am a non local return instruction.\nNon local returns are handled using a try/catch JavaScript statement.\n\nSee `IRNonLocalReturnHandling` class.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRNonLocalReturn_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRNonLocalReturn)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRNonLocalReturn: self",messageSends:["visitIRNonLocalReturn:"],referencedClasses:[]}),e.IRNonLocalReturn),e.addMethod(e.method({selector:"isLocalReturn",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isLocalReturn",{},e.IRNonLocalReturn)})},args:[],source:"isLocalReturn\n	^ false",messageSends:[],referencedClasses:[]}),e.IRNonLocalReturn),e.addClass("IRTempDeclaration",e.IRScopedInstruction,["name"],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRTempDeclaration_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRTempDeclaration)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRTempDeclaration: self",messageSends:["visitIRTempDeclaration:"],referencedClasses:[]}),e.IRTempDeclaration),e.addMethod(e.method({selector:"isTempDeclaration",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isTempDeclaration",{},e.IRTempDeclaration)})},args:[],source:"isTempDeclaration\n	^ true",messageSends:[],referencedClasses:[]}),e.IRTempDeclaration),e.addMethod(e.method({selector:"name",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@name"]},function(n){n.fill(t,"name",{},e.IRTempDeclaration)})},args:[],source:"name\n	^ name",messageSends:[],referencedClasses:[]}),e.IRTempDeclaration),e.addMethod(e.method({selector:"name:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@name"]=t,n},function(s){s.fill(n,"name:",{aString:t},e.IRTempDeclaration)})},args:["aString"],source:"name: aString\n	name := aString",messageSends:[],referencedClasses:[]}),e.IRTempDeclaration),e.addClass("IRSend",e.IRInstruction,["selector","classSend","index"],"Compiler-IR"),e.IRSend.comment="I am a message send instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRSend_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRSend)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRSend: self",messageSends:["visitIRSend:"],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"classSend",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@classSend"]},function(n){n.fill(t,"classSend",{},e.IRSend)})},args:[],source:"classSend\n	^ classSend",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"classSend:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@classSend"]=t,n},function(s){s.fill(n,"classSend:",{aClass:t},e.IRSend)})},args:["aClass"],source:"classSend: aClass\n	classSend := aClass",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"index",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@index"]},function(n){n.fill(t,"index",{},e.IRSend)})},args:[],source:"index\n	^ index",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"index:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@index"]=t,n},function(s){s.fill(n,"index:",{anInteger:t},e.IRSend)})},args:["anInteger"],source:"index: anInteger\n	index := anInteger",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"isSend",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSend",{},e.IRSend)})},args:[],source:"isSend\n	^ true",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.IRSend)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.IRSend),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.IRSend)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.IRSend),e.addClass("IRSequence",e.IRInstruction,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRSequence_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRSequence)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRSequence: self",messageSends:["visitIRSequence:"],referencedClasses:[]}),e.IRSequence),e.addMethod(e.method({selector:"isSequence",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSequence",{},e.IRSequence)})},args:[],source:"isSequence\n	^ true",messageSends:[],referencedClasses:[]}),e.IRSequence),e.addClass("IRBlockSequence",e.IRSequence,[],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRBlockSequence_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRBlockSequence)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRBlockSequence: self",messageSends:["visitIRBlockSequence:"],referencedClasses:[]}),e.IRBlockSequence),e.addClass("IRValue",e.IRInstruction,["value"],"Compiler-IR"),e.IRValue.comment="I am the simplest possible instruction. I represent a value.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRValue_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRValue)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRValue: self",messageSends:["visitIRValue:"],referencedClasses:[]}),e.IRValue),e.addMethod(e.method({selector:"needsBoxingAsReceiver",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"needsBoxingAsReceiver",{},e.IRValue)})},args:[],source:"needsBoxingAsReceiver\n	^ false",messageSends:[],referencedClasses:[]}),e.IRValue),e.addMethod(e.method({selector:"value",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@value"]},function(n){n.fill(t,"value",{},e.IRValue)})},args:[],source:"value\n	^ value",messageSends:[],referencedClasses:[]}),e.IRValue),e.addMethod(e.method({selector:"value:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@value"]=t,n},function(s){s.fill(n,"value:",{aString:t},e.IRValue)})},args:["aString"],source:"value: aString\n	value := aString",messageSends:[],referencedClasses:[]}),e.IRValue),e.addClass("IRVariable",e.IRInstruction,["variable"],"Compiler-IR"),e.IRVariable.comment="I am a variable instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRVariable_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRVariable)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRVariable: self",messageSends:["visitIRVariable:"],referencedClasses:[]}),e.IRVariable),e.addMethod(e.method({selector:"isVariable",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isVariable",{},e.IRVariable)})},args:[],source:"isVariable\n	^ true",messageSends:[],referencedClasses:[]}),e.IRVariable),e.addMethod(e.method({selector:"needsBoxingAsReceiver",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t._variable())._isPseudoVar())._not()},function(n){n.fill(t,"needsBoxingAsReceiver",{},e.IRVariable)})},args:[],source:"needsBoxingAsReceiver\n	^ self variable isPseudoVar not",messageSends:["not","isPseudoVar","variable"],referencedClasses:[]}),e.IRVariable),e.addMethod(e.method({selector:"variable",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@variable"]},function(n){n.fill(t,"variable",{},e.IRVariable)})},args:[],source:"variable\n	^ variable",messageSends:[],referencedClasses:[]}),e.IRVariable),e.addMethod(e.method({selector:"variable:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@variable"]=t,n},function(s){s.fill(n,"variable:",{aScopeVariable:t},e.IRVariable)})},args:["aScopeVariable"],source:"variable: aScopeVariable\n	variable := aScopeVariable",messageSends:[],referencedClasses:[]}),e.IRVariable),e.addClass("IRVerbatim",e.IRInstruction,["source"],"Compiler-IR"),e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRVerbatim_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRVerbatim)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRVerbatim: self",messageSends:["visitIRVerbatim:"],referencedClasses:[]}),e.IRVerbatim),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@source"]},function(n){n.fill(t,"source",{},e.IRVerbatim)})},args:[],source:"source\n	^ source",messageSends:[],referencedClasses:[]}),e.IRVerbatim),e.addMethod(e.method({selector:"source:",category:"accessing",fn:function(t){var n=this;
return e.withContext(function(){return n["@source"]=t,n},function(s){s.fill(n,"source:",{aString:t},e.IRVerbatim)})},args:["aString"],source:"source: aString\n	source := aString",messageSends:[],referencedClasses:[]}),e.IRVerbatim),e.addClass("IRVisitor",e.Object,[],"Compiler-IR"),e.addMethod(e.method({selector:"visit:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._accept_(s)},function(n){n.fill(s,"visit:",{anIRInstruction:t},e.IRVisitor)})},args:["anIRInstruction"],source:"visit: anIRInstruction\n	^ anIRInstruction accept: self",messageSends:["accept:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRAssignment:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRAssignment:",{anIRAssignment:t},e.IRVisitor)})},args:["anIRAssignment"],source:"visitIRAssignment: anIRAssignment\n	^ self visitIRInstruction: anIRAssignment",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRBlockReturn:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRReturn_(t)},function(s){s.fill(n,"visitIRBlockReturn:",{anIRBlockReturn:t},e.IRVisitor)})},args:["anIRBlockReturn"],source:"visitIRBlockReturn: anIRBlockReturn\n	^ self visitIRReturn: anIRBlockReturn",messageSends:["visitIRReturn:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRBlockSequence:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRSequence_(t)},function(s){s.fill(n,"visitIRBlockSequence:",{anIRBlockSequence:t},e.IRVisitor)})},args:["anIRBlockSequence"],source:"visitIRBlockSequence: anIRBlockSequence\n	^ self visitIRSequence: anIRBlockSequence",messageSends:["visitIRSequence:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRClosure:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRClosure:",{anIRClosure:t},e.IRVisitor)})},args:["anIRClosure"],source:"visitIRClosure: anIRClosure\n	^ self visitIRInstruction: anIRClosure",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRDynamicArray:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRDynamicArray:",{anIRDynamicArray:t},e.IRVisitor)})},args:["anIRDynamicArray"],source:"visitIRDynamicArray: anIRDynamicArray\n	^ self visitIRInstruction: anIRDynamicArray",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRDynamicDictionary:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRDynamicDictionary:",{anIRDynamicDictionary:t},e.IRVisitor)})},args:["anIRDynamicDictionary"],source:"visitIRDynamicDictionary: anIRDynamicDictionary\n	^ self visitIRInstruction: anIRDynamicDictionary",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRInlinedClosure:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRClosure_(t)},function(s){s.fill(n,"visitIRInlinedClosure:",{anIRInlinedClosure:t},e.IRVisitor)})},args:["anIRInlinedClosure"],source:"visitIRInlinedClosure: anIRInlinedClosure\n	^ self visitIRClosure: anIRInlinedClosure",messageSends:["visitIRClosure:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRInlinedSequence:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRSequence_(t)},function(s){s.fill(n,"visitIRInlinedSequence:",{anIRInlinedSequence:t},e.IRVisitor)})},args:["anIRInlinedSequence"],source:"visitIRInlinedSequence: anIRInlinedSequence\n	^ self visitIRSequence: anIRInlinedSequence",messageSends:["visitIRSequence:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRInstruction:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){return n(n(t)._instructions())._do_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,1)})}),t},function(n){n.fill(s,"visitIRInstruction:",{anIRInstruction:t},e.IRVisitor)})},args:["anIRInstruction"],source:"visitIRInstruction: anIRInstruction\n	anIRInstruction instructions do: [ :each | self visit: each ].\n	^ anIRInstruction",messageSends:["do:","instructions","visit:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRMethod:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRMethod:",{anIRMethod:t},e.IRVisitor)})},args:["anIRMethod"],source:"visitIRMethod: anIRMethod\n	^ self visitIRInstruction: anIRMethod",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRNonLocalReturn:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRNonLocalReturn:",{anIRNonLocalReturn:t},e.IRVisitor)})},args:["anIRNonLocalReturn"],source:"visitIRNonLocalReturn: anIRNonLocalReturn\n	^ self visitIRInstruction: anIRNonLocalReturn",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRNonLocalReturnHandling:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRNonLocalReturnHandling:",{anIRNonLocalReturnHandling:t},e.IRVisitor)})},args:["anIRNonLocalReturnHandling"],source:"visitIRNonLocalReturnHandling: anIRNonLocalReturnHandling\n	^ self visitIRInstruction: anIRNonLocalReturnHandling",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRReturn:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRReturn:",{anIRReturn:t},e.IRVisitor)})},args:["anIRReturn"],source:"visitIRReturn: anIRReturn\n	^ self visitIRInstruction: anIRReturn",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRSend:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRSend:",{anIRSend:t},e.IRVisitor)})},args:["anIRSend"],source:"visitIRSend: anIRSend\n	^ self visitIRInstruction: anIRSend",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRSequence:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRSequence:",{anIRSequence:t},e.IRVisitor)})},args:["anIRSequence"],source:"visitIRSequence: anIRSequence\n	^ self visitIRInstruction: anIRSequence",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRTempDeclaration:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRTempDeclaration:",{anIRTempDeclaration:t},e.IRVisitor)})},args:["anIRTempDeclaration"],source:"visitIRTempDeclaration: anIRTempDeclaration\n	^ self visitIRInstruction: anIRTempDeclaration",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRValue:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRValue:",{anIRValue:t},e.IRVisitor)})},args:["anIRValue"],source:"visitIRValue: anIRValue\n	^ self visitIRInstruction: anIRValue",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRVariable:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRVariable:",{anIRVariable:t},e.IRVisitor)})},args:["anIRVariable"],source:"visitIRVariable: anIRVariable\n	^ self visitIRInstruction: anIRVariable",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addMethod(e.method({selector:"visitIRVerbatim:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._visitIRInstruction_(t)},function(s){s.fill(n,"visitIRVerbatim:",{anIRVerbatim:t},e.IRVisitor)})},args:["anIRVerbatim"],source:"visitIRVerbatim: anIRVerbatim\n	^ self visitIRInstruction: anIRVerbatim",messageSends:["visitIRInstruction:"],referencedClasses:[]}),e.IRVisitor),e.addClass("IRJSTranslator",e.IRVisitor,["stream","currentClass"],"Compiler-IR"),e.addMethod(e.method({selector:"contents",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._stream())._contents()},function(n){n.fill(t,"contents",{},e.IRJSTranslator)})},args:[],source:"contents\n	^ self stream contents",messageSends:["contents","stream"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"currentClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@currentClass"]},function(n){n.fill(t,"currentClass",{},e.IRJSTranslator)})},args:[],source:"currentClass\n	^ currentClass",messageSends:[],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"currentClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@currentClass"]=t,n},function(s){s.fill(n,"currentClass:",{aClass:t},e.IRJSTranslator)})},args:["aClass"],source:"currentClass: aClass\n	currentClass := aClass",messageSends:[],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.JSStream||("undefined"==typeof JSStream?t:JSStream)}var r=this;return e.withContext(function(){return e.IRJSTranslator.superclass.fn.prototype._initialize.apply(n(r),[]),r["@stream"]=n(s())._new(),r},function(t){t.fill(r,"initialize",{},e.IRJSTranslator)})},args:[],source:"initialize\n	super initialize.\n	stream := JSStream new.",messageSends:["initialize","new"],referencedClasses:["JSStream"]}),e.IRJSTranslator),e.addMethod(e.method({selector:"stream",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@stream"]},function(n){n.fill(t,"stream",{},e.IRJSTranslator)})},args:[],source:"stream\n	^ stream",messageSends:[],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"stream:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@stream"]=t,n},function(s){s.fill(n,"stream:",{aStream:t},e.IRJSTranslator)})},args:["aStream"],source:"stream: aStream\n	stream := aStream",messageSends:[],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRAssignment:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=n(t)._instructions(),e.sendIdx.instructions=1,a=n(r)._first(),s._visit_(a),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAssignment(),s._visit_(n(n(t)._instructions())._last()),s},function(n){n.fill(s,"visitIRAssignment:",{anIRAssignment:t},e.IRJSTranslator)})},args:["anIRAssignment"],source:"visitIRAssignment: anIRAssignment\n	self visit: anIRAssignment instructions first.\n	self stream nextPutAssignment.\n	self visit: anIRAssignment instructions last.",messageSends:["visit:","first","instructions","nextPutAssignment","stream","last"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRClosure:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutClosureWith_arguments_(function(){return e.withContext(function(r){return o=s._stream(),r.sendIdx.stream=2,n(o)._nextPutVars_(n(n(t)._tempDeclarations())._collect_(function(t){return e.withContext(function(){return n(n(t)._name())._asVariableName()},function(e){e.fillBlock({each:t},r,2)})})),n(s._stream())._nextPutBlockContextFor_during_(t,function(){return e.withContext(function(){return e.IRJSTranslator.superclass.fn.prototype._visitIRClosure_.apply(n(s),[t])},function(e){e.fillBlock({},r,3)})})},function(e){e.fillBlock({},r,1)})},n(t)._arguments()),s},function(n){n.fill(s,"visitIRClosure:",{anIRClosure:t},e.IRJSTranslator)})},args:["anIRClosure"],source:"visitIRClosure: anIRClosure\n	self stream\n		nextPutClosureWith: [\n			self stream nextPutVars: (anIRClosure tempDeclarations collect: [ :each |\n					each name asVariableName ]).\n			self stream\n				nextPutBlockContextFor: anIRClosure\n				during: [ super visitIRClosure: anIRClosure ] ]\n		arguments: anIRClosure arguments",messageSends:["nextPutClosureWith:arguments:","stream","nextPutVars:","collect:","tempDeclarations","asVariableName","name","nextPutBlockContextFor:during:","visitIRClosure:","arguments"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRDynamicArray:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutAll_("["),r.sendIdx["nextPutAll:"]=1,n(n(t)._instructions())._do_separatedBy_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,1)})},function(){return e.withContext(function(e){return n(s._stream())._nextPutAll_(",")},function(e){e.fillBlock({},r,2)})}),n(s["@stream"])._nextPutAll_("]"),s},function(n){n.fill(s,"visitIRDynamicArray:",{anIRDynamicArray:t},e.IRJSTranslator)})},args:["anIRDynamicArray"],source:"visitIRDynamicArray: anIRDynamicArray\n	self stream nextPutAll: '['.\n	anIRDynamicArray instructions\n		do: [ :each | self visit: each ]\n		separatedBy: [ self stream nextPutAll: ',' ].\n	stream nextPutAll: ']'",messageSends:["nextPutAll:","stream","do:separatedBy:","instructions","visit:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRDynamicDictionary:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutAll_("smalltalk.HashedCollection._from_(["),r.sendIdx["nextPutAll:"]=1,n(n(t)._instructions())._do_separatedBy_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,1)})},function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_(",")},function(e){e.fillBlock({},r,2)})}),n(s._stream())._nextPutAll_("])"),s},function(n){n.fill(s,"visitIRDynamicDictionary:",{anIRDynamicDictionary:t},e.IRJSTranslator)})},args:["anIRDynamicDictionary"],source:"visitIRDynamicDictionary: anIRDynamicDictionary\n	self stream nextPutAll: 'smalltalk.HashedCollection._from_(['.\n		anIRDynamicDictionary instructions\n			do: [ :each | self visit: each ]\n			separatedBy: [ self stream nextPutAll: ',' ].\n	self stream nextPutAll: '])'",messageSends:["nextPutAll:","stream","do:separatedBy:","instructions","visit:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRMethod:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutMethodDeclaration_with_(t,function(){return e.withContext(function(r){return o=s._stream(),r.sendIdx.stream=2,n(o)._nextPutFunctionWith_arguments_(function(){return e.withContext(function(r){return i=s._stream(),r.sendIdx.stream=3,l=n(n(t)._tempDeclarations())._collect_(function(t){return e.withContext(function(){return n(n(t)._name())._asVariableName()},function(e){e.fillBlock({each:t},r,3)})}),r.sendIdx["collect:"]=1,n(i)._nextPutVars_(l),r.sendIdx["nextPutVars:"]=1,n(n(t)._classReferences())._do_(function(t){return e.withContext(function(e){return c=s._stream(),e.sendIdx.stream=4,n(c)._nextPutClassRefFunction_(t)},function(e){e.fillBlock({each:t},r,4)})}),u=s._stream(),r.sendIdx.stream=5,n(u)._nextPutContextFor_during_(t,function(){return e.withContext(function(r){return d=n(t)._internalVariables(),r.sendIdx.internalVariables=1,f=n(d)._notEmpty(),e.assert(f)&&(h=s._stream(),r.sendIdx.stream=6,n(h)._nextPutVars_(n(n(n(t)._internalVariables())._asArray())._collect_(function(t){return e.withContext(function(){return n(n(t)._variable())._alias()},function(e){e.fillBlock({each:t},r,7)})}))),m=n(n(t)._scope())._hasNonLocalReturn(),e.assert(m)?n(s._stream())._nextPutNonLocalReturnHandlingWith_(function(){return e.withContext(function(r){return e.IRJSTranslator.superclass.fn.prototype._visitIRMethod_.apply(n(s),[t])},function(e){e.fillBlock({},r,9)})}):e.IRJSTranslator.superclass.fn.prototype._visitIRMethod_.apply(n(s),[t])},function(e){e.fillBlock({},r,5)})})},function(e){e.fillBlock({},r,2)})},n(t)._arguments())},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"visitIRMethod:",{anIRMethod:t},e.IRJSTranslator)})},args:["anIRMethod"],source:"visitIRMethod: anIRMethod\n\n	self stream\n		nextPutMethodDeclaration: anIRMethod\n		with: [ self stream\n			nextPutFunctionWith: [\n				self stream nextPutVars: (anIRMethod tempDeclarations collect: [ :each |\n					each name asVariableName ]).\n				anIRMethod classReferences do: [ :each | self stream nextPutClassRefFunction: each ].\n				self stream nextPutContextFor: anIRMethod during: [\n				anIRMethod internalVariables notEmpty ifTrue: [\n					self stream nextPutVars: (anIRMethod internalVariables asArray collect: [ :each |\n						each variable alias ]) ].\n				anIRMethod scope hasNonLocalReturn\n					ifTrue: [\n						self stream nextPutNonLocalReturnHandlingWith: [\n							super visitIRMethod: anIRMethod ] ]\n					ifFalse: [ super visitIRMethod: anIRMethod ] ]]\n			arguments: anIRMethod arguments ]",messageSends:["nextPutMethodDeclaration:with:","stream","nextPutFunctionWith:arguments:","nextPutVars:","collect:","tempDeclarations","asVariableName","name","do:","classReferences","nextPutClassRefFunction:","nextPutContextFor:during:","ifTrue:","notEmpty","internalVariables","asArray","alias","variable","ifTrue:ifFalse:","hasNonLocalReturn","scope","nextPutNonLocalReturnHandlingWith:","visitIRMethod:","arguments"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRNonLocalReturn:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){return n(s._stream())._nextPutNonLocalReturnWith_(function(){return e.withContext(function(){return e.IRJSTranslator.superclass.fn.prototype._visitIRNonLocalReturn_.apply(n(s),[t])},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"visitIRNonLocalReturn:",{anIRNonLocalReturn:t},e.IRJSTranslator)})},args:["anIRNonLocalReturn"],source:"visitIRNonLocalReturn: anIRNonLocalReturn\n	self stream nextPutNonLocalReturnWith: [\n		super visitIRNonLocalReturn: anIRNonLocalReturn ]",messageSends:["nextPutNonLocalReturnWith:","stream","visitIRNonLocalReturn:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRReturn:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){return n(s._stream())._nextPutReturnWith_(function(){return e.withContext(function(){return e.IRJSTranslator.superclass.fn.prototype._visitIRReturn_.apply(n(s),[t])},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"visitIRReturn:",{anIRReturn:t},e.IRJSTranslator)})},args:["anIRReturn"],source:"visitIRReturn: anIRReturn\n	self stream nextPutReturnWith: [\n		super visitIRReturn: anIRReturn ]",messageSends:["nextPutReturnWith:","stream","visitIRReturn:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRSend:",category:"visiting",fn:function(s){var r,a=this;return e.withContext(function(o){var i,l;return r=n(n(n(n(s)._method())._sendIndexes())._at_(n(s)._selector()))._size(),i=n(s)._classSend(),($receiver=i)==t||null==$receiver?a._visitSend_(s):a._visitSuperSend_(s),l=n(n(r).__gt(1))._and_(function(){return e.withContext(function(){return n(n(s)._index()).__lt(r)},function(e){e.fillBlock({},o,3)})}),e.assert(l)&&n(a._stream())._nextPutSendIndexFor_(s),a},function(t){t.fill(a,"visitIRSend:",{anIRSend:s,sends:r},e.IRJSTranslator)})},args:["anIRSend"],source:"visitIRSend: anIRSend\n	| sends |\n	sends := (anIRSend method sendIndexes at: anIRSend selector) size.\n	\n	anIRSend classSend\n		ifNil: [ self visitSend: anIRSend ]\n		ifNotNil: [ self visitSuperSend: anIRSend ].\n		\n	(sends > 1 and: [ anIRSend index < sends ])\n		ifTrue: [ self stream nextPutSendIndexFor: anIRSend ]",messageSends:["size","at:","sendIndexes","method","selector","ifNil:ifNotNil:","classSend","visitSend:","visitSuperSend:","ifTrue:","and:",">","<","index","nextPutSendIndexFor:","stream"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRSequence:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutSequenceWith_(function(){return e.withContext(function(r){return n(n(t)._instructions())._do_(function(t){return e.withContext(function(){return n(s._stream())._nextPutStatementWith_(s._visit_(t))},function(e){e.fillBlock({each:t},r,2)})})},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"visitIRSequence:",{anIRSequence:t},e.IRJSTranslator)})},args:["anIRSequence"],source:"visitIRSequence: anIRSequence\n	self stream nextPutSequenceWith: [\n		anIRSequence instructions do: [ :each |\n			self stream nextPutStatementWith: (self visit: each) ] ]",messageSends:["nextPutSequenceWith:","stream","do:","instructions","nextPutStatementWith:","visit:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRTempDeclaration:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"visitIRTempDeclaration:",{anIRTempDeclaration:t},e.IRJSTranslator)})},args:["anIRTempDeclaration"],source:"visitIRTempDeclaration: anIRTempDeclaration\n	\"self stream\n		nextPutAll: 'var ', anIRTempDeclaration name asVariableName, ';';\n		lf\"",messageSends:[],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRValue:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(s._stream())._nextPutAll_(n(n(t)._value())._asJavascript()),s},function(n){n.fill(s,"visitIRValue:",{anIRValue:t},e.IRJSTranslator)})},args:["anIRValue"],source:"visitIRValue: anIRValue\n	self stream nextPutAll: anIRValue value asJavascript",messageSends:["nextPutAll:","stream","asJavascript","value"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRVariable:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return a=n(t)._variable(),r.sendIdx.variable=1,o=n(a)._name(),i=n(o).__eq("thisContext"),e.assert(i)?(l=s._stream(),r.sendIdx.stream=1,n(l)._nextPutAll_("smalltalk.getThisContext()"),r.sendIdx["nextPutAll:"]=1):n(s._stream())._nextPutAll_(n(n(t)._variable())._alias()),s},function(n){n.fill(s,"visitIRVariable:",{anIRVariable:t},e.IRJSTranslator)})},args:["anIRVariable"],source:"visitIRVariable: anIRVariable\n	anIRVariable variable name = 'thisContext'\n		ifTrue: [ self stream nextPutAll: 'smalltalk.getThisContext()' ]\n		ifFalse: [ self stream nextPutAll: anIRVariable variable alias ]",messageSends:["ifTrue:ifFalse:","=","name","variable","nextPutAll:","stream","alias"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitIRVerbatim:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutStatementWith_(function(){return e.withContext(function(){return n(s._stream())._nextPutAll_(n(t)._source())},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"visitIRVerbatim:",{anIRVerbatim:t},e.IRJSTranslator)})},args:["anIRVerbatim"],source:"visitIRVerbatim: anIRVerbatim\n	self stream nextPutStatementWith: [\n		self stream nextPutAll: anIRVerbatim source ]",messageSends:["nextPutStatementWith:","stream","nextPutAll:","source"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitReceiver:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i;return a=n(t)._needsBoxingAsReceiver(),e.assert(a)?(i=s._stream(),r.sendIdx.stream=1,n(i)._nextPutAll_("_st("),r.sendIdx["nextPutAll:"]=1,s._visit_(t),n(s._stream())._nextPutAll_(")"),s):(o=s._visit_(t),r.sendIdx["visit:"]=1,o)},function(n){n.fill(s,"visitReceiver:",{anIRInstruction:t},e.IRJSTranslator)})},args:["anIRInstruction"],source:"visitReceiver: anIRInstruction\n	anIRInstruction needsBoxingAsReceiver ifFalse: [ ^ self visit: anIRInstruction ].\n	\n	self stream nextPutAll: '_st('.\n	self visit: anIRInstruction.\n	self stream nextPutAll: ')'",messageSends:["ifFalse:","needsBoxingAsReceiver","visit:","nextPutAll:","stream"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitSend:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c;return a=n(t)._instructions(),r.sendIdx.instructions=1,o=n(a)._first(),s._visitReceiver_(o),i=s._stream(),r.sendIdx.stream=1,l=n(".".__comma(n(n(t)._selector())._asSelector())).__comma("("),r.sendIdx[","]=1,n(i)._nextPutAll_(l),r.sendIdx["nextPutAll:"]=1,n(n(n(t)._instructions())._allButFirst())._do_separatedBy_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,1)})},function(){return e.withContext(function(e){return c=s._stream(),e.sendIdx.stream=2,n(c)._nextPutAll_(",")},function(e){e.fillBlock({},r,2)})}),n(s._stream())._nextPutAll_(")"),s},function(n){n.fill(s,"visitSend:",{anIRSend:t},e.IRJSTranslator)})},args:["anIRSend"],source:"visitSend: anIRSend\n	self visitReceiver: anIRSend instructions first.\n	self stream nextPutAll: '.', anIRSend selector asSelector, '('.\n	anIRSend instructions allButFirst\n		do: [ :each | self visit: each ]\n		separatedBy: [ self stream nextPutAll: ',' ].\n	self stream nextPutAll: ')'",messageSends:["visitReceiver:","first","instructions","nextPutAll:","stream",",","asSelector","selector","do:separatedBy:","allButFirst","visit:"],referencedClasses:[]}),e.IRJSTranslator),e.addMethod(e.method({selector:"visitSuperSend:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutAll_(n(s._currentClass())._asJavascript()),r.sendIdx["nextPutAll:"]=1,n(a)._nextPutAll_(".superclass.fn.prototype."),r.sendIdx["nextPutAll:"]=2,n(a)._nextPutAll_(n(n(n(t)._selector())._asSelector()).__comma(".apply(")),r.sendIdx["nextPutAll:"]=3,o=n(a)._nextPutAll_("_st("),r.sendIdx["nextPutAll:"]=4,i=n(t)._instructions(),r.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),r.sendIdx["visit:"]=1,c=s._stream(),r.sendIdx.stream=2,n(c)._nextPutAll_("), ["),r.sendIdx["nextPutAll:"]=5,n(n(n(t)._instructions())._allButFirst())._do_separatedBy_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,1)})},function(){return e.withContext(function(e){return u=s._stream(),e.sendIdx.stream=3,n(u)._nextPutAll_(",")},function(e){e.fillBlock({},r,2)})}),n(s._stream())._nextPutAll_("])"),s},function(n){n.fill(s,"visitSuperSend:",{anIRSend:t},e.IRJSTranslator)})},args:["anIRSend"],source:"visitSuperSend: anIRSend\n	self stream\n		nextPutAll: self currentClass asJavascript;\n		nextPutAll: '.superclass.fn.prototype.';\n		nextPutAll: anIRSend selector asSelector, '.apply(';\n		nextPutAll: '_st('.\n	self visit: anIRSend instructions first.\n	self stream nextPutAll: '), ['.\n	anIRSend instructions allButFirst\n		do: [ :each | self visit: each ]\n		separatedBy: [ self stream nextPutAll: ',' ].\n	self stream nextPutAll: '])'",messageSends:["nextPutAll:","stream","asJavascript","currentClass",",","asSelector","selector","visit:","first","instructions","do:separatedBy:","allButFirst"],referencedClasses:[]}),e.IRJSTranslator),e.addClass("JSStream",e.Object,["stream"],"Compiler-IR"),e.addMethod(e.method({selector:"contents",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@stream"])._contents()},function(n){n.fill(t,"contents",{},e.JSStream)})},args:[],source:"contents\n	^ stream contents",messageSends:["contents"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.JSStream.superclass.fn.prototype._initialize.apply(n(t),[]),t["@stream"]=""._writeStream(),t},function(n){n.fill(t,"initialize",{},e.JSStream)})},args:[],source:"initialize\n	super initialize.\n	stream := '' writeStream.",messageSends:["initialize","writeStream"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"lf",category:"streaming",fn:function(){var t=this;return e.withContext(function(){return n(t["@stream"])._lf(),t},function(n){n.fill(t,"lf",{},e.JSStream)})},args:[],source:"lf\n	stream lf",messageSends:["lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPut:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return n(s["@stream"])._nextPut_(t),s},function(n){n.fill(s,"nextPut:",{aString:t},e.JSStream)})},args:["aString"],source:"nextPut: aString\n	stream nextPut: aString",messageSends:["nextPut:"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutAll:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return n(s["@stream"])._nextPutAll_(t),s},function(n){n.fill(s,"nextPutAll:",{aString:t},e.JSStream)})},args:["aString"],source:"nextPutAll: aString\n	stream nextPutAll: aString",messageSends:["nextPutAll:"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutAssignment",category:"streaming",fn:function(){var t=this;return e.withContext(function(){return n(t["@stream"])._nextPutAll_("="),t},function(n){n.fill(t,"nextPutAssignment",{},e.JSStream)})},args:[],source:"nextPutAssignment\n	stream nextPutAll: '='",messageSends:["nextPutAll:"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutBlockContextFor:during:",category:"streaming",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M;return o=n(t)._scope(),a.sendIdx.scope=1,i=n(o)._alias(),a.sendIdx.alias=1,l="return smalltalk.withContext(function(".__comma(i),a.sendIdx[","]=2,c=n(l).__comma(") {"),a.sendIdx[","]=1,r._nextPutAll_(c),a.sendIdx["nextPutAll:"]=1,u=r._lf(),n(s)._value(),d=n(t)._scope(),a.sendIdx.scope=2,f=n(d)._alias(),a.sendIdx.alias=2,h="}, function(".__comma(f),a.sendIdx[","]=4,m=n(h).__comma(") {"),a.sendIdx[","]=3,r._nextPutAll_(m),a.sendIdx["nextPutAll:"]=2,g=n(t)._scope(),a.sendIdx.scope=3,p=n(g)._alias(),a.sendIdx.alias=3,_=n(p).__comma(".fillBlock({"),a.sendIdx[","]=5,C=r._nextPutAll_(_),a.sendIdx["nextPutAll:"]=3,n(n(t)._locals())._do_separatedBy_(function(t){return e.withContext(function(e){return v=n(t)._asVariableName(),e.sendIdx.asVariableName=1,r._nextPutAll_(v),e.sendIdx["nextPutAll:"]=4,r._nextPutAll_(":"),e.sendIdx["nextPutAll:"]=5,x=r._nextPutAll_(n(t)._asVariableName()),e.sendIdx["nextPutAll:"]=6,x},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(e){return r._nextPutAll_(",")},function(e){e.fillBlock({},a,2)})}),r._nextPutAll_("},"),a.sendIdx["nextPutAll:"]=8,y=n(t)._scope(),a.sendIdx.scope=4,S=n(y)._outerScope(),b=n(S)._alias(),w=n(b).__comma(","),k=n(w).__comma(n(n(n(t)._scope())._blockIndex())._asString()),a.sendIdx[","]=7,I=n(k).__comma(")})"),a.sendIdx[","]=6,M=r._nextPutAll_(I),r
},function(n){n.fill(r,"nextPutBlockContextFor:during:",{anIRClosure:t,aBlock:s},e.JSStream)})},args:["anIRClosure","aBlock"],source:"nextPutBlockContextFor: anIRClosure during: aBlock\n	self\n		nextPutAll: 'return smalltalk.withContext(function(', anIRClosure scope alias, ') {'; lf.\n	\n	aBlock value.\n	\n	self\n		nextPutAll: '}, function(', anIRClosure scope alias, ') {';\n		nextPutAll: anIRClosure scope alias, '.fillBlock({'.\n	\n	anIRClosure locals\n		do: [ :each |\n			self\n				nextPutAll: each asVariableName;\n				nextPutAll: ':';\n				nextPutAll: each asVariableName ]\n		separatedBy: [ self nextPutAll: ',' ].\n	\n	self\n		nextPutAll: '},';\n		nextPutAll: anIRClosure scope outerScope alias, ',', anIRClosure scope blockIndex asString, ')})'",messageSends:["nextPutAll:",",","alias","scope","lf","value","do:separatedBy:","locals","asVariableName","outerScope","asString","blockIndex"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutClassRefFunction:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return r=s["@stream"],n(r)._nextPutAll_("function $"),e.sendIdx["nextPutAll:"]=1,n(r)._nextPutAll_(t),e.sendIdx["nextPutAll:"]=2,n(r)._nextPutAll_("(){return smalltalk."),e.sendIdx["nextPutAll:"]=3,n(r)._nextPutAll_(t),e.sendIdx["nextPutAll:"]=4,n(r)._nextPutAll_("||(typeof "),e.sendIdx["nextPutAll:"]=5,n(r)._nextPutAll_(t),e.sendIdx["nextPutAll:"]=6,n(r)._nextPutAll_('=="undefined"?nil:'),e.sendIdx["nextPutAll:"]=7,n(r)._nextPutAll_(t),e.sendIdx["nextPutAll:"]=8,n(r)._nextPutAll_(")}"),a=n(r)._lf(),s},function(n){n.fill(s,"nextPutClassRefFunction:",{aString:t},e.JSStream)})},args:["aString"],source:"nextPutClassRefFunction: aString\n	\"Creates an inner function $aString into method and called as `$Foo()`whenever the global is accessed.\n	This ensures that undefined global access will answer `nil`\"\n	\n	stream\n		nextPutAll: 'function $';\n		nextPutAll: aString;\n		nextPutAll: '(){return smalltalk.';\n		nextPutAll: aString;\n		nextPutAll: '||(typeof ';\n		nextPutAll: aString;\n		nextPutAll: '==\"undefined\"?nil:';\n		nextPutAll: aString;\n		nextPutAll: ')}';\n		lf",messageSends:["nextPutAll:","lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutClosureWith:arguments:",category:"streaming",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i;return n(r["@stream"])._nextPutAll_("(function("),a.sendIdx["nextPutAll:"]=1,n(s)._do_separatedBy_(function(t){return e.withContext(function(e){return n(r["@stream"])._nextPutAll_(n(t)._asVariableName())},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(){return n(r["@stream"])._nextPut_(",")},function(e){e.fillBlock({},a,2)})}),o=r["@stream"],n(o)._nextPutAll_("){"),a.sendIdx["nextPutAll:"]=3,i=n(o)._lf(),n(t)._value(),n(r["@stream"])._nextPutAll_("})"),r},function(n){n.fill(r,"nextPutClosureWith:arguments:",{aBlock:t,anArray:s},e.JSStream)})},args:["aBlock","anArray"],source:"nextPutClosureWith: aBlock arguments: anArray\n	stream nextPutAll: '(function('.\n	anArray\n		do: [ :each | stream nextPutAll: each asVariableName ]\n		separatedBy: [ stream nextPut: ',' ].\n	stream nextPutAll: '){'; lf.\n	aBlock value.\n	stream nextPutAll: '})'",messageSends:["nextPutAll:","do:separatedBy:","asVariableName","nextPut:","lf","value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutContextFor:during:",category:"streaming",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S;return o=n(t)._scope(),a.sendIdx.scope=1,i=n(o)._alias(),a.sendIdx.alias=1,l="return smalltalk.withContext(function(".__comma(i),a.sendIdx[","]=2,c=n(l).__comma(") { "),a.sendIdx[","]=1,r._nextPutAll_(c),a.sendIdx["nextPutAll:"]=1,u=r._lf(),n(s)._value(),d=n(t)._scope(),a.sendIdx.scope=2,f=n(d)._alias(),a.sendIdx.alias=2,h="}, function(".__comma(f),a.sendIdx[","]=5,m=n(h).__comma(") {"),a.sendIdx[","]=4,g=n(m).__comma(n(n(t)._scope())._alias()),a.sendIdx[","]=3,r._nextPutAll_(g),a.sendIdx["nextPutAll:"]=2,p=n(n(t)._selector())._asJavascript(),a.sendIdx.asJavascript=1,_=".fill(self,".__comma(p),C=n(_).__comma(",{"),a.sendIdx[","]=6,v=r._nextPutAll_(C),a.sendIdx["nextPutAll:"]=3,n(n(t)._locals())._do_separatedBy_(function(t){return e.withContext(function(e){return x=n(t)._asVariableName(),e.sendIdx.asVariableName=1,r._nextPutAll_(x),e.sendIdx["nextPutAll:"]=4,r._nextPutAll_(":"),e.sendIdx["nextPutAll:"]=5,y=r._nextPutAll_(n(t)._asVariableName()),e.sendIdx["nextPutAll:"]=6,y},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(e){return r._nextPutAll_(",")},function(e){e.fillBlock({},a,2)})}),r._nextPutAll_("},"),a.sendIdx["nextPutAll:"]=8,r._nextPutAll_(n(n(t)._theClass())._asJavascript()),a.sendIdx["nextPutAll:"]=9,S=r._nextPutAll_(")})"),r},function(n){n.fill(r,"nextPutContextFor:during:",{aMethod:t,aBlock:s},e.JSStream)})},args:["aMethod","aBlock"],source:"nextPutContextFor: aMethod during: aBlock\n	self\n		nextPutAll: 'return smalltalk.withContext(function(', aMethod scope alias, ') { '; lf.\n	aBlock value.\n	\n	self\n		nextPutAll: '}, function(', aMethod scope alias, ') {', aMethod scope alias;\n		nextPutAll: '.fill(self,', aMethod selector asJavascript, ',{'.\n\n	aMethod locals\n		do: [ :each |\n			self\n				nextPutAll: each asVariableName;\n				nextPutAll: ':';\n				nextPutAll: each asVariableName ]\n		separatedBy: [ self nextPutAll: ',' ].\n	\n	self\n		nextPutAll: '},';\n		nextPutAll: aMethod theClass asJavascript;\n		nextPutAll: ')})'",messageSends:["nextPutAll:",",","alias","scope","lf","value","asJavascript","selector","do:separatedBy:","locals","asVariableName","theClass"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutFunctionWith:arguments:",category:"streaming",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c;return n(r["@stream"])._nextPutAll_("fn: function("),a.sendIdx["nextPutAll:"]=1,n(s)._do_separatedBy_(function(t){return e.withContext(function(e){return n(r["@stream"])._nextPutAll_(n(t)._asVariableName())},function(e){e.fillBlock({each:t},a,1)})},function(){return e.withContext(function(){return n(r["@stream"])._nextPut_(",")},function(e){e.fillBlock({},a,2)})}),o=r["@stream"],n(o)._nextPutAll_("){"),a.sendIdx["nextPutAll:"]=3,i=n(o)._lf(),a.sendIdx.lf=1,l=r["@stream"],n(l)._nextPutAll_("var self=this;"),a.sendIdx["nextPutAll:"]=4,c=n(l)._lf(),n(t)._value(),n(r["@stream"])._nextPutAll_("}"),r},function(n){n.fill(r,"nextPutFunctionWith:arguments:",{aBlock:t,anArray:s},e.JSStream)})},args:["aBlock","anArray"],source:"nextPutFunctionWith: aBlock arguments: anArray\n	stream nextPutAll: 'fn: function('.\n	anArray\n		do: [ :each | stream nextPutAll: each asVariableName ]\n		separatedBy: [ stream nextPut: ',' ].\n	stream nextPutAll: '){'; lf.\n	stream nextPutAll: 'var self=this;'; lf.\n	aBlock value.\n	stream nextPutAll: '}'",messageSends:["nextPutAll:","do:separatedBy:","asVariableName","nextPut:","lf","value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutIf:with:",category:"streaming",fn:function(t,s){var r=this;return e.withContext(function(e){var a,o;return n(r["@stream"])._nextPutAll_("if("),e.sendIdx["nextPutAll:"]=1,n(t)._value(),e.sendIdx.value=1,a=r["@stream"],n(a)._nextPutAll_("){"),e.sendIdx["nextPutAll:"]=2,o=n(a)._lf(),n(s)._value(),n(r["@stream"])._nextPutAll_("}"),r},function(n){n.fill(r,"nextPutIf:with:",{aBlock:t,anotherBlock:s},e.JSStream)})},args:["aBlock","anotherBlock"],source:"nextPutIf: aBlock with: anotherBlock\n	stream nextPutAll: 'if('.\n	aBlock value.\n	stream nextPutAll: '){'; lf.\n	anotherBlock value.\n	stream nextPutAll: '}'",messageSends:["nextPutAll:","value","lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutIfElse:with:with:",category:"streaming",fn:function(t,s,r){var a=this;return e.withContext(function(e){var o,i,l,c;return n(a["@stream"])._nextPutAll_("if("),e.sendIdx["nextPutAll:"]=1,n(t)._value(),e.sendIdx.value=1,o=a["@stream"],n(o)._nextPutAll_("){"),e.sendIdx["nextPutAll:"]=2,i=n(o)._lf(),e.sendIdx.lf=1,n(s)._value(),e.sendIdx.value=2,l=a["@stream"],n(l)._nextPutAll_("} else {"),e.sendIdx["nextPutAll:"]=3,c=n(l)._lf(),n(r)._value(),n(a["@stream"])._nextPutAll_("}"),a},function(n){n.fill(a,"nextPutIfElse:with:with:",{aBlock:t,ifBlock:s,elseBlock:r},e.JSStream)})},args:["aBlock","ifBlock","elseBlock"],source:"nextPutIfElse: aBlock with: ifBlock with: elseBlock\n	stream nextPutAll: 'if('.\n	aBlock value.\n	stream nextPutAll: '){'; lf.\n	ifBlock value.\n	stream nextPutAll: '} else {'; lf.\n	elseBlock value.\n	stream nextPutAll: '}'",messageSends:["nextPutAll:","value","lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutMethodDeclaration:with:",category:"streaming",fn:function(s,r){function a(){return e.String||("undefined"==typeof String?t:String)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M,T,A,N,B,P;return i=o["@stream"],n(i)._nextPutAll_("smalltalk.method({"),t.sendIdx["nextPutAll:"]=1,n(i)._lf(),t.sendIdx.lf=1,l=i,c=n(n(s)._selector())._asJavascript(),t.sendIdx.asJavascript=1,u="selector: ".__comma(c),t.sendIdx[","]=2,d=n(u).__comma(","),t.sendIdx[","]=1,n(l)._nextPutAll_(d),t.sendIdx["nextPutAll:"]=2,n(i)._lf(),t.sendIdx.lf=2,f=i,h=n(n(s)._source())._asJavascript(),t.sendIdx.asJavascript=2,m="source: ".__comma(h),t.sendIdx[","]=4,g=n(m).__comma(","),t.sendIdx[","]=3,n(f)._nextPutAll_(g),t.sendIdx["nextPutAll:"]=3,p=n(i)._lf(),t.sendIdx.lf=3,n(r)._value(),t.sendIdx.value=1,_=o["@stream"],C=_,v=n(a())._lf(),t.sendIdx.lf=4,x=",".__comma(v),t.sendIdx[","]=6,y=n(x).__comma("messageSends: "),t.sendIdx[","]=5,n(C)._nextPutAll_(y),t.sendIdx["nextPutAll:"]=4,S=_,b=n(n(s)._messageSends())._asArray(),t.sendIdx.asArray=1,w=n(b)._asJavascript(),t.sendIdx.asJavascript=3,k=n(w).__comma(","),t.sendIdx[","]=7,n(S)._nextPutAll_(k),t.sendIdx["nextPutAll:"]=5,n(_)._lf(),t.sendIdx.lf=5,I=_,M=n(n(n(n(s)._arguments())._collect_(function(s){return e.withContext(function(){return n(s)._value()},function(e){e.fillBlock({each:s},t,1)})}))._asArray())._asJavascript(),t.sendIdx.asJavascript=4,T="args: ".__comma(M),A=n(T).__comma(","),t.sendIdx[","]=8,n(I)._nextPutAll_(A),t.sendIdx["nextPutAll:"]=6,n(_)._lf(),N=n(_)._nextPutAll_("referencedClasses: ["),t.sendIdx["nextPutAll:"]=7,n(n(s)._classReferences())._do_separatedBy_(function(s){return e.withContext(function(e){return n(o["@stream"])._nextPutAll_(n(s)._asJavascript())},function(e){e.fillBlock({each:s},t,2)})},function(){return e.withContext(function(e){return n(o["@stream"])._nextPutAll_(",")},function(e){e.fillBlock({},t,3)})}),B=o["@stream"],n(B)._nextPutAll_("]"),t.sendIdx["nextPutAll:"]=10,P=n(B)._nextPutAll_("})"),o},function(t){t.fill(o,"nextPutMethodDeclaration:with:",{aMethod:s,aBlock:r},e.JSStream)})},args:["aMethod","aBlock"],source:"nextPutMethodDeclaration: aMethod with: aBlock\n	stream\n		nextPutAll: 'smalltalk.method({'; lf;\n		nextPutAll: 'selector: ', aMethod selector asJavascript, ','; lf;\n		nextPutAll: 'source: ', aMethod source asJavascript, ',';lf.\n	aBlock value.\n	stream\n		nextPutAll: ',', String lf, 'messageSends: ';\n		nextPutAll: aMethod messageSends asArray asJavascript, ','; lf;\n		nextPutAll: 'args: ', (aMethod arguments collect: [ :each | each value ]) asArray asJavascript, ','; lf;\n		nextPutAll: 'referencedClasses: ['.\n	aMethod classReferences\n		do: [ :each | stream nextPutAll: each asJavascript ]\n		separatedBy: [ stream nextPutAll: ',' ].\n	stream\n		nextPutAll: ']';\n		nextPutAll: '})'",messageSends:["nextPutAll:","lf",",","asJavascript","selector","source","value","asArray","messageSends","collect:","arguments","do:separatedBy:","classReferences"],referencedClasses:["String"]}),e.JSStream),e.addMethod(e.method({selector:"nextPutNonLocalReturnHandlingWith:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(e){var r,a,o,i;return r=s["@stream"],n(r)._nextPutAll_("var $early={};"),e.sendIdx["nextPutAll:"]=1,n(r)._lf(),e.sendIdx.lf=1,n(r)._nextPutAll_("try {"),e.sendIdx["nextPutAll:"]=2,a=n(r)._lf(),e.sendIdx.lf=2,n(t)._value(),o=s["@stream"],n(o)._nextPutAll_("}"),e.sendIdx["nextPutAll:"]=3,n(o)._lf(),e.sendIdx.lf=3,n(o)._nextPutAll_("catch(e) {if(e===$early)return e[0]; throw e}"),i=n(o)._lf(),s},function(n){n.fill(s,"nextPutNonLocalReturnHandlingWith:",{aBlock:t},e.JSStream)})},args:["aBlock"],source:"nextPutNonLocalReturnHandlingWith: aBlock\n	stream\n		nextPutAll: 'var $early={};'; lf;\n		nextPutAll: 'try {'; lf.\n	aBlock value.\n	stream\n		nextPutAll: '}'; lf;\n		nextPutAll: 'catch(e) {if(e===$early)return e[0]; throw e}'; lf",messageSends:["nextPutAll:","lf","value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutNonLocalReturnWith:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(e){return n(s["@stream"])._nextPutAll_("throw $early=["),e.sendIdx["nextPutAll:"]=1,n(t)._value(),n(s["@stream"])._nextPutAll_("]"),s},function(n){n.fill(s,"nextPutNonLocalReturnWith:",{aBlock:t},e.JSStream)})},args:["aBlock"],source:"nextPutNonLocalReturnWith: aBlock\n	stream nextPutAll: 'throw $early=['.\n	aBlock value.\n	stream nextPutAll: ']'",messageSends:["nextPutAll:","value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutReturn",category:"streaming",fn:function(){var t=this;return e.withContext(function(){return n(t["@stream"])._nextPutAll_("return "),t},function(n){n.fill(t,"nextPutReturn",{},e.JSStream)})},args:[],source:"nextPutReturn\n	stream nextPutAll: 'return '",messageSends:["nextPutAll:"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutReturnWith:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return s._nextPutReturn(),n(t)._value(),s},function(n){n.fill(s,"nextPutReturnWith:",{aBlock:t},e.JSStream)})},args:["aBlock"],source:"nextPutReturnWith: aBlock\n	self nextPutReturn.\n	aBlock value",messageSends:["nextPutReturn","value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutSendIndexFor:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(e){var r;return s._nextPutAll_(";"),e.sendIdx["nextPutAll:"]=1,s._lf(),s._nextPutAll_(n(n(t)._scope())._alias()),e.sendIdx["nextPutAll:"]=2,s._nextPutAll_(".sendIdx["),e.sendIdx["nextPutAll:"]=3,s._nextPutAll_(n(n(t)._selector())._asJavascript()),e.sendIdx["nextPutAll:"]=4,s._nextPutAll_("]="),e.sendIdx["nextPutAll:"]=5,r=s._nextPutAll_(n(n(t)._index())._asString()),s},function(n){n.fill(s,"nextPutSendIndexFor:",{anIRSend:t},e.JSStream)})},args:["anIRSend"],source:"nextPutSendIndexFor: anIRSend\n	self \n		nextPutAll: ';'; lf;\n		nextPutAll: anIRSend scope alias;\n		nextPutAll: '.sendIdx[';\n		nextPutAll: anIRSend selector asJavascript;\n		nextPutAll: ']=';\n		nextPutAll: anIRSend index asString",messageSends:["nextPutAll:","lf","alias","scope","asJavascript","selector","asString","index"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutSequenceWith:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){return n(t)._value(),s},function(n){n.fill(s,"nextPutSequenceWith:",{aBlock:t},e.JSStream)})},args:["aBlock"],source:"nextPutSequenceWith: aBlock\n	\"stream\n		nextPutAll: 'switch(smalltalk.thisContext.pc){'; lf.\"\n	aBlock value.\n	\"stream\n		nextPutAll: '};'; lf\"",messageSends:["value"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutStatementWith:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(){var e,r;return n(t)._value(),e=s["@stream"],n(e)._nextPutAll_(";"),r=n(e)._lf(),s},function(n){n.fill(s,"nextPutStatementWith:",{aBlock:t},e.JSStream)})},args:["aBlock"],source:"nextPutStatementWith: aBlock\n	aBlock value.\n	stream nextPutAll: ';'; lf",messageSends:["value","nextPutAll:","lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"nextPutVars:",category:"streaming",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i={};try{return n(t)._ifEmpty_(function(){return e.withContext(function(){throw i=[s]},function(e){e.fillBlock({},r,1)})}),n(s["@stream"])._nextPutAll_("var "),r.sendIdx["nextPutAll:"]=1,n(t)._do_separatedBy_(function(t){return e.withContext(function(e){return n(s["@stream"])._nextPutAll_(t)},function(e){e.fillBlock({each:t},r,2)})},function(){return e.withContext(function(e){return n(s["@stream"])._nextPutAll_(",")},function(e){e.fillBlock({},r,3)})}),a=s["@stream"],n(a)._nextPutAll_(";"),o=n(a)._lf(),s}catch(l){if(l===i)return l[0];throw l}},function(n){n.fill(s,"nextPutVars:",{aCollection:t},e.JSStream)})},args:["aCollection"],source:"nextPutVars: aCollection\n	aCollection ifEmpty: [ ^ self ].\n	\n	stream nextPutAll: 'var '.\n	aCollection\n		do: [ :each | stream nextPutAll: each ]\n		separatedBy: [ stream nextPutAll: ',' ].\n	stream nextPutAll: ';'; lf",messageSends:["ifEmpty:","nextPutAll:","do:separatedBy:","lf"],referencedClasses:[]}),e.JSStream),e.addMethod(e.method({selector:"appendToInstruction:",category:"*Compiler-IR",fn:function(t){var s=this;return e.withContext(function(){return n(t)._appendBlock_(s),s},function(n){n.fill(s,"appendToInstruction:",{anIRInstruction:t},e.BlockClosure)})},args:["anIRInstruction"],source:"appendToInstruction: anIRInstruction\n	anIRInstruction appendBlock: self",messageSends:["appendBlock:"],referencedClasses:[]}),e.BlockClosure),e.addMethod(e.method({selector:"asVariableName",category:"*Compiler-IR",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var t,a;return t=n(n(n(s())._current())._reservedWords())._includes_(r),a=e.assert(t)?r.__comma("_"):r},function(t){t.fill(r,"asVariableName",{},e.String)})},args:[],source:"asVariableName\n	^ (Smalltalk current reservedWords includes: self)\n		ifTrue: [ self, '_' ]\n		ifFalse: [ self ]",messageSends:["ifTrue:ifFalse:","includes:","reservedWords","current",","],referencedClasses:["Smalltalk"]}),e.String)}),define("amber_core/Compiler-Inlining",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Compiler-IR","amber_core/Kernel-Objects","amber_core/Compiler-Core"],function(e,t,n){e.addPackage("Compiler-Inlining"),e.packages["Compiler-Inlining"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("IRInlinedAssignment",e.IRAssignment,[],"Compiler-Inlining"),e.IRInlinedAssignment.comment="I represent an inlined assignment instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRInlinedAssignment_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedAssignment)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRInlinedAssignment: self",messageSends:["visitIRInlinedAssignment:"],referencedClasses:[]}),e.IRInlinedAssignment),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isInlined",{},e.IRInlinedAssignment)})},args:[],source:"isInlined\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInlinedAssignment),e.addClass("IRInlinedClosure",e.IRClosure,[],"Compiler-Inlining"),e.IRInlinedClosure.comment="I represent an inlined closure instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedClosure_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedClosure)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedClosure: self",messageSends:["visitIRInlinedClosure:"],referencedClasses:[]}),e.IRInlinedClosure),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isInlined",{},e.IRInlinedClosure)})},args:[],source:"isInlined\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInlinedClosure),e.addClass("IRInlinedReturn",e.IRReturn,[],"Compiler-Inlining"),e.IRInlinedReturn.comment="I represent an inlined local return instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(t)._visitIRInlinedReturn_(s)},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedReturn)})},args:["aVisitor"],source:"accept: aVisitor\n	^ aVisitor visitIRInlinedReturn: self",messageSends:["visitIRInlinedReturn:"],referencedClasses:[]}),e.IRInlinedReturn),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isInlined",{},e.IRInlinedReturn)})},args:[],source:"isInlined\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInlinedReturn),e.addClass("IRInlinedSend",e.IRSend,[],"Compiler-Inlining"),e.IRInlinedSend.comment="I am the abstract super class of inlined message send instructions.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitInlinedSend_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedSend)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitInlinedSend: self",messageSends:["visitInlinedSend:"],referencedClasses:[]}),e.IRInlinedSend),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isInlined",{},e.IRInlinedSend)})},args:[],source:"isInlined\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInlinedSend),e.addClass("IRInlinedIfFalse",e.IRInlinedSend,[],"Compiler-Inlining"),e.IRInlinedIfFalse.comment="I represent an inlined `#ifFalse:` message send instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedIfFalse_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedIfFalse)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedIfFalse: self",messageSends:["visitIRInlinedIfFalse:"],referencedClasses:[]}),e.IRInlinedIfFalse),e.addClass("IRInlinedIfNilIfNotNil",e.IRInlinedSend,[],"Compiler-Inlining"),e.IRInlinedIfNilIfNotNil.comment="I represent an inlined `#ifNil:ifNotNil:` message send instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedIfNilIfNotNil_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedIfNilIfNotNil)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedIfNilIfNotNil: self",messageSends:["visitIRInlinedIfNilIfNotNil:"],referencedClasses:[]}),e.IRInlinedIfNilIfNotNil),e.addClass("IRInlinedIfTrue",e.IRInlinedSend,[],"Compiler-Inlining"),e.IRInlinedIfTrue.comment="I represent an inlined `#ifTrue:` message send instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedIfTrue_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedIfTrue)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedIfTrue: self",messageSends:["visitIRInlinedIfTrue:"],referencedClasses:[]}),e.IRInlinedIfTrue),e.addClass("IRInlinedIfTrueIfFalse",e.IRInlinedSend,[],"Compiler-Inlining"),e.IRInlinedIfTrueIfFalse.comment="I represent an inlined `#ifTrue:ifFalse:` message send instruction.",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedIfTrueIfFalse_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedIfTrueIfFalse)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedIfTrueIfFalse: self",messageSends:["visitIRInlinedIfTrueIfFalse:"],referencedClasses:[]}),e.IRInlinedIfTrueIfFalse),e.addClass("IRInlinedSequence",e.IRBlockSequence,[],"Compiler-Inlining"),e.IRInlinedSequence.comment="I represent a (block) sequence inside an inlined closure instruction (instance of `IRInlinedClosure`).",e.addMethod(e.method({selector:"accept:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return n(t)._visitIRInlinedSequence_(s),s},function(n){n.fill(s,"accept:",{aVisitor:t},e.IRInlinedSequence)})},args:["aVisitor"],source:"accept: aVisitor\n	aVisitor visitIRInlinedSequence: self",messageSends:["visitIRInlinedSequence:"],referencedClasses:[]}),e.IRInlinedSequence),e.addMethod(e.method({selector:"isInlined",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isInlined",{},e.IRInlinedSequence)})},args:[],source:"isInlined\n	^ true",messageSends:[],referencedClasses:[]}),e.IRInlinedSequence),e.addClass("IRInliner",e.IRVisitor,[],"Compiler-Inlining"),e.IRInliner.comment="I visit an IR tree, inlining message sends and block closures.\n\nMessage selectors that can be inlined are answered by `IRSendInliner >> #inlinedSelectors`",e.addMethod(e.method({selector:"assignmentInliner",category:"factory",fn:function(){function s(){return e.IRAssignmentInliner||("undefined"==typeof IRAssignmentInliner?t:IRAssignmentInliner)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._translator_(r),t=n(e)._yourself(),a=t},function(t){t.fill(r,"assignmentInliner",{},e.IRInliner)})},args:[],source:"assignmentInliner\n	^ IRAssignmentInliner new\n		translator: self;\n		yourself",messageSends:["translator:","new","yourself"],referencedClasses:["IRAssignmentInliner"]}),e.IRInliner),e.addMethod(e.method({selector:"returnInliner",category:"factory",fn:function(){function s(){return e.IRReturnInliner||("undefined"==typeof IRReturnInliner?t:IRReturnInliner)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._translator_(r),t=n(e)._yourself(),a=t},function(t){t.fill(r,"returnInliner",{},e.IRInliner)})},args:[],source:"returnInliner\n	^ IRReturnInliner new\n		translator: self;\n		yourself",messageSends:["translator:","new","yourself"],referencedClasses:["IRReturnInliner"]}),e.IRInliner),e.addMethod(e.method({selector:"sendInliner",category:"factory",fn:function(){function s(){return e.IRSendInliner||("undefined"==typeof IRSendInliner?t:IRSendInliner)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._translator_(r),t=n(e)._yourself(),a=t},function(t){t.fill(r,"sendInliner",{},e.IRInliner)})},args:[],source:"sendInliner\n	^ IRSendInliner new\n		translator: self;\n		yourself",messageSends:["translator:","new","yourself"],referencedClasses:["IRSendInliner"]}),e.IRInliner),e.addMethod(e.method({selector:"shouldInlineAssignment:",category:"testing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return l=n(n(n(t)._isInlined())._not())._and_(function(){return e.withContext(function(r){return a=n(t)._instructions(),r.sendIdx.instructions=1,o=n(a)._last(),r.sendIdx.last=1,i=n(o)._isSend(),n(i)._and_(function(){return e.withContext(function(){return s._shouldInlineSend_(n(n(t)._instructions())._last())},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({},r,1)})}),r.sendIdx["and:"]=1,l},function(n){n.fill(s,"shouldInlineAssignment:",{anIRAssignment:t},e.IRInliner)})},args:["anIRAssignment"],source:"shouldInlineAssignment: anIRAssignment\n	^ anIRAssignment isInlined not and: [\n		anIRAssignment instructions last isSend and: [\n			self shouldInlineSend: (anIRAssignment instructions last) ]]",messageSends:["and:","not","isInlined","isSend","last","instructions","shouldInlineSend:"],referencedClasses:[]}),e.IRInliner),e.addMethod(e.method({selector:"shouldInlineReturn:",category:"testing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return l=n(n(n(t)._isInlined())._not())._and_(function(){return e.withContext(function(r){return a=n(t)._instructions(),r.sendIdx.instructions=1,o=n(a)._first(),r.sendIdx.first=1,i=n(o)._isSend(),n(i)._and_(function(){return e.withContext(function(){return s._shouldInlineSend_(n(n(t)._instructions())._first())},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({},r,1)})}),r.sendIdx["and:"]=1,l},function(n){n.fill(s,"shouldInlineReturn:",{anIRReturn:t},e.IRInliner)})},args:["anIRReturn"],source:"shouldInlineReturn: anIRReturn\n	^ anIRReturn isInlined not and: [\n		anIRReturn instructions first isSend and: [\n			self shouldInlineSend: (anIRReturn instructions first) ]]",messageSends:["and:","not","isInlined","isSend","first","instructions","shouldInlineSend:"],referencedClasses:[]}),e.IRInliner),e.addMethod(e.method({selector:"shouldInlineSend:",category:"testing",fn:function(s){function r(){return e.IRSendInliner||("undefined"==typeof IRSendInliner?t:IRSendInliner)}var a=this;return e.withContext(function(t){var a;return a=n(n(n(s)._isInlined())._not())._and_(function(){return e.withContext(function(){return n(r())._shouldInline_(s)},function(e){e.fillBlock({},t,1)})})},function(t){t.fill(a,"shouldInlineSend:",{anIRSend:s},e.IRInliner)})},args:["anIRSend"],source:"shouldInlineSend: anIRSend\n	^ anIRSend isInlined not and: [\n		IRSendInliner shouldInline: anIRSend ]",messageSends:["and:","not","isInlined","shouldInline:"],referencedClasses:["IRSendInliner"]}),e.IRInliner),e.addMethod(e.method({selector:"transformNonLocalReturn:",category:"visiting",fn:function(s){function r(){return e.IRReturn||("undefined"==typeof IRReturn?t:IRReturn)}var a,o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g;return i=n(s)._scope(),t.sendIdx.scope=1,l=n(i)._canInlineNonLocalReturns(),e.assert(l)?(c=n(s)._scope(),t.sendIdx.scope=2,u=n(c)._methodScope(),d=n(s)._scope(),t.sendIdx.scope=3,n(u)._removeNonLocalReturn_(d),f=n(r())._new(),n(f)._scope_(n(s)._scope()),h=n(f)._yourself(),a=h,n(n(s)._instructions())._do_(function(s){return e.withContext(function(){return n(a)._add_(s)},function(e){e.fillBlock({each:s},t,2)})}),n(s)._replaceWith_(a),m=a):g=e.IRInliner.superclass.fn.prototype._visitIRNonLocalReturn_.apply(n(o),[s])},function(t){t.fill(o,"transformNonLocalReturn:",{anIRNonLocalReturn:s,localReturn:a},e.IRInliner)})},args:["anIRNonLocalReturn"],source:'transformNonLocalReturn: anIRNonLocalReturn\n	"Replace a non local return into a local return"\n\n	| localReturn |\n	anIRNonLocalReturn scope canInlineNonLocalReturns ifTrue: [\n		anIRNonLocalReturn scope methodScope removeNonLocalReturn: anIRNonLocalReturn scope.\n		localReturn := IRReturn new\n			scope: anIRNonLocalReturn scope;\n			yourself.\n		anIRNonLocalReturn instructions do: [ :each |\n			localReturn add: each ].\n		anIRNonLocalReturn replaceWith: localReturn.\n		^ localReturn ].\n	^ super visitIRNonLocalReturn: anIRNonLocalReturn',messageSends:["ifTrue:","canInlineNonLocalReturns","scope","removeNonLocalReturn:","methodScope","scope:","new","yourself","do:","instructions","add:","replaceWith:","visitIRNonLocalReturn:"],referencedClasses:["IRReturn"]}),e.IRInliner),e.addMethod(e.method({selector:"visitIRAssignment:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._shouldInlineAssignment_(t),a=e.assert(r)?n(s._assignmentInliner())._inlineAssignment_(t):e.IRInliner.superclass.fn.prototype._visitIRAssignment_.apply(n(s),[t])},function(n){n.fill(s,"visitIRAssignment:",{anIRAssignment:t},e.IRInliner)})},args:["anIRAssignment"],source:"visitIRAssignment: anIRAssignment\n	^ (self shouldInlineAssignment: anIRAssignment)\n		ifTrue: [ self assignmentInliner inlineAssignment: anIRAssignment ]\n		ifFalse: [ super visitIRAssignment: anIRAssignment ]",messageSends:["ifTrue:ifFalse:","shouldInlineAssignment:","inlineAssignment:","assignmentInliner","visitIRAssignment:"],referencedClasses:[]}),e.IRInliner),e.addMethod(e.method({selector:"visitIRNonLocalReturn:",category:"visiting",fn:function(t){var n=this;
return e.withContext(function(){var e;return e=n._transformNonLocalReturn_(t)},function(s){s.fill(n,"visitIRNonLocalReturn:",{anIRNonLocalReturn:t},e.IRInliner)})},args:["anIRNonLocalReturn"],source:"visitIRNonLocalReturn: anIRNonLocalReturn\n	^ self transformNonLocalReturn: anIRNonLocalReturn",messageSends:["transformNonLocalReturn:"],referencedClasses:[]}),e.IRInliner),e.addMethod(e.method({selector:"visitIRReturn:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._shouldInlineReturn_(t),a=e.assert(r)?n(s._returnInliner())._inlineReturn_(t):e.IRInliner.superclass.fn.prototype._visitIRReturn_.apply(n(s),[t])},function(n){n.fill(s,"visitIRReturn:",{anIRReturn:t},e.IRInliner)})},args:["anIRReturn"],source:"visitIRReturn: anIRReturn\n	^ (self shouldInlineReturn: anIRReturn)\n		ifTrue: [ self returnInliner inlineReturn: anIRReturn ]\n		ifFalse: [ super visitIRReturn: anIRReturn ]",messageSends:["ifTrue:ifFalse:","shouldInlineReturn:","inlineReturn:","returnInliner","visitIRReturn:"],referencedClasses:[]}),e.IRInliner),e.addMethod(e.method({selector:"visitIRSend:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._shouldInlineSend_(t),a=e.assert(r)?n(s._sendInliner())._inlineSend_(t):e.IRInliner.superclass.fn.prototype._visitIRSend_.apply(n(s),[t])},function(n){n.fill(s,"visitIRSend:",{anIRSend:t},e.IRInliner)})},args:["anIRSend"],source:"visitIRSend: anIRSend\n	^ (self shouldInlineSend: anIRSend)\n		ifTrue: [ self sendInliner inlineSend: anIRSend ]\n		ifFalse: [ super visitIRSend: anIRSend ]",messageSends:["ifTrue:ifFalse:","shouldInlineSend:","inlineSend:","sendInliner","visitIRSend:"],referencedClasses:[]}),e.IRInliner),e.addClass("IRInliningJSTranslator",e.IRJSTranslator,[],"Compiler-Inlining"),e.IRInliningJSTranslator.comment="I am a specialized JavaScript translator able to write inlined IR instructions to JavaScript stream (`JSStream` instance).",e.addMethod(e.method({selector:"visitIRInlinedAssignment:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last()),s},function(n){n.fill(s,"visitIRInlinedAssignment:",{anIRInlinedAssignment:t},e.IRInliningJSTranslator)})},args:["anIRInlinedAssignment"],source:"visitIRInlinedAssignment: anIRInlinedAssignment\n	self visit: anIRInlinedAssignment instructions last",messageSends:["visit:","last","instructions"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedClosure:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){return n(s._stream())._nextPutVars_(n(n(t)._tempDeclarations())._collect_(function(t){return e.withContext(function(){return n(n(t)._name())._asVariableName()},function(e){e.fillBlock({each:t},r,1)})})),n(n(t)._instructions())._do_(function(t){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({each:t},r,2)})}),s},function(n){n.fill(s,"visitIRInlinedClosure:",{anIRInlinedClosure:t},e.IRInliningJSTranslator)})},args:["anIRInlinedClosure"],source:"visitIRInlinedClosure: anIRInlinedClosure\n	self stream nextPutVars: (anIRInlinedClosure tempDeclarations collect: [ :each |\n		each name asVariableName ]).\n	anIRInlinedClosure instructions do: [ :each |\n		self visit: each ]",messageSends:["nextPutVars:","stream","collect:","tempDeclarations","asVariableName","name","do:","instructions","visit:"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedIfFalse:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutIf_with_(function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_("! smalltalk.assert("),e.sendIdx["nextPutAll:"]=1,i=n(t)._instructions(),e.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAll_(")")},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last())},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"visitIRInlinedIfFalse:",{anIRInlinedIfFalse:t},e.IRInliningJSTranslator)})},args:["anIRInlinedIfFalse"],source:"visitIRInlinedIfFalse: anIRInlinedIfFalse\n	self stream nextPutIf: [\n		self stream nextPutAll: '! smalltalk.assert('.\n		self visit: anIRInlinedIfFalse instructions first.\n		self stream nextPutAll: ')' ]\n		with: [ self visit: anIRInlinedIfFalse instructions last ]",messageSends:["nextPutIf:with:","stream","nextPutAll:","visit:","first","instructions","last"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedIfNil:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutIf_with_(function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_("($receiver = "),e.sendIdx["nextPutAll:"]=1,i=n(t)._instructions(),e.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAll_(") == nil || $receiver == null")},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last())},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"visitIRInlinedIfNil:",{anIRInlinedIfNil:t},e.IRInliningJSTranslator)})},args:["anIRInlinedIfNil"],source:"visitIRInlinedIfNil: anIRInlinedIfNil\n	self stream nextPutIf: [\n		self stream nextPutAll: '($receiver = '.\n		self visit: anIRInlinedIfNil instructions first.\n		self stream nextPutAll: ') == nil || $receiver == null' ]\n		with: [ self visit: anIRInlinedIfNil instructions last ]",messageSends:["nextPutIf:with:","stream","nextPutAll:","visit:","first","instructions","last"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedIfNilIfNotNil:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutIfElse_with_with_(function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_("($receiver = "),e.sendIdx["nextPutAll:"]=1,i=n(t)._instructions(),e.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAll_(") == nil || $receiver == null")},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(e){return c=n(t)._instructions(),e.sendIdx.instructions=2,u=n(c)._second(),s._visit_(u)},function(e){e.fillBlock({},r,2)})},function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._third())},function(e){e.fillBlock({},r,3)})}),s},function(n){n.fill(s,"visitIRInlinedIfNilIfNotNil:",{anIRInlinedIfNilIfNotNil:t},e.IRInliningJSTranslator)})},args:["anIRInlinedIfNilIfNotNil"],source:"visitIRInlinedIfNilIfNotNil: anIRInlinedIfNilIfNotNil\n	self stream\n		nextPutIfElse: [\n			self stream nextPutAll: '($receiver = '.\n			self visit: anIRInlinedIfNilIfNotNil instructions first.\n			self stream nextPutAll: ') == nil || $receiver == null' ]\n		with: [ self visit: anIRInlinedIfNilIfNotNil instructions second ]\n		with: [ self visit: anIRInlinedIfNilIfNotNil instructions third ]",messageSends:["nextPutIfElse:with:with:","stream","nextPutAll:","visit:","first","instructions","second","third"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedIfTrue:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutIf_with_(function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_("smalltalk.assert("),e.sendIdx["nextPutAll:"]=1,i=n(t)._instructions(),e.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAll_(")")},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last())},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"visitIRInlinedIfTrue:",{anIRInlinedIfTrue:t},e.IRInliningJSTranslator)})},args:["anIRInlinedIfTrue"],source:"visitIRInlinedIfTrue: anIRInlinedIfTrue\n	self stream nextPutIf: [\n		self stream nextPutAll: 'smalltalk.assert('.\n		self visit: anIRInlinedIfTrue instructions first.\n		self stream nextPutAll: ')' ]\n		with: [ self visit: anIRInlinedIfTrue instructions last ]",messageSends:["nextPutIf:with:","stream","nextPutAll:","visit:","first","instructions","last"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedIfTrueIfFalse:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutIfElse_with_with_(function(){return e.withContext(function(e){return o=s._stream(),e.sendIdx.stream=2,n(o)._nextPutAll_("smalltalk.assert("),e.sendIdx["nextPutAll:"]=1,i=n(t)._instructions(),e.sendIdx.instructions=1,l=n(i)._first(),s._visit_(l),e.sendIdx["visit:"]=1,n(s._stream())._nextPutAll_(")")},function(e){e.fillBlock({},r,1)})},function(){return e.withContext(function(e){return c=n(t)._instructions(),e.sendIdx.instructions=2,u=n(c)._second(),s._visit_(u)},function(e){e.fillBlock({},r,2)})},function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._third())},function(e){e.fillBlock({},r,3)})}),s},function(n){n.fill(s,"visitIRInlinedIfTrueIfFalse:",{anIRInlinedIfTrueIfFalse:t},e.IRInliningJSTranslator)})},args:["anIRInlinedIfTrueIfFalse"],source:"visitIRInlinedIfTrueIfFalse: anIRInlinedIfTrueIfFalse\n	self stream\n		nextPutIfElse: [\n			self stream nextPutAll: 'smalltalk.assert('.\n			self visit: anIRInlinedIfTrueIfFalse instructions first.\n			self stream nextPutAll: ')' ]\n		with: [ self visit: anIRInlinedIfTrueIfFalse instructions second ]\n		with: [ self visit: anIRInlinedIfTrueIfFalse instructions third ]",messageSends:["nextPutIfElse:with:with:","stream","nextPutAll:","visit:","first","instructions","second","third"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedNonLocalReturn:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=s._stream(),r.sendIdx.stream=1,n(a)._nextPutStatementWith_(function(){return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last())},function(e){e.fillBlock({},r,1)})}),n(s._stream())._nextPutNonLocalReturnWith_(function(){return e.withContext(function(){},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"visitIRInlinedNonLocalReturn:",{anIRInlinedReturn:t},e.IRInliningJSTranslator)})},args:["anIRInlinedReturn"],source:"visitIRInlinedNonLocalReturn: anIRInlinedReturn\n	self stream nextPutStatementWith: [\n		self visit: anIRInlinedReturn instructions last ].\n	self stream nextPutNonLocalReturnWith: [ ]",messageSends:["nextPutStatementWith:","stream","visit:","last","instructions","nextPutNonLocalReturnWith:"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedReturn:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return s._visit_(n(n(t)._instructions())._last()),s},function(n){n.fill(s,"visitIRInlinedReturn:",{anIRInlinedReturn:t},e.IRInliningJSTranslator)})},args:["anIRInlinedReturn"],source:"visitIRInlinedReturn: anIRInlinedReturn\n	self visit: anIRInlinedReturn instructions last",messageSends:["visit:","last","instructions"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addMethod(e.method({selector:"visitIRInlinedSequence:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(r){return n(n(t)._instructions())._do_(function(t){return e.withContext(function(r){return n(s._stream())._nextPutStatementWith_(function(){return e.withContext(function(){return s._visit_(t)},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({each:t},r,1)})}),s},function(n){n.fill(s,"visitIRInlinedSequence:",{anIRInlinedSequence:t},e.IRInliningJSTranslator)})},args:["anIRInlinedSequence"],source:"visitIRInlinedSequence: anIRInlinedSequence\n	anIRInlinedSequence instructions do: [ :each |\n		self stream nextPutStatementWith: [ self visit: each ]]",messageSends:["do:","instructions","nextPutStatementWith:","stream","visit:"],referencedClasses:[]}),e.IRInliningJSTranslator),e.addClass("IRSendInliner",e.Object,["send","translator"],"Compiler-Inlining"),e.IRSendInliner.comment="I inline some message sends and block closure arguments. I heavily rely on #perform: to dispatch inlining methods.",e.addMethod(e.method({selector:"ifFalse:",category:"inlining",fn:function(s){function r(){return e.IRInlinedIfFalse||("undefined"==typeof IRInlinedIfFalse?t:IRInlinedIfFalse)}var a=this;return e.withContext(function(){var e;return e=a._inlinedSend_with_(n(r())._new(),s)},function(t){t.fill(a,"ifFalse:",{anIRInstruction:s},e.IRSendInliner)})},args:["anIRInstruction"],source:"ifFalse: anIRInstruction\n	^ self inlinedSend: IRInlinedIfFalse new with: anIRInstruction",messageSends:["inlinedSend:with:","new"],referencedClasses:["IRInlinedIfFalse"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifFalse:ifTrue:",category:"inlining",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._perform_withArguments_("ifTrue:ifFalse:",[n,t])},function(r){r.fill(s,"ifFalse:ifTrue:",{anIRInstruction:t,anotherIRInstruction:n},e.IRSendInliner)})},args:["anIRInstruction","anotherIRInstruction"],source:"ifFalse: anIRInstruction ifTrue: anotherIRInstruction\n	^ self perform: #ifTrue:ifFalse: withArguments: { anotherIRInstruction. anIRInstruction }",messageSends:["perform:withArguments:"],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifNil:",category:"inlining",fn:function(s){function r(){return e.IRInlinedIfNilIfNotNil||("undefined"==typeof IRInlinedIfNilIfNotNil?t:IRInlinedIfNilIfNotNil)}function a(){return e.IRClosure||("undefined"==typeof IRClosure?t:IRClosure)}function o(){return e.IRBlockSequence||("undefined"==typeof IRBlockSequence?t:IRBlockSequence)}var i=this;return e.withContext(function(e){var t,l,c,u,d,f,h,m,g;return t=n(r())._new(),e.sendIdx["new"]=1,l=n(a())._new(),e.sendIdx["new"]=2,n(l)._scope_(n(n(s)._scope())._copy()),c=l,u=n(o())._new(),n(u)._add_(n(n(i._send())._instructions())._first()),d=n(u)._yourself(),e.sendIdx.yourself=1,f=d,n(c)._add_(f),e.sendIdx["add:"]=1,h=n(l)._yourself(),m=h,g=i._inlinedSend_with_with_(t,s,m)},function(t){t.fill(i,"ifNil:",{anIRInstruction:s},e.IRSendInliner)})},args:["anIRInstruction"],source:"ifNil: anIRInstruction\n	^ self\n		inlinedSend: IRInlinedIfNilIfNotNil new\n		with: anIRInstruction\n		with: (IRClosure new\n			scope: anIRInstruction scope copy;\n			add: (IRBlockSequence new\n				add: self send instructions first;\n				yourself);\n			yourself)",messageSends:["inlinedSend:with:with:","new","scope:","copy","scope","add:","first","instructions","send","yourself"],referencedClasses:["IRInlinedIfNilIfNotNil","IRClosure","IRBlockSequence"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifNil:ifNotNil:",category:"inlining",fn:function(s,r){function a(){return e.IRInlinedIfNilIfNotNil||("undefined"==typeof IRInlinedIfNilIfNotNil?t:IRInlinedIfNilIfNotNil)}var o=this;return e.withContext(function(){var e;return e=o._inlinedSend_with_with_(n(a())._new(),s,r)},function(t){t.fill(o,"ifNil:ifNotNil:",{anIRInstruction:s,anotherIRInstruction:r},e.IRSendInliner)})},args:["anIRInstruction","anotherIRInstruction"],source:"ifNil: anIRInstruction ifNotNil: anotherIRInstruction\n	^ self inlinedSend: IRInlinedIfNilIfNotNil new with: anIRInstruction with: anotherIRInstruction",messageSends:["inlinedSend:with:with:","new"],referencedClasses:["IRInlinedIfNilIfNotNil"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifNotNil:",category:"inlining",fn:function(s){function r(){return e.IRInlinedIfNilIfNotNil||("undefined"==typeof IRInlinedIfNilIfNotNil?t:IRInlinedIfNilIfNotNil)}function a(){return e.IRClosure||("undefined"==typeof IRClosure?t:IRClosure)}function o(){return e.IRBlockSequence||("undefined"==typeof IRBlockSequence?t:IRBlockSequence)}var i=this;return e.withContext(function(e){var t,l,c,u,d,f,h,m,g;return t=n(r())._new(),e.sendIdx["new"]=1,l=n(a())._new(),e.sendIdx["new"]=2,n(l)._scope_(n(n(s)._scope())._copy()),c=l,u=n(o())._new(),n(u)._add_(n(n(i._send())._instructions())._first()),d=n(u)._yourself(),e.sendIdx.yourself=1,f=d,n(c)._add_(f),e.sendIdx["add:"]=1,h=n(l)._yourself(),m=h,g=i._inlinedSend_with_with_(t,m,s)},function(t){t.fill(i,"ifNotNil:",{anIRInstruction:s},e.IRSendInliner)})},args:["anIRInstruction"],source:"ifNotNil: anIRInstruction\n	^ self\n		inlinedSend: IRInlinedIfNilIfNotNil new\n		with: (IRClosure new\n			scope: anIRInstruction scope copy;\n			add: (IRBlockSequence new\n				add: self send instructions first;\n				yourself);\n			yourself)\n		with: anIRInstruction",messageSends:["inlinedSend:with:with:","new","scope:","copy","scope","add:","first","instructions","send","yourself"],referencedClasses:["IRInlinedIfNilIfNotNil","IRClosure","IRBlockSequence"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifNotNil:ifNil:",category:"inlining",fn:function(s,r){function a(){return e.IRInlinedIfNilIfNotNil||("undefined"==typeof IRInlinedIfNilIfNotNil?t:IRInlinedIfNilIfNotNil)}var o=this;return e.withContext(function(){var e;return e=o._inlinedSend_with_with_(n(a())._new(),r,s)},function(t){t.fill(o,"ifNotNil:ifNil:",{anIRInstruction:s,anotherIRInstruction:r},e.IRSendInliner)})},args:["anIRInstruction","anotherIRInstruction"],source:"ifNotNil: anIRInstruction ifNil: anotherIRInstruction\n	^ self inlinedSend: IRInlinedIfNilIfNotNil new with: anotherIRInstruction with: anIRInstruction",messageSends:["inlinedSend:with:with:","new"],referencedClasses:["IRInlinedIfNilIfNotNil"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifTrue:",category:"inlining",fn:function(s){function r(){return e.IRInlinedIfTrue||("undefined"==typeof IRInlinedIfTrue?t:IRInlinedIfTrue)}var a=this;return e.withContext(function(){var e;return e=a._inlinedSend_with_(n(r())._new(),s)},function(t){t.fill(a,"ifTrue:",{anIRInstruction:s},e.IRSendInliner)})},args:["anIRInstruction"],source:"ifTrue: anIRInstruction\n	^ self inlinedSend: IRInlinedIfTrue new with: anIRInstruction",messageSends:["inlinedSend:with:","new"],referencedClasses:["IRInlinedIfTrue"]}),e.IRSendInliner),e.addMethod(e.method({selector:"ifTrue:ifFalse:",category:"inlining",fn:function(s,r){function a(){return e.IRInlinedIfTrueIfFalse||("undefined"==typeof IRInlinedIfTrueIfFalse?t:IRInlinedIfTrueIfFalse)}var o=this;return e.withContext(function(){var e;return e=o._inlinedSend_with_with_(n(a())._new(),s,r)},function(t){t.fill(o,"ifTrue:ifFalse:",{anIRInstruction:s,anotherIRInstruction:r},e.IRSendInliner)})},args:["anIRInstruction","anotherIRInstruction"],source:"ifTrue: anIRInstruction ifFalse: anotherIRInstruction\n	^ self inlinedSend: IRInlinedIfTrueIfFalse new with: anIRInstruction with: anotherIRInstruction",messageSends:["inlinedSend:with:with:","new"],referencedClasses:["IRInlinedIfTrueIfFalse"]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlineClosure:",category:"inlining",fn:function(s){function r(){return e.IRTempDeclaration||("undefined"==typeof IRTempDeclaration?t:IRTempDeclaration)}function a(){return e.IRAssignment||("undefined"==typeof IRAssignment?t:IRAssignment)}function o(){return e.IRVariable||("undefined"==typeof IRVariable?t:IRVariable)}function i(){return e.AliasVar||("undefined"==typeof AliasVar?t:AliasVar)}var l,c,u,d=this;return e.withContext(function(t){var f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M,T,A,N,B,P,R,O,j,D,E,q,V,L,F,z,H,J,W,K;return l=d._inlinedClosure(),f=l,h=n(s)._scope(),t.sendIdx.scope=1,n(f)._scope_(h),t.sendIdx["scope:"]=1,n(n(s)._tempDeclarations())._do_(function(s){return e.withContext(function(e){return n(l)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["do:"]=1,c=d._inlinedSequence(),n(n(s)._arguments())._do_(function(s){return e.withContext(function(e){return m=l,g=n(r())._new(),e.sendIdx["new"]=1,n(g)._name_(s),e.sendIdx["name:"]=1,p=n(g)._yourself(),e.sendIdx.yourself=1,_=p,n(m)._add_(_),e.sendIdx["add:"]=2,C=c,v=n(a())._new(),e.sendIdx["new"]=2,x=v,y=n(o())._new(),e.sendIdx["new"]=3,S=n(i())._new(),e.sendIdx["new"]=4,b=S,w=n(l)._scope(),e.sendIdx.scope=2,n(b)._scope_(w),e.sendIdx["scope:"]=2,n(S)._name_(s),e.sendIdx["name:"]=2,k=n(S)._yourself(),e.sendIdx.yourself=2,I=k,M=n(y)._variable_(I),e.sendIdx["variable:"]=1,n(x)._add_(M),e.sendIdx["add:"]=4,T=v,A=n(o())._new(),e.sendIdx["new"]=5,N=n(i())._new(),n(N)._scope_(n(l)._scope()),n(N)._name_("$receiver"),B=n(N)._yourself(),e.sendIdx.yourself=3,P=B,R=n(A)._variable_(P),n(T)._add_(R),e.sendIdx["add:"]=5,O=n(v)._yourself(),j=O,n(C)._add_(j)},function(e){e.fillBlock({each:s},t,2)})}),t.sendIdx["do:"]=2,n(l)._add_(c),t.sendIdx["add:"]=6,D=n(s)._instructions(),t.sendIdx.instructions=2,E=n(D)._last(),t.sendIdx.last=1,u=n(E)._instructions(),t.sendIdx.instructions=1,n(u)._ifNotEmpty_(function(){return e.withContext(function(t){return n(n(u)._allButLast())._do_(function(s){return e.withContext(function(e){return n(c)._add_(s)},function(e){e.fillBlock({each:s},t,4)})}),q=n(u)._last(),t.sendIdx.last=2,V=n(q)._isReturn(),F=n(V)._and_(function(){return e.withContext(function(e){return L=n(u)._last(),e.sendIdx.last=3,n(L)._isBlockReturn()},function(e){e.fillBlock({},t,5)})}),e.assert(F)?(z=c,H=n(u)._last(),t.sendIdx.last=4,J=n(H)._instructions(),W=n(J)._first(),n(z)._add_(W)):n(c)._add_(n(u)._last())},function(e){e.fillBlock({},t,3)})}),K=l},function(t){t.fill(d,"inlineClosure:",{anIRClosure:s,inlinedClosure:l,sequence:c,statements:u},e.IRSendInliner)})},args:["anIRClosure"],source:'inlineClosure: anIRClosure\n	| inlinedClosure sequence statements |\n\n	inlinedClosure := self inlinedClosure.\n	inlinedClosure scope: anIRClosure scope.\n\n	"Add the possible temp declarations"\n	anIRClosure tempDeclarations do: [ :each |\n			inlinedClosure add: each ].\n\n	"Add a block sequence"\n	sequence := self inlinedSequence.\n\n	"Map the closure arguments to the receiver of the message send"\n	anIRClosure arguments do: [ :each |\n		inlinedClosure add: (IRTempDeclaration new name: each; yourself).\n		sequence add: (IRAssignment new\n			add: (IRVariable new variable: (AliasVar new scope: inlinedClosure scope; name: each; yourself));\n			add: (IRVariable new variable: (AliasVar new scope: inlinedClosure scope; name: \'$receiver\'; yourself));\n			yourself) ].\n			\n	"To ensure the correct order of the closure instructions: first the temps then the sequence"\n	inlinedClosure add: sequence.\n\n	"Get all the statements"\n	statements := anIRClosure instructions last instructions.\n	\n	statements ifNotEmpty: [\n		statements allButLast do: [ :each | sequence add: each ].\n\n		"Inlined closures don\'t have implicit local returns"\n		(statements last isReturn and: [ statements last isBlockReturn ])\n			ifTrue: [ sequence add: statements last instructions first ]\n			ifFalse: [ sequence add: statements last ] ].\n\n	^ inlinedClosure',messageSends:["inlinedClosure","scope:","scope","do:","tempDeclarations","add:","inlinedSequence","arguments","name:","new","yourself","variable:","instructions","last","ifNotEmpty:","allButLast","ifTrue:ifFalse:","and:","isReturn","isBlockReturn","first"],referencedClasses:["IRTempDeclaration","IRAssignment","IRVariable","AliasVar"]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlineSend:",category:"inlining",fn:function(t){var s=this;return e.withContext(function(e){var r,a,o;return s._send_(t),r=s._send(),e.sendIdx.send=1,a=n(r)._selector(),o=s._perform_withArguments_(a,n(n(s._send())._instructions())._allButFirst())},function(n){n.fill(s,"inlineSend:",{anIRSend:t},e.IRSendInliner)})},args:["anIRSend"],source:"inlineSend: anIRSend\n	self send: anIRSend.\n	^ self\n		perform: self send selector\n		withArguments: self send instructions allButFirst",messageSends:["send:","perform:withArguments:","selector","send","allButFirst","instructions"],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlinedClosure",category:"factory",fn:function(){function s(){return e.IRInlinedClosure||("undefined"==typeof IRInlinedClosure?t:IRInlinedClosure)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"inlinedClosure",{},e.IRSendInliner)})},args:[],source:"inlinedClosure\n	^ IRInlinedClosure new",messageSends:["new"],referencedClasses:["IRInlinedClosure"]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlinedSend:with:",category:"inlining",fn:function(t,s){var r,a=this;return e.withContext(function(o){var i,l,c,u,d,f;return i=n(s)._isClosure(),e.assert(i)||(a._inliningError_("Message argument should be a block"),o.sendIdx["inliningError:"]=1),l=n(n(n(s)._arguments())._size()).__eq(0),e.assert(l)||a._inliningError_("Inlined block should have zero argument"),r=n(a._translator())._visit_(a._inlineClosure_(s)),c=a._send(),o.sendIdx.send=1,u=n(c)._instructions(),d=n(u)._first(),n(t)._add_(d),o.sendIdx["add:"]=1,f=n(t)._add_(r),n(a._send())._replaceWith_(t),t},function(n){n.fill(a,"inlinedSend:with:",{inlinedSend:t,anIRInstruction:s,inlinedClosure:r},e.IRSendInliner)})},args:["inlinedSend","anIRInstruction"],source:"inlinedSend: inlinedSend with: anIRInstruction\n	| inlinedClosure |\n\n	anIRInstruction isClosure ifFalse: [ self inliningError: 'Message argument should be a block' ].\n	anIRInstruction arguments size = 0 ifFalse: [ self inliningError: 'Inlined block should have zero argument' ].\n\n	inlinedClosure := self translator visit: (self inlineClosure: anIRInstruction).\n\n	inlinedSend\n		add: self send instructions first;\n		add: inlinedClosure.\n\n	self send replaceWith: inlinedSend.\n\n	^ inlinedSend",messageSends:["ifFalse:","isClosure","inliningError:","=","size","arguments","visit:","translator","inlineClosure:","add:","first","instructions","send","replaceWith:"],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlinedSend:with:with:",category:"inlining",fn:function(t,s,r){var a,o,i=this;return e.withContext(function(l){var c,u,d,f,h,m,g,p;return c=n(s)._isClosure(),l.sendIdx.isClosure=1,e.assert(c)||(i._inliningError_("Message argument should be a block"),l.sendIdx["inliningError:"]=1),u=n(r)._isClosure(),e.assert(u)||i._inliningError_("Message argument should be a block"),d=i._translator(),l.sendIdx.translator=1,f=i._inlineClosure_(s),l.sendIdx["inlineClosure:"]=1,a=n(d)._visit_(f),l.sendIdx["visit:"]=1,o=n(i._translator())._visit_(i._inlineClosure_(r)),h=i._send(),l.sendIdx.send=1,m=n(h)._instructions(),g=n(m)._first(),n(t)._add_(g),l.sendIdx["add:"]=1,n(t)._add_(a),l.sendIdx["add:"]=2,p=n(t)._add_(o),n(i._send())._replaceWith_(t),t},function(n){n.fill(i,"inlinedSend:with:with:",{inlinedSend:t,anIRInstruction:s,anotherIRInstruction:r,inlinedClosure1:a,inlinedClosure2:o},e.IRSendInliner)})},args:["inlinedSend","anIRInstruction","anotherIRInstruction"],source:"inlinedSend: inlinedSend with: anIRInstruction with: anotherIRInstruction\n	| inlinedClosure1 inlinedClosure2 |\n\n	anIRInstruction isClosure ifFalse: [ self inliningError: 'Message argument should be a block' ].\n	anotherIRInstruction isClosure ifFalse: [ self inliningError: 'Message argument should be a block' ].\n\n	inlinedClosure1 := self translator visit: (self inlineClosure: anIRInstruction).\n	inlinedClosure2 := self translator visit: (self inlineClosure: anotherIRInstruction).\n\n	inlinedSend\n		add: self send instructions first;\n		add: inlinedClosure1;\n		add: inlinedClosure2.\n\n	self send replaceWith: inlinedSend.\n	^ inlinedSend",messageSends:["ifFalse:","isClosure","inliningError:","visit:","translator","inlineClosure:","add:","first","instructions","send","replaceWith:"],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlinedSequence",category:"factory",fn:function(){function s(){return e.IRInlinedSequence||("undefined"==typeof IRInlinedSequence?t:IRInlinedSequence)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"inlinedSequence",{},e.IRSendInliner)})},args:[],source:"inlinedSequence\n	^ IRInlinedSequence new",messageSends:["new"],referencedClasses:["IRInlinedSequence"]}),e.IRSendInliner),e.addMethod(e.method({selector:"inliningError:",category:"error handling",fn:function(s){function r(){return e.InliningError||("undefined"==typeof InliningError?t:InliningError)}var a=this;return e.withContext(function(){return n(r())._signal_(s),a},function(t){t.fill(a,"inliningError:",{aString:s},e.IRSendInliner)})},args:["aString"],source:"inliningError: aString\n	InliningError signal: aString",messageSends:["signal:"],referencedClasses:["InliningError"]}),e.IRSendInliner),e.addMethod(e.method({selector:"send",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@send"]},function(n){n.fill(t,"send",{},e.IRSendInliner)})},args:[],source:"send\n	^ send",messageSends:[],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"send:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@send"]=t,n},function(s){s.fill(n,"send:",{anIRSend:t},e.IRSendInliner)})},args:["anIRSend"],source:"send: anIRSend\n	send := anIRSend",messageSends:[],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"translator",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@translator"]},function(n){n.fill(t,"translator",{},e.IRSendInliner)})},args:[],source:"translator\n	^ translator",messageSends:[],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"translator:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@translator"]=t,n},function(s){s.fill(n,"translator:",{anASTTranslator:t},e.IRSendInliner)})},args:["anASTTranslator"],source:"translator: anASTTranslator\n	translator := anASTTranslator",messageSends:[],referencedClasses:[]}),e.IRSendInliner),e.addMethod(e.method({selector:"inlinedSelectors",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=["ifTrue:","ifFalse:","ifTrue:ifFalse:","ifFalse:ifTrue:","ifNil:","ifNotNil:","ifNil:ifNotNil:","ifNotNil:ifNil:"]},function(n){n.fill(t,"inlinedSelectors",{},e.IRSendInliner.klass)})},args:[],source:"inlinedSelectors\n	^ #('ifTrue:' 'ifFalse:' 'ifTrue:ifFalse:' 'ifFalse:ifTrue:' 'ifNil:' 'ifNotNil:' 'ifNil:ifNotNil:' 'ifNotNil:ifNil:')",messageSends:[],referencedClasses:[]}),e.IRSendInliner.klass),e.addMethod(e.method({selector:"shouldInline:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i={};try{return a=n(s._inlinedSelectors())._includes_(n(t)._selector()),e.assert(a)?(n(n(n(t)._instructions())._allButFirst())._do_(function(t){return e.withContext(function(){if(o=n(t)._isClosure(),!e.assert(o))throw i=[!1]},function(e){e.fillBlock({each:t},r,2)})}),!0):!1}catch(l){if(l===i)return l[0];throw l}},function(n){n.fill(s,"shouldInline:",{anIRInstruction:t},e.IRSendInliner.klass)})},args:["anIRInstruction"],source:"shouldInline: anIRInstruction\n	(self inlinedSelectors includes: anIRInstruction selector) ifFalse: [ ^ false ].\n	anIRInstruction instructions allButFirst do: [ :each |\n		each isClosure ifFalse: [ ^ false ]].\n	^ true",messageSends:["ifFalse:","includes:","inlinedSelectors","selector","do:","allButFirst","instructions","isClosure"],referencedClasses:[]}),e.IRSendInliner.klass),e.addClass("IRAssignmentInliner",e.IRSendInliner,["assignment"],"Compiler-Inlining"),e.IRAssignmentInliner.comment="I inline message sends together with assignments by moving them around into the inline closure instructions.\n\n##Example\n\n	foo\n		| a |\n		a := true ifTrue: [ 1 ]\n\nWill produce:\n\n	if(smalltalk.assert(true) {\n		a = 1;\n	};",e.addMethod(e.method({selector:"assignment",category:"accessing",fn:function(){var t=this;
return e.withContext(function(){var e;return e=t["@assignment"]},function(n){n.fill(t,"assignment",{},e.IRAssignmentInliner)})},args:[],source:"assignment\n	^ assignment",messageSends:[],referencedClasses:[]}),e.IRAssignmentInliner),e.addMethod(e.method({selector:"assignment:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@assignment"]=t,n},function(s){s.fill(n,"assignment:",{aNode:t},e.IRAssignmentInliner)})},args:["aNode"],source:"assignment: aNode\n	assignment := aNode",messageSends:[],referencedClasses:[]}),e.IRAssignmentInliner),e.addMethod(e.method({selector:"inlineAssignment:",category:"inlining",fn:function(s){function r(){return e.IRInlinedAssignment||("undefined"==typeof IRInlinedAssignment?t:IRInlinedAssignment)}var a,o=this;return e.withContext(function(t){var i,l;return o._assignment_(s),a=n(r())._new(),i=n(s)._instructions(),t.sendIdx.instructions=1,n(i)._do_(function(s){return e.withContext(function(){return n(a)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),n(s)._replaceWith_(a),o._inlineSend_(n(n(a)._instructions())._last()),l=a},function(t){t.fill(o,"inlineAssignment:",{anIRAssignment:s,inlinedAssignment:a},e.IRAssignmentInliner)})},args:["anIRAssignment"],source:"inlineAssignment: anIRAssignment\n	| inlinedAssignment |\n	self assignment: anIRAssignment.\n	inlinedAssignment := IRInlinedAssignment new.\n	anIRAssignment instructions do: [ :each |\n		inlinedAssignment add: each ].\n	anIRAssignment replaceWith: inlinedAssignment.\n	self inlineSend: inlinedAssignment instructions last.\n	^ inlinedAssignment",messageSends:["assignment:","new","do:","instructions","add:","replaceWith:","inlineSend:","last"],referencedClasses:["IRInlinedAssignment"]}),e.IRAssignmentInliner),e.addMethod(e.method({selector:"inlineClosure:",category:"inlining",fn:function(s){function r(){return e.IRAssignment||("undefined"==typeof IRAssignment?t:IRAssignment)}var a,o,i=this;return e.withContext(function(t){var l,c,u,d,f,h,m,g,p;return a=e.IRAssignmentInliner.superclass.fn.prototype._inlineClosure_.apply(n(i),[s]),l=n(a)._instructions(),t.sendIdx.instructions=2,c=n(l)._last(),t.sendIdx.last=1,o=n(c)._instructions(),t.sendIdx.instructions=1,n(o)._ifNotEmpty_(function(){return e.withContext(function(t){return u=n(o)._last(),t.sendIdx.last=2,d=n(u)._canBeAssigned(),e.assert(d)?(f=n(o)._last(),t.sendIdx.last=3,h=n(r())._new(),n(h)._add_(n(n(i._assignment())._instructions())._first()),t.sendIdx["add:"]=1,n(h)._add_(n(n(o)._last())._copy()),m=n(h)._yourself(),g=m,n(f)._replaceWith_(g)):void 0},function(e){e.fillBlock({},t,1)})}),p=a},function(t){t.fill(i,"inlineClosure:",{anIRClosure:s,inlinedClosure:a,statements:o},e.IRAssignmentInliner)})},args:["anIRClosure"],source:"inlineClosure: anIRClosure\n	| inlinedClosure statements |\n\n	inlinedClosure := super inlineClosure: anIRClosure.\n	statements := inlinedClosure instructions last instructions.\n	\n	statements ifNotEmpty: [\n		statements last canBeAssigned ifTrue: [\n			statements last replaceWith: (IRAssignment new\n				add: self assignment instructions first;\n				add: statements last copy;\n				yourself) ] ].\n\n	^ inlinedClosure",messageSends:["inlineClosure:","instructions","last","ifNotEmpty:","ifTrue:","canBeAssigned","replaceWith:","add:","new","first","assignment","copy","yourself"],referencedClasses:["IRAssignment"]}),e.IRAssignmentInliner),e.addClass("IRReturnInliner",e.IRSendInliner,[],"Compiler-Inlining"),e.IRReturnInliner.comment="I inline message sends with inlined closure together with a return instruction.",e.addMethod(e.method({selector:"inlineClosure:",category:"inlining",fn:function(s){function r(){return e.IRReturn||("undefined"==typeof IRReturn?t:IRReturn)}var a,o,i=this;return e.withContext(function(t){var l,c,u,d,f,h,m;return a=e.IRReturnInliner.superclass.fn.prototype._inlineClosure_.apply(n(i),[s]),l=n(n(a)._instructions())._last(),t.sendIdx.last=1,o=n(l)._instructions(),t.sendIdx.instructions=1,n(o)._ifNotEmpty_(function(){return e.withContext(function(t){return c=n(o)._last(),t.sendIdx.last=2,u=n(c)._isReturn(),e.assert(u)?void 0:(d=n(o)._last(),t.sendIdx.last=3,f=n(r())._new(),n(f)._add_(n(n(o)._last())._copy()),h=n(f)._yourself(),n(d)._replaceWith_(h))},function(e){e.fillBlock({},t,1)})}),m=a},function(t){t.fill(i,"inlineClosure:",{anIRClosure:s,closure:a,statements:o},e.IRReturnInliner)})},args:["anIRClosure"],source:"inlineClosure: anIRClosure\n	| closure statements |\n\n	closure := super inlineClosure: anIRClosure.\n	statements := closure instructions last instructions.\n	\n	statements ifNotEmpty: [\n		statements last isReturn\n			ifFalse: [ statements last replaceWith: (IRReturn new\n				add: statements last copy;\n				yourself)] ].\n\n	^ closure",messageSends:["inlineClosure:","instructions","last","ifNotEmpty:","ifFalse:","isReturn","replaceWith:","add:","new","copy","yourself"],referencedClasses:["IRReturn"]}),e.IRReturnInliner),e.addMethod(e.method({selector:"inlineReturn:",category:"inlining",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i;return s=r._inlinedReturn(),o=n(t)._instructions(),a.sendIdx.instructions=1,n(o)._do_(function(t){return e.withContext(function(){return n(s)._add_(t)},function(e){e.fillBlock({each:t},a,1)})}),n(t)._replaceWith_(s),r._inlineSend_(n(n(s)._instructions())._last()),i=s},function(n){n.fill(r,"inlineReturn:",{anIRReturn:t,return_:s},e.IRReturnInliner)})},args:["anIRReturn"],source:"inlineReturn: anIRReturn\n	| return |\n	return := self inlinedReturn.\n	anIRReturn instructions do: [ :each |\n		return add: each ].\n	anIRReturn replaceWith: return.\n	self inlineSend: return instructions last.\n	^ return",messageSends:["inlinedReturn","do:","instructions","add:","replaceWith:","inlineSend:","last"],referencedClasses:[]}),e.IRReturnInliner),e.addMethod(e.method({selector:"inlinedReturn",category:"factory",fn:function(){function s(){return e.IRInlinedReturn||("undefined"==typeof IRInlinedReturn?t:IRInlinedReturn)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"inlinedReturn",{},e.IRReturnInliner)})},args:[],source:"inlinedReturn\n	^ IRInlinedReturn new",messageSends:["new"],referencedClasses:["IRInlinedReturn"]}),e.IRReturnInliner),e.addClass("InliningCodeGenerator",e.CodeGenerator,[],"Compiler-Inlining"),e.InliningCodeGenerator.comment="I am a specialized code generator that uses inlining to produce more optimized JavaScript output",e.addMethod(e.method({selector:"compileNode:",category:"compiling",fn:function(t){var s,r,a=this;return e.withContext(function(e){var r,o,i;return n(a._semanticAnalyzer())._visit_(t),e.sendIdx["visit:"]=1,s=n(a._translator())._visit_(t),e.sendIdx["visit:"]=2,n(a._inliner())._visit_(s),e.sendIdx["visit:"]=3,r=a._irTranslator(),n(r)._currentClass_(a._currentClass()),n(r)._visit_(s),o=n(r)._contents(),i=o},function(n){n.fill(a,"compileNode:",{aNode:t,ir:s,stream:r},e.InliningCodeGenerator)})},args:["aNode"],source:"compileNode: aNode\n	| ir stream |\n\n	self semanticAnalyzer visit: aNode.\n	ir := self translator visit: aNode.\n	self inliner visit: ir.\n\n	^ self irTranslator\n		currentClass: self currentClass;\n		visit: ir;\n		contents",messageSends:["visit:","semanticAnalyzer","translator","inliner","currentClass:","irTranslator","currentClass","contents"],referencedClasses:[]}),e.InliningCodeGenerator),e.addMethod(e.method({selector:"inliner",category:"compiling",fn:function(){function s(){return e.IRInliner||("undefined"==typeof IRInliner?t:IRInliner)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"inliner",{},e.InliningCodeGenerator)})},args:[],source:"inliner\n	^ IRInliner new",messageSends:["new"],referencedClasses:["IRInliner"]}),e.InliningCodeGenerator),e.addMethod(e.method({selector:"irTranslator",category:"compiling",fn:function(){function s(){return e.IRInliningJSTranslator||("undefined"==typeof IRInliningJSTranslator?t:IRInliningJSTranslator)}var r=this;return e.withContext(function(){var e;return e=n(s())._new()},function(t){t.fill(r,"irTranslator",{},e.InliningCodeGenerator)})},args:[],source:"irTranslator\n	^ IRInliningJSTranslator new",messageSends:["new"],referencedClasses:["IRInliningJSTranslator"]}),e.InliningCodeGenerator)}),define("amber_core/Compiler-Interpreter",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Methods","amber_core/Kernel-Objects","amber_core/Compiler-Core","amber_core/Kernel-Exceptions","amber_core/Compiler-AST"],function(e,t,n){e.addPackage("Compiler-Interpreter"),e.packages["Compiler-Interpreter"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("AIBlockClosure",e.BlockClosure,["node","outerContext"],"Compiler-Interpreter"),e.AIBlockClosure.comment="I am a special `BlockClosure` subclass used by an interpreter to interpret a block node.\n\nWhile I am polymorphic with `BlockClosure`, some methods such as `#new` will raise interpretation errors. Unlike a `BlockClosure`, my instance are not JavaScript functions.\n\nEvaluating an instance will result in interpreting the `node` instance variable (instance of `BlockNode`).",e.addMethod(e.method({selector:"applyTo:arguments:",category:"evaluating",fn:function(t,n){var s=this;return e.withContext(function(){return s._interpreterError(),s},function(r){r.fill(s,"applyTo:arguments:",{anObject:t,aCollection:n},e.AIBlockClosure)})},args:["anObject","aCollection"],source:"applyTo: anObject arguments: aCollection\n	self interpreterError",messageSends:["interpreterError"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"compiledSource",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"[ AST Block closure ]"},function(n){n.fill(t,"compiledSource",{},e.AIBlockClosure)})},args:[],source:"compiledSource\n	\"Unlike blocks, the receiver doesn't represent a JS function\"\n	\n	^ '[ AST Block closure ]'",messageSends:[],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"currySelf",category:"converting",fn:function(){var t=this;return e.withContext(function(){return t._interpreterError(),t},function(n){n.fill(t,"currySelf",{},e.AIBlockClosure)})},args:[],source:"currySelf\n	self interpreterError",messageSends:["interpreterError"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"initializeWithContext:node:",category:"initialization",fn:function(t,n){var s=this;return e.withContext(function(){return s["@node"]=n,s["@outerContext"]=t,s},function(r){r.fill(s,"initializeWithContext:node:",{aContext:t,aNode:n},e.AIBlockClosure)})},args:["aContext","aNode"],source:"initializeWithContext: aContext node: aNode\n	node := aNode.\n	outerContext := aContext",messageSends:[],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"interpreterError",category:"error handling",fn:function(){function s(){return e.ASTInterpreterError||("undefined"==typeof ASTInterpreterError?t:ASTInterpreterError)}var r=this;return e.withContext(function(){return n(s())._signal_("Method cannot be interpreted by the interpreter."),r},function(t){t.fill(r,"interpreterError",{},e.AIBlockClosure)})},args:[],source:"interpreterError\n	ASTInterpreterError signal: 'Method cannot be interpreted by the interpreter.'",messageSends:["signal:"],referencedClasses:["ASTInterpreterError"]}),e.AIBlockClosure),e.addMethod(e.method({selector:"numArgs",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t["@node"])._temps())._size()},function(n){n.fill(t,"numArgs",{},e.AIBlockClosure)})},args:[],source:"numArgs\n	^ node temps size",messageSends:["size","temps"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"value",category:"evaluating",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._valueWithPossibleArguments_([])},function(n){n.fill(t,"value",{},e.AIBlockClosure)})},args:[],source:"value\n	^ self valueWithPossibleArguments: #()",messageSends:["valueWithPossibleArguments:"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"value:",category:"evaluating",fn:function(t){var n=this;return e.withContext(function(){var e;return e=n._valueWithPossibleArguments_([t])},function(s){s.fill(n,"value:",{anArgument:t},e.AIBlockClosure)})},args:["anArgument"],source:"value: anArgument\n	^ self valueWithPossibleArguments: {anArgument}",messageSends:["valueWithPossibleArguments:"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"value:value:",category:"evaluating",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._valueWithPossibleArguments_([t,n])},function(r){r.fill(s,"value:value:",{firstArgument:t,secondArgument:n},e.AIBlockClosure)})},args:["firstArgument","secondArgument"],source:"value: firstArgument value: secondArgument\n	^ self valueWithPossibleArguments: {firstArgument . secondArgument}",messageSends:["valueWithPossibleArguments:"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"value:value:value:",category:"evaluating",fn:function(t,n,s){var r=this;return e.withContext(function(){var e;return e=r._valueWithPossibleArguments_([t,n,s])},function(a){a.fill(r,"value:value:value:",{firstArgument:t,secondArgument:n,thirdArgument:s},e.AIBlockClosure)})},args:["firstArgument","secondArgument","thirdArgument"],source:"value: firstArgument value: secondArgument value: thirdArgument\n	^ self valueWithPossibleArguments: {firstArgument . secondArgument . thirdArgument}",messageSends:["valueWithPossibleArguments:"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"valueWithPossibleArguments:",category:"evaluating",fn:function(s){var r,a,o=this;return e.withContext(function(i){var l,c,u,d,f,h;return r=n(o["@outerContext"])._newBlockContext(),l=n(n(n(o["@node"])._nodes())._first())._copy(),n(l)._parent_(t),c=n(l)._yourself(),a=c,n(n(o["@node"])._parameters())._withIndexDo_(function(a,o){return e.withContext(function(i){return n(r)._localAt_put_(a,n(s)._at_ifAbsent_(o,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},i,2)})}))},function(e){e.fillBlock({each:a,index:o},i,1)})}),u=n(r)._interpreter(),i.sendIdx.interpreter=1,n(u)._node_(n(a)._nextChild()),d=n(u)._proceed(),f=n(o["@outerContext"])._interpreter(),i.sendIdx.interpreter=2,n(f)._setNonLocalReturnFromContext_(r),h=n(n(r)._interpreter())._pop()},function(t){t.fill(o,"valueWithPossibleArguments:",{aCollection:s,context:r,sequenceNode:a},e.AIBlockClosure)})},args:["aCollection"],source:'valueWithPossibleArguments: aCollection\n	| context sequenceNode |\n	context := outerContext newBlockContext.\n\n	"Interpret a copy of the sequence node to avoid creating a new AIBlockClosure"\n	sequenceNode := node nodes first copy\n		parent: nil;\n		yourself.\n\n	"Populate the arguments into the context locals"	\n	node parameters withIndexDo: [ :each :index |\n		context localAt: each put: (aCollection at: index ifAbsent: [ nil ]) ].\n\n	"Interpret the first node of the BlockSequenceNode"\n	context interpreter\n		node: sequenceNode nextChild;\n		proceed.\n		\n	outerContext interpreter\n		setNonLocalReturnFromContext: context.\n		\n	^ context interpreter pop',messageSends:["newBlockContext","parent:","copy","first","nodes","yourself","withIndexDo:","parameters","localAt:put:","at:ifAbsent:","node:","interpreter","nextChild","proceed","setNonLocalReturnFromContext:","pop"],referencedClasses:[]}),e.AIBlockClosure),e.addMethod(e.method({selector:"forContext:node:",category:"instance creation",fn:function(t,s){var r=this;return e.withContext(function(){var e,a,o;return e=r._new(),n(e)._initializeWithContext_node_(t,s),a=n(e)._yourself(),o=a},function(n){n.fill(r,"forContext:node:",{aContext:t,aNode:s},e.AIBlockClosure.klass)})},args:["aContext","aNode"],source:"forContext: aContext node: aNode\n	^ self new\n		initializeWithContext: aContext node: aNode;\n		yourself",messageSends:["initializeWithContext:node:","new","yourself"],referencedClasses:[]}),e.AIBlockClosure.klass),e.addClass("AIContext",e.MethodContext,["outerContext","innerContext","pc","locals","selector","index","sendIndexes","evaluatedSelector","ast","interpreter"],"Compiler-Interpreter"),e.AIContext.comment="I am like a `MethodContext`, used by the `ASTInterpreter`.\nUnlike a `MethodContext`, my instances are not read-only.\n\nWhen debugging, my instances are created by copying the current `MethodContext` (thisContext)",e.addMethod(e.method({selector:"arguments",category:"interpreting",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(n(t._ast())._arguments())._collect_(function(n){return e.withContext(function(){return t._localAt_(n)},function(e){e.fillBlock({each:n},s,1)})})},function(n){n.fill(t,"arguments",{},e.AIContext)})},args:[],source:"arguments\n	^ self ast arguments collect: [ :each |\n		self localAt: each ]",messageSends:["collect:","arguments","ast","localAt:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"ast",category:"interpreting",fn:function(){var s=this;return e.withContext(function(){var r,a,o,i,l;if(r=s._isBlockContext(),e.assert(r)){if(a=s._outerContext(),($receiver=a)==t||null==$receiver)o=a;else{var c;c=$receiver,o=n(c)._ast()}return o}return i=s["@ast"],(($receiver=i)==t||null==$receiver)&&s._initializeAST(),l=s["@ast"]},function(t){t.fill(s,"ast",{},e.AIContext)})},args:[],source:"ast\n	self isBlockContext ifTrue: [ \n		^ self outerContext ifNotNil: [ :context | context ast ] ].\n\n	ast ifNil: [ self initializeAST ].\n	^ ast",messageSends:["ifTrue:","isBlockContext","ifNotNil:","outerContext","ast","ifNil:","initializeAST"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"evaluatedSelector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@evaluatedSelector"]},function(n){n.fill(t,"evaluatedSelector",{},e.AIContext)})},args:[],source:"evaluatedSelector\n	^ evaluatedSelector",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"evaluatedSelector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@evaluatedSelector"]=t,n},function(s){s.fill(n,"evaluatedSelector:",{aString:t},e.AIContext)})},args:["aString"],source:"evaluatedSelector: aString\n	evaluatedSelector := aString",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"index",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@index"],s=($receiver=e)==t||null==$receiver?0:e},function(t){t.fill(n,"index",{},e.AIContext)})},args:[],source:"index\n	^ index ifNil: [ 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"index:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@index"]=t,n},function(s){s.fill(n,"index:",{anInteger:t},e.AIContext)})},args:["anInteger"],source:"index: anInteger\n	index := anInteger",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"initializeAST",category:"initialization",fn:function(){function s(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}var r=this;return e.withContext(function(e){var t;return t=r._method(),e.sendIdx.method=1,r["@ast"]=n(t)._ast(),n(n(s())._on_(n(r._method())._methodClass()))._visit_(r["@ast"]),r},function(t){t.fill(r,"initializeAST",{},e.AIContext)})},args:[],source:"initializeAST\n	ast := self method ast.\n	(SemanticAnalyzer on: self method methodClass)\n		visit: ast",messageSends:["ast","method","visit:","on:","methodClass"],referencedClasses:["SemanticAnalyzer"]}),e.AIContext),e.addMethod(e.method({selector:"initializeFromMethodContext:",category:"initialization",fn:function(s){var r=this;return e.withContext(function(a){var o,i,l,c;if(r._evaluatedSelector_(n(s)._evaluatedSelector()),r._index_(n(s)._index()),r._sendIndexes_(n(s)._sendIndexes()),r._receiver_(n(s)._receiver()),o=r._selector_(n(s)._selector()),i=n(s)._outerContext(),a.sendIdx.outerContext=1,($receiver=i)==t||null==$receiver);else{var u;u=$receiver,l=n(u)._methodContext(),($receiver=l)==t||null==$receiver||r._outerContext_(n(r._class())._fromMethodContext_(n(s)._outerContext())),c=n(s)._locals(),a.sendIdx.locals=1,n(c)._keysAndValuesDo_(function(t,s){return e.withContext(function(){return n(r._locals())._at_put_(t,s)},function(e){e.fillBlock({key:t,value:s},a,3)})})}return r},function(t){t.fill(r,"initializeFromMethodContext:",{aMethodContext:s},e.AIContext)})},args:["aMethodContext"],source:'initializeFromMethodContext: aMethodContext\n\n	self\n		evaluatedSelector: aMethodContext evaluatedSelector;\n		index: aMethodContext index;\n		sendIndexes: aMethodContext sendIndexes;\n		receiver: aMethodContext receiver;\n		selector: aMethodContext selector.\n		\n	aMethodContext outerContext ifNotNil: [ :outer |\n		"If the method context is nil, the block was defined in JS, so ignore it"\n		outer methodContext ifNotNil: [\n			self outerContext: (self class fromMethodContext: aMethodContext outerContext) ].\n			aMethodContext locals keysAndValuesDo: [ :key :value |\n				self locals at: key put: value ] ]',messageSends:["evaluatedSelector:","evaluatedSelector","index:","index","sendIndexes:","sendIndexes","receiver:","receiver","selector:","selector","ifNotNil:","outerContext","methodContext","outerContext:","fromMethodContext:","class","keysAndValuesDo:","locals","at:put:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"initializeInterpreter",category:"initialization",fn:function(){function s(){return e.ASTInterpreter||("undefined"==typeof ASTInterpreter?t:ASTInterpreter)}var r=this;return e.withContext(function(){var e,a,o;return e=n(s())._new(),n(e)._context_(r),a=n(e)._yourself(),r["@interpreter"]=a,o=r._innerContext(),($receiver=o)==t||null==$receiver||r._setupInterpreter_(r["@interpreter"]),r},function(t){t.fill(r,"initializeInterpreter",{},e.AIContext)})},args:[],source:"initializeInterpreter\n	interpreter := ASTInterpreter new\n		context: self;\n		yourself.\n	\n	self innerContext ifNotNil: [\n		self setupInterpreter: interpreter ]",messageSends:["context:","new","yourself","ifNotNil:","innerContext","setupInterpreter:"],referencedClasses:["ASTInterpreter"]}),e.AIContext),e.addMethod(e.method({selector:"initializeLocals",category:"initialization",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(){return r["@locals"]=n(s())._new(),n(r["@locals"])._at_put_("thisContext",r),r},function(t){t.fill(r,"initializeLocals",{},e.AIContext)})},args:[],source:"initializeLocals\n	locals := Dictionary new.\n	locals at: 'thisContext' put: self.",messageSends:["new","at:put:"],referencedClasses:["Dictionary"]}),e.AIContext),e.addMethod(e.method({selector:"innerContext",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@innerContext"]},function(n){n.fill(t,"innerContext",{},e.AIContext)})},args:[],source:"innerContext\n	^ innerContext",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"innerContext:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@innerContext"]=t,n},function(s){s.fill(n,"innerContext:",{anAIContext:t},e.AIContext)})},args:["anAIContext"],source:"innerContext: anAIContext\n	innerContext := anAIContext",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"interpreter",category:"interpreting",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@interpreter"],(($receiver=e)==t||null==$receiver)&&n._initializeInterpreter(),s=n["@interpreter"]},function(t){t.fill(n,"interpreter",{},e.AIContext)})},args:[],source:"interpreter\n	interpreter ifNil: [ self initializeInterpreter ].\n	^ interpreter",messageSends:["ifNil:","initializeInterpreter"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"interpreter:",category:"interpreting",fn:function(t){var n=this;return e.withContext(function(){return n["@interpreter"]=t,n},function(s){s.fill(n,"interpreter:",{anInterpreter:t},e.AIContext)})},args:["anInterpreter"],source:"interpreter: anInterpreter\n	interpreter := anInterpreter",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"localAt:",category:"accessing",fn:function(s){var r=this;return e.withContext(function(a){var o,i;return i=n(r._locals())._at_ifAbsent_(s,function(){return e.withContext(function(){if(o=r._outerContext(),($receiver=o)==t||null==$receiver)return o;var e;return e=$receiver,n(e)._localAt_(s)},function(e){e.fillBlock({},a,1)})})},function(t){t.fill(r,"localAt:",{aString:s},e.AIContext)})},args:["aString"],source:'localAt: aString\n	"Lookup the local value up to the method context"\n\n	^ self locals at: aString ifAbsent: [ \n		self outerContext ifNotNil: [ :context | \n			context localAt: aString ] ]',messageSends:["at:ifAbsent:","locals","ifNotNil:","outerContext","localAt:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"localAt:ifAbsent:",category:"accessing",fn:function(s,r){var a=this;return e.withContext(function(o){var i,l;return l=n(a._locals())._at_ifAbsent_(s,function(){return e.withContext(function(){if(i=a._outerContext(),($receiver=i)==t||null==$receiver)return n(r)._value();var e;return e=$receiver,n(e)._localAt_ifAbsent_(s,r)},function(e){e.fillBlock({},o,1)})})},function(t){t.fill(a,"localAt:ifAbsent:",{aString:s,aBlock:r},e.AIContext)})},args:["aString","aBlock"],source:'localAt: aString ifAbsent: aBlock\n	"Lookup the local value up to the method context"\n\n	^ self locals at: aString ifAbsent: [ \n		self outerContext \n			ifNotNil: [ :context | context localAt: aString ifAbsent: aBlock ]\n			ifNil: [ aBlock value ] ]',messageSends:["at:ifAbsent:","locals","ifNotNil:ifNil:","outerContext","localAt:ifAbsent:","value"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"localAt:put:",category:"accessing",fn:function(t,s){var r=this;return e.withContext(function(){return n(r._locals())._at_put_(t,s),r},function(n){n.fill(r,"localAt:put:",{aString:t,anObject:s},e.AIContext)})},args:["aString","anObject"],source:"localAt: aString put: anObject\n	self locals at: aString put: anObject",messageSends:["at:put:","locals"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"locals",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@locals"],(($receiver=e)==t||null==$receiver)&&n._initializeLocals(),s=n["@locals"]},function(t){t.fill(n,"locals",{},e.AIContext)})},args:[],source:"locals\n	locals ifNil: [ self initializeLocals ].\n	\n	^ locals",messageSends:["ifNil:","initializeLocals"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var s=this;return e.withContext(function(e){var r,a,o,i,l;return r=s._methodContext(),e.sendIdx.methodContext=1,($receiver=r)==t||null==$receiver?l=r:(a=s._methodContext(),e.sendIdx.methodContext=2,o=n(a)._receiver(),i=n(o)._class(),l=n(i)._lookupSelector_(n(s._methodContext())._selector())),l},function(t){t.fill(s,"method",{},e.AIContext)})},args:[],source:"method\n	^ self methodContext ifNotNil: [\n		self methodContext receiver class lookupSelector: self methodContext selector ]",messageSends:["ifNotNil:","methodContext","lookupSelector:","class","receiver","selector"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"newBlockContext",category:"factory",fn:function(){var t=this;return e.withContext(function(){var e,s,r;return e=n(t._class())._new(),n(e)._outerContext_(t),s=n(e)._yourself(),r=s},function(n){n.fill(t,"newBlockContext",{},e.AIContext)})},args:[],source:"newBlockContext\n	^ self class new\n		outerContext: self;\n		yourself",messageSends:["outerContext:","new","class","yourself"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"outerContext",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@outerContext"]},function(n){n.fill(t,"outerContext",{},e.AIContext)})},args:[],source:"outerContext\n	^ outerContext",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"outerContext:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return s["@outerContext"]=t,n(s["@outerContext"])._innerContext_(s),s},function(n){n.fill(s,"outerContext:",{anAIContext:t},e.AIContext)})},args:["anAIContext"],source:"outerContext: anAIContext\n	outerContext := anAIContext.\n	outerContext innerContext: self",messageSends:["innerContext:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"receiver",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){var e;return e=t._localAt_("self")},function(n){n.fill(t,"receiver",{},e.AIContext)})},args:[],source:"receiver\n	^ self localAt: 'self'",messageSends:["localAt:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"receiver:",category:"interpreting",fn:function(t){var n=this;return e.withContext(function(){return n._localAt_put_("self",t),n},function(s){s.fill(n,"receiver:",{anObject:t},e.AIContext)})},args:["anObject"],source:"receiver: anObject\n	self localAt: 'self' put: anObject",messageSends:["localAt:put:"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.AIContext)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.AIContext)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"sendIndexAt:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(r){var a;return a=n(s._sendIndexes())._at_ifAbsent_(t,function(){return e.withContext(function(){return 0},function(e){e.fillBlock({},r,1)})})},function(n){n.fill(s,"sendIndexAt:",{aString:t},e.AIContext)})},args:["aString"],source:"sendIndexAt: aString\n	^ self sendIndexes at: aString ifAbsent: [ 0 ]",messageSends:["at:ifAbsent:","sendIndexes"],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"sendIndexes",category:"accessing",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(){var e,a;return e=r["@sendIndexes"],a=($receiver=e)==t||null==$receiver?n(s())._new():e},function(t){t.fill(r,"sendIndexes",{},e.AIContext)})},args:[],source:"sendIndexes\n	^ sendIndexes ifNil: [ Dictionary new ]",messageSends:["ifNil:","new"],referencedClasses:["Dictionary"]}),e.AIContext),e.addMethod(e.method({selector:"sendIndexes:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@sendIndexes"]=t,n},function(s){s.fill(n,"sendIndexes:",{aDictionary:t},e.AIContext)})},args:["aDictionary"],source:"sendIndexes: aDictionary\n	sendIndexes := aDictionary",messageSends:[],referencedClasses:[]}),e.AIContext),e.addMethod(e.method({selector:"setupInterpreter:",category:"interpreting",fn:function(s){function r(){return e.ASTPCNodeVisitor||("undefined"==typeof ASTPCNodeVisitor?t:ASTPCNodeVisitor)}var a,o=this;return e.withContext(function(t){var i,l,c,u,d;return i=n(r())._new(),n(i)._selector_(o._evaluatedSelector()),n(i)._context_(o),n(i)._visit_(o._ast()),l=n(i)._currentNode(),a=l,n(s)._node_(a),c=o._innerContext(),t.sendIdx.innerContext=1,u=n(c)._arguments(),d=n(u)._reversed(),n(d)._do_(function(r){return e.withContext(function(e){return n(s)._push_(r)
},function(e){e.fillBlock({each:r},t,1)})}),n(s)._push_(n(o._innerContext())._receiver()),o},function(t){t.fill(o,"setupInterpreter:",{anInterpreter:s,currentNode:a},e.AIContext)})},args:["anInterpreter"],source:'setupInterpreter: anInterpreter\n	| currentNode |\n	\n	"Retrieve the current node"\n	currentNode := ASTPCNodeVisitor new\n			selector: self evaluatedSelector;\n			context: self;\n			visit: self ast;\n			currentNode.\n	\n	anInterpreter node: currentNode.\n\n	"Push the send args and receiver to the interpreter stack"	\n	self innerContext arguments reversed do: [ :each | \n		anInterpreter push: each ].\n		\n	anInterpreter push: (self innerContext receiver)',messageSends:["selector:","new","evaluatedSelector","context:","visit:","ast","currentNode","node:","do:","reversed","arguments","innerContext","push:","receiver"],referencedClasses:["ASTPCNodeVisitor"]}),e.AIContext),e.addMethod(e.method({selector:"fromMethodContext:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._initializeFromMethodContext_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"fromMethodContext:",{aMethodContext:t},e.AIContext.klass)})},args:["aMethodContext"],source:"fromMethodContext: aMethodContext\n	^ self new\n		initializeFromMethodContext: aMethodContext;\n		yourself",messageSends:["initializeFromMethodContext:","new","yourself"],referencedClasses:[]}),e.AIContext.klass),e.addClass("ASTDebugger",e.Object,["interpreter","context"],"Compiler-Interpreter"),e.ASTDebugger.comment="I am a stepping debugger interface for Amber code.\nI internally use an instance of `ASTInterpreter` to actually step through node and interpret them.\n\nMy instances are created from an `AIContext` with `ASTDebugger class >> context:`.\nThey hold an `AIContext` instance internally, recursive copy of the `MethodContext`.\n\n## API\n\nUse the methods of the `'stepping'` protocol to do stepping.",e.addMethod(e.method({selector:"atEnd",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._interpreter())._atEnd()},function(n){n.fill(t,"atEnd",{},e.ASTDebugger)})},args:[],source:"atEnd\n	^ self interpreter atEnd",messageSends:["atEnd","interpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"buildAST",category:"initialization",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function r(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}var a,o=this;return e.withContext(function(){var e;return a=n(n(s())._current())._parse_(n(o._method())._source()),n(n(r())._on_(n(n(o._context())._receiver())._class()))._visit_(a),e=a},function(t){t.fill(o,"buildAST",{ast:a},e.ASTDebugger)})},args:[],source:'buildAST\n	"Build the AST tree from the method source code.\n	The AST is annotated with a SemanticAnalyzer,\n	to know the semantics and bindings of each node needed for later debugging"\n	\n	| ast |\n	\n	ast := Smalltalk current parse: self method source.\n	(SemanticAnalyzer on: self context receiver class)\n		visit: ast.\n	\n	^ ast',messageSends:["parse:","current","source","method","visit:","on:","class","receiver","context"],referencedClasses:["Smalltalk","SemanticAnalyzer"]}),e.ASTDebugger),e.addMethod(e.method({selector:"context",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@context"]},function(n){n.fill(t,"context",{},e.ASTDebugger)})},args:[],source:"context\n	^ context",messageSends:[],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@context"]=t,n},function(s){s.fill(n,"context:",{aContext:t},e.ASTDebugger)})},args:["aContext"],source:"context: aContext\n	context := aContext",messageSends:[],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"defaultInterpreterClass",category:"defaults",fn:function(){function n(){return e.ASTInterpreter||("undefined"==typeof ASTInterpreter?t:ASTInterpreter)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"defaultInterpreterClass",{},e.ASTDebugger)})},args:[],source:"defaultInterpreterClass\n	^ ASTInterpreter",messageSends:[],referencedClasses:["ASTInterpreter"]}),e.ASTDebugger),e.addMethod(e.method({selector:"initializeInterpreter",category:"initialization",fn:function(){function s(){return e.ASTPCNodeVisitor||("undefined"==typeof ASTPCNodeVisitor?t:ASTPCNodeVisitor)}var r,a,o=this;return e.withContext(function(){var e,t;return r=o._buildAST(),e=n(s())._new(),n(e)._context_(o._context()),n(e)._visit_(r),t=n(e)._currentNode(),a=t,n(o._interpreter())._node_(a),o},function(t){t.fill(o,"initializeInterpreter",{ast:r,next:a},e.ASTDebugger)})},args:[],source:"initializeInterpreter\n	| ast next |\n	ast := self buildAST.\n	next := ASTPCNodeVisitor new\n		context: self context;\n		visit: ast;\n		currentNode.\n	self interpreter node: next",messageSends:["buildAST","context:","new","context","visit:","currentNode","node:","interpreter"],referencedClasses:["ASTPCNodeVisitor"]}),e.ASTDebugger),e.addMethod(e.method({selector:"initializeWithContext:",category:"initialization",fn:function(t){var n=this;return e.withContext(function(){return n._context_(t),n._initializeInterpreter(),n},function(s){s.fill(n,"initializeWithContext:",{aContext:t},e.ASTDebugger)})},args:["aContext"],source:'initializeWithContext: aContext\n	"TODO: do we need to handle block contexts?"\n	\n	self context: aContext.\n	self initializeInterpreter',messageSends:["context:","initializeInterpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"interpreter",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;return e=s["@interpreter"],($receiver=e)==t||null==$receiver?(s["@interpreter"]=n(s._defaultInterpreterClass())._new(),r=s["@interpreter"]):r=e,r},function(t){t.fill(s,"interpreter",{},e.ASTDebugger)})},args:[],source:"interpreter\n	^ interpreter ifNil: [ interpreter := self defaultInterpreterClass new ]",messageSends:["ifNil:","new","defaultInterpreterClass"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"interpreter:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@interpreter"]=t,n},function(s){s.fill(n,"interpreter:",{anInterpreter:t},e.ASTDebugger)})},args:["anInterpreter"],source:"interpreter: anInterpreter\n	interpreter := anInterpreter",messageSends:[],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._context())._method()},function(n){n.fill(t,"method",{},e.ASTDebugger)})},args:[],source:"method\n	^ self context method",messageSends:["method","context"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"nextNode",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._interpreter())._nextNode()},function(n){n.fill(t,"nextNode",{},e.ASTDebugger)})},args:[],source:"nextNode\n	^ self interpreter nextNode",messageSends:["nextNode","interpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"proceed",category:"stepping",fn:function(){var t=this;return e.withContext(function(){return t._shouldBeImplemented(),t},function(n){n.fill(t,"proceed",{},e.ASTDebugger)})},args:[],source:"proceed\n	self shouldBeImplemented",messageSends:["shouldBeImplemented"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"restart",category:"stepping",fn:function(){var t=this;return e.withContext(function(){return n(t._interpreter())._restart(),t},function(n){n.fill(t,"restart",{},e.ASTDebugger)})},args:[],source:"restart\n	self interpreter restart",messageSends:["restart","interpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"skip",category:"stepping",fn:function(){var t=this;return e.withContext(function(){return n(t._interpreter())._skip(),t},function(n){n.fill(t,"skip",{},e.ASTDebugger)})},args:[],source:"skip\n	self interpreter skip",messageSends:["skip","interpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"stepInto",category:"stepping",fn:function(){var t=this;return e.withContext(function(){return t._shouldBeImplemented(),t},function(n){n.fill(t,"stepInto",{},e.ASTDebugger)})},args:[],source:"stepInto\n	self shouldBeImplemented",messageSends:["shouldBeImplemented"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"stepOver",category:"stepping",fn:function(){var t=this;return e.withContext(function(){return n(t._interpreter())._stepOver(),t},function(n){n.fill(t,"stepOver",{},e.ASTDebugger)})},args:[],source:"stepOver\n	self interpreter stepOver",messageSends:["stepOver","interpreter"],referencedClasses:[]}),e.ASTDebugger),e.addMethod(e.method({selector:"context:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._initializeWithContext_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"context:",{aContext:t},e.ASTDebugger.klass)})},args:["aContext"],source:"context: aContext\n	^ self new\n		initializeWithContext: aContext;\n		yourself",messageSends:["initializeWithContext:","new","yourself"],referencedClasses:[]}),e.ASTDebugger.klass),e.addClass("ASTInterpreter",e.NodeVisitor,["node","context","stack","returnValue","returned"],"Compiler-Interpreter"),e.ASTInterpreter.comment="I visit an AST, interpreting (evaluating) nodes one after the other, using a small stack machine.\n\n## API\n\nWhile my instances should be used from within an `ASTDebugger`, which provides a more high level interface,\nyou can use methods from the `interpreting` protocol:\n\n- `#step` evaluates the current `node` only\n- `#stepOver` evaluates the AST from the current `node` up to the next stepping node (most likely the next send node)\n- `#proceed` evaluates eagerly the AST\n- `#restart` select the first node of the AST\n- `#skip` skips the current node, moving to the next one if any",e.addMethod(e.method({selector:"assign:to:",category:"private",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c;return o=n(n(t)._binding())._isInstanceVar(),e.assert(o)?(i=r._context(),a.sendIdx.context=1,l=n(i)._receiver(),c=n(t)._value(),a.sendIdx.value=1,n(l)._instVarAt_put_(c,s)):n(r._context())._localAt_put_(n(t)._value(),s),r},function(n){n.fill(r,"assign:to:",{aNode:t,anObject:s},e.ASTInterpreter)})},args:["aNode","anObject"],source:"assign: aNode to: anObject\n	aNode binding isInstanceVar\n		ifTrue: [ self context receiver instVarAt: aNode value put: anObject ]\n		ifFalse: [ self context localAt: aNode value put: anObject ]",messageSends:["ifTrue:ifFalse:","isInstanceVar","binding","instVarAt:put:","receiver","context","value","localAt:put:"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"atEnd",category:"testing",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t._hasReturned())._or_(function(){return e.withContext(function(){return n(t._node())._isNil()},function(e){e.fillBlock({},s,1)})})},function(n){n.fill(t,"atEnd",{},e.ASTInterpreter)})},args:[],source:"atEnd\n	^ self hasReturned or: [ self node isNil ]",messageSends:["or:","hasReturned","isNil","node"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"context",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@context"]},function(n){n.fill(t,"context",{},e.ASTInterpreter)})},args:[],source:"context\n	^ context",messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@context"]=t,n},function(s){s.fill(n,"context:",{aContext:t},e.ASTInterpreter)})},args:["aContext"],source:"context: aContext\n	context := aContext",messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"eval:",category:"private",fn:function(s){function r(){return e.String||("undefined"==typeof String?t:String)}function a(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var o,i,l=this;return e.withContext(function(t){var c,u,d,f,h;return o=n(r())._streamContents_(function(r){return e.withContext(function(t){return n(r)._nextPutAll_("(function("),t.sendIdx["nextPutAll:"]=1,c=l._context(),t.sendIdx.context=1,u=n(c)._locals(),t.sendIdx.locals=1,d=n(u)._keys(),n(d)._do_separatedBy_(function(s){return e.withContext(function(e){return n(r)._nextPutAll_(s)},function(e){e.fillBlock({each:s},t,2)})},function(){return e.withContext(function(e){return n(r)._nextPutAll_(",")},function(e){e.fillBlock({},t,3)})}),n(r)._nextPutAll_("){ return (function() {"),t.sendIdx["nextPutAll:"]=4,n(r)._nextPutAll_(s),t.sendIdx["nextPutAll:"]=5,f=n(r)._nextPutAll_("})() })")},function(e){e.fillBlock({str:r},t,1)})}),i=n(n(a())._new())._eval_(o),h=n(i)._valueWithPossibleArguments_(n(n(l._context())._locals())._values())},function(t){t.fill(l,"eval:",{aString:s,source:o,function_:i},e.ASTInterpreter)})},args:["aString"],source:"eval: aString\n	\"Evaluate aString as JS source inside an JS function.\n	aString is not sandboxed.\"\n	\n	| source function |\n	\n	source := String streamContents: [ :str |\n		str nextPutAll: '(function('.\n		self context locals keys\n			do: [ :each | str nextPutAll: each ]\n			separatedBy: [ str nextPutAll: ',' ].\n		str\n			nextPutAll: '){ return (function() {';\n			nextPutAll: aString;\n			nextPutAll: '})() })' ].\n			\n	function := Compiler new eval: source.\n	\n	^ function valueWithPossibleArguments: self context locals values",messageSends:["streamContents:","nextPutAll:","do:separatedBy:","keys","locals","context","eval:","new","valueWithPossibleArguments:","values"],referencedClasses:["String","Compiler"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"hasReturned",category:"testing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@returned"],s=($receiver=e)==t||null==$receiver?!1:e},function(t){t.fill(n,"hasReturned",{},e.ASTInterpreter)})},args:[],source:"hasReturned\n	^ returned ifNil: [ false ]",messageSends:["ifNil:"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"interpret",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){return t._visit_(t._node()),t},function(n){n.fill(t,"interpret",{},e.ASTInterpreter)})},args:[],source:'interpret\n	"Interpret the next node to be evaluated"\n	\n	self visit: self node',messageSends:["visit:","node"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"interpret:",category:"interpreting",fn:function(t){var n=this;return e.withContext(function(){return n._node_(t),n._interpret(),n},function(s){s.fill(n,"interpret:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"interpret: aNode\n	self node: aNode.\n	self interpret",messageSends:["node:","interpret"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"messageFromSendNode:arguments:",category:"private",fn:function(s,r){function a(){return e.Message||("undefined"==typeof Message?t:Message)}var o=this;return e.withContext(function(){var e,t,o;return e=n(a())._new(),n(e)._selector_(n(s)._selector()),n(e)._arguments_(r),t=n(e)._yourself(),o=t},function(t){t.fill(o,"messageFromSendNode:arguments:",{aSendNode:s,aCollection:r},e.ASTInterpreter)})},args:["aSendNode","aCollection"],source:"messageFromSendNode: aSendNode arguments: aCollection\n	^ Message new\n		selector: aSendNode selector;\n		arguments: aCollection;\n		yourself",messageSends:["selector:","new","selector","arguments:","yourself"],referencedClasses:["Message"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"messageNotUnderstood:receiver:",category:"private",fn:function(s,r){function a(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var o=this;return e.withContext(function(){var e,t;return e=n(a())._new(),n(e)._meesage_(s),n(e)._receiver_(r),t=n(e)._signal(),o},function(t){t.fill(o,"messageNotUnderstood:receiver:",{aMessage:s,anObject:r},e.ASTInterpreter)})},args:["aMessage","anObject"],source:"messageNotUnderstood: aMessage receiver: anObject\n	MessageNotUnderstood new\n		meesage: aMessage;\n		receiver: anObject;\n		signal",messageSends:["meesage:","new","receiver:","signal"],referencedClasses:["MessageNotUnderstood"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"next",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){return t._node_(n(t._node())._nextNode()),t},function(n){n.fill(t,"next",{},e.ASTInterpreter)})},args:[],source:"next\n	self node: self node nextNode",messageSends:["node:","nextNode","node"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"node",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@node"]},function(n){n.fill(t,"node",{},e.ASTInterpreter)})},args:[],source:'node\n	"Answer the next node, ie the node to be evaluated in the next step"\n	\n	^ node',messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"node:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@node"]=t,n},function(s){s.fill(n,"node:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"node: aNode\n	node := aNode",messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"peek",category:"stack",fn:function(){var s=this;return e.withContext(function(r){var a,o,i={};try{return a=s._stack(),r.sendIdx.stack=1,n(a)._ifEmpty_(function(){return e.withContext(function(){throw i=[t]},function(e){e.fillBlock({},r,1)})}),o=n(s._stack())._last()}catch(l){if(l===i)return l[0];throw l}},function(t){t.fill(s,"peek",{},e.ASTInterpreter)})},args:[],source:'peek\n	"Peek the top object of the context stack"\n	\n	self stack ifEmpty: [ ^ nil ].\n	\n	^ self stack last',messageSends:["ifEmpty:","stack","last"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"pop",category:"stack",fn:function(){var t,s=this;return e.withContext(function(){var e;return t=s._peek(),n(s._stack())._removeLast(),e=t},function(n){n.fill(s,"pop",{peekedValue:t},e.ASTInterpreter)})},args:[],source:'pop\n	"Pop an object from the context stack"\n	\n	| peekedValue |\n	\n	peekedValue := self peek.\n	self stack removeLast.\n	^ peekedValue',messageSends:["peek","removeLast","stack"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"proceed",category:"interpreting",fn:function(){var t=this;return e.withContext(function(s){return n(function(){return e.withContext(function(){return t._atEnd()},function(e){e.fillBlock({},s,1)})})._whileFalse_(function(){return e.withContext(function(){return t._step()},function(e){e.fillBlock({},s,2)})}),t},function(n){n.fill(t,"proceed",{},e.ASTInterpreter)})},args:[],source:'proceed\n	"Eagerly evaluate the ast"\n	\n	[ self atEnd ] \n		whileFalse: [ self step ]',messageSends:["whileFalse:","atEnd","step"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"push:",category:"stack",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._stack())._add_(t)},function(n){n.fill(s,"push:",{anObject:t},e.ASTInterpreter)})},args:["anObject"],source:'push: anObject\n	"Push an object to the context stack"\n	\n	^ self stack add: anObject',messageSends:["add:","stack"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"restart",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){return t._node_(n(n(t._context())._ast())._nextChild()),t},function(n){n.fill(t,"restart",{},e.ASTInterpreter)})},args:[],source:"restart\n	self node: self context ast nextChild",messageSends:["node:","nextChild","ast","context"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"result",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=t._hasReturned(),r=e.assert(s)?t._returnValue():n(t._context())._receiver()},function(n){n.fill(t,"result",{},e.ASTInterpreter)})},args:[],source:"result\n	^ self hasReturned \n		ifTrue: [ self returnValue ] \n		ifFalse: [ self context receiver ]",messageSends:["ifTrue:ifFalse:","hasReturned","returnValue","receiver","context"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"returnValue",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@returnValue"]},function(n){n.fill(t,"returnValue",{},e.ASTInterpreter)})},args:[],source:"returnValue\n	^ returnValue",messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"returnValue:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@returnValue"]=t,n},function(s){s.fill(n,"returnValue:",{anObject:t},e.ASTInterpreter)})},args:["anObject"],source:"returnValue: anObject\n	returnValue := anObject",messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"sendMessage:to:superSend:",category:"private",fn:function(s,r,a){var o,i=this;return e.withContext(function(l){var c,u,d,f,h,m,g={};try{return e.assert(a)?(u=n(r)._class(),l.sendIdx["class"]=1,d=n(u)._superclass(),l.sendIdx.superclass=1,($receiver=d)==t||null==$receiver?(f=i._messageNotUnderstood_receiver_(s,r),l.sendIdx["messageNotUnderstood:receiver:"]=1,f):(o=n(n(n(n(r)._class())._superclass())._methodDictionary())._at_ifAbsent_(n(s)._selector(),function(){return e.withContext(function(){throw h=i._messageNotUnderstood_receiver_(s,r),g=[h]},function(e){e.fillBlock({},l,3)})}),m=n(o)._sendTo_arguments_(r,n(s)._arguments()))):c=n(s)._sendTo_(r)}catch(p){if(p===g)return p[0];throw p}},function(t){t.fill(i,"sendMessage:to:superSend:",{aMessage:s,anObject:r,aBoolean:a,method:o},e.ASTInterpreter)})},args:["aMessage","anObject","aBoolean"],source:"sendMessage: aMessage to: anObject superSend: aBoolean\n	| method |\n	\n	aBoolean ifFalse: [ ^ aMessage sendTo: anObject ].\n	anObject class superclass ifNil: [ ^ self messageNotUnderstood: aMessage receiver: anObject ].\n	\n	method := anObject class superclass methodDictionary\n		at: aMessage selector\n		ifAbsent: [ ^ self messageNotUnderstood: aMessage receiver: anObject ].\n		\n	^ method sendTo: anObject arguments: aMessage arguments",messageSends:["ifFalse:","sendTo:","ifNil:","superclass","class","messageNotUnderstood:receiver:","at:ifAbsent:","methodDictionary","selector","sendTo:arguments:","arguments"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"setNonLocalReturnFromContext:",category:"interpreting",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=n(t)._interpreter(),r.sendIdx.interpreter=1,o=n(a)._hasReturned(),e.assert(o)&&(s["@returned"]=!0,s["@returned"],s._returnValue_(n(n(t)._interpreter())._returnValue())),s},function(n){n.fill(s,"setNonLocalReturnFromContext:",{aContext:t},e.ASTInterpreter)})},args:["aContext"],source:"setNonLocalReturnFromContext: aContext\n	aContext interpreter hasReturned ifTrue: [\n		returned := true.\n		self returnValue: aContext interpreter returnValue ]",messageSends:["ifTrue:","hasReturned","interpreter","returnValue:","returnValue"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"skip",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){return t._next(),t},function(n){n.fill(t,"skip",{},e.ASTInterpreter)})},args:[],source:"skip\n	self next",messageSends:["next"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"stack",category:"accessing",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r=this;return e.withContext(function(){var e,a;return e=r["@stack"],($receiver=e)==t||null==$receiver?(r["@stack"]=n(s())._new(),a=r["@stack"]):a=e,a},function(t){t.fill(r,"stack",{},e.ASTInterpreter)})},args:[],source:"stack\n	^ stack ifNil: [ stack := OrderedCollection new ]",messageSends:["ifNil:","new"],referencedClasses:["OrderedCollection"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"step",category:"interpreting",fn:function(){var t=this;return e.withContext(function(){var e;return t._interpret(),e=t._next(),t},function(n){n.fill(t,"step",{},e.ASTInterpreter)})},args:[],source:"step\n	self \n		interpret; \n		next",messageSends:["interpret","next"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"stepOver",category:"interpreting",fn:function(){var t=this;return e.withContext(function(s){return t._step(),s.sendIdx.step=1,n(function(){return e.withContext(function(){return n(t._node())._isSteppingNode()},function(e){e.fillBlock({},s,1)})})._whileFalse_(function(){return e.withContext(function(){return t._step()},function(e){e.fillBlock({},s,2)})}),t},function(n){n.fill(t,"stepOver",{},e.ASTInterpreter)})},args:[],source:"stepOver\n	self step.\n	\n	[ self node isSteppingNode ] whileFalse: [ \n		self step ]",messageSends:["step","whileFalse:","isSteppingNode","node"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visit:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){var r;return r=s._hasReturned(),e.assert(r)||e.ASTInterpreter.superclass.fn.prototype._visit_.apply(n(s),[t]),s},function(n){n.fill(s,"visit:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"visit: aNode\n	self hasReturned ifFalse: [ super visit: aNode ]",messageSends:["ifFalse:","hasReturned","visit:"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitAssignmentNode:",category:"visiting",fn:function(t){var s,r=this;return e.withContext(function(e){return s=r._pop(),e.sendIdx.pop=1,r._pop(),r._push_(s),r._assign_to_(n(t)._left(),s),r},function(n){n.fill(r,"visitAssignmentNode:",{aNode:t,poppedValue:s},e.ASTInterpreter)})},args:["aNode"],source:'visitAssignmentNode: aNode\n	| poppedValue |\n	\n	poppedValue := self pop.\n	\n	"Pop the left side of the assignment.\n	It already has been visited, and we don\'t need its value."\n	self pop.\n	\n	self push: poppedValue.\n	self assign: aNode left to: poppedValue',messageSends:["pop","push:","assign:to:","left"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitBlockNode:",category:"visiting",fn:function(s){function r(){return e.AIBlockClosure||("undefined"==typeof AIBlockClosure?t:AIBlockClosure)}var a,o=this;return e.withContext(function(){return a=n(r())._forContext_node_(o._context(),s),o._push_(a),o},function(t){t.fill(o,"visitBlockNode:",{aNode:s,block:a},e.ASTInterpreter)})},args:["aNode"],source:'visitBlockNode: aNode\n	"Do not evaluate the block node.\n	Instead, put all instructions into a block that we push to the stack for later evaluation"\n	\n	| block |\n	\n	block := AIBlockClosure forContext: self context node: aNode.\n	\n	self push: block',messageSends:["forContext:node:","context","push:"],referencedClasses:["AIBlockClosure"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitDynamicArrayNode:",category:"visiting",fn:function(t){var s,r=this;return e.withContext(function(a){return s=[],n(n(t)._nodes())._do_(function(t){return e.withContext(function(){return n(s)._addFirst_(r._pop())},function(e){e.fillBlock({each:t},a,1)})}),r._push_(s),r},function(n){n.fill(r,"visitDynamicArrayNode:",{aNode:t,array:s},e.ASTInterpreter)})},args:["aNode"],source:"visitDynamicArrayNode: aNode\n	| array |\n	\n	array := #().\n	aNode nodes do: [ :each |\n		array addFirst: self pop ].\n	\n	self push: array",messageSends:["do:","nodes","addFirst:","pop","push:"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitDynamicDictionaryNode:",category:"visiting",fn:function(s){function r(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}function a(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var o,i,l=this;return e.withContext(function(t){return o=n(r())._new(),t.sendIdx["new"]=1,i=n(a())._new(),n(n(s)._nodes())._do_(function(s){return e.withContext(function(e){return n(o)._add_(l._pop())},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["do:"]=1,n(n(o)._reversed())._do_(function(s){return e.withContext(function(){return n(i)._add_(s)},function(e){e.fillBlock({each:s},t,2)})}),l._push_(i),l},function(t){t.fill(l,"visitDynamicDictionaryNode:",{aNode:s,associations:o,hashedCollection:i},e.ASTInterpreter)})},args:["aNode"],source:"visitDynamicDictionaryNode: aNode\n	| associations hashedCollection |\n	\n	associations := OrderedCollection new.\n	hashedCollection := HashedCollection new.\n	\n	aNode nodes do: [ :each | \n		associations add: self pop ].\n	\n	associations reversed do: [ :each |\n		hashedCollection add: each ].\n	\n	self push: hashedCollection",messageSends:["new","do:","nodes","add:","pop","reversed","push:"],referencedClasses:["OrderedCollection","HashedCollection"]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitJSStatementNode:",category:"visiting",fn:function(t){var s=this;return e.withContext(function(){return s["@returned"]=!0,s._returnValue_(s._eval_(n(t)._source())),s},function(n){n.fill(s,"visitJSStatementNode:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"visitJSStatementNode: aNode\n	returned := true.\n	self returnValue: (self eval: aNode source)",messageSends:["returnValue:","eval:","source"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitNode:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"visitNode:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:'visitNode: aNode\n	"Do nothing by default. Especially, do not visit children recursively."',messageSends:[],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitReturnNode:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){return n["@returned"]=!0,n._returnValue_(n._pop()),n},function(s){s.fill(n,"visitReturnNode:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"visitReturnNode: aNode\n	returned := true.\n	self returnValue: self pop",messageSends:["returnValue:","pop"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitSendNode:",category:"visiting",fn:function(t){var s,r,a,o,i=this;return e.withContext(function(l){var c;return r=n(n(t)._arguments())._collect_(function(t){return e.withContext(function(e){return i._pop()},function(e){e.fillBlock({each:t},l,1)})}),s=i._pop(),a=i._messageFromSendNode_arguments_(t,n(r)._reversed()),o=i._sendMessage_to_superSend_(a,s,n(t)._superSend()),c=n(n(t)._isCascadeSendNode())._and_(function(){return e.withContext(function(){return n(n(t)._isLastChild())._not()},function(e){e.fillBlock({},l,2)})}),e.assert(c)?(i._push_(s),l.sendIdx["push:"]=1):i._push_(o),i},function(n){n.fill(i,"visitSendNode:",{aNode:t,receiver:s,args:r,message:a,result:o},e.ASTInterpreter)})},args:["aNode"],source:'visitSendNode: aNode\n	| receiver args message result |\n	\n	args := aNode arguments collect: [ :each | self pop ].\n	receiver := self pop.\n	\n	message := self\n		messageFromSendNode: aNode\n		arguments: args reversed.\n	\n	result := self sendMessage: message to: receiver superSend: aNode superSend.\n	\n	"For cascade sends, push the reciever if the send is not the last one"\n	(aNode isCascadeSendNode and: [ aNode isLastChild not ])\n		ifTrue: [ self push: receiver ]\n		ifFalse: [ self push: result ]',messageSends:["collect:","arguments","pop","messageFromSendNode:arguments:","reversed","sendMessage:to:superSend:","superSend","ifTrue:ifFalse:","and:","isCascadeSendNode","not","isLastChild","push:"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitValueNode:",category:"visiting",fn:function(t){var s=this;
return e.withContext(function(){return s._push_(n(t)._value()),s},function(n){n.fill(s,"visitValueNode:",{aNode:t},e.ASTInterpreter)})},args:["aNode"],source:"visitValueNode: aNode\n	self push: aNode value",messageSends:["push:","value"],referencedClasses:[]}),e.ASTInterpreter),e.addMethod(e.method({selector:"visitVariableNode:",category:"visiting",fn:function(s){function r(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(t){var i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b;return i=n(s)._binding(),t.sendIdx.binding=1,l=n(i)._isUnknownVar(),e.assert(l)?(c=n(r())._globals(),t.sendIdx.globals=1,u=n(s)._value(),t.sendIdx.value=1,d=n(c)._at_ifAbsent_(u,function(){return e.withContext(function(){return o._error_("Unknown variable")},function(e){e.fillBlock({},t,2)})}),t.sendIdx["at:ifAbsent:"]=1,f=o._push_(d),t.sendIdx["push:"]=1,f):(h=n(n(s)._binding())._isInstanceVar(),e.assert(h)?(m=o._context(),t.sendIdx.context=1,g=n(m)._receiver(),p=n(s)._value(),t.sendIdx.value=2,b=n(g)._instVarAt_(p)):(_=o._context(),C=n(s)._value(),t.sendIdx.value=3,b=n(_)._localAt_ifAbsent_(C,function(){return e.withContext(function(t){return v=n(s)._value(),t.sendIdx.value=4,x=n(v)._isCapitalized(),e.assert(x)?(y=n(a())._current(),S=n(s)._value(),t.sendIdx.value=5,n(y)._at_ifAbsent_(S,function(){return e.withContext(function(){return n(n(r())._globals())._at_(n(s)._value())},function(e){e.fillBlock({},t,7)})})):void 0},function(e){e.fillBlock({},t,5)})})),o._push_(b),o)},function(t){t.fill(o,"visitVariableNode:",{aNode:s},e.ASTInterpreter)})},args:["aNode"],source:"visitVariableNode: aNode\n	aNode binding isUnknownVar ifTrue: [\n		^ self push: (PlatformInterface globals at: aNode value ifAbsent: [ self error: 'Unknown variable' ]) ].\n		\n	self push: (aNode binding isInstanceVar\n		ifTrue: [ self context receiver instVarAt: aNode value ]\n		ifFalse: [ self context \n			localAt: aNode value\n			ifAbsent: [\n				aNode value isCapitalized\n					ifTrue: [\n						Smalltalk current \n							at: aNode value \n							ifAbsent: [ PlatformInterface globals at: aNode value ] ] ] ])",messageSends:["ifTrue:","isUnknownVar","binding","push:","at:ifAbsent:","globals","value","error:","ifTrue:ifFalse:","isInstanceVar","instVarAt:","receiver","context","localAt:ifAbsent:","isCapitalized","current","at:"],referencedClasses:["PlatformInterface","Smalltalk"]}),e.ASTInterpreter),e.addClass("ASTInterpreterError",e.Error,[],"Compiler-Interpreter"),e.ASTInterpreterError.comment="I get signaled when an AST interpreter is unable to interpret a node.",e.addClass("ASTPCNodeVisitor",e.NodeVisitor,["context","index","selector","currentNode"],"Compiler-Interpreter"),e.ASTPCNodeVisitor.comment="I visit an AST until I get to the current node for the `context` and answer it.\n\n## API\n\nMy instances must be filled with a context object using `#context:`.\n\nAfter visiting the AST the current node is answered by `#currentNode`",e.addMethod(e.method({selector:"context",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@context"]},function(n){n.fill(t,"context",{},e.ASTPCNodeVisitor)})},args:[],source:"context\n	^ context",messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"context:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@context"]=t,n},function(s){s.fill(n,"context:",{aContext:t},e.ASTPCNodeVisitor)})},args:["aContext"],source:"context: aContext\n	context := aContext",messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"currentNode",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@currentNode"]},function(n){n.fill(t,"currentNode",{},e.ASTPCNodeVisitor)})},args:[],source:"currentNode\n	^ currentNode",messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"increaseIndex",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t["@index"]=n(t._index()).__plus(1),t},function(n){n.fill(t,"increaseIndex",{},e.ASTPCNodeVisitor)})},args:[],source:"increaseIndex\n	index := self index + 1",messageSends:["+","index"],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"index",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@index"],($receiver=e)==t||null==$receiver?(n["@index"]=0,s=n["@index"]):s=e,s},function(t){t.fill(n,"index",{},e.ASTPCNodeVisitor)})},args:[],source:"index\n	^ index ifNil: [ index := 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.ASTPCNodeVisitor)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"selector:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selector"]=t,n},function(s){s.fill(n,"selector:",{aString:t},e.ASTPCNodeVisitor)})},args:["aString"],source:"selector: aString\n	selector := aString",messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"visitJSStatementNode:",category:"visiting",fn:function(t){var n=this;return e.withContext(function(){return n["@currentNode"]=t,n},function(s){s.fill(n,"visitJSStatementNode:",{aNode:t},e.ASTPCNodeVisitor)})},args:["aNode"],source:'visitJSStatementNode: aNode\n	"If a JSStatementNode is encountered, it always is the current node.\n	Stop visiting the AST there"\n	\n	currentNode := aNode',messageSends:[],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"visitSendNode:",category:"visiting",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l,c,u,d,f;return o=r._context(),i=r._selector(),a.sendIdx.selector=1,s=n(o)._sendIndexAt_(i),e.ASTPCNodeVisitor.superclass.fn.prototype._visitSendNode_.apply(n(r),[t]),l=r._selector(),a.sendIdx.selector=2,c=n(l).__eq(n(t)._selector()),e.assert(c)&&(u=r._index(),a.sendIdx.index=1,d=n(u).__lt(s),e.assert(d)||(f=n(r._index()).__gt(s),e.assert(f)||(r["@currentNode"]=t,r["@currentNode"])),r._increaseIndex()),r},function(n){n.fill(r,"visitSendNode:",{aNode:t,sendIndex:s},e.ASTPCNodeVisitor)})},args:["aNode"],source:"visitSendNode: aNode\n	| sendIndex |\n	sendIndex := self context sendIndexAt: self selector.\n	\n	super visitSendNode: aNode.\n	\n	self selector = aNode selector ifTrue: [\n		self index < sendIndex ifFalse: [ \n			self index > sendIndex ifFalse: [ currentNode := aNode ] ].\n		self increaseIndex ]",messageSends:["sendIndexAt:","context","selector","visitSendNode:","ifTrue:","=","ifFalse:","<","index",">","increaseIndex"],referencedClasses:[]}),e.ASTPCNodeVisitor),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isSteppingNode",{},e.Node)})},args:[],source:"isSteppingNode\n	^ false",messageSends:[],referencedClasses:[]}),e.Node),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.AssignmentNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.AssignmentNode),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.BlockNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.BlockNode),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.DynamicArrayNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.DynamicArrayNode),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.DynamicDictionaryNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.DynamicDictionaryNode),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.JSStatementNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.JSStatementNode),e.addMethod(e.method({selector:"isSteppingNode",category:"*Compiler-Interpreter",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"isSteppingNode",{},e.SendNode)})},args:[],source:"isSteppingNode\n	^ true",messageSends:[],referencedClasses:[]}),e.SendNode)}),define("amber_core/Compiler-Tests",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/SUnit"],function(e,t,n){e.addPackage("Compiler-Tests"),e.packages["Compiler-Tests"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ASTParsingTest",e.TestCase,[],"Compiler-Tests"),e.addMethod(e.method({selector:"analyze:forClass:",category:"convenience",fn:function(s,r){function a(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}var o=this;return e.withContext(function(){return n(n(a())._on_(r))._visit_(s),s},function(t){t.fill(o,"analyze:forClass:",{aNode:s,aClass:r},e.ASTParsingTest)})},args:["aNode","aClass"],source:"analyze: aNode forClass: aClass\n	(SemanticAnalyzer on: aClass) visit: aNode.\n	^ aNode",messageSends:["visit:","on:"],referencedClasses:["SemanticAnalyzer"]}),e.ASTParsingTest),e.addMethod(e.method({selector:"parse:",category:"parsing",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._current())._parse_(s)},function(t){t.fill(a,"parse:",{aString:s},e.ASTParsingTest)})},args:["aString"],source:"parse: aString\n	^ Smalltalk current parse: aString",messageSends:["parse:","current"],referencedClasses:["Smalltalk"]}),e.ASTParsingTest),e.addMethod(e.method({selector:"parse:forClass:",category:"parsing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._analyze_forClass_(s._parse_(t),n)},function(r){r.fill(s,"parse:forClass:",{aString:t,aClass:n},e.ASTParsingTest)})},args:["aString","aClass"],source:"parse: aString forClass: aClass\n	^ self analyze: (self parse: aString) forClass: aClass",messageSends:["analyze:forClass:","parse:"],referencedClasses:[]}),e.ASTParsingTest),e.addClass("ASTPCNodeVisitorTest",e.ASTParsingTest,[],"Compiler-Tests"),e.addMethod(e.method({selector:"astPCNodeVisitor",category:"factory",fn:function(){function s(){return e.ASTPCNodeVisitor||("undefined"==typeof ASTPCNodeVisitor?t:ASTPCNodeVisitor)}function r(){return e.AIContext||("undefined"==typeof AIContext?t:AIContext)}var a=this;return e.withContext(function(e){var t,a,o,i,l;return t=n(s())._new(),e.sendIdx["new"]=1,a=t,o=n(n(r())._new())._yourself(),e.sendIdx.yourself=1,n(a)._context_(o),i=n(t)._yourself(),l=i},function(t){t.fill(a,"astPCNodeVisitor",{},e.ASTPCNodeVisitorTest)})},args:[],source:"astPCNodeVisitor\n	^ ASTPCNodeVisitor new\n		context: (AIContext new\n			yourself);\n		yourself",messageSends:["context:","new","yourself"],referencedClasses:["ASTPCNodeVisitor","AIContext"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"astPCNodeVisitorForSelector:",category:"factory",fn:function(s){function r(){return e.ASTPCNodeVisitor||("undefined"==typeof ASTPCNodeVisitor?t:ASTPCNodeVisitor)}function a(){return e.AIContext||("undefined"==typeof AIContext?t:AIContext)}var o=this;return e.withContext(function(e){var t,o,i,l,c;return t=n(r())._new(),e.sendIdx["new"]=1,n(t)._selector_(s),o=t,i=n(n(a())._new())._yourself(),e.sendIdx.yourself=1,n(o)._context_(i),l=n(t)._yourself(),c=l},function(t){t.fill(o,"astPCNodeVisitorForSelector:",{aString:s},e.ASTPCNodeVisitorTest)})},args:["aString"],source:"astPCNodeVisitorForSelector: aString\n	^ ASTPCNodeVisitor new\n		selector: aString;\n		context: (AIContext new\n			yourself);\n		yourself",messageSends:["selector:","new","context:","yourself"],referencedClasses:["ASTPCNodeVisitor","AIContext"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testJSStatementNode",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a,o=this;return e.withContext(function(){var e,t;return r=o._parse_forClass_("foo <consolee.log(1)>",s()),e=o._astPCNodeVisitor(),n(e)._visit_(r),t=n(e)._currentNode(),o._assert_(n(t)._isJSStatementNode()),o},function(t){t.fill(o,"testJSStatementNode",{ast:r,visitor:a},e.ASTPCNodeVisitorTest)})},args:[],source:"testJSStatementNode\n	| ast visitor |\n	\n	ast := self parse: 'foo <consolee.log(1)>' forClass: Object.\n	self assert: (self astPCNodeVisitor\n		visit: ast;\n		currentNode) isJSStatementNode",messageSends:["parse:forClass:","assert:","isJSStatementNode","visit:","astPCNodeVisitor","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testMessageSend",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(){var e,t;return r=a._parse_forClass_("foo self asString yourself. ^ self asBoolean",s()),e=a._astPCNodeVisitorForSelector_("yourself"),n(e)._visit_(r),t=n(e)._currentNode(),a._assert_equals_(n(t)._selector(),"yourself"),a},function(t){t.fill(a,"testMessageSend",{ast:r},e.ASTPCNodeVisitorTest)})},args:[],source:"testMessageSend\n	| ast |\n	\n	ast := self parse: 'foo self asString yourself. ^ self asBoolean' forClass: Object.\n	self assert: ((self astPCNodeVisitorForSelector: 'yourself')\n		visit: ast;\n		currentNode) selector equals: 'yourself'",messageSends:["parse:forClass:","assert:equals:","selector","visit:","astPCNodeVisitorForSelector:","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testMessageSendWithBlocks",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(){var e,t;return r=a._parse_forClass_("foo true ifTrue: [ [ self asString yourself ] value.  ]. ^ self asBoolean",s()),e=a._astPCNodeVisitorForSelector_("yourself"),n(e)._visit_(r),t=n(e)._currentNode(),a._assert_equals_(n(t)._selector(),"yourself"),a},function(t){t.fill(a,"testMessageSendWithBlocks",{ast:r},e.ASTPCNodeVisitorTest)})},args:[],source:"testMessageSendWithBlocks\n	| ast |\n	\n	ast := self parse: 'foo true ifTrue: [ [ self asString yourself ] value.  ]. ^ self asBoolean' forClass: Object.\n	self assert: ((self astPCNodeVisitorForSelector: 'yourself')\n		visit: ast;\n		currentNode) selector equals: 'yourself'",messageSends:["parse:forClass:","assert:equals:","selector","visit:","astPCNodeVisitorForSelector:","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testMessageSendWithInlining",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(e){var t,o,i,l,c,u;return r=a._parse_forClass_("foo true ifTrue: [ self asString yourself ]. ^ self asBoolean",s()),e.sendIdx["parse:forClass:"]=1,t=a._astPCNodeVisitorForSelector_("yourself"),e.sendIdx["astPCNodeVisitorForSelector:"]=1,n(t)._visit_(r),e.sendIdx["visit:"]=1,o=n(t)._currentNode(),e.sendIdx.currentNode=1,i=o,l=n(i)._selector(),e.sendIdx.selector=1,a._assert_equals_(l,"yourself"),e.sendIdx["assert:equals:"]=1,r=a._parse_forClass_("foo true ifTrue: [ self asString yourself ]. ^ self asBoolean",s()),c=a._astPCNodeVisitorForSelector_("asBoolean"),n(c)._visit_(r),u=n(c)._currentNode(),a._assert_equals_(n(u)._selector(),"asBoolean"),a},function(t){t.fill(a,"testMessageSendWithInlining",{ast:r},e.ASTPCNodeVisitorTest)})},args:[],source:"testMessageSendWithInlining\n	| ast |\n	\n	ast := self parse: 'foo true ifTrue: [ self asString yourself ]. ^ self asBoolean' forClass: Object.\n	self assert: ((self astPCNodeVisitorForSelector: 'yourself')\n		visit: ast;\n		currentNode) selector equals: 'yourself'.\n		\n	ast := self parse: 'foo true ifTrue: [ self asString yourself ]. ^ self asBoolean' forClass: Object.\n	self assert: ((self astPCNodeVisitorForSelector: 'asBoolean')\n		visit: ast;\n		currentNode) selector equals: 'asBoolean'",messageSends:["parse:forClass:","assert:equals:","selector","visit:","astPCNodeVisitorForSelector:","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testNoMessageSend",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(){var e,t;return r=a._parse_forClass_("foo ^ self",s()),e=a._astPCNodeVisitor(),n(e)._visit_(r),t=n(e)._currentNode(),a._assert_(n(t)._isNil()),a},function(t){t.fill(a,"testNoMessageSend",{ast:r},e.ASTPCNodeVisitorTest)})},args:[],source:"testNoMessageSend\n	| ast |\n	\n	ast := self parse: 'foo ^ self' forClass: Object.\n	self assert: (self astPCNodeVisitor\n		visit: ast;\n		currentNode) isNil",messageSends:["parse:forClass:","assert:","isNil","visit:","astPCNodeVisitor","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addMethod(e.method({selector:"testPC",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a,o=this;return e.withContext(function(){var e,t;return r=o._parse_forClass_("foo <console.log(1)>",s()),e=o._astPCNodeVisitor(),n(e)._visit_(r),t=n(e)._currentNode(),o._assert_(n(t)._isJSStatementNode()),o},function(t){t.fill(o,"testPC",{ast:r,visitor:a},e.ASTPCNodeVisitorTest)})},args:[],source:"testPC\n	| ast visitor |\n	\n	ast := self parse: 'foo <console.log(1)>' forClass: Object.\n	self assert: (self astPCNodeVisitor\n		visit: ast;\n		currentNode) isJSStatementNode",messageSends:["parse:forClass:","assert:","isJSStatementNode","visit:","astPCNodeVisitor","currentNode"],referencedClasses:["Object"]}),e.ASTPCNodeVisitorTest),e.addClass("CodeGeneratorTest",e.ASTParsingTest,["receiver"],"Compiler-Tests"),e.addMethod(e.method({selector:"codeGeneratorClass",category:"accessing",fn:function(){function n(){return e.CodeGenerator||("undefined"==typeof CodeGenerator?t:CodeGenerator)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"codeGeneratorClass",{},e.CodeGeneratorTest)})},args:[],source:"codeGeneratorClass\n	^ CodeGenerator",messageSends:[],referencedClasses:["CodeGenerator"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"compiler",category:"factory",fn:function(){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._codeGeneratorClass_(r._codeGeneratorClass()),t=n(e)._yourself(),a=t},function(t){t.fill(r,"compiler",{},e.CodeGeneratorTest)})},args:[],source:"compiler\n	^ Compiler new\n		codeGeneratorClass: self codeGeneratorClass;\n		yourself",messageSends:["codeGeneratorClass:","new","codeGeneratorClass","yourself"],referencedClasses:["Compiler"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"setUp",category:"initialization",fn:function(){function s(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var r=this;return e.withContext(function(){return r["@receiver"]=n(s())._new(),r},function(t){t.fill(r,"setUp",{},e.CodeGeneratorTest)})},args:[],source:"setUp\n	receiver := DoIt new",messageSends:["new"],referencedClasses:["DoIt"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"should:receiver:return:",category:"testing",fn:function(t,s,r){var a,o,i=this;return e.withContext(function(e){var l,c;return i["@receiver"]=s,l=i._compiler(),c=n(s)._class(),e.sendIdx["class"]=1,a=n(l)._install_forClass_category_(t,c,"tests"),o=n(i["@receiver"])._perform_(n(a)._selector()),n(n(s)._class())._removeCompiledMethod_(a),i._assert_equals_(r,o),i},function(n){n.fill(i,"should:receiver:return:",{aString:t,anObject:s,aResult:r,method:a,result:o},e.CodeGeneratorTest)})},args:["aString","anObject","aResult"],source:"should: aString receiver: anObject return: aResult\n	| method result |\n\n	receiver := anObject.\n	method := self compiler install: aString forClass: anObject class category: 'tests'.\n	result := receiver perform: method selector.\n	anObject class removeCompiledMethod: method.\n	self assert: aResult equals: result",messageSends:["install:forClass:category:","compiler","class","perform:","selector","removeCompiledMethod:","assert:equals:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"should:return:",category:"testing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._should_receiver_return_(t,s["@receiver"],n)},function(r){r.fill(s,"should:return:",{aString:t,anObject:n},e.CodeGeneratorTest)})},args:["aString","anObject"],source:"should: aString return: anObject\n	^ self \n		should: aString \n		receiver: receiver \n		return: anObject",messageSends:["should:receiver:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"tearDown",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"tearDown",{},e.CodeGeneratorTest)})},args:[],source:'tearDown\n	"receiver := nil"',messageSends:[],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testAssignment",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo | a | a := true ifTrue: [ 1 ]. ^ a",1),e.sendIdx["should:return:"]=1,n._should_return_("foo | a | a := false ifTrue: [ 1 ]. ^ a",t),e.sendIdx["should:return:"]=2,n._should_return_("foo | a | ^ a := true ifTrue: [ 1 ]",1),n},function(t){t.fill(n,"testAssignment",{},e.CodeGeneratorTest)})},args:[],source:"testAssignment\n	self should: 'foo | a | a := true ifTrue: [ 1 ]. ^ a' return: 1.\n	self should: 'foo | a | a := false ifTrue: [ 1 ]. ^ a' return: nil.\n\n	self should: 'foo | a | ^ a := true ifTrue: [ 1 ]' return: 1",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testBackslashSelectors",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("\\ arg ^ 4",4),e.sendIdx["should:return:"]=1,t._should_return_("\\\\ arg ^ 42",42),t},function(n){n.fill(t,"testBackslashSelectors",{},e.CodeGeneratorTest)})},args:[],source:"testBackslashSelectors\n	\n	self should: '\\ arg ^ 4' return: 4.\n	self should: '\\\\ arg ^ 42' return: 42",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testBlockReturn",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo ^ #(1 2 3) collect: [ :each | true ifTrue: [ each + 1 ] ]",[2,3,4]),e.sendIdx["should:return:"]=1,t._should_return_("foo ^ #(1 2 3) collect: [ :each | false ifFalse: [ each + 1 ] ]",[2,3,4]),e.sendIdx["should:return:"]=2,t._should_return_("foo ^ #(1 2 3) collect: [ :each | each odd ifTrue: [ each + 1 ] ifFalse: [ each - 1 ] ]",[2,1,4]),t},function(n){n.fill(t,"testBlockReturn",{},e.CodeGeneratorTest)})},args:[],source:"testBlockReturn\n	self should: 'foo ^ #(1 2 3) collect: [ :each | true ifTrue: [ each + 1 ] ]' return: #(2 3 4).\n	self should: 'foo ^ #(1 2 3) collect: [ :each | false ifFalse: [ each + 1 ] ]' return: #(2 3 4).\n	self should: 'foo ^ #(1 2 3) collect: [ :each | each odd ifTrue: [ each + 1 ] ifFalse: [ each - 1 ] ]' return: #(2 1 4).",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testCascades",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_return_("foo ^ Array new add: 3; add: 4; yourself",[3,4]),t},function(n){n.fill(t,"testCascades",{},e.CodeGeneratorTest)})},args:[],source:"testCascades\n	\n	self should: 'foo ^ Array new add: 3; add: 4; yourself' return: #(3 4)",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testDynamicArrayElementsOrdered",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo\n	| x |\n	x := 1.\n	^ { x. x := 2 }\n",[1,2]),e.sendIdx["should:return:"]=1,t._should_return_("foo\n	| x |\n	x := 1.\n	^ { x. true ifTrue: [ x := 2 ] }\n",[1,2]),t},function(n){n.fill(t,"testDynamicArrayElementsOrdered",{},e.CodeGeneratorTest)})},args:[],source:"testDynamicArrayElementsOrdered\n	self should: 'foo\n	| x |\n	x := 1.\n	^ { x. x := 2 }\n' return: #(1 2).\n\n	self should: 'foo\n	| x |\n	x := 1.\n	^ { x. true ifTrue: [ x := 2 ] }\n' return: #(1 2).",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testDynamicDictionaryElementsOrdered",category:"tests",fn:function(){var t=this;return e.withContext(function(n){var s,r;return s="foo".__minus_gt(1),n.sendIdx["->"]=1,r=e.HashedCollection._from_([s,"bar".__minus_gt(2)]),t._should_return_("foo\n	| x |\n	x := 'foo'->1.\n	^ #{ x. (true ifTrue: [ x := 'bar'->2 ]) }\n",r),t},function(n){n.fill(t,"testDynamicDictionaryElementsOrdered",{},e.CodeGeneratorTest)})},args:[],source:"testDynamicDictionaryElementsOrdered\n	self should: 'foo\n	| x |\n	x := ''foo''->1.\n	^ #{ x. (true ifTrue: [ x := ''bar''->2 ]) }\n' return: #{'foo'->1. 'bar'->2}.",messageSends:["should:return:","->"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testGlobalVar",category:"tests",fn:function(){function n(){return e.BlockClosure||("undefined"==typeof BlockClosure?t:BlockClosure)}var s=this;return e.withContext(function(e){return s._should_return_("foo ^ eval class",n()),e.sendIdx["should:return:"]=1,s._should_return_("foo ^ Math cos: 0",1),e.sendIdx["should:return:"]=2,s._should_return_("foo ^ NonExistingVar",t),s},function(t){t.fill(s,"testGlobalVar",{},e.CodeGeneratorTest)})},args:[],source:"testGlobalVar\n	self should: 'foo ^ eval class' return: BlockClosure.\n	self should: 'foo ^ Math cos: 0' return: 1.\n	self should: 'foo ^ NonExistingVar' return: nil",messageSends:["should:return:"],referencedClasses:["BlockClosure"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testInnerTemporalDependentElementsOrdered",category:"tests",fn:function(){function n(){return e.Array||("undefined"==typeof Array?t:Array)}var s=this;return e.withContext(function(t){var r,a,o,i,l,c,u,d,f,h,m,g,p,_;return r="foo".__minus_gt(n()),t.sendIdx["->"]=1,a="bar".__minus_gt(2),t.sendIdx["->"]=2,o=[r,a],s._should_return_("foo\n	| x |\n	x := Array.\n	^ x with: 'foo'->x with: 'bar'->(x := 2)\n",o),t.sendIdx["should:return:"]=1,i="foo".__minus_gt(n()),t.sendIdx["->"]=3,l="bar".__minus_gt(2),t.sendIdx["->"]=4,c=[i,l],s._should_return_("foo\n	| x |\n	x := Array.\n	^ x with: 'foo'->x with: 'bar'->(true ifTrue: [ x := 2 ])\n",c),t.sendIdx["should:return:"]=2,u="foo".__minus_gt(1),t.sendIdx["->"]=5,d="bar".__minus_gt(2),t.sendIdx["->"]=6,f=[u,d],s._should_return_("foo\n	| x |\n	x := 1.\n	^ Array with: 'foo'->x with: 'bar'->(true ifTrue: [ x := 2 ])\n",f),t.sendIdx["should:return:"]=3,h="foo".__minus_gt(1),t.sendIdx["->"]=7,m="bar".__minus_gt(2),t.sendIdx["->"]=8,g=[h,m],s._should_return_("foo\n	| x |\n	x := 1.\n	^ { 'foo'->x. 'bar'->(true ifTrue: [ x := 2 ]) }\n",g),t.sendIdx["should:return:"]=4,p="foo".__minus_gt(1),t.sendIdx["->"]=9,_=e.HashedCollection._from_([p,"bar".__minus_gt(2)]),s._should_return_("foo\n	| x |\n	x := 1.\n	^ #{ 'foo'->x. 'bar'->(true ifTrue: [ x := 2 ]) }\n",_),s},function(t){t.fill(s,"testInnerTemporalDependentElementsOrdered",{},e.CodeGeneratorTest)})},args:[],source:"testInnerTemporalDependentElementsOrdered\n	self should: 'foo\n	| x |\n	x := Array.\n	^ x with: ''foo''->x with: ''bar''->(x := 2)\n' return: {'foo'->Array. 'bar'->2}.\n\n	self should: 'foo\n	| x |\n	x := Array.\n	^ x with: ''foo''->x with: ''bar''->(true ifTrue: [ x := 2 ])\n' return: {'foo'->Array. 'bar'->2}.\n\n	self should: 'foo\n	| x |\n	x := 1.\n	^ Array with: ''foo''->x with: ''bar''->(true ifTrue: [ x := 2 ])\n' return: {'foo'->1. 'bar'->2}.\n\n	self should: 'foo\n	| x |\n	x := 1.\n	^ { ''foo''->x. ''bar''->(true ifTrue: [ x := 2 ]) }\n' return: {'foo'->1. 'bar'->2}.\n\n	self should: 'foo\n	| x |\n	x := 1.\n	^ #{ ''foo''->x. ''bar''->(true ifTrue: [ x := 2 ]) }\n' return: #{'foo'->1. 'bar'->2}.",messageSends:["should:return:","->"],referencedClasses:["Array"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testJSStatement",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_return_("foo <return 2+3>",5),t},function(n){n.fill(t,"testJSStatement",{},e.CodeGeneratorTest)})},args:[],source:"testJSStatement\n	self should: 'foo <return 2+3>' return: 5",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testLiterals",category:"tests",fn:function(){var t=this;return e.withContext(function(n){var s,r;return t._should_return_("foo ^ 1",1),n.sendIdx["should:return:"]=1,t._should_return_("foo ^ 'hello'","hello"),n.sendIdx["should:return:"]=2,t._should_return_("foo ^ #(1 2 3 4)",[1,2,3,4]),n.sendIdx["should:return:"]=3,t._should_return_("foo ^ {1. [:x | x ] value: 2. 3. [4] value}",[1,2,3,4]),n.sendIdx["should:return:"]=4,t._should_return_("foo ^ true",!0),n.sendIdx["should:return:"]=5,t._should_return_("foo ^ false",!1),n.sendIdx["should:return:"]=6,s=1..__minus_gt(2),n.sendIdx["->"]=1,r=e.HashedCollection._from_([s,3..__minus_gt(4)]),t._should_return_("foo ^ #{1->2. 3->4}",r),n.sendIdx["should:return:"]=7,t._should_return_("foo ^ #hello","hello"),n.sendIdx["should:return:"]=8,t._should_return_("foo ^ -123.456",-123.456),n.sendIdx["should:return:"]=9,t._should_return_("foo ^ -2.5e4",-25e3),t},function(n){n.fill(t,"testLiterals",{},e.CodeGeneratorTest)})},args:[],source:"testLiterals\n	self should: 'foo ^ 1' return: 1.\n	self should: 'foo ^ ''hello''' return: 'hello'.\n	self should: 'foo ^ #(1 2 3 4)' return: #(1 2 3 4).\n	self should: 'foo ^ {1. [:x | x ] value: 2. 3. [4] value}' return: #(1 2 3 4).\n	self should: 'foo ^ true' return: true.\n	self should: 'foo ^ false' return: false.\n	self should: 'foo ^ #{1->2. 3->4}' return: #{1->2. 3->4}.\n	self should: 'foo ^ #hello' return: #hello.\n	self should: 'foo ^ -123.456' return: -123.456.\n	self should: 'foo ^ -2.5e4' return: -25000.",messageSends:["should:return:","->"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testLocalReturn",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo ^ 1",1),e.sendIdx["should:return:"]=1,t._should_return_("foo ^ 1 + 1",2),e.sendIdx["should:return:"]=2,t._should_return_("foo ",t["@receiver"]),e.sendIdx["should:return:"]=3,t._should_return_("foo self asString",t["@receiver"]),e.sendIdx["should:return:"]=4,t._should_return_("foo | a b | a := 1. b := 2. ^ a + b",3),t},function(n){n.fill(t,"testLocalReturn",{},e.CodeGeneratorTest)})},args:[],source:"testLocalReturn\n	self should: 'foo ^ 1' return: 1.\n	self should: 'foo ^ 1 + 1' return: 2.\n	self should: 'foo ' return: receiver.\n	self should: 'foo self asString' return: receiver.\n	self should: 'foo | a b | a := 1. b := 2. ^ a + b' return: 3",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testMessageSends",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo ^ 1 asString","1"),e.sendIdx["should:return:"]=1,t._should_return_("foo ^ 1 + 1",2),e.sendIdx["should:return:"]=2,t._should_return_("foo ^ 1 + 2 * 3",9),e.sendIdx["should:return:"]=3,t._should_return_("foo ^ 1 to: 3",[1,2,3]),e.sendIdx["should:return:"]=4,t._should_return_("foo ^ 1 to: 5 by: 2",[1,3,5]),t
},function(n){n.fill(t,"testMessageSends",{},e.CodeGeneratorTest)})},args:[],source:"testMessageSends\n	self should: 'foo ^ 1 asString' return: '1'.\n\n	self should: 'foo ^ 1 + 1' return: 2.\n	self should: 'foo ^ 1 + 2 * 3' return: 9.\n\n	self should: 'foo ^ 1 to: 3' return: #(1 2 3).\n	self should: 'foo ^ 1 to: 5 by: 2' return: #(1 3 5)",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testMultipleSequences",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_return_("foo | a b c | a := 2. b := 3. c := a + b. ^ c * 6",30),t},function(n){n.fill(t,"testMultipleSequences",{},e.CodeGeneratorTest)})},args:[],source:"testMultipleSequences\n	self should: 'foo | a b c | a := 2. b := 3. c := a + b. ^ c * 6' return: 30",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testMutableLiterals",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_return_("foo ^ #( 1 2 ) at: 1 put: 3; yourself",[3,2]),t},function(n){n.fill(t,"testMutableLiterals",{},e.CodeGeneratorTest)})},args:[],source:"testMutableLiterals\n	\"Mutable literals must be aliased in cascades.\n	See https://github.com/amber-smalltalk/amber/issues/428\"\n	\n	self \n		should: 'foo ^ #( 1 2 ) at: 1 put: 3; yourself' \n		return: #(3 2)",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testNestedIfTrue",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo ^ true ifTrue: [ false ifFalse: [ 1 ] ]",1),e.sendIdx["should:return:"]=1,n._should_return_("foo ^ true ifTrue: [ false ifTrue: [ 1 ] ]",t),e.sendIdx["should:return:"]=2,n._should_return_("foo true ifTrue: [ false ifFalse: [ ^ 1 ] ]",1),e.sendIdx["should:return:"]=3,n._should_return_("foo true ifTrue: [ false ifTrue: [ ^ 1 ] ]",n["@receiver"]),n},function(t){t.fill(n,"testNestedIfTrue",{},e.CodeGeneratorTest)})},args:[],source:"testNestedIfTrue\n	self should: 'foo ^ true ifTrue: [ false ifFalse: [ 1 ] ]' return: 1.\n	self should: 'foo ^ true ifTrue: [ false ifTrue: [ 1 ] ]' return: nil.\n\n	self should: 'foo true ifTrue: [ false ifFalse: [ ^ 1 ] ]' return: 1.\n	self should: 'foo true ifTrue: [ false ifTrue: [ ^ 1 ] ]' return: receiver.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testNestedSends",category:"tests",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)}var r=this;return e.withContext(function(){return r._should_return_("foo ^ (Point x: (Point x: 2 y: 3) y: 4) asString",n(n(s())._x_y_(2..__at(3),4))._asString()),r},function(t){t.fill(r,"testNestedSends",{},e.CodeGeneratorTest)})},args:[],source:"testNestedSends\n	self should: 'foo ^ (Point x: (Point x: 2 y: 3) y: 4) asString' return: (Point x: (2@3) y: 4) asString",messageSends:["should:return:","asString","x:y:","@"],referencedClasses:["Point"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testNonLocalReturn",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo [ ^ 1 ] value",1),e.sendIdx["should:return:"]=1,t._should_return_("foo [ ^ 1 + 1 ] value",2),e.sendIdx["should:return:"]=2,t._should_return_("foo | a b | a := 1. b := 2. [ ^ a + b ] value. self halt",3),e.sendIdx["should:return:"]=3,t._should_return_("foo [ :x | ^ x + x ] value: 4. ^ 2",8),t},function(n){n.fill(t,"testNonLocalReturn",{},e.CodeGeneratorTest)})},args:[],source:"testNonLocalReturn\n	self should: 'foo [ ^ 1 ] value' return: 1.\n	self should: 'foo [ ^ 1 + 1 ] value' return: 2.\n	self should: 'foo | a b | a := 1. b := 2. [ ^ a + b ] value. self halt' return: 3.\n	self should: 'foo [ :x | ^ x + x ] value: 4. ^ 2' return: 8",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testPascalCaseGlobal",category:"tests",fn:function(){var s=this;return e.withContext(function(r){return s._should_return_("foo ^Object",n(e)._at_("Object")),r.sendIdx["should:return:"]=1,s._should_return_("foo ^NonExistent",t),s},function(t){t.fill(s,"testPascalCaseGlobal",{},e.CodeGeneratorTest)})},args:[],source:"testPascalCaseGlobal\n	self should: 'foo ^Object' return: (smalltalk at: 'Object').\n	self should: 'foo ^NonExistent' return: nil",messageSends:["should:return:","at:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testSendReceiverAndArgumentsOrdered",category:"tests",fn:function(){function n(){return e.Array||("undefined"==typeof Array?t:Array)}var s=this;return e.withContext(function(e){return s._should_return_("foo\n	| x |\n	x := 1.\n	^ Array with: x with: (true ifTrue: [ x := 2 ])\n",[1,2]),e.sendIdx["should:return:"]=1,s._should_return_("foo\n	| x |\n	x := Array.\n	^ x with: x with: (true ifTrue: [ x := 2 ])\n",[n(),2]),s},function(t){t.fill(s,"testSendReceiverAndArgumentsOrdered",{},e.CodeGeneratorTest)})},args:[],source:"testSendReceiverAndArgumentsOrdered\n	self should: 'foo\n	| x |\n	x := 1.\n	^ Array with: x with: (true ifTrue: [ x := 2 ])\n' return: #(1 2).\n\n	self should: 'foo\n	| x |\n	x := Array.\n	^ x with: x with: (true ifTrue: [ x := 2 ])\n' return: {Array. 2}.",messageSends:["should:return:"],referencedClasses:["Array"]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testSuperSend",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_receiver_return_("foo ^ super isBoolean",!0,!1),t},function(n){n.fill(t,"testSuperSend",{},e.CodeGeneratorTest)})},args:[],source:"testSuperSend\n	self \n		should: 'foo ^ super isBoolean' \n		receiver: true\n		return: false",messageSends:["should:receiver:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testTempVariables",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo | a | ^ a",t),e.sendIdx["should:return:"]=1,n._should_return_("foo | AVariable | ^ AVariable",t),e.sendIdx["should:return:"]=2,n._should_return_("foo | a b c | ^ c",t),e.sendIdx["should:return:"]=3,n._should_return_("foo | a | [ | d | ^ d ] value",t),e.sendIdx["should:return:"]=4,n._should_return_("foo | a | a:= 1. ^ a",1),e.sendIdx["should:return:"]=5,n._should_return_("foo | AVariable | AVariable := 1. ^ AVariable",1),n},function(t){t.fill(n,"testTempVariables",{},e.CodeGeneratorTest)})},args:[],source:"testTempVariables\n	self should: 'foo | a | ^ a' return: nil.\n	self should: 'foo | AVariable | ^ AVariable' return: nil.\n	self should: 'foo | a b c | ^ c' return: nil.\n	self should: 'foo | a | [ | d | ^ d ] value' return: nil.\n	\n	self should: 'foo | a | a:= 1. ^ a' return: 1.\n	self should: 'foo | AVariable | AVariable := 1. ^ AVariable' return: 1.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testThisContext",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._should_return_("foo ^ [ thisContext ] value outerContext == thisContext",!0),t},function(n){n.fill(t,"testThisContext",{},e.CodeGeneratorTest)})},args:[],source:"testThisContext\n	self should: 'foo ^ [ thisContext ] value outerContext == thisContext' return: true",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifFalse",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo true ifFalse: [ ^ 1 ]",n["@receiver"]),e.sendIdx["should:return:"]=1,n._should_return_("foo false ifFalse: [ ^ 2 ]",2),e.sendIdx["should:return:"]=2,n._should_return_("foo ^ true ifFalse: [ 1 ]",t),e.sendIdx["should:return:"]=3,n._should_return_("foo ^ false ifFalse: [ 2 ]",2),n},function(t){t.fill(n,"testifFalse",{},e.CodeGeneratorTest)})},args:[],source:"testifFalse\n	self should: 'foo true ifFalse: [ ^ 1 ]' return: receiver.\n	self should: 'foo false ifFalse: [ ^ 2 ]' return: 2.\n	\n	self should: 'foo ^ true ifFalse: [ 1 ]' return: nil.\n	self should: 'foo ^ false ifFalse: [ 2 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifFalseIfTrue",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo true ifFalse: [ ^ 1 ] ifTrue: [ ^ 2 ]",2),e.sendIdx["should:return:"]=1,t._should_return_("foo false ifFalse: [ ^ 2 ] ifTrue: [ ^1 ]",2),e.sendIdx["should:return:"]=2,t._should_return_("foo ^ true ifFalse: [ 1 ] ifTrue: [ 2 ]",2),e.sendIdx["should:return:"]=3,t._should_return_("foo ^ false ifFalse: [ 2 ] ifTrue: [ 1 ]",2),t},function(n){n.fill(t,"testifFalseIfTrue",{},e.CodeGeneratorTest)})},args:[],source:"testifFalseIfTrue\n	self should: 'foo true ifFalse: [ ^ 1 ] ifTrue: [ ^ 2 ]' return: 2.\n	self should: 'foo false ifFalse: [ ^ 2 ] ifTrue: [ ^1 ]' return: 2.\n	\n	self should: 'foo ^ true ifFalse: [ 1 ] ifTrue: [ 2 ]' return: 2.\n	self should: 'foo ^ false ifFalse: [ 2 ] ifTrue: [ 1 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifNil",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo ^ 1 ifNil: [ 2 ]",1),e.sendIdx["should:return:"]=1,t._should_return_("foo ^ nil ifNil: [ 2 ]",2),e.sendIdx["should:return:"]=2,t._should_return_("foo 1 ifNil: [ ^ 2 ]",t["@receiver"]),e.sendIdx["should:return:"]=3,t._should_return_("foo nil ifNil: [ ^ 2 ]",2),t},function(n){n.fill(t,"testifNil",{},e.CodeGeneratorTest)})},args:[],source:"testifNil\n	self should: 'foo ^ 1 ifNil: [ 2 ]' return: 1.\n	self should: 'foo ^ nil ifNil: [ 2 ]' return: 2.\n\n	self should: 'foo 1 ifNil: [ ^ 2 ]' return: receiver.\n	self should: 'foo nil ifNil: [ ^ 2 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifNilIfNotNil",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo ^ 1 ifNil: [ 2 ] ifNotNil: [ 3 ]",3),e.sendIdx["should:return:"]=1,t._should_return_("foo ^ nil ifNil: [ 2 ] ifNotNil: [ 3 ]",2),e.sendIdx["should:return:"]=2,t._should_return_("foo 1 ifNil: [ ^ 2 ] ifNotNil: [ ^3 ]",3),e.sendIdx["should:return:"]=3,t._should_return_("foo nil ifNil: [ ^ 2 ] ifNotNil: [ ^3 ]",2),t},function(n){n.fill(t,"testifNilIfNotNil",{},e.CodeGeneratorTest)})},args:[],source:"testifNilIfNotNil\n	self should: 'foo ^ 1 ifNil: [ 2 ] ifNotNil: [ 3 ]' return: 3.\n	self should: 'foo ^ nil ifNil: [ 2 ] ifNotNil: [ 3 ]' return: 2.\n\n	self should: 'foo 1 ifNil: [ ^ 2 ] ifNotNil: [ ^3 ]' return: 3.\n	self should: 'foo nil ifNil: [ ^ 2 ] ifNotNil: [ ^3 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifNotNil",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo ^ 1 ifNotNil: [ 2 ]",2),e.sendIdx["should:return:"]=1,n._should_return_("foo ^ nil ifNotNil: [ 2 ]",t),e.sendIdx["should:return:"]=2,n._should_return_("foo 1 ifNotNil: [ ^ 2 ]",2),e.sendIdx["should:return:"]=3,n._should_return_("foo nil ifNotNil: [ ^ 2 ]",n["@receiver"]),n},function(t){t.fill(n,"testifNotNil",{},e.CodeGeneratorTest)})},args:[],source:"testifNotNil\n	self should: 'foo ^ 1 ifNotNil: [ 2 ]' return: 2.\n	self should: 'foo ^ nil ifNotNil: [ 2 ]' return: nil.\n\n	self should: 'foo 1 ifNotNil: [ ^ 2 ]' return: 2.\n	self should: 'foo nil ifNotNil: [ ^ 2 ]' return: receiver.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifNotNilWithArgument",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo ^ 1 ifNotNil: [ :val | val + 2 ]",3),e.sendIdx["should:return:"]=1,n._should_return_("foo ^ nil ifNotNil: [ :val | val + 2 ]",t),e.sendIdx["should:return:"]=2,n._should_return_("foo ^ 1 ifNil: [ 5 ] ifNotNil: [ :val | val + 2 ]",3),e.sendIdx["should:return:"]=3,n._should_return_("foo ^ nil ifNil: [ 5 ] ifNotNil: [ :val | val + 2 ]",5),e.sendIdx["should:return:"]=4,n._should_return_("foo ^ 1 ifNotNil: [ :val | val + 2 ] ifNil: [ 5 ]",3),e.sendIdx["should:return:"]=5,n._should_return_("foo ^ nil ifNotNil: [ :val | val + 2 ] ifNil: [ 5 ]",5),n},function(t){t.fill(n,"testifNotNilWithArgument",{},e.CodeGeneratorTest)})},args:[],source:"testifNotNilWithArgument\n	self should: 'foo ^ 1 ifNotNil: [ :val | val + 2 ]' return: 3.\n	self should: 'foo ^ nil ifNotNil: [ :val | val + 2 ]' return: nil.\n	\n	self should: 'foo ^ 1 ifNil: [ 5 ] ifNotNil: [ :val | val + 2 ]' return: 3.\n	self should: 'foo ^ nil ifNil: [ 5 ] ifNotNil: [ :val | val + 2 ]' return: 5.\n	\n	self should: 'foo ^ 1 ifNotNil: [ :val | val + 2 ] ifNil: [ 5 ]' return: 3.\n	self should: 'foo ^ nil ifNotNil: [ :val | val + 2 ] ifNil: [ 5 ]' return: 5",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifTrue",category:"tests",fn:function(){var n=this;return e.withContext(function(e){return n._should_return_("foo false ifTrue: [ ^ 1 ]",n["@receiver"]),e.sendIdx["should:return:"]=1,n._should_return_("foo true ifTrue: [ ^ 2 ]",2),e.sendIdx["should:return:"]=2,n._should_return_("foo ^ false ifTrue: [ 1 ]",t),e.sendIdx["should:return:"]=3,n._should_return_("foo ^ true ifTrue: [ 2 ]",2),n},function(t){t.fill(n,"testifTrue",{},e.CodeGeneratorTest)})},args:[],source:"testifTrue\n	self should: 'foo false ifTrue: [ ^ 1 ]' return: receiver.\n	self should: 'foo true ifTrue: [ ^ 2 ]' return: 2.\n	\n	self should: 'foo ^ false ifTrue: [ 1 ]' return: nil.\n	self should: 'foo ^ true ifTrue: [ 2 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addMethod(e.method({selector:"testifTrueIfFalse",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._should_return_("foo false ifTrue: [ ^ 1 ] ifFalse: [ ^2 ]",2),e.sendIdx["should:return:"]=1,t._should_return_("foo true ifTrue: [ ^ 1 ] ifFalse: [ ^ 2 ]",1),e.sendIdx["should:return:"]=2,t._should_return_("foo ^ false ifTrue: [ 2 ] ifFalse: [ 1 ]",1),e.sendIdx["should:return:"]=3,t._should_return_("foo ^ true ifTrue: [ 2 ] ifFalse: [ 1 ]",2),t},function(n){n.fill(t,"testifTrueIfFalse",{},e.CodeGeneratorTest)})},args:[],source:"testifTrueIfFalse\n	self should: 'foo false ifTrue: [ ^ 1 ] ifFalse: [ ^2 ]' return: 2.\n	self should: 'foo true ifTrue: [ ^ 1 ] ifFalse: [ ^ 2 ]' return: 1.\n	\n	self should: 'foo ^ false ifTrue: [ 2 ] ifFalse: [ 1 ]' return: 1.\n	self should: 'foo ^ true ifTrue: [ 2 ] ifFalse: [ 1 ]' return: 2.",messageSends:["should:return:"],referencedClasses:[]}),e.CodeGeneratorTest),e.addClass("InliningCodeGeneratorTest",e.CodeGeneratorTest,[],"Compiler-Tests"),e.addMethod(e.method({selector:"codeGeneratorClass",category:"accessing",fn:function(){function n(){return e.InliningCodeGenerator||("undefined"==typeof InliningCodeGenerator?t:InliningCodeGenerator)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"codeGeneratorClass",{},e.InliningCodeGeneratorTest)})},args:[],source:"codeGeneratorClass\n	^ InliningCodeGenerator",messageSends:[],referencedClasses:["InliningCodeGenerator"]}),e.InliningCodeGeneratorTest),e.addClass("InterpreterTest",e.CodeGeneratorTest,[],"Compiler-Tests"),e.addMethod(e.method({selector:"analyze:forClass:",category:"parsing",fn:function(s,r){function a(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}var o=this;return e.withContext(function(){return n(n(a())._on_(r))._visit_(s),s},function(t){t.fill(o,"analyze:forClass:",{aNode:s,aClass:r},e.InterpreterTest)})},args:["aNode","aClass"],source:"analyze: aNode forClass: aClass\n	(SemanticAnalyzer on: aClass) visit: aNode.\n	^ aNode",messageSends:["visit:","on:"],referencedClasses:["SemanticAnalyzer"]}),e.InterpreterTest),e.addMethod(e.method({selector:"interpret:receiver:withArguments:",category:"private",fn:function(s,r,a){function o(){return e.ASTInterpreter||("undefined"==typeof ASTInterpreter?t:ASTInterpreter)}function i(){return e.AIContext||("undefined"==typeof AIContext?t:AIContext)}var l,c,u=this;return e.withContext(function(t){var d,f,h,m,g;return c=n(o())._new(),t.sendIdx["new"]=1,d=n(i())._new(),n(d)._receiver_(r),n(d)._interpreter_(c),f=n(d)._yourself(),l=f,n(a)._keysAndValuesDo_(function(s,r){return e.withContext(function(){return n(l)._localAt_put_(s,r)},function(e){e.fillBlock({key:s,value:r},t,1)})}),h=c,n(h)._context_(l),n(h)._interpret_(n(u._parse_forClass_(s,n(r)._class()))._nextChild()),n(h)._proceed(),m=n(h)._result(),g=m},function(t){t.fill(u,"interpret:receiver:withArguments:",{aString:s,anObject:r,aDictionary:a,ctx:l,interpreter:c},e.InterpreterTest)})},args:["aString","anObject","aDictionary"],source:'interpret: aString receiver: anObject withArguments: aDictionary\n	"The food is a methodNode. Interpret the sequenceNode only"\n	\n	| ctx interpreter |\n	\n	interpreter := ASTInterpreter new.\n	\n	ctx := AIContext new\n		receiver: anObject;\n		interpreter: interpreter;\n		yourself.\n	aDictionary keysAndValuesDo: [ :key :value |\n		ctx localAt: key put: value ].\n	\n	^ interpreter\n		context: ctx;\n		interpret: (self parse: aString forClass: anObject class) nextChild;\n		proceed;\n		result',messageSends:["new","receiver:","interpreter:","yourself","keysAndValuesDo:","localAt:put:","context:","interpret:","nextChild","parse:forClass:","class","proceed","result"],referencedClasses:["ASTInterpreter","AIContext"]}),e.InterpreterTest),e.addMethod(e.method({selector:"parse:",category:"parsing",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var e;return e=n(n(r())._current())._parse_(s)},function(t){t.fill(a,"parse:",{aString:s},e.InterpreterTest)})},args:["aString"],source:"parse: aString\n	^ Smalltalk current parse: aString",messageSends:["parse:","current"],referencedClasses:["Smalltalk"]}),e.InterpreterTest),e.addMethod(e.method({selector:"parse:forClass:",category:"parsing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._analyze_forClass_(s._parse_(t),n)},function(r){r.fill(s,"parse:forClass:",{aString:t,aClass:n},e.InterpreterTest)})},args:["aString","aClass"],source:"parse: aString forClass: aClass\n	^ self analyze: (self parse: aString) forClass: aClass",messageSends:["analyze:forClass:","parse:"],referencedClasses:[]}),e.InterpreterTest),e.addMethod(e.method({selector:"should:receiver:return:",category:"testing",fn:function(t,n,s){var r=this;return e.withContext(function(){var a;return r["@receiver"]=n,a=r._assert_equals_(r._interpret_receiver_withArguments_(t,r["@receiver"],e.HashedCollection._from_([])),s)},function(a){a.fill(r,"should:receiver:return:",{aString:t,anObject:n,aResult:s},e.InterpreterTest)})},args:["aString","anObject","aResult"],source:"should: aString receiver: anObject return: aResult\n	receiver := anObject.\n	\n	^ self \n		assert: (self interpret: aString receiver: receiver withArguments: #{})\n		equals: aResult",messageSends:["assert:equals:","interpret:receiver:withArguments:"],referencedClasses:[]}),e.InterpreterTest),e.addMethod(e.method({selector:"should:return:",category:"testing",fn:function(t,n){var s=this;return e.withContext(function(){var e;return e=s._should_receiver_return_(t,s["@receiver"],n)},function(r){r.fill(s,"should:return:",{aString:t,anObject:n},e.InterpreterTest)})},args:["aString","anObject"],source:"should: aString return: anObject\n	^ self \n		should: aString\n		receiver: receiver\n		return: anObject",messageSends:["should:receiver:return:"],referencedClasses:[]}),e.InterpreterTest),e.addClass("ScopeVarTest",e.TestCase,[],"Compiler-Tests"),e.addMethod(e.method({selector:"testClassRefVar",category:"tests",fn:function(){function s(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}function r(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}function a(){return e.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?t:MethodLexicalScope)}var o,i=this;return e.withContext(function(e){var t,l,c,u;return t=n(s())._new(),e.sendIdx["new"]=1,n(t)._value_("Object"),l=n(t)._yourself(),o=l,c=n(r())._new(),e.sendIdx["new"]=2,n(c)._pushScope_(n(a())._new()),u=n(c)._visit_(o),i._assert_(n(n(o)._binding())._isClassRefVar()),i},function(t){t.fill(i,"testClassRefVar",{node:o},e.ScopeVarTest)})},args:[],source:"testClassRefVar\n	| node |\n	node := VariableNode new\n		value: 'Object';\n		yourself.\n	SemanticAnalyzer new \n		pushScope: MethodLexicalScope new;\n		visit: node.\n	self assert: node binding isClassRefVar",messageSends:["value:","new","yourself","pushScope:","visit:","assert:","isClassRefVar","binding"],referencedClasses:["VariableNode","SemanticAnalyzer","MethodLexicalScope"]}),e.ScopeVarTest),e.addMethod(e.method({selector:"testInstanceVar",category:"tests",fn:function(){function s(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}function r(){return e.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?t:MethodLexicalScope)}var a,o,i=this;return e.withContext(function(e){var t,l;return t=n(s())._new(),e.sendIdx["new"]=1,n(t)._value_("bzzz"),l=n(t)._yourself(),a=l,o=n(r())._new(),n(o)._addIVar_("bzzz"),i._assert_(n(n(o)._bindingFor_(a))._isInstanceVar()),i},function(t){t.fill(i,"testInstanceVar",{node:a,scope:o},e.ScopeVarTest)})},args:[],source:"testInstanceVar\n	| node scope |\n	node := VariableNode new\n		value: 'bzzz';\n		yourself.\n	scope := MethodLexicalScope new.\n	scope addIVar: 'bzzz'.\n	self assert: (scope bindingFor: node) isInstanceVar",messageSends:["value:","new","yourself","addIVar:","assert:","isInstanceVar","bindingFor:"],referencedClasses:["VariableNode","MethodLexicalScope"]}),e.ScopeVarTest),e.addMethod(e.method({selector:"testPseudoVar",category:"tests",fn:function(){function s(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}function r(){return e.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?t:MethodLexicalScope)}var a,o,i=this;return e.withContext(function(t){var l,c;return o=["self","super","true","false","nil"],n(o)._do_(function(o){return e.withContext(function(e){return l=n(s())._new(),e.sendIdx["new"]=1,n(l)._value_(o),c=n(l)._yourself(),a=c,i._assert_(n(n(n(r())._new())._bindingFor_(a))._isPseudoVar())},function(e){e.fillBlock({each:o},t,1)})}),i},function(t){t.fill(i,"testPseudoVar",{node:a,pseudoVars:o},e.ScopeVarTest)})},args:[],source:"testPseudoVar\n	| node pseudoVars |\n	pseudoVars := #('self' 'super' 'true' 'false' 'nil').\n	pseudoVars do: [:each |\n		node := VariableNode new\n		value: each;\n		yourself.\n		self assert: (MethodLexicalScope new bindingFor: node) isPseudoVar ]",messageSends:["do:","value:","new","yourself","assert:","isPseudoVar","bindingFor:"],referencedClasses:["VariableNode","MethodLexicalScope"]}),e.ScopeVarTest),e.addMethod(e.method({selector:"testTempVar",category:"tests",fn:function(){function s(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}function r(){return e.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?t:MethodLexicalScope)}var a,o,i=this;return e.withContext(function(e){var t,l;return t=n(s())._new(),e.sendIdx["new"]=1,n(t)._value_("bzzz"),l=n(t)._yourself(),a=l,o=n(r())._new(),n(o)._addTemp_("bzzz"),i._assert_(n(n(o)._bindingFor_(a))._isTempVar()),i},function(t){t.fill(i,"testTempVar",{node:a,scope:o},e.ScopeVarTest)})},args:[],source:"testTempVar\n	| node scope |\n	node := VariableNode new\n		value: 'bzzz';\n		yourself.\n	scope := MethodLexicalScope new.\n	scope addTemp: 'bzzz'.\n	self assert: (scope bindingFor: node) isTempVar",messageSends:["value:","new","yourself","addTemp:","assert:","isTempVar","bindingFor:"],referencedClasses:["VariableNode","MethodLexicalScope"]}),e.ScopeVarTest),e.addMethod(e.method({selector:"testUnknownVar",category:"tests",fn:function(){function s(){return e.VariableNode||("undefined"==typeof VariableNode?t:VariableNode)}function r(){return e.MethodLexicalScope||("undefined"==typeof MethodLexicalScope?t:MethodLexicalScope)}var a,o=this;return e.withContext(function(e){var t,i;return t=n(s())._new(),e.sendIdx["new"]=1,n(t)._value_("bzzz"),i=n(t)._yourself(),a=i,o._assert_(n(n(n(r())._new())._bindingFor_(a))._isNil()),o},function(t){t.fill(o,"testUnknownVar",{node:a},e.ScopeVarTest)})},args:[],source:"testUnknownVar\n	| node |\n	node := VariableNode new\n		value: 'bzzz';\n		yourself.\n	self assert: (MethodLexicalScope new bindingFor: node) isNil",messageSends:["value:","new","yourself","assert:","isNil","bindingFor:"],referencedClasses:["VariableNode","MethodLexicalScope"]}),e.ScopeVarTest),e.addClass("SemanticAnalyzerTest",e.TestCase,["analyzer"],"Compiler-Tests"),e.addMethod(e.method({selector:"setUp",category:"running",fn:function(){function s(){return e.SemanticAnalyzer||("undefined"==typeof SemanticAnalyzer?t:SemanticAnalyzer)}function r(){return e.Object||("undefined"==typeof Object?t:Object)}var a=this;return e.withContext(function(){return a["@analyzer"]=n(s())._on_(r()),a},function(t){t.fill(a,"setUp",{},e.SemanticAnalyzerTest)})},args:[],source:"setUp\n	analyzer := SemanticAnalyzer on: Object",messageSends:["on:"],referencedClasses:["SemanticAnalyzer","Object"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testAssignment",category:"tests",fn:function(){function s(){return e.InvalidAssignmentError||("undefined"==typeof InvalidAssignmentError?t:InvalidAssignmentError)}var r,a,o=this;return e.withContext(function(t){return r="foo self := 1",a=n(e)._parse_(r),o._should_raise_(function(){return e.withContext(function(){return n(o["@analyzer"])._visit_(a)},function(e){e.fillBlock({},t,1)})},s()),o},function(t){t.fill(o,"testAssignment",{src:r,ast:a},e.SemanticAnalyzerTest)})},args:[],source:"testAssignment\n	| src ast |\n\n	src := 'foo self := 1'.\n	ast := smalltalk parse: src.\n	self should: [analyzer visit: ast] raise: InvalidAssignmentError",messageSends:["parse:","should:raise:","visit:"],referencedClasses:["InvalidAssignmentError"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testNonLocalReturn",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(){return t="foo | a | a + 1. ^ a",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),r._deny_(n(n(s)._scope())._hasNonLocalReturn()),r},function(n){n.fill(r,"testNonLocalReturn",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testNonLocalReturn\n	| src ast |\n\n	src := 'foo | a | a + 1. ^ a'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	self deny: ast scope hasNonLocalReturn",messageSends:["parse:","visit:","deny:","hasNonLocalReturn","scope"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testNonLocalReturn2",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(){return t="foo | a | a + 1. [ [ ^ a] ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),r._assert_(n(n(s)._scope())._hasNonLocalReturn()),r},function(n){n.fill(r,"testNonLocalReturn2",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testNonLocalReturn2\n	| src ast |\n\n	src := 'foo | a | a + 1. [ [ ^ a] ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	self assert: ast scope hasNonLocalReturn",messageSends:["parse:","visit:","assert:","hasNonLocalReturn","scope"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testScope",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o,i,l,c;return t="foo | a | a + 1. [ | b | b := a ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),o=n(n(n(s)._nodes())._first())._nodes(),a.sendIdx.nodes=1,i=n(o)._last(),l=n(i)._scope(),a.sendIdx.scope=1,c=n(l).__eq_eq(n(s)._scope()),r._deny_(c),r},function(n){n.fill(r,"testScope",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testScope\n	| src ast |\n\n	src := 'foo | a | a + 1. [ | b | b := a ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	self deny: ast nodes first nodes last scope == ast scope.",messageSends:["parse:","visit:","deny:","==","scope","last","nodes","first"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testScope2",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h;return t="foo | a | a + 1. [ [ | b | b := a ] ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),o=n(n(n(s)._nodes())._first())._nodes(),a.sendIdx.nodes=3,i=n(o)._last(),l=n(i)._nodes(),a.sendIdx.nodes=2,c=n(l)._first(),a.sendIdx.first=2,u=n(c)._nodes(),a.sendIdx.nodes=1,d=n(u)._first(),a.sendIdx.first=1,f=n(d)._scope(),a.sendIdx.scope=1,h=n(f).__eq_eq(n(s)._scope()),r._deny_(h),r},function(n){n.fill(r,"testScope2",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testScope2\n	| src ast |\n\n	src := 'foo | a | a + 1. [ [ | b | b := a ] ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	self deny: ast nodes first nodes last nodes first nodes first scope == ast scope.",messageSends:["parse:","visit:","deny:","==","scope","first","nodes","last"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testScopeLevel",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g;return t="foo | a | a + 1. [ [ | b | b := a ] ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),o=n(s)._scope(),a.sendIdx.scope=1,i=n(o)._scopeLevel(),a.sendIdx.scopeLevel=1,r._assert_equals_(i,1),a.sendIdx["assert:equals:"]=1,l=n(n(n(s)._nodes())._first())._nodes(),a.sendIdx.nodes=3,c=n(l)._last(),u=n(c)._nodes(),a.sendIdx.nodes=2,d=n(u)._first(),a.sendIdx.first=2,f=n(d)._nodes(),a.sendIdx.nodes=1,h=n(f)._first(),a.sendIdx.first=1,m=n(h)._scope(),g=n(m)._scopeLevel(),r._assert_equals_(g,3),r},function(n){n.fill(r,"testScopeLevel",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testScopeLevel\n	| src ast |\n\n	src := 'foo | a | a + 1. [ [ | b | b := a ] ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	self assert: ast scope scopeLevel equals: 1.\n	self assert: ast nodes first nodes last nodes first nodes first scope scopeLevel equals: 3",messageSends:["parse:","visit:","assert:equals:","scopeLevel","scope","first","nodes","last"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testUnknownVariables",category:"tests",fn:function(){function s(){return e.UnknownVariableError||("undefined"==typeof UnknownVariableError?t:UnknownVariableError)}var r,a,o=this;return e.withContext(function(t){return r="foo | a | b + a",a=n(e)._parse_(r),o._should_raise_(function(){return e.withContext(function(){return n(o["@analyzer"])._visit_(a)},function(e){e.fillBlock({},t,1)})},s()),o},function(t){t.fill(o,"testUnknownVariables",{src:r,ast:a},e.SemanticAnalyzerTest)})},args:[],source:"testUnknownVariables\n	| src ast |\n\n	src := 'foo | a | b + a'.\n	ast := smalltalk parse: src.\n\n	self should: [ analyzer visit: ast ] raise: UnknownVariableError",messageSends:["parse:","should:raise:","visit:"],referencedClasses:["UnknownVariableError"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testUnknownVariablesWithScope",category:"tests",fn:function(){function s(){return e.UnknownVariableError||("undefined"==typeof UnknownVariableError?t:UnknownVariableError)}var r,a,o=this;return e.withContext(function(t){return r="foo | a b | [ c + 1. [ a + 1. d + 1 ]]",a=n(e)._parse_(r),o._should_raise_(function(){return e.withContext(function(){return n(o["@analyzer"])._visit_(a)},function(e){e.fillBlock({},t,1)})},s()),o},function(t){t.fill(o,"testUnknownVariablesWithScope",{src:r,ast:a},e.SemanticAnalyzerTest)})},args:[],source:"testUnknownVariablesWithScope\n	| src ast |\n\n	src := 'foo | a b | [ c + 1. [ a + 1. d + 1 ]]'.\n	ast := smalltalk parse: src.\n	\n	self should: [ analyzer visit: ast ] raise: UnknownVariableError",messageSends:["parse:","should:raise:","visit:"],referencedClasses:["UnknownVariableError"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariableShadowing",category:"tests",fn:function(){var t,s,r=this;
return e.withContext(function(){return t="foo | a | a + 1",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),r},function(n){n.fill(r,"testVariableShadowing",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testVariableShadowing\n	| src ast |\n	src := 'foo | a | a + 1'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast",messageSends:["parse:","visit:"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariableShadowing2",category:"tests",fn:function(){function s(){return e.ShadowingVariableError||("undefined"==typeof ShadowingVariableError?t:ShadowingVariableError)}var r,a,o=this;return e.withContext(function(t){return r="foo | a | a + 1. [ | a | a := 2 ]",a=n(e)._parse_(r),o._should_raise_(function(){return e.withContext(function(){return n(o["@analyzer"])._visit_(a)},function(e){e.fillBlock({},t,1)})},s()),o},function(t){t.fill(o,"testVariableShadowing2",{src:r,ast:a},e.SemanticAnalyzerTest)})},args:[],source:"testVariableShadowing2\n	| src ast |\n	src := 'foo | a | a + 1. [ | a | a := 2 ]'.\n	ast := smalltalk parse: src.\n	self should: [analyzer visit: ast] raise: ShadowingVariableError",messageSends:["parse:","should:raise:","visit:"],referencedClasses:["ShadowingVariableError"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariableShadowing3",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(){return t="foo | a | a + 1. [ | b | b := 2 ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),r},function(n){n.fill(r,"testVariableShadowing3",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testVariableShadowing3\n	| src ast |\n	src := 'foo | a | a + 1. [ | b | b := 2 ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast",messageSends:["parse:","visit:"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariableShadowing4",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(){return t="foo | a | a + 1. [ [ [ | b | b := 2 ] ] ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),r},function(n){n.fill(r,"testVariableShadowing4",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:"testVariableShadowing4\n	| src ast |\n	src := 'foo | a | a + 1. [ [ [ | b | b := 2 ] ] ]'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast",messageSends:["parse:","visit:"],referencedClasses:[]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariableShadowing5",category:"tests",fn:function(){function s(){return e.ShadowingVariableError||("undefined"==typeof ShadowingVariableError?t:ShadowingVariableError)}var r,a,o=this;return e.withContext(function(t){return r="foo | a | a + 1. [ [ [ | a | a := 2 ] ] ]",a=n(e)._parse_(r),o._should_raise_(function(){return e.withContext(function(){return n(o["@analyzer"])._visit_(a)},function(e){e.fillBlock({},t,1)})},s()),o},function(t){t.fill(o,"testVariableShadowing5",{src:r,ast:a},e.SemanticAnalyzerTest)})},args:[],source:"testVariableShadowing5\n	| src ast |\n	src := 'foo | a | a + 1. [ [ [ | a | a := 2 ] ] ]'.\n	ast := smalltalk parse: src.\n	self should: [analyzer visit: ast] raise: ShadowingVariableError",messageSends:["parse:","should:raise:","visit:"],referencedClasses:["ShadowingVariableError"]}),e.SemanticAnalyzerTest),e.addMethod(e.method({selector:"testVariablesLookup",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M,T,A,N,B,P,R,O,j,D,E,q,V,L,F,z,H,J,W,K,U;return t="foo | a | a + 1. [ | b | b := a ]",s=n(e)._parse_(t),n(r["@analyzer"])._visit_(s),o=n(s)._nodes(),a.sendIdx.nodes=2,i=n(o)._first(),a.sendIdx.first=2,l=n(i)._nodes(),a.sendIdx.nodes=1,c=n(l)._first(),a.sendIdx.first=1,u=n(c)._receiver(),a.sendIdx.receiver=1,d=n(u)._binding(),a.sendIdx.binding=1,f=n(d)._isTempVar(),a.sendIdx.isTempVar=1,r._assert_(f),a.sendIdx["assert:"]=1,h=n(s)._nodes(),a.sendIdx.nodes=4,m=n(h)._first(),a.sendIdx.first=4,g=n(m)._nodes(),a.sendIdx.nodes=3,p=n(g)._first(),a.sendIdx.first=3,_=n(p)._receiver(),C=n(_)._binding(),a.sendIdx.binding=2,v=n(C)._scope(),a.sendIdx.scope=1,x=n(s)._scope(),a.sendIdx.scope=2,y=n(v).__eq_eq(x),a.sendIdx["=="]=1,r._assert_(y),a.sendIdx["assert:"]=2,S=n(s)._nodes(),a.sendIdx.nodes=8,b=n(S)._first(),a.sendIdx.first=7,w=n(b)._nodes(),a.sendIdx.nodes=7,k=n(w)._last(),a.sendIdx.last=1,I=n(k)._nodes(),a.sendIdx.nodes=6,M=n(I)._first(),a.sendIdx.first=6,T=n(M)._nodes(),a.sendIdx.nodes=5,A=n(T)._first(),a.sendIdx.first=5,N=n(A)._left(),a.sendIdx.left=1,B=n(N)._binding(),a.sendIdx.binding=3,P=n(B)._isTempVar(),r._assert_(P),a.sendIdx["assert:"]=3,R=n(s)._nodes(),a.sendIdx.nodes=12,O=n(R)._first(),a.sendIdx.first=10,j=n(O)._nodes(),a.sendIdx.nodes=11,D=n(j)._last(),a.sendIdx.last=2,E=n(D)._nodes(),a.sendIdx.nodes=10,q=n(E)._first(),a.sendIdx.first=9,V=n(q)._nodes(),a.sendIdx.nodes=9,L=n(V)._first(),a.sendIdx.first=8,F=n(L)._left(),z=n(F)._binding(),H=n(z)._scope(),a.sendIdx.scope=3,J=n(n(n(s)._nodes())._first())._nodes(),a.sendIdx.nodes=13,W=n(J)._last(),K=n(W)._scope(),U=n(H).__eq_eq(K),r._assert_(U),r},function(n){n.fill(r,"testVariablesLookup",{src:t,ast:s},e.SemanticAnalyzerTest)})},args:[],source:'testVariablesLookup\n	| src ast |\n\n	src := \'foo | a | a + 1. [ | b | b := a ]\'.\n	ast := smalltalk parse: src.\n	analyzer visit: ast.\n\n	"Binding for `a` in the message send"\n	self assert: ast nodes first nodes first receiver binding isTempVar.\n	self assert: ast nodes first nodes first receiver binding scope == ast scope.\n\n	"Binding for `b`"\n	self assert: ast nodes first nodes last nodes first nodes first left binding isTempVar.\n	self assert: ast nodes first nodes last nodes first nodes first left binding scope == ast nodes first nodes last scope.',messageSends:["parse:","visit:","assert:","isTempVar","binding","receiver","first","nodes","==","scope","left","last"],referencedClasses:[]}),e.SemanticAnalyzerTest)}),define("amber_vm/parser",["./smalltalk","./nil"],function(e,t){e.parser=function(){function n(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var s={parse:function(s,r){function a(e){var t={};for(var n in e)t[n]=e[n];return t}function o(e,t){for(var n=e.offset+t,r=e.offset;n>r;r++){var a=s.charAt(r);"\n"===a?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===a||"\u2028"===a||"\u2029"===a?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}e.offset+=t}function i(e){dt.offset<ht.offset||(dt.offset>ht.offset&&(ht=a(dt),mt=[]),mt.push(e))}function l(){var e="separator@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r;if(/^[ \t\x0B\f\xA0\uFEFF\n\r\u2028\u2029]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[ \\t\\x0B\\f\\xA0\\uFEFF\\n\\r\\u2028\\u2029]")),null!==r)for(n=[];null!==r;)n.push(r),/^[ \t\x0B\f\xA0\uFEFF\n\r\u2028\u2029]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[ \\t\\x0B\\f\\xA0\\uFEFF\\n\\r\\u2028\\u2029]"));else n=null;return gt[e]={nextPos:a(dt),result:n},n}function c(){var e="comments@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;if(u=a(dt),/^["]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i('["]')),null!==r){for(l=[],/^[^"]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('[^"]'));null!==c;)l.push(c),/^[^"]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('[^"]'));null!==l?(/^["]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('["]')),null!==c?r=[r,l,c]:(r=null,dt=a(u))):(r=null,dt=a(u))}else r=null,dt=a(u);if(null!==r)for(n=[];null!==r;)if(n.push(r),u=a(dt),/^["]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i('["]')),null!==r){for(l=[],/^[^"]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('[^"]'));null!==c;)l.push(c),/^[^"]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('[^"]'));null!==l?(/^["]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i('["]')),null!==c?r=[r,l,c]:(r=null,dt=a(u))):(r=null,dt=a(u))}else r=null,dt=a(u);else n=null;return gt[e]={nextPos:a(dt),result:n},n}function u(){var e="ws@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s;for(n=[],s=l(),null===s&&(s=c());null!==s;)n.push(s),s=l(),null===s&&(s=c());return gt[e]={nextPos:a(dt),result:n},n}function d(){var e="identifier@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;if(c=a(dt),u=a(dt),/^[a-zA-Z]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[a-zA-Z]")),null!==n){for(r=[],/^[a-zA-Z0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9]"));null!==l;)r.push(l),/^[a-zA-Z0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9]"));null!==r?n=[n,r]:(n=null,dt=a(u))}else n=null,dt=a(u);return null!==n&&(n=function(e,t,n,s,r){return s+r.join("")}(c.offset,c.line,c.column,n[0],n[1])),null===n&&(dt=a(c)),gt[e]={nextPos:a(dt),result:n},n}function f(){var e="keyword@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c;return l=a(dt),c=a(dt),n=d(),null!==n?(/^[:]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[:]")),null!==r?n=[n,r]:(n=null,dt=a(c))):(n=null,dt=a(c)),null!==n&&(n=function(e,t,n,s,r){return s+r}(l.offset,l.line,l.column,n[0],n[1])),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function h(){var e="selector@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;if(c=a(dt),u=a(dt),/^[a-zA-Z]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[a-zA-Z]")),null!==n){for(r=[],/^[a-zA-Z0-9:]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9:]"));null!==l;)r.push(l),/^[a-zA-Z0-9:]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9:]"));null!==r?n=[n,r]:(n=null,dt=a(u))}else n=null,dt=a(u);return null!==n&&(n=function(e,t,n,s,r){return s+r.join("")}(c.offset,c.line,c.column,n[0],n[1])),null===n&&(dt=a(c)),gt[e]={nextPos:a(dt),result:n},n}function m(){var e="className@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;if(c=a(dt),u=a(dt),/^[A-Z]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[A-Z]")),null!==n){for(r=[],/^[a-zA-Z0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9]"));null!==l;)r.push(l),/^[a-zA-Z0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[a-zA-Z0-9]"));null!==r?n=[n,r]:(n=null,dt=a(u))}else n=null,dt=a(u);return null!==n&&(n=function(e,t,n,s,r){return s+r.join("")}(c.offset,c.line,c.column,n[0],n[1])),null===n&&(dt=a(c)),gt[e]={nextPos:a(dt),result:n},n}function g(){var t="string@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,u,d,f;if(u=a(dt),d=a(dt),/^[']/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[']")),null!==r){for(l=[],f=a(dt),"''"===s.substr(dt.offset,2)?(c="''",o(dt,2)):(c=null,0===ft&&i("\"''\"")),null!==c&&(c=function(){return"'"}(f.offset,f.line,f.column)),null===c&&(dt=a(f)),null===c&&(/^[^']/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[^']")));null!==c;)l.push(c),f=a(dt),"''"===s.substr(dt.offset,2)?(c="''",o(dt,2)):(c=null,0===ft&&i("\"''\"")),null!==c&&(c=function(){return"'"}(f.offset,f.line,f.column)),null===c&&(dt=a(f)),null===c&&(/^[^']/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[^']")));null!==l?(/^[']/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[']")),null!==c?r=[r,l,c]:(r=null,dt=a(d))):(r=null,dt=a(d))}else r=null,dt=a(d);return null!==r&&(r=function(t,n,s,r){return e.ValueNode._new()._position_(n.__at(s))._value_(r.join("").replace(/\"/gi,'"'))}(u.offset,u.line,u.column,r[1])),null===r&&(dt=a(u)),gt[t]={nextPos:a(dt),result:r},r}function p(){var e="symbol@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c;return l=a(dt),c=a(dt),35===s.charCodeAt(dt.offset)?(n="#",o(dt,1)):(n=null,0===ft&&i('"#"')),null!==n?(r=_(),null!==r?n=[n,r]:(n=null,dt=a(c))):(n=null,dt=a(c)),null!==n&&(n=function(e,t,n,s){return s}(l.offset,l.line,l.column,n[1])),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function _(){var t="bareSymbol@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r,o;return r=a(dt),s=h(),null===s&&(s=O(),null===s&&(o=a(dt),s=g(),null!==s&&(s=function(e,t,n,s){return s._value()}(o.offset,o.line,o.column,s)),null===s&&(dt=a(o)))),null!==s&&(s=function(t,n,s,r){return e.ValueNode._new()._position_(n.__at(s))._value_(r)}(r.offset,r.line,r.column,s)),null===s&&(dt=a(r)),gt[t]={nextPos:a(dt),result:s},s}function C(){var t="number@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r;return r=a(dt),s=v(),null===s&&(s=x(),null===s&&(s=y(),null===s&&(s=S()))),null!==s&&(s=function(t,n,s,r){return e.ValueNode._new()._position_(n.__at(s))._value_(r)}(r.offset,r.line,r.column,s)),null===s&&(dt=a(r)),gt[t]={nextPos:a(dt),result:s},s}function v(){var e="numberExp@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;return c=a(dt),u=a(dt),n=y(),null===n&&(n=S()),null!==n?(101===s.charCodeAt(dt.offset)?(r="e",o(dt,1)):(r=null,0===ft&&i('"e"')),null!==r?(l=S(),null!==l?n=[n,r,l]:(n=null,dt=a(u))):(n=null,dt=a(u))):(n=null,dt=a(u)),null!==n&&(n=function(e,t,n,s){return parseFloat(s.join(""))}(c.offset,c.line,c.column,n)),null===n&&(dt=a(c)),gt[e]={nextPos:a(dt),result:n},n}function x(){var e="hex@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u,d;if(u=a(dt),d=a(dt),/^[\-]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[\\-]")),n=null!==n?n:"",null!==n)if("16r"===s.substr(dt.offset,3)?(r="16r",o(dt,3)):(r=null,0===ft&&i('"16r"')),null!==r){if(/^[0-9a-fA-F]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[0-9a-fA-F]")),null!==c)for(l=[];null!==c;)l.push(c),/^[0-9a-fA-F]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[0-9a-fA-F]"));else l=null;null!==l?n=[n,r,l]:(n=null,dt=a(d))}else n=null,dt=a(d);else n=null,dt=a(d);return null!==n&&(n=function(e,t,n,s,r){return parseInt(s+r.join(""),16)}(u.offset,u.line,u.column,n[0],n[2])),null===n&&(dt=a(u)),gt[e]={nextPos:a(dt),result:n},n}function y(){var e="float@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u,d,f;if(d=a(dt),f=a(dt),/^[\-]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[\\-]")),n=null!==n?n:"",null!==n){if(/^[0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[0-9]")),null!==l)for(r=[];null!==l;)r.push(l),/^[0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[0-9]"));else r=null;if(null!==r)if(46===s.charCodeAt(dt.offset)?(l=".",o(dt,1)):(l=null,0===ft&&i('"."')),null!==l){if(/^[0-9]/.test(s.charAt(dt.offset))?(u=s.charAt(dt.offset),o(dt,1)):(u=null,0===ft&&i("[0-9]")),null!==u)for(c=[];null!==u;)c.push(u),/^[0-9]/.test(s.charAt(dt.offset))?(u=s.charAt(dt.offset),o(dt,1)):(u=null,0===ft&&i("[0-9]"));else c=null;null!==c?n=[n,r,l,c]:(n=null,dt=a(f))}else n=null,dt=a(f);else n=null,dt=a(f)}else n=null,dt=a(f);return null!==n&&(n=function(e,t,n,s,r,a){return parseFloat(s+r.join("")+"."+a.join(""),10)}(d.offset,d.line,d.column,n[0],n[1],n[3])),null===n&&(dt=a(d)),gt[e]={nextPos:a(dt),result:n},n}function S(){var e="integer@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,u;if(c=a(dt),u=a(dt),/^[\-]/.test(s.charAt(dt.offset))?(n=s.charAt(dt.offset),o(dt,1)):(n=null,0===ft&&i("[\\-]")),n=null!==n?n:"",null!==n){if(/^[0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[0-9]")),null!==l)for(r=[];null!==l;)r.push(l),/^[0-9]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[0-9]"));else r=null;null!==r?n=[n,r]:(n=null,dt=a(u))}else n=null,dt=a(u);return null!==n&&(n=function(e,t,n,s,r){return parseInt(s+r.join(""),10)}(c.offset,c.line,c.column,n[0],n[1])),null===n&&(dt=a(c)),gt[e]={nextPos:a(dt),result:n},n}function b(){var e="literalArray@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c;return l=a(dt),c=a(dt),"#("===s.substr(dt.offset,2)?(n="#(",o(dt,2)):(n=null,0===ft&&i('"#("')),null!==n?(r=k(),null!==r?n=[n,r]:(n=null,dt=a(c))):(n=null,dt=a(c)),null!==n&&(n=function(e,t,n,s){return s}(l.offset,l.line,l.column,n[1])),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function w(){var e="bareLiteralArray@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c;return l=a(dt),c=a(dt),40===s.charCodeAt(dt.offset)?(n="(",o(dt,1)):(n=null,0===ft&&i('"("')),null!==n?(r=k(),null!==r?n=[n,r]:(n=null,dt=a(c))):(n=null,dt=a(c)),null!==n&&(n=function(e,t,n,s){return s}(l.offset,l.line,l.column,n[1])),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function k(){var t="literalArrayRest@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m,g;if(f=a(dt),h=a(dt),r=u(),null!==r){for(l=[],m=a(dt),g=a(dt),c=A(),null===c&&(c=w(),null===c&&(c=_())),null!==c?(d=u(),null!==d?c=[c,d]:(c=null,dt=a(g))):(c=null,dt=a(g)),null!==c&&(c=function(e,t,n,s){return s._value()}(m.offset,m.line,m.column,c[0])),null===c&&(dt=a(m));null!==c;)l.push(c),m=a(dt),g=a(dt),c=A(),null===c&&(c=w(),null===c&&(c=_())),null!==c?(d=u(),null!==d?c=[c,d]:(c=null,dt=a(g))):(c=null,dt=a(g)),null!==c&&(c=function(e,t,n,s){return s._value()}(m.offset,m.line,m.column,c[0])),null===c&&(dt=a(m));null!==l?(c=u(),null!==c?(41===s.charCodeAt(dt.offset)?(d=")",o(dt,1)):(d=null,0===ft&&i('")"')),null!==d?r=[r,l,c,d]:(r=null,dt=a(h))):(r=null,dt=a(h))):(r=null,dt=a(h))}else r=null,dt=a(h);return null!==r&&(r=function(t,n,s,r){return e.ValueNode._new()._position_(n.__at(s))._value_(r)}(f.offset,f.line,f.column,r[1])),null===r&&(dt=a(f)),gt[t]={nextPos:a(dt),result:r},r}function I(){var t="dynamicArray@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m,g;return m=a(dt),g=a(dt),123===s.charCodeAt(dt.offset)?(r="{",o(dt,1)):(r=null,0===ft&&i('"{"')),null!==r?(l=u(),null!==l?(c=L(),c=null!==c?c:"",null!==c?(d=u(),null!==d?(46===s.charCodeAt(dt.offset)?(f=".",o(dt,1)):(f=null,0===ft&&i('"."')),f=null!==f?f:"",null!==f?(125===s.charCodeAt(dt.offset)?(h="}",o(dt,1)):(h=null,0===ft&&i('"}"')),null!==h?r=[r,l,c,d,f,h]:(r=null,dt=a(g))):(r=null,dt=a(g))):(r=null,dt=a(g))):(r=null,dt=a(g))):(r=null,dt=a(g))):(r=null,dt=a(g)),null!==r&&(r=function(t,n,s,r){return e.DynamicArrayNode._new()._position_(n.__at(s))._nodes_(r)}(m.offset,m.line,m.column,r[2])),null===r&&(dt=a(m)),gt[t]={nextPos:a(dt),result:r},r}function M(){var t="dynamicDictionary@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m;return h=a(dt),m=a(dt),"#{"===s.substr(dt.offset,2)?(r="#{",o(dt,2)):(r=null,0===ft&&i('"#{"')),null!==r?(l=u(),null!==l?(c=L(),c=null!==c?c:"",null!==c?(d=u(),null!==d?(125===s.charCodeAt(dt.offset)?(f="}",o(dt,1)):(f=null,0===ft&&i('"}"')),null!==f?r=[r,l,c,d,f]:(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m)),null!==r&&(r=function(t,n,s,r){return e.DynamicDictionaryNode._new()._position_(n.__at(s))._nodes_(r)}(h.offset,h.line,h.column,r[2])),null===r&&(dt=a(h)),gt[t]={nextPos:a(dt),result:r},r}function T(){var n="pseudoVariable@"+dt.offset,r=gt[n];if(r)return dt=a(r.nextPos),r.result;var l,c,u;return c=a(dt),u=a(dt),"true"===s.substr(dt.offset,4)?(l="true",o(dt,4)):(l=null,0===ft&&i('"true"')),null!==l&&(l=function(){return!0}(u.offset,u.line,u.column)),null===l&&(dt=a(u)),null===l&&(u=a(dt),"false"===s.substr(dt.offset,5)?(l="false",o(dt,5)):(l=null,0===ft&&i('"false"')),null!==l&&(l=function(){return!1}(u.offset,u.line,u.column)),null===l&&(dt=a(u)),null===l&&(u=a(dt),"nil"===s.substr(dt.offset,3)?(l="nil",o(dt,3)):(l=null,0===ft&&i('"nil"')),null!==l&&(l=function(){return t}(u.offset,u.line,u.column)),null===l&&(dt=a(u)))),null!==l&&(l=function(t,n,s,r){return e.ValueNode._new()._position_(n.__at(s))._value_(r)}(c.offset,c.line,c.column,l)),null===l&&(dt=a(c)),gt[n]={nextPos:a(dt),result:l},l}function A(){var e="parseTimeLiteral@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=T(),null===n&&(n=C(),null===n&&(n=b(),null===n&&(n=g(),null===n&&(n=p())))),gt[e]={nextPos:a(dt),result:n},n}function N(){var e="runtimeLiteral@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=M(),null===n&&(n=I(),null===n&&(n=G())),gt[e]={nextPos:a(dt),result:n},n}function B(){var e="literal@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=N(),null===n&&(n=A()),gt[e]={nextPos:a(dt),result:n},n}function P(){var t="variable@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r;return r=a(dt),s=d(),null!==s&&(s=function(t,n,s,r){return e.VariableNode._new()._position_(n.__at(s))._value_(r)}(r.offset,r.line,r.column,s)),null===s&&(dt=a(r)),gt[t]={nextPos:a(dt),result:s},s}function R(){var e="keywordPair@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i,l;return i=a(dt),l=a(dt),n=f(),null!==n?(s=u(),null!==s?(r=nt(),null!==r?(o=u(),null!==o?n=[n,s,r,o]:(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l)),null!==n&&(n=function(e,t,n,s,r){return{key:s,arg:r}}(i.offset,i.line,i.column,n[0],n[2])),null===n&&(dt=a(i)),gt[e]={nextPos:a(dt),result:n},n}function O(){var e="binarySelector@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l;if(l=a(dt),/^[\\+*\/=><,@%~|&\-]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[\\\\+*\\/=><,@%~|&\\-]")),null!==r)for(n=[];null!==r;)n.push(r),/^[\\+*\/=><,@%~|&\-]/.test(s.charAt(dt.offset))?(r=s.charAt(dt.offset),o(dt,1)):(r=null,0===ft&&i("[\\\\+*\\/=><,@%~|&\\-]"));else n=null;return null!==n&&(n=function(e,t,n,s){return s.join("")}(l.offset,l.line,l.column,n)),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function j(){var e="keywordPattern@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i,l,c,h;if(l=a(dt),c=a(dt),h=a(dt),s=u(),null!==s?(r=f(),null!==r?(o=u(),null!==o?(i=d(),null!==i?s=[s,r,o,i]:(s=null,dt=a(h))):(s=null,dt=a(h))):(s=null,dt=a(h))):(s=null,dt=a(h)),null!==s&&(s=function(e,t,n,s,r){return{key:s,arg:r}}(c.offset,c.line,c.column,s[1],s[3])),null===s&&(dt=a(c)),null!==s)for(n=[];null!==s;)n.push(s),c=a(dt),h=a(dt),s=u(),null!==s?(r=f(),null!==r?(o=u(),null!==o?(i=d(),null!==i?s=[s,r,o,i]:(s=null,dt=a(h))):(s=null,dt=a(h))):(s=null,dt=a(h))):(s=null,dt=a(h)),null!==s&&(s=function(e,t,n,s,r){return{key:s,arg:r}}(c.offset,c.line,c.column,s[1],s[3])),null===s&&(dt=a(c));else n=null;return null!==n&&(n=function(e,t,n,s){var r=[],a=[],o=0;for(o=0;o<s.length;o++)r.push(s[o].key);for(o=0;o<s.length;o++)a.push(s[o].arg);return[r.join(""),a]}(l.offset,l.line,l.column,n)),null===n&&(dt=a(l)),gt[e]={nextPos:a(dt),result:n},n}function D(){var e="binaryPattern@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i,l;return i=a(dt),l=a(dt),n=u(),null!==n?(s=O(),null!==s?(r=u(),null!==r?(o=d(),null!==o?n=[n,s,r,o]:(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l)),null!==n&&(n=function(e,t,n,s,r){return[s,[r]]}(i.offset,i.line,i.column,n[1],n[3])),null===n&&(dt=a(i)),gt[e]={nextPos:a(dt),result:n},n}function E(){var e="unaryPattern@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o;return r=a(dt),o=a(dt),n=u(),null!==n?(s=d(),null!==s?n=[n,s]:(n=null,dt=a(o))):(n=null,dt=a(o)),null!==n&&(n=function(e,t,n,s){return[s,[]]}(r.offset,r.line,r.column,n[1])),null===n&&(dt=a(r)),gt[e]={nextPos:a(dt),result:n},n}function q(){var e="expression@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=F(),null===n&&(n=ot(),null===n&&(n=rt(),null===n&&(n=nt()))),gt[e]={nextPos:a(dt),result:n},n}function V(){var e="expressionList@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,d,f;return d=a(dt),f=a(dt),n=u(),null!==n?(46===s.charCodeAt(dt.offset)?(r=".",o(dt,1)):(r=null,0===ft&&i('"."')),null!==r?(l=u(),null!==l?(c=q(),null!==c?n=[n,r,l,c]:(n=null,dt=a(f))):(n=null,dt=a(f))):(n=null,dt=a(f))):(n=null,dt=a(f)),null!==n&&(n=function(e,t,n,s){return s}(d.offset,d.line,d.column,n[3])),null===n&&(dt=a(d)),gt[e]={nextPos:a(dt),result:n},n}function L(){var e="expressions@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i;if(o=a(dt),i=a(dt),n=q(),null!==n){for(s=[],r=V();null!==r;)s.push(r),r=V();null!==s?n=[n,s]:(n=null,dt=a(i))}else n=null,dt=a(i);return null!==n&&(n=function(e,t,n,s,r){for(var a=[s],o=0;o<r.length;o++)a.push(r[o]);return a}(o.offset,o.line,o.column,n[0],n[1])),null===n&&(dt=a(o)),gt[e]={nextPos:a(dt),result:n},n}function F(){var t="assignment@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m;return h=a(dt),m=a(dt),r=P(),null!==r?(l=u(),null!==l?(":="===s.substr(dt.offset,2)?(c=":=",o(dt,2)):(c=null,0===ft&&i('":="')),null!==c?(d=u(),null!==d?(f=q(),null!==f?r=[r,l,c,d,f]:(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m)),null!==r&&(r=function(t,n,s,r,a){return e.AssignmentNode._new()._position_(n.__at(s))._left_(r)._right_(a)}(h.offset,h.line,h.column,r[0],r[4])),null===r&&(dt=a(h)),gt[t]={nextPos:a(dt),result:r},r}function z(){var t="ret@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m;return h=a(dt),m=a(dt),94===s.charCodeAt(dt.offset)?(r="^",o(dt,1)):(r=null,0===ft&&i('"^"')),null!==r?(l=u(),null!==l?(c=q(),null!==c?(d=u(),null!==d?(46===s.charCodeAt(dt.offset)?(f=".",o(dt,1)):(f=null,0===ft&&i('"."')),f=null!==f?f:"",null!==f?r=[r,l,c,d,f]:(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m))):(r=null,dt=a(m)),null!==r&&(r=function(t,n,s,r){return e.ReturnNode._new()._position_(n.__at(s))._nodes_([r])}(h.offset,h.line,h.column,r[2])),null===r&&(dt=a(h)),gt[t]={nextPos:a(dt),result:r},r}function H(){var e="temps@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,f,h,m,g,p;if(h=a(dt),m=a(dt),124===s.charCodeAt(dt.offset)?(n="|",o(dt,1)):(n=null,0===ft&&i('"|"')),null!==n){for(r=[],g=a(dt),p=a(dt),l=u(),null!==l?(c=d(),null!==c?(f=u(),null!==f?l=[l,c,f]:(l=null,dt=a(p))):(l=null,dt=a(p))):(l=null,dt=a(p)),null!==l&&(l=function(e,t,n,s){return s}(g.offset,g.line,g.column,l[1])),null===l&&(dt=a(g));null!==l;)r.push(l),g=a(dt),p=a(dt),l=u(),null!==l?(c=d(),null!==c?(f=u(),null!==f?l=[l,c,f]:(l=null,dt=a(p))):(l=null,dt=a(p))):(l=null,dt=a(p)),null!==l&&(l=function(e,t,n,s){return s}(g.offset,g.line,g.column,l[1])),null===l&&(dt=a(g));null!==r?(124===s.charCodeAt(dt.offset)?(l="|",o(dt,1)):(l=null,0===ft&&i('"|"')),null!==l?n=[n,r,l]:(n=null,dt=a(m))):(n=null,dt=a(m))}else n=null,dt=a(m);return null!==n&&(n=function(e,t,n,s){return s}(h.offset,h.line,h.column,n[1])),null===n&&(dt=a(h)),gt[e]={nextPos:a(dt),result:n},n}function J(){var e="blockParamList@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,f,h,m,g,p;if(h=a(dt),m=a(dt),g=a(dt),p=a(dt),r=u(),null!==r?(58===s.charCodeAt(dt.offset)?(l=":",o(dt,1)):(l=null,0===ft&&i('":"')),null!==l?(c=u(),null!==c?(f=d(),null!==f?r=[r,l,c,f]:(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p)),null!==r&&(r=function(e,t,n,s){return s}(g.offset,g.line,g.column,r[3])),null===r&&(dt=a(g)),null!==r)for(n=[];null!==r;)n.push(r),g=a(dt),p=a(dt),r=u(),null!==r?(58===s.charCodeAt(dt.offset)?(l=":",o(dt,1)):(l=null,0===ft&&i('":"')),null!==l?(c=u(),null!==c?(f=d(),null!==f?r=[r,l,c,f]:(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p)),null!==r&&(r=function(e,t,n,s){return s}(g.offset,g.line,g.column,r[3])),null===r&&(dt=a(g));else n=null;return null!==n?(r=u(),null!==r?(124===s.charCodeAt(dt.offset)?(l="|",o(dt,1)):(l=null,0===ft&&i('"|"')),null!==l?n=[n,r,l]:(n=null,dt=a(m))):(n=null,dt=a(m))):(n=null,dt=a(m)),null!==n&&(n=function(e,t,n,s){return s}(h.offset,h.line,h.column,n[0])),null===n&&(dt=a(h)),gt[e]={nextPos:a(dt),result:n},n}function W(){var e="subexpression@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,d,f,h;return f=a(dt),h=a(dt),40===s.charCodeAt(dt.offset)?(n="(",o(dt,1)):(n=null,0===ft&&i('"("')),null!==n?(r=u(),null!==r?(l=q(),null!==l?(c=u(),null!==c?(41===s.charCodeAt(dt.offset)?(d=")",o(dt,1)):(d=null,0===ft&&i('")"')),null!==d?n=[n,r,l,c,d]:(n=null,dt=a(h))):(n=null,dt=a(h))):(n=null,dt=a(h))):(n=null,dt=a(h))):(n=null,dt=a(h)),null!==n&&(n=function(e,t,n,s){return s}(f.offset,f.line,f.column,n[2])),null===n&&(dt=a(f)),gt[e]={nextPos:a(dt),result:n},n}function K(){var e="statements@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,r,l,c,d,f,h,m,g;if(m=a(dt),g=a(dt),n=z(),null!==n){for(r=[],/^[.]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[.]"));null!==l;)r.push(l),/^[.]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[.]"));null!==r?n=[n,r]:(n=null,dt=a(g))}else n=null,dt=a(g);if(null!==n&&(n=function(e,t,n,s){return[s]}(m.offset,m.line,m.column,n[0])),null===n&&(dt=a(m)),null===n){if(m=a(dt),g=a(dt),n=L(),null!==n)if(r=u(),null!==r){if(/^[.]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[.]")),null!==c)for(l=[];null!==c;)l.push(c),/^[.]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[.]"));else l=null;if(null!==l)if(c=u(),null!==c)if(d=z(),null!==d){for(f=[],/^[.]/.test(s.charAt(dt.offset))?(h=s.charAt(dt.offset),o(dt,1)):(h=null,0===ft&&i("[.]"));null!==h;)f.push(h),/^[.]/.test(s.charAt(dt.offset))?(h=s.charAt(dt.offset),o(dt,1)):(h=null,0===ft&&i("[.]"));null!==f?n=[n,r,l,c,d,f]:(n=null,dt=a(g))}else n=null,dt=a(g);else n=null,dt=a(g);else n=null,dt=a(g)}else n=null,dt=a(g);else n=null,dt=a(g);if(null!==n&&(n=function(e,t,n,s,r){var a=s;return a.push(r),a}(m.offset,m.line,m.column,n[0],n[4])),null===n&&(dt=a(m)),null===n){if(m=a(dt),g=a(dt),n=L(),n=null!==n?n:"",null!==n){for(r=[],/^[.]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[.]"));null!==l;)r.push(l),/^[.]/.test(s.charAt(dt.offset))?(l=s.charAt(dt.offset),o(dt,1)):(l=null,0===ft&&i("[.]"));null!==r?n=[n,r]:(n=null,dt=a(g))}else n=null,dt=a(g);null!==n&&(n=function(e,t,n,s){return s||[]}(m.offset,m.line,m.column,n[0])),null===n&&(dt=a(m))}}return gt[e]={nextPos:a(dt),result:n},n}function U(){var e="sequence@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=it(),null===n&&(n=Q()),gt[e]={nextPos:a(dt),result:n},n}function Q(){var t="stSequence@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r,o,i,l,c;return l=a(dt),c=a(dt),s=H(),s=null!==s?s:"",null!==s?(r=u(),null!==r?(o=K(),o=null!==o?o:"",null!==o?(i=u(),null!==i?s=[s,r,o,i]:(s=null,dt=a(c))):(s=null,dt=a(c))):(s=null,dt=a(c))):(s=null,dt=a(c)),null!==s&&(s=function(t,n,s,r,a){return e.SequenceNode._new()._position_(n.__at(s))._temps_(r||[])._nodes_(a||[])}(l.offset,l.line,l.column,s[0],s[2])),null===s&&(dt=a(l)),gt[t]={nextPos:a(dt),result:s},s}function G(){var t="block@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m,g,p;return g=a(dt),p=a(dt),91===s.charCodeAt(dt.offset)?(r="[",o(dt,1)):(r=null,0===ft&&i('"["')),null!==r?(l=u(),null!==l?(c=J(),c=null!==c?c:"",null!==c?(d=u(),null!==d?(f=U(),f=null!==f?f:"",null!==f?(h=u(),null!==h?(93===s.charCodeAt(dt.offset)?(m="]",o(dt,1)):(m=null,0===ft&&i('"]"')),null!==m?r=[r,l,c,d,f,h,m]:(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p))):(r=null,dt=a(p)),null!==r&&(r=function(t,n,s,r,a){return e.BlockNode._new()._position_(n.__at(s))._parameters_(r||[])._nodes_([a._asBlockSequenceNode()])
}(g.offset,g.line,g.column,r[2],r[4])),null===r&&(dt=a(g)),gt[t]={nextPos:a(dt),result:r},r}function $(){var e="operand@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=B(),null===n&&(n=P(),null===n&&(n=W())),gt[e]={nextPos:a(dt),result:n},n}function Y(){var t="unaryMessage@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,f,h,m;return f=a(dt),h=a(dt),r=u(),null!==r?(l=d(),null!==l?(m=a(dt),ft++,/^[:]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[:]")),ft--,null===c?c="":(c=null,dt=a(m)),null!==c?r=[r,l,c]:(r=null,dt=a(h))):(r=null,dt=a(h))):(r=null,dt=a(h)),null!==r&&(r=function(t,n,s,r){return e.SendNode._new()._position_(n.__at(s))._selector_(r)}(f.offset,f.line,f.column,r[1])),null===r&&(dt=a(f)),gt[t]={nextPos:a(dt),result:r},r}function Z(){var e="unaryTail@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i,l;return i=a(dt),l=a(dt),n=Y(),null!==n?(s=u(),null!==s?(r=Z(),r=null!==r?r:"",null!==r?(o=u(),null!==o?n=[n,s,r,o]:(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l))):(n=null,dt=a(l)),null!==n&&(n=function(e,t,n,s,r){return r?r._valueForReceiver_(s):s}(i.offset,i.line,i.column,n[0],n[2])),null===n&&(dt=a(i)),gt[e]={nextPos:a(dt),result:n},n}function X(){var e="unarySend@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o,i;return o=a(dt),i=a(dt),n=$(),null!==n?(s=u(),null!==s?(r=Z(),r=null!==r?r:"",null!==r?n=[n,s,r]:(n=null,dt=a(i))):(n=null,dt=a(i))):(n=null,dt=a(i)),null!==n&&(n=function(e,t,n,s,r){return r?r._valueForReceiver_(s):s}(o.offset,o.line,o.column,n[0],n[2])),null===n&&(dt=a(o)),gt[e]={nextPos:a(dt),result:n},n}function et(){var t="binaryMessage@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r,o,i,l,c;return l=a(dt),c=a(dt),s=u(),null!==s?(r=O(),null!==r?(o=u(),null!==o?(i=X(),null===i&&(i=$()),null!==i?s=[s,r,o,i]:(s=null,dt=a(c))):(s=null,dt=a(c))):(s=null,dt=a(c))):(s=null,dt=a(c)),null!==s&&(s=function(t,n,s,r,a){return e.SendNode._new()._position_(n.__at(s))._selector_(r)._arguments_([a])}(l.offset,l.line,l.column,s[1],s[3])),null===s&&(dt=a(l)),gt[t]={nextPos:a(dt),result:s},s}function tt(){var e="binaryTail@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o;return r=a(dt),o=a(dt),n=et(),null!==n?(s=tt(),s=null!==s?s:"",null!==s?n=[n,s]:(n=null,dt=a(o))):(n=null,dt=a(o)),null!==n&&(n=function(e,t,n,s,r){return r?r._valueForReceiver_(s):s}(r.offset,r.line,r.column,n[0],n[1])),null===n&&(dt=a(r)),gt[e]={nextPos:a(dt),result:n},n}function nt(){var e="binarySend@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o;return r=a(dt),o=a(dt),n=X(),null!==n?(s=tt(),s=null!==s?s:"",null!==s?n=[n,s]:(n=null,dt=a(o))):(n=null,dt=a(o)),null!==n&&(n=function(e,t,n,s,r){return r?r._valueForReceiver_(s):s}(r.offset,r.line,r.column,n[0],n[1])),null===n&&(dt=a(r)),gt[e]={nextPos:a(dt),result:n},n}function st(){var t="keywordMessage@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r,o,i,l,c,d,f;if(l=a(dt),c=a(dt),s=u(),null!==s){if(d=a(dt),f=a(dt),o=R(),null!==o?(i=u(),null!==i?o=[o,i]:(o=null,dt=a(f))):(o=null,dt=a(f)),null!==o&&(o=function(e,t,n,s){return s}(d.offset,d.line,d.column,o[0])),null===o&&(dt=a(d)),null!==o)for(r=[];null!==o;)r.push(o),d=a(dt),f=a(dt),o=R(),null!==o?(i=u(),null!==i?o=[o,i]:(o=null,dt=a(f))):(o=null,dt=a(f)),null!==o&&(o=function(e,t,n,s){return s}(d.offset,d.line,d.column,o[0])),null===o&&(dt=a(d));else r=null;null!==r?s=[s,r]:(s=null,dt=a(c))}else s=null,dt=a(c);return null!==s&&(s=function(t,n,s,r){for(var a=[],o=[],i=0;i<r.length;i++)a.push(r[i].key),o.push(r[i].arg);return e.SendNode._new()._position_(n.__at(s))._selector_(a.join(""))._arguments_(o)}(l.offset,l.line,l.column,s[1])),null===s&&(dt=a(l)),gt[t]={nextPos:a(dt),result:s},s}function rt(){var e="keywordSend@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n,s,r,o;return r=a(dt),o=a(dt),n=nt(),null!==n?(s=st(),null!==s?n=[n,s]:(n=null,dt=a(o))):(n=null,dt=a(o)),null!==n&&(n=function(e,t,n,s,r){return r._valueForReceiver_(s)}(r.offset,r.line,r.column,n[0],n[1])),null===n&&(dt=a(r)),gt[e]={nextPos:a(dt),result:n},n}function at(){var e="message@"+dt.offset,t=gt[e];if(t)return dt=a(t.nextPos),t.result;var n;return n=et(),null===n&&(n=Y(),null===n&&(n=st())),gt[e]={nextPos:a(dt),result:n},n}function ot(){var t="cascade@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,d,f,h,m,g,p,_,C,v;if(p=a(dt),_=a(dt),r=u(),null!==r)if(l=rt(),null===l&&(l=nt()),null!==l){if(C=a(dt),v=a(dt),d=u(),null!==d?(59===s.charCodeAt(dt.offset)?(f=";",o(dt,1)):(f=null,0===ft&&i('";"')),null!==f?(h=u(),null!==h?(m=at(),null!==m?(g=u(),null!==g?d=[d,f,h,m,g]:(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v)),null!==d&&(d=function(e,t,n,s){return s}(C.offset,C.line,C.column,d[3])),null===d&&(dt=a(C)),null!==d)for(c=[];null!==d;)c.push(d),C=a(dt),v=a(dt),d=u(),null!==d?(59===s.charCodeAt(dt.offset)?(f=";",o(dt,1)):(f=null,0===ft&&i('";"')),null!==f?(h=u(),null!==h?(m=at(),null!==m?(g=u(),null!==g?d=[d,f,h,m,g]:(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v))):(d=null,dt=a(v)),null!==d&&(d=function(e,t,n,s){return s}(C.offset,C.line,C.column,d[3])),null===d&&(dt=a(C));else c=null;null!==c?r=[r,l,c]:(r=null,dt=a(_))}else r=null,dt=a(_);else r=null,dt=a(_);return null!==r&&(r=function(t,n,s,r,a){var o=[];o.push(r);for(var i=0;i<a.length;i++)o.push(a[i]);return e.CascadeNode._new()._position_(n.__at(s))._receiver_(r._receiver())._nodes_(o)}(p.offset,p.line,p.column,r[1],r[2])),null===r&&(dt=a(p)),gt[t]={nextPos:a(dt),result:r},r}function it(){var t="jsStatement@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var r,l,c,u,d,f;if(u=a(dt),d=a(dt),60===s.charCodeAt(dt.offset)?(r="<",o(dt,1)):(r=null,0===ft&&i('"<"')),null!==r){for(l=[],f=a(dt),">>"===s.substr(dt.offset,2)?(c=">>",o(dt,2)):(c=null,0===ft&&i('">>"')),null!==c&&(c=function(){return">"}(f.offset,f.line,f.column)),null===c&&(dt=a(f)),null===c&&(/^[^>]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[^>]")));null!==c;)l.push(c),f=a(dt),">>"===s.substr(dt.offset,2)?(c=">>",o(dt,2)):(c=null,0===ft&&i('">>"')),null!==c&&(c=function(){return">"}(f.offset,f.line,f.column)),null===c&&(dt=a(f)),null===c&&(/^[^>]/.test(s.charAt(dt.offset))?(c=s.charAt(dt.offset),o(dt,1)):(c=null,0===ft&&i("[^>]")));null!==l?(62===s.charCodeAt(dt.offset)?(c=">",o(dt,1)):(c=null,0===ft&&i('">"')),null!==c?r=[r,l,c]:(r=null,dt=a(d))):(r=null,dt=a(d))}else r=null,dt=a(d);return null!==r&&(r=function(t,n,s,r){return e.JSStatementNode._new()._position_(n.__at(s))._source_(r.join(""))}(u.offset,u.line,u.column,r[1])),null===r&&(dt=a(u)),gt[t]={nextPos:a(dt),result:r},r}function lt(){var t="method@"+dt.offset,n=gt[t];if(n)return dt=a(n.nextPos),n.result;var s,r,o,i,l,c,d;return c=a(dt),d=a(dt),s=u(),null!==s?(r=j(),null===r&&(r=D(),null===r&&(r=E())),null!==r?(o=u(),null!==o?(i=U(),i=null!==i?i:"",null!==i?(l=u(),null!==l?s=[s,r,o,i,l]:(s=null,dt=a(d))):(s=null,dt=a(d))):(s=null,dt=a(d))):(s=null,dt=a(d))):(s=null,dt=a(d)),null!==s&&(s=function(t,n,s,r,a){return e.MethodNode._new()._position_(n.__at(s))._selector_(r[0])._arguments_(r[1])._nodes_([a])}(c.offset,c.line,c.column,s[1],s[3])),null===s&&(dt=a(c)),gt[t]={nextPos:a(dt),result:s},s}function ct(e){e.sort();for(var t=null,n=[],s=0;s<e.length;s++)e[s]!==t&&(n.push(e[s]),t=e[s]);return n}var ut={separator:l,comments:c,ws:u,identifier:d,keyword:f,selector:h,className:m,string:g,symbol:p,bareSymbol:_,number:C,numberExp:v,hex:x,"float":y,integer:S,literalArray:b,bareLiteralArray:w,literalArrayRest:k,dynamicArray:I,dynamicDictionary:M,pseudoVariable:T,parseTimeLiteral:A,runtimeLiteral:N,literal:B,variable:P,keywordPair:R,binarySelector:O,keywordPattern:j,binaryPattern:D,unaryPattern:E,expression:q,expressionList:V,expressions:L,assignment:F,ret:z,temps:H,blockParamList:J,subexpression:W,statements:K,sequence:U,stSequence:Q,block:G,operand:$,unaryMessage:Y,unaryTail:Z,unarySend:X,binaryMessage:et,binaryTail:tt,binarySend:nt,keywordMessage:st,keywordSend:rt,message:at,cascade:ot,jsStatement:it,method:lt};if(void 0!==r){if(void 0===ut[r])throw new Error("Invalid rule name: "+n(r)+".")}else r="method";var dt={offset:0,line:1,column:1,seenCR:!1},ft=0,ht={offset:0,line:1,column:1,seenCR:!1},mt=[],gt={},pt=ut[r]();if(null===pt||dt.offset!==s.length){var _t=Math.max(dt.offset,ht.offset),Ct=_t<s.length?s.charAt(_t):null,vt=dt.offset>ht.offset?dt:ht;throw new this.SyntaxError(ct(mt),Ct,_t,vt.line,vt.column)}return pt},toSource:function(){return this._source}};return s.SyntaxError=function(e,t,s,r,a){function o(e,t){var s,r;switch(e.length){case 0:s="end of input";break;case 1:s=e[0];break;default:s=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return r=t?n(t):"end of input","Expected "+s+" but "+r+" found."}this.name="SyntaxError",this.expected=e,this.found=t,this.message=o(e,t),this.offset=s,this.line=r,this.column=a},s.SyntaxError.prototype=Error.prototype,s}()}),define("amber_core/IDE",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Canvas","amber_core/Kernel-Exceptions","amber_core/Kernel-Objects","amber_core/Kernel-Collections","amber_core/Kernel-Methods"],function(e,t,n){e.addPackage("IDE"),e.packages.IDE.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ClassesList",e.Widget,["browser","ul","nodes"],"IDE"),e.addMethod(e.method({selector:"browser",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@browser"]},function(n){n.fill(t,"browser",{},e.ClassesList)})},args:[],source:"browser\n	^ browser",messageSends:[],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"browser:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@browser"]=t,n},function(s){s.fill(n,"browser:",{aBrowser:t},e.ClassesList)})},args:["aBrowser"],source:"browser: aBrowser\n	browser := aBrowser",messageSends:[],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"category",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._browser())._selectedPackage()},function(n){n.fill(t,"category",{},e.ClassesList)})},args:[],source:"category\n	^ self browser selectedPackage",messageSends:["selectedPackage","browser"],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"getNodes",category:"accessing",fn:function(){function s(){return e.ClassesListNode||("undefined"==typeof ClassesListNode?t:ClassesListNode)}var r,a,o,i=this;return e.withContext(function(t){var l,c,u;return l=i._browser(),t.sendIdx.browser=1,r=n(l)._classes(),a=[],o=[],n(r)._do_(function(s){return e.withContext(function(t){return c=n(r)._includes_(n(s)._superclass()),e.assert(c)?n(o)._add_(s):n(a)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),u=n(a)._collect_(function(r){return e.withContext(function(){return n(s())._on_browser_classes_level_(r,i._browser(),o,0)},function(e){e.fillBlock({each:r},t,4)})})},function(t){t.fill(i,"getNodes",{classes:r,children:a,others:o},e.ClassesList)})},args:[],source:"getNodes\n	| classes children others |\n	classes := self browser classes.\n	children := #().\n	others := #().\n	classes do: [ :each |\n		(classes includes: each superclass)\n			ifFalse: [ children add: each ]\n			ifTrue: [ others add: each ]].\n	^ children collect: [ :each |\n		ClassesListNode on: each browser: self browser classes: others level: 0 ]",messageSends:["classes","browser","do:","ifFalse:ifTrue:","includes:","superclass","add:","collect:","on:browser:classes:level:"],referencedClasses:["ClassesListNode"]}),e.ClassesList),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@nodes"],(($receiver=e)==t||null==$receiver)&&(n["@nodes"]=n._getNodes(),n["@nodes"]),s=n["@nodes"]},function(t){t.fill(n,"nodes",{},e.ClassesList)})},args:[],source:"nodes\n	nodes ifNil: [ nodes := self getNodes ].\n	^ nodes",messageSends:["ifNil:","getNodes"],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){var e,r;return e=n(t)._ul(),n(e)._class_("amber_column browser classes"),r=n(e)._yourself(),s["@ul"]=r,s._updateNodes(),s},function(n){n.fill(s,"renderOn:",{html:t},e.ClassesList)})},args:["html"],source:"renderOn: html\n	ul := html ul\n		class: 'amber_column browser classes';\n		yourself.\n	self updateNodes",messageSends:["class:","ul","yourself","updateNodes"],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"resetNodes",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return n["@nodes"]=t,n},function(t){t.fill(n,"resetNodes",{},e.ClassesList)})},args:[],source:"resetNodes\n	nodes := nil",messageSends:[],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"updateNodes",category:"rendering",fn:function(){var t=this;return e.withContext(function(s){return n(t["@ul"])._contents_(function(r){return e.withContext(function(s){return n(t._nodes())._do_(function(t){return e.withContext(function(){return n(t)._renderOn_(r)},function(e){e.fillBlock({each:t},s,2)})})},function(e){e.fillBlock({html:r},s,1)})}),t},function(n){n.fill(t,"updateNodes",{},e.ClassesList)})},args:[],source:"updateNodes\n	ul contents: [ :html |\n		self nodes do: [ :each |\n			each renderOn: html ]]",messageSends:["contents:","do:","nodes","renderOn:"],referencedClasses:[]}),e.ClassesList),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._browser_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{aBrowser:t},e.ClassesList.klass)})},args:["aBrowser"],source:"on: aBrowser\n	^ self new\n		browser: aBrowser;\n		yourself",messageSends:["browser:","new","yourself"],referencedClasses:[]}),e.ClassesList.klass),e.addClass("ClassesListNode",e.Widget,["browser","theClass","level","nodes"],"IDE"),e.addMethod(e.method({selector:"browser",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@browser"]},function(n){n.fill(t,"browser",{},e.ClassesListNode)})},args:[],source:"browser\n	^ browser",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"browser:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@browser"]=t,n},function(s){s.fill(n,"browser:",{aBrowser:t},e.ClassesListNode)})},args:["aBrowser"],source:"browser: aBrowser\n	browser := aBrowser",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"getNodesFrom:",category:"accessing",fn:function(s){function r(){return e.ClassesListNode||("undefined"==typeof ClassesListNode?t:ClassesListNode)}var a,o,i=this;return e.withContext(function(t){var l;return a=[],o=[],n(s)._do_(function(s){return e.withContext(function(t){return l=n(n(s)._superclass()).__eq(i._theClass()),e.assert(l)?n(a)._add_(s):n(o)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),i["@nodes"]=n(a)._collect_(function(s){return e.withContext(function(){return n(r())._on_browser_classes_level_(s,i._browser(),o,n(i._level()).__plus(1))},function(e){e.fillBlock({each:s},t,4)})}),i},function(t){t.fill(i,"getNodesFrom:",{aCollection:s,children:a,others:o},e.ClassesListNode)})},args:["aCollection"],source:"getNodesFrom: aCollection\n	| children others |\n	children := #().\n	others := #().\n	aCollection do: [ :each |\n		(each superclass = self theClass)\n			ifTrue: [ children add: each ]\n			ifFalse: [ others add: each ]].\n	nodes:= children collect: [ :each |\n		ClassesListNode on: each browser: self browser classes: others level: self level + 1 ]",messageSends:["do:","ifTrue:ifFalse:","=","superclass","theClass","add:","collect:","on:browser:classes:level:","browser","+","level"],referencedClasses:["ClassesListNode"]}),e.ClassesListNode),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r,a=this;return e.withContext(function(t){var o;return r=n(n(s())._new())._writeStream(),n(a._level())._timesRepeat_(function(){return e.withContext(function(e){return n(r)._nextPutAll_("&nbsp;&nbsp;&nbsp;&nbsp;")},function(e){e.fillBlock({},t,1)})}),n(r)._nextPutAll_(n(a._theClass())._name()),o=n(r)._contents()},function(t){t.fill(a,"label",{str:r},e.ClassesListNode)})},args:[],source:"label\n	| str |\n	str := String new writeStream.\n	self level timesRepeat: [\n		str nextPutAll: '&nbsp;&nbsp;&nbsp;&nbsp;' ].\n	str nextPutAll: self theClass name.\n	^ str contents",messageSends:["writeStream","new","timesRepeat:","level","nextPutAll:","name","theClass","contents"],referencedClasses:["String"]}),e.ClassesListNode),e.addMethod(e.method({selector:"level",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@level"]},function(n){n.fill(t,"level",{},e.ClassesListNode)})},args:[],source:"level\n	^ level",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"level:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@level"]=t,n},function(s){s.fill(n,"level:",{anInteger:t},e.ClassesListNode)})},args:["anInteger"],source:"level: anInteger\n	level := anInteger",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"nodes",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@nodes"]},function(n){n.fill(t,"nodes",{},e.ClassesListNode)})},args:[],source:"nodes\n	^ nodes",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s,r,a=this;return e.withContext(function(o){var i,l,c,u,d,f;return r="",s=n(n(t)._li())._onClick_(function(){return e.withContext(function(e){return i=a._browser(),e.sendIdx.browser=1,l=a._theClass(),e.sendIdx.theClass=1,n(i)._selectClass_(l)},function(e){e.fillBlock({},o,1)})}),n(n(s)._asJQuery())._html_(a._label()),c=n(a._browser())._selectedClass(),u=a._theClass(),o.sendIdx.theClass=2,d=n(c).__eq(u),e.assert(d)&&(r=n(r).__comma(" selected"),o.sendIdx[","]=1),f=n(n(a._theClass())._comment())._isEmpty(),e.assert(f)||(r=n(r).__comma(" commented")),n(s)._class_(r),n(a._nodes())._do_(function(s){return e.withContext(function(){return n(s)._renderOn_(t)},function(e){e.fillBlock({each:s},o,4)})}),a},function(n){n.fill(a,"renderOn:",{html:t,li:s,cssClass:r},e.ClassesListNode)})},args:["html"],source:"renderOn: html\n	| li cssClass |\n	cssClass := ''.\n	li := html li\n		onClick: [ self browser selectClass: self theClass ].\n	li asJQuery html: self label.\n\n	self browser selectedClass = self theClass ifTrue: [\n		cssClass := cssClass, ' selected' ].\n\n	self theClass comment isEmpty ifFalse: [\n		cssClass := cssClass, ' commented' ].\n\n	li class: cssClass.\n\n	self nodes do: [ :each |\n		each renderOn: html ]",messageSends:["onClick:","li","selectClass:","browser","theClass","html:","asJQuery","label","ifTrue:","=","selectedClass",",","ifFalse:","isEmpty","comment","class:","do:","nodes","renderOn:"],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"theClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@theClass"]},function(n){n.fill(t,"theClass",{},e.ClassesListNode)})},args:[],source:"theClass\n	^ theClass",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"theClass:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@theClass"]=t,n},function(s){s.fill(n,"theClass:",{aClass:t},e.ClassesListNode)})},args:["aClass"],source:"theClass: aClass\n	theClass := aClass",messageSends:[],referencedClasses:[]}),e.ClassesListNode),e.addMethod(e.method({selector:"on:browser:classes:level:",category:"instance creation",fn:function(t,s,r,a){var o=this;return e.withContext(function(){var e,i,l;return e=o._new(),n(e)._theClass_(t),n(e)._browser_(s),n(e)._level_(a),n(e)._getNodesFrom_(r),i=n(e)._yourself(),l=i},function(n){n.fill(o,"on:browser:classes:level:",{aClass:t,aBrowser:s,aCollection:r,anInteger:a},e.ClassesListNode.klass)})},args:["aClass","aBrowser","aCollection","anInteger"],source:"on: aClass browser: aBrowser classes: aCollection level: anInteger\n	^ self new\n		theClass: aClass;\n		browser: aBrowser;\n		level: anInteger;\n		getNodesFrom: aCollection;\n		yourself",messageSends:["theClass:","new","browser:","level:","getNodesFrom:","yourself"],referencedClasses:[]}),e.ClassesListNode.klass),e.addClass("DebugErrorHandler",e.ErrorHandler,[],"IDE"),e.addMethod(e.method({selector:"handleError:",category:"error handling",fn:function(s){function r(){return e.Debugger||("undefined"==typeof Debugger?t:Debugger)}function a(){return e.Error||("undefined"==typeof Error?t:Error)}function o(){return e.ErrorHandler||("undefined"==typeof ErrorHandler?t:ErrorHandler)}var i=this;return e.withContext(function(t){var l,c;return n(function(){return e.withContext(function(e){return l=n(r())._new(),e.sendIdx["new"]=1,n(l)._error_(s),c=n(l)._open()},function(e){e.fillBlock({},t,1)})})._on_do_(a(),function(s){return e.withContext(function(){return n(n(o())._new())._handleError_(s)},function(e){e.fillBlock({error:s},t,2)})}),i},function(t){t.fill(i,"handleError:",{anError:s},e.DebugErrorHandler)})},args:["anError"],source:"handleError: anError\n	[ Debugger new\n		error: anError;\n		open ] on: Error do: [ :error |\n			ErrorHandler new handleError: error ]",messageSends:["on:do:","error:","new","open","handleError:"],referencedClasses:["Debugger","Error","ErrorHandler"]}),e.DebugErrorHandler),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return t._register(),t},function(n){n.fill(t,"initialize",{},e.DebugErrorHandler.klass)})},args:[],source:"initialize\n	self register",messageSends:["register"],referencedClasses:[]}),e.DebugErrorHandler.klass),e.addClass("SourceArea",e.Widget,["editor","div","receiver","onDoIt"],"IDE"),e.addMethod(e.method({selector:"clear",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._val_(""),t},function(n){n.fill(t,"clear",{},e.SourceArea)})},args:[],source:"clear\n	self val: ''",messageSends:["val:"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"currentLine",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@editor"])._getLine_(n(n(t["@editor"])._getCursor())._line())},function(n){n.fill(t,"currentLine",{},e.SourceArea)})},args:[],source:"currentLine\n	^ editor getLine: (editor getCursor line)",messageSends:["getLine:","line","getCursor"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"currentLineOrSelection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=n(t["@editor"])._somethingSelected(),r=e.assert(s)?t._selection():t._currentLine()},function(n){n.fill(t,"currentLineOrSelection",{},e.SourceArea)})},args:[],source:"currentLineOrSelection\n	^ editor somethingSelected\n	ifFalse: [ self currentLine ]\n	ifTrue: [ self selection ]",messageSends:["ifFalse:ifTrue:","somethingSelected","currentLine","selection"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"doIt",category:"actions",fn:function(){var s,r=this;return e.withContext(function(e){var a,o;return s=r._eval_(r._currentLineOrSelection()),a=r._onDoIt(),e.sendIdx.onDoIt=1,($receiver=a)==t||null==$receiver||n(r._onDoIt())._value(),o=s},function(t){t.fill(r,"doIt",{result:s},e.SourceArea)})},args:[],source:"doIt\n	| result |\n	result := self eval: self currentLineOrSelection.\n	self onDoIt ifNotNil: [ self onDoIt value ].\n	^ result",messageSends:["eval:","currentLineOrSelection","ifNotNil:","onDoIt","value"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"editor",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@editor"]},function(n){n.fill(t,"editor",{},e.SourceArea)})},args:[],source:"editor\n	^ editor",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"eval:",category:"actions",fn:function(s){function r(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}function a(){return e.Error||("undefined"==typeof Error?t:Error)}var o,i=this;return e.withContext(function(t){var l,c,u={};try{return o=n(r())._new(),n(function(){return e.withContext(function(){return n(o)._parseExpression_(s)},function(e){e.fillBlock({},t,1)})})._on_do_(a(),function(s){return e.withContext(function(){throw l=i._alert_(n(s)._messageText()),u=[l]},function(e){e.fillBlock({ex:s},t,2)})}),c=n(o)._evaluateExpression_on_(s,i._receiver())}catch(d){if(d===u)return d[0];throw d}},function(t){t.fill(i,"eval:",{aString:s,compiler:o},e.SourceArea)})},args:["aString"],source:"eval: aString\n	| compiler |\n	compiler := Compiler new.\n	[ compiler parseExpression: aString ] on: Error do: [ :ex |\n		^ self alert: ex messageText ].\n	^ compiler evaluateExpression: aString on: self receiver",messageSends:["new","on:do:","parseExpression:","alert:","messageText","evaluateExpression:on:","receiver"],referencedClasses:["Compiler","Error"]}),e.SourceArea),e.addMethod(e.method({selector:"fileIn",category:"actions",fn:function(){function s(){return e.Importer||("undefined"==typeof Importer?t:Importer)}var r=this;return e.withContext(function(){return n(n(s())._new())._import_(n(r._currentLineOrSelection())._readStream()),r},function(t){t.fill(r,"fileIn",{},e.SourceArea)})},args:[],source:"fileIn\n	Importer new import: self currentLineOrSelection readStream",messageSends:["import:","new","readStream","currentLineOrSelection"],referencedClasses:["Importer"]}),e.SourceArea),e.addMethod(e.method({selector:"focus",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t._editor())._focus(),t},function(n){n.fill(t,"focus",{},e.SourceArea)})},args:[],source:"focus\n	self editor focus.",messageSends:["focus","editor"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"handleKeyDown:",category:"actions",fn:function(t){var n=this;return e.withContext(function(){if(t.ctrlKey){if(80===t.keyCode)return n._printIt(),t.preventDefault(),!1;if(68===t.keyCode)return n._doIt(),t.preventDefault(),!1;if(73===t.keyCode)return n._inspectIt(),t.preventDefault(),!1}return n},function(s){s.fill(n,"handleKeyDown:",{anEvent:t},e.SourceArea)})},args:["anEvent"],source:"handleKeyDown: anEvent\n	<if(anEvent.ctrlKey) {\n		if(anEvent.keyCode === 80) { //ctrl+p\n			self._printIt();\n			anEvent.preventDefault();\n			return false;\n		}\n		if(anEvent.keyCode === 68) { //ctrl+d\n			self._doIt();\n			anEvent.preventDefault();\n			return false;\n		}\n		if(anEvent.keyCode === 73) { //ctrl+i\n			self._inspectIt();\n			anEvent.preventDefault();\n			return false;\n		}\n	}>",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"inspectIt",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t._doIt())._inspect(),t},function(n){n.fill(t,"inspectIt",{},e.SourceArea)})},args:[],source:"inspectIt\n	self doIt inspect",messageSends:["inspect","doIt"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"onDoIt",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@onDoIt"]},function(n){n.fill(t,"onDoIt",{},e.SourceArea)})},args:[],source:"onDoIt\n	^ onDoIt",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"onDoIt:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@onDoIt"]=t,n},function(s){s.fill(n,"onDoIt:",{aBlock:t},e.SourceArea)})},args:["aBlock"],source:"onDoIt: aBlock\n	onDoIt := aBlock",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"onKeyDown:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s["@div"])._onKeyDown_(t),s},function(n){n.fill(s,"onKeyDown:",{aBlock:t},e.SourceArea)})},args:["aBlock"],source:"onKeyDown: aBlock\n	div onKeyDown: aBlock",messageSends:["onKeyDown:"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"onKeyUp:",category:"events",fn:function(t){var s=this;return e.withContext(function(){return n(s["@div"])._onKeyUp_(t),s},function(n){n.fill(s,"onKeyUp:",{aBlock:t},e.SourceArea)})},args:["aBlock"],source:"onKeyUp: aBlock\n	div onKeyUp: aBlock",messageSends:["onKeyUp:"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"print:",category:"actions",fn:function(s){function r(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var a,o,i,l=this;return e.withContext(function(t){var c,u,d,f,h,m,g,p,_,C,v,x,y,S,b;return c=n(l["@editor"])._getCursor_(!1),t.sendIdx["getCursor:"]=1,i=n(c)._line(),a=n(r())._new(),t.sendIdx["new"]=1,n(a)._at_put_("line",i),t.sendIdx["at:put:"]=1,u=a,d=n(l["@editor"])._getCursor_(!1),t.sendIdx["getCursor:"]=2,f=n(d)._ch(),n(u)._at_put_("ch",f),t.sendIdx["at:put:"]=2,h=n(l["@editor"])._getSelection(),t.sendIdx.getSelection=1,n(h)._ifEmpty_(function(){return e.withContext(function(t){return m=a,g=n(n(l["@editor"])._getLine_(i))._size(),t.sendIdx.size=1,n(m)._at_put_("ch",g),t.sendIdx["at:put:"]=3,p=l["@editor"],_="line".__minus_gt(i),t.sendIdx["->"]=1,C=e.HashedCollection._from_([_,"ch".__minus_gt(0)]),n(p)._setSelection_end_(C,a)},function(e){e.fillBlock({},t,1)})}),o=n(r())._new(),n(o)._at_put_("line",i),t.sendIdx["at:put:"]=4,v=o,x=n(n(n(a)._at_("ch")).__plus(n(s)._size())).__plus(2),t.sendIdx["+"]=1,n(v)._at_put_("ch",x),y=l["@editor"],S=n(n(n(l["@editor"])._getSelection()).__comma(" ")).__comma(s),t.sendIdx[","]=2,b=n(S).__comma(" "),t.sendIdx[","]=1,n(y)._replaceSelection_(b),n(l["@editor"])._setCursor_(n(l["@editor"])._getCursor_(!0)),n(l["@editor"])._setSelection_end_(o,a),l},function(t){t.fill(l,"print:",{aString:s,start:a,stop:o,currentLine:i},e.SourceArea)})},args:["aString"],source:"print: aString\n	| start stop currentLine |\n	currentLine := (editor getCursor: false) line.\n	start := HashedCollection new.\n	start at: 'line' put: currentLine.\n	start at: 'ch' put: (editor getCursor: false) ch.\n	(editor getSelection) ifEmpty: [\n		\"select current line if selection is empty\"\n		start at: 'ch' put: (editor getLine: currentLine) size.\n		editor setSelection: #{'line' -> currentLine. 'ch' -> 0} end: start.\n	].\n	stop := HashedCollection new.\n	stop at: 'line' put: currentLine.\n	stop at: 'ch' put: ((start at: 'ch') + aString size + 2).\n\n	editor replaceSelection: (editor getSelection, ' ', aString, ' ').\n	editor setCursor: (editor getCursor: true).\n	editor setSelection: stop end: start",messageSends:["line","getCursor:","new","at:put:","ch","ifEmpty:","getSelection","size","getLine:","setSelection:end:","->","+","at:","replaceSelection:",",","setCursor:"],referencedClasses:["HashedCollection"]}),e.SourceArea),e.addMethod(e.method({selector:"printIt",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._print_(n(t._doIt())._printString()),t._focus(),t},function(n){n.fill(t,"printIt",{},e.SourceArea)})},args:[],source:"printIt\n	self print: self doIt printString.\n	self focus.",messageSends:["print:","printString","doIt","focus"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){function s(){return e.DoIt||("undefined"==typeof DoIt?t:DoIt)}var r=this;return e.withContext(function(){var e,a;return e=r["@receiver"],a=($receiver=e)==t||null==$receiver?n(s())._new():e},function(t){t.fill(r,"receiver",{},e.SourceArea)
})},args:[],source:"receiver\n	^ receiver ifNil: [ DoIt new ]",messageSends:["ifNil:","new"],referencedClasses:["DoIt"]}),e.SourceArea),e.addMethod(e.method({selector:"receiver:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@receiver"]=t,n},function(s){s.fill(n,"receiver:",{anObject:t},e.SourceArea)})},args:["anObject"],source:"receiver: anObject\n	receiver := anObject",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s,r=this;return e.withContext(function(a){return r["@div"]=n(n(t)._div())._class_("source"),n(r["@div"])._with_(function(){return e.withContext(function(){return s=n(t)._textarea()},function(e){e.fillBlock({},a,1)})}),r._setEditorOn_(n(s)._element()),n(r["@div"])._onKeyDown_(function(t){return e.withContext(function(){return r._handleKeyDown_(t)},function(e){e.fillBlock({e:t},a,2)})}),r},function(n){n.fill(r,"renderOn:",{html:t,textarea:s},e.SourceArea)})},args:["html"],source:"renderOn: html\n	| textarea |\n	div := html div class: 'source'.\n	div with: [ textarea := html textarea ].\n	self setEditorOn: textarea element.\n	div onKeyDown: [ :e | self handleKeyDown: e ]",messageSends:["class:","div","with:","textarea","setEditorOn:","element","onKeyDown:","handleKeyDown:"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"selection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@editor"])._getSelection()},function(n){n.fill(t,"selection",{},e.SourceArea)})},args:[],source:"selection\n	^ editor getSelection",messageSends:["getSelection"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"setEditorOn:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@editor"]=CodeMirror.fromTextArea(t,{theme:"amber",lineNumbers:!0,enterMode:"flat",indentWithTabs:!0,indentUnit:4,matchBrackets:!0,electricChars:!1}),n},function(s){s.fill(n,"setEditorOn:",{aTextarea:t},e.SourceArea)})},args:["aTextarea"],source:"setEditorOn: aTextarea\n	<self['@editor'] = CodeMirror.fromTextArea(aTextarea, {\n		theme: 'amber',\n				lineNumbers: true,\n				enterMode: 'flat',\n				indentWithTabs: true,\n				indentUnit: 4,\n				matchBrackets: true,\n				electricChars: false\n	})>",messageSends:[],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"val",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@editor"])._getValue()},function(n){n.fill(t,"val",{},e.SourceArea)})},args:[],source:"val\n	^ editor getValue",messageSends:["getValue"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"val:",category:"accessing",fn:function(t){var s=this;return e.withContext(function(){return n(s["@editor"])._setValue_(t),s},function(n){n.fill(s,"val:",{aString:t},e.SourceArea)})},args:["aString"],source:"val: aString\n	editor setValue: aString",messageSends:["setValue:"],referencedClasses:[]}),e.SourceArea),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.SourceArea.klass.superclass.fn.prototype._initialize.apply(n(t),[]),t._setupCodeMirror(),t},function(n){n.fill(t,"initialize",{},e.SourceArea.klass)})},args:[],source:"initialize\n	super initialize.\n	self setupCodeMirror",messageSends:["initialize","setupCodeMirror"],referencedClasses:[]}),e.SourceArea.klass),e.addMethod(e.method({selector:"setupCodeMirror",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return CodeMirror.keyMap["default"].fallthrough=["basic"],t},function(n){n.fill(t,"setupCodeMirror",{},e.SourceArea.klass)})},args:[],source:'setupCodeMirror\n	< CodeMirror.keyMap["default"].fallthrough = ["basic"] >',messageSends:[],referencedClasses:[]}),e.SourceArea.klass),e.addClass("TabManager",e.Widget,["selectedTab","tabs","opened","ul","input"],"IDE"),e.addMethod(e.method({selector:"addTab:",category:"adding/Removing",fn:function(t){var s=this;return e.withContext(function(){return n(s._tabs())._add_(t),n(t)._appendToJQuery_("#amber"._asJQuery()),n(t)._hide(),s},function(n){n.fill(s,"addTab:",{aWidget:t},e.TabManager)})},args:["aWidget"],source:"addTab: aWidget\n	self tabs add: aWidget.\n	aWidget appendToJQuery: '#amber' asJQuery.\n	aWidget hide",messageSends:["add:","tabs","appendToJQuery:","asJQuery","hide"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"close",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=t["@opened"],e.assert(r)&&(a="#amber"._asJQuery(),s.sendIdx.asJQuery=1,n(a)._hide(),s.sendIdx.hide=1,o=n(t["@ul"])._asJQuery(),s.sendIdx.asJQuery=2,n(o)._hide(),s.sendIdx.hide=2,n(t["@selectedTab"])._hide(),t._removeBodyMargin(),n("body"._asJQuery())._removeClass_("amberBody"),t["@opened"]=!1,t["@opened"]),t},function(n){n.fill(t,"close",{},e.TabManager)})},args:[],source:"close\n	opened ifTrue: [\n	'#amber' asJQuery hide.\n	ul asJQuery hide.\n	selectedTab hide.\n	self removeBodyMargin.\n	'body' asJQuery removeClass: 'amberBody'.\n	opened := false ]",messageSends:["ifTrue:","hide","asJQuery","removeBodyMargin","removeClass:"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"closeTab:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return s._removeTab_(t),s._selectTab_(n(s._tabs())._last()),n(t)._remove(),s._update(),s},function(n){n.fill(s,"closeTab:",{aWidget:t},e.TabManager)})},args:["aWidget"],source:"closeTab: aWidget\n	self removeTab: aWidget.\n	self selectTab: self tabs last.\n	aWidget remove.\n	self update",messageSends:["removeTab:","selectTab:","last","tabs","remove","update"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.InspectorHandler||("undefined"==typeof InspectorHandler?t:InspectorHandler)}function r(){return e.Inspector||("undefined"==typeof Inspector?t:Inspector)}function a(){return e.IDETranscript||("undefined"==typeof IDETranscript?t:IDETranscript)}function o(){return e.Workspace||("undefined"==typeof Workspace?t:Workspace)}function i(){return e.TestRunner||("undefined"==typeof TestRunner?t:TestRunner)}var l=this;return e.withContext(function(t){var c,u,d,f,h,m,g;return e.TabManager.superclass.fn.prototype._initialize.apply(n(l),[]),n(s())._register_(r()),l["@opened"]=!0,c=function(s){return e.withContext(function(){return n(n(s)._div())._id_("amber")},function(e){e.fillBlock({html:s},t,1)})},u="body"._asJQuery(),t.sendIdx.asJQuery=1,n(c)._appendToJQuery_(u),t.sendIdx["appendToJQuery:"]=1,d="body"._asJQuery(),t.sendIdx.asJQuery=2,n(d)._addClass_("amberBody"),l._appendToJQuery_("#amber"._asJQuery()),l._addTab_(n(a())._current()),t.sendIdx["addTab:"]=1,f=n(o())._new(),t.sendIdx["new"]=1,l._addTab_(f),t.sendIdx["addTab:"]=2,h=l._addTab_(n(i())._new()),l._selectTab_(n(l._tabs())._last()),l._onResize_(function(){return e.withContext(function(e){return l._updateBodyMargin(),m=l._updatePosition(),e.sendIdx.updatePosition=1,m},function(e){e.fillBlock({},t,2)})}),g=l._onWindowResize_(function(){return e.withContext(function(){return l._updatePosition()},function(e){e.fillBlock({},t,3)})}),l},function(t){t.fill(l,"initialize",{},e.TabManager)})},args:[],source:"initialize\n	super initialize.\n	InspectorHandler register: Inspector.\n	opened := true.\n	[ :html | html div id: 'amber' ] appendToJQuery: 'body' asJQuery.\n	'body' asJQuery\n	addClass: 'amberBody'.\n	self appendToJQuery: '#amber' asJQuery.\n	self\n	addTab: IDETranscript current;\n	addTab: Workspace new;\n	addTab: TestRunner new.\n	self selectTab: self tabs last.\n	self\n	onResize: [ self updateBodyMargin; updatePosition ];\n	onWindowResize: [ self updatePosition ]",messageSends:["initialize","register:","appendToJQuery:","id:","div","asJQuery","addClass:","addTab:","current","new","selectTab:","last","tabs","onResize:","updateBodyMargin","updatePosition","onWindowResize:"],referencedClasses:["InspectorHandler","Inspector","IDETranscript","Workspace","TestRunner"]}),e.TabManager),e.addMethod(e.method({selector:"labelFor:",category:"accessing",fn:function(t){var s,r,a=this;return e.withContext(function(a){var o,i,l,c,u,d;return r=15,o=n(t)._label(),a.sendIdx.label=1,i=n(t)._label(),a.sendIdx.label=2,l=n(i)._size(),a.sendIdx.size=1,c=n(l)._min_(r),s=n(o)._copyFrom_to_(0,c),u=n(n(n(t)._label())._size()).__gt(r),e.assert(u)&&(s=n(s).__comma("...")),d=s},function(n){n.fill(a,"labelFor:",{aWidget:t,label:s,maxSize:r},e.TabManager)})},args:["aWidget"],source:"labelFor: aWidget\n	| label maxSize |\n	maxSize := 15.\n	label := aWidget label copyFrom: 0 to: (aWidget label size min: maxSize).\n	aWidget label size > maxSize ifTrue: [\n		label := label, '...' ].\n	^ label",messageSends:["copyFrom:to:","label","min:","size","ifTrue:",">",","],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"newBrowserTab",category:"actions",fn:function(){function s(){return e.Browser||("undefined"==typeof Browser?t:Browser)}var r=this;return e.withContext(function(){return n(s())._open(),r},function(t){t.fill(r,"newBrowserTab",{},e.TabManager)})},args:[],source:"newBrowserTab\n	Browser open",messageSends:["open"],referencedClasses:["Browser"]}),e.TabManager),e.addMethod(e.method({selector:"onResize:",category:"actions",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return a="#amber"._asJQuery(),o="handles".__minus_gt("n"),r.sendIdx["->"]=1,i="resize".__minus_gt(t),r.sendIdx["->"]=2,l=e.HashedCollection._from_([o,i,"minHeight".__minus_gt(230)]),n(a)._resizable_(l),s},function(n){n.fill(s,"onResize:",{aBlock:t},e.TabManager)})},args:["aBlock"],source:"onResize: aBlock\n	'#amber' asJQuery resizable: #{\n		'handles' -> 'n'.\n		'resize' -> aBlock.\n		'minHeight' -> 230\n	}",messageSends:["resizable:","asJQuery","->"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"onWindowResize:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return n(n(window)._asJQuery())._resize_(t),s},function(n){n.fill(s,"onWindowResize:",{aBlock:t},e.TabManager)})},args:["aBlock"],source:"onWindowResize: aBlock\n	window asJQuery resize: aBlock",messageSends:["resize:","asJQuery"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"open",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=t["@opened"],e.assert(r)||(a="body"._asJQuery(),s.sendIdx.asJQuery=1,n(a)._addClass_("amberBody"),o="#amber"._asJQuery(),s.sendIdx.asJQuery=2,n(o)._show(),s.sendIdx.show=1,n(n(t["@ul"])._asJQuery())._show(),s.sendIdx.show=2,t._updateBodyMargin(),n(t["@selectedTab"])._show(),t["@opened"]=!0,t["@opened"]),t},function(n){n.fill(t,"open",{},e.TabManager)})},args:[],source:"open\n	opened ifFalse: [\n	'body' asJQuery addClass: 'amberBody'.\n	'#amber' asJQuery show.\n	ul asJQuery show.\n	self updateBodyMargin.\n	selectedTab show.\n	opened := true ]",messageSends:["ifFalse:","addClass:","asJQuery","show","updateBodyMargin"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"removeBodyMargin",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._setBodyMargin_(0),t},function(n){n.fill(t,"removeBodyMargin",{},e.TabManager)})},args:[],source:"removeBodyMargin\n	self setBodyMargin: 0",messageSends:["setBodyMargin:"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"removeTab:",category:"adding/Removing",fn:function(t){var s=this;return e.withContext(function(){return n(s._tabs())._remove_(t),s._update(),s},function(n){n.fill(s,"removeTab:",{aWidget:t},e.TabManager)})},args:["aWidget"],source:"removeTab: aWidget\n	self tabs remove: aWidget.\n	self update",messageSends:["remove:","tabs","update"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(e){var r,a;return n(n(t)._div())._id_("logo"),e.sendIdx["id:"]=1,s._renderToolbarOn_(t),r=n(t)._ul(),n(r)._id_("amberTabs"),a=n(r)._yourself(),s["@ul"]=a,s._renderTabs(),s},function(n){n.fill(s,"renderOn:",{html:t},e.TabManager)})},args:["html"],source:"renderOn: html\n	html div id: 'logo'.\n	self renderToolbarOn: html.\n	ul := html ul\n		id: 'amberTabs';\n		yourself.\n	self renderTabs",messageSends:["id:","div","renderToolbarOn:","ul","yourself","renderTabs"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"renderTabFor:on:",category:"rendering",fn:function(t,s){var r,a=this;return e.withContext(function(o){var i,l,c,u,d,f,h,m,g,p;return r=n(s)._li(),i=n(a["@selectedTab"]).__eq(t),e.assert(i)&&(n(r)._class_("selected"),o.sendIdx["class:"]=1),l=r,n(l)._with_(function(){return e.withContext(function(r){return c=n(s)._span(),r.sendIdx.span=1,n(c)._class_("ltab"),r.sendIdx["class:"]=2,u=n(s)._span(),r.sendIdx.span=2,n(u)._class_("mtab"),r.sendIdx["class:"]=3,g=n(u)._with_(function(){return e.withContext(function(r){return d=n(t)._canBeClosed(),e.assert(d)&&(f=n(s)._span(),r.sendIdx.span=3,n(f)._class_("close"),r.sendIdx["class:"]=4,n(f)._with_("x"),r.sendIdx["with:"]=3,h=n(f)._onClick_(function(){return e.withContext(function(){return a._closeTab_(t)},function(e){e.fillBlock({},r,5)})}),r.sendIdx["onClick:"]=1),m=n(s)._span(),r.sendIdx.span=4,n(m)._with_(a._labelFor_(t))},function(e){e.fillBlock({},r,3)})}),r.sendIdx["with:"]=2,n(n(s)._span())._class_("rtab")},function(e){e.fillBlock({},o,2)})}),o.sendIdx["with:"]=1,p=n(l)._onClick_(function(){return e.withContext(function(){return a._selectTab_(t)},function(e){e.fillBlock({},o,6)})}),a},function(n){n.fill(a,"renderTabFor:on:",{aWidget:t,html:s,li:r},e.TabManager)})},args:["aWidget","html"],source:"renderTabFor: aWidget on: html\n	| li |\n	li := html li.\n	selectedTab = aWidget ifTrue: [\n	li class: 'selected' ].\n	li with: [\n		html span class: 'ltab'.\n		html span\n			class: 'mtab';\n			with: [\n				aWidget canBeClosed ifTrue: [\n					html span\n						class: 'close';\n						with: 'x';\n					onClick: [ self closeTab: aWidget ]].\n			html span with: (self labelFor: aWidget) ].\n		html span class: 'rtab' ];\n	onClick: [ self selectTab: aWidget ]",messageSends:["li","ifTrue:","=","class:","with:","span","canBeClosed","onClick:","closeTab:","labelFor:","selectTab:"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"renderTabs",category:"rendering",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l;return n(t["@ul"])._contents_(function(c){return e.withContext(function(s){return n(t._tabs())._do_(function(n){return e.withContext(function(){return t._renderTabFor_on_(n,c)},function(e){e.fillBlock({each:n},s,2)})}),r=n(c)._li(),n(r)._class_("newtab"),s.sendIdx["class:"]=1,n(r)._with_(function(){return e.withContext(function(e){return a=n(c)._span(),e.sendIdx.span=1,n(a)._class_("ltab"),e.sendIdx["class:"]=2,o=n(c)._span(),e.sendIdx.span=2,n(o)._class_("mtab"),e.sendIdx["class:"]=3,i=n(o)._with_(" + "),n(n(c)._span())._class_("rtab")},function(e){e.fillBlock({},s,3)})}),s.sendIdx["with:"]=1,l=n(r)._onClick_(function(){return e.withContext(function(){return t._newBrowserTab()},function(e){e.fillBlock({},s,4)})})},function(e){e.fillBlock({html:c},s,1)})}),t},function(n){n.fill(t,"renderTabs",{},e.TabManager)})},args:[],source:"renderTabs\n	ul contents: [ :html |\n		self tabs do: [ :each |\n		self renderTabFor: each on: html ].\n		html li\n		class: 'newtab';\n		with: [\n			html span class: 'ltab'.\n			html span class: 'mtab'; with: ' + '.\n			html span class: 'rtab' ];\n		onClick: [ self newBrowserTab ]]",messageSends:["contents:","do:","tabs","renderTabFor:on:","class:","li","with:","span","onClick:","newBrowserTab"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"renderToolbarOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d;return a=n(t)._div(),r.sendIdx.div=1,n(a)._id_("amber_toolbar"),r.sendIdx["id:"]=1,d=n(a)._with_(function(){return e.withContext(function(r){return o=n(t)._input(),n(o)._class_("implementors"),i=n(o)._yourself(),s["@input"]=i,s["@input"],n(s["@input"])._onKeyPress_(function(t){return e.withContext(function(){return l=n(n(t)._keyCode()).__eq(13),e.assert(l)?s._search_(n(n(s["@input"])._asJQuery())._val()):void 0},function(e){e.fillBlock({event:t},r,2)})}),c=n(t)._div(),n(c)._id_("amber_close"),u=n(c)._onClick_(function(){return e.withContext(function(){return s._close()},function(e){e.fillBlock({},r,4)})})},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"renderToolbarOn:",{html:t},e.TabManager)})},args:["html"],source:"renderToolbarOn: html\n	html div\n		id: 'amber_toolbar';\n		with: [\n			input := html input\n				class: 'implementors';\n				yourself.\n			input onKeyPress: [ :event |\n				event keyCode = 13 ifTrue: [\n				self search: input asJQuery val ]].\n			html div id: 'amber_close'; onClick: [ self close ]]",messageSends:["id:","div","with:","class:","input","yourself","onKeyPress:","ifTrue:","=","keyCode","search:","val","asJQuery","onClick:","close"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"search:",category:"actions",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function a(){return e.Browser||("undefined"==typeof Browser?t:Browser)}function o(){return e.ReferencesBrowser||("undefined"==typeof ReferencesBrowser?t:ReferencesBrowser)}var i,l=this;return e.withContext(function(){var t;return i=n(n(r())._current())._at_(s),t=n(i)._isClass(),e.assert(t)?n(a())._openOn_(i):n(o())._search_(s),l},function(t){t.fill(l,"search:",{aString:s,searchedClass:i},e.TabManager)})},args:["aString"],source:"search: aString\n	| searchedClass |\n	searchedClass := Smalltalk current at: aString.\n		searchedClass isClass\n			ifTrue: [ Browser openOn: searchedClass ]\n			ifFalse: [ ReferencesBrowser search: aString ]",messageSends:["at:","current","ifTrue:ifFalse:","isClass","openOn:","search:"],referencedClasses:["Smalltalk","Browser","ReferencesBrowser"]}),e.TabManager),e.addMethod(e.method({selector:"selectTab:",category:"actions",fn:function(t){var s=this;return e.withContext(function(r){return s._open(),s["@selectedTab"]=t,n(s._tabs())._do_(function(t){return e.withContext(function(){return n(t)._hide()},function(e){e.fillBlock({each:t},r,1)})}),n(t)._show(),s._update(),s},function(n){n.fill(s,"selectTab:",{aWidget:t},e.TabManager)})},args:["aWidget"],source:"selectTab: aWidget\n	self open.\n	selectedTab := aWidget.\n	self tabs do: [ :each |\n	each hide ].\n	aWidget show.\n	\n	self update",messageSends:["open","do:","tabs","hide","show","update"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"setBodyMargin:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return n(".amberBody"._asJQuery())._css_put_("margin-bottom",n(n(t)._asString()).__comma("px")),s},function(n){n.fill(s,"setBodyMargin:",{anInteger:t},e.TabManager)})},args:["anInteger"],source:"setBodyMargin: anInteger\n	'.amberBody' asJQuery css: 'margin-bottom' put: anInteger asString, 'px'",messageSends:["css:put:","asJQuery",",","asString"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"tabs",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@tabs"],($receiver=e)==t||null==$receiver?(r["@tabs"]=n(s())._new(),a=r["@tabs"]):a=e,a},function(t){t.fill(r,"tabs",{},e.TabManager)})},args:[],source:"tabs\n	^ tabs ifNil: [ tabs := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.TabManager),e.addMethod(e.method({selector:"update",category:"updating",fn:function(){var t=this;return e.withContext(function(){return t._renderTabs(),t},function(n){n.fill(t,"update",{},e.TabManager)})},args:[],source:"update\n	self renderTabs",messageSends:["renderTabs"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"updateBodyMargin",category:"actions",fn:function(){var t=this;return e.withContext(function(){return t._setBodyMargin_(n("#amber"._asJQuery())._height()),t},function(n){n.fill(t,"updateBodyMargin",{},e.TabManager)})},args:[],source:"updateBodyMargin\n	self setBodyMargin: '#amber' asJQuery height",messageSends:["setBodyMargin:","height","asJQuery"],referencedClasses:[]}),e.TabManager),e.addMethod(e.method({selector:"updatePosition",category:"actions",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s="#amber"._asJQuery(),n(s)._css_put_("top",""),e.sendIdx["css:put:"]=1,r=n(s)._css_put_("bottom","0px"),t},function(n){n.fill(t,"updatePosition",{},e.TabManager)})},args:[],source:"updatePosition\n	'#amber' asJQuery\n		css: 'top' put: '';\n		css: 'bottom' put: '0px'",messageSends:["css:put:","asJQuery"],referencedClasses:[]}),e.TabManager),e.TabManager.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var s=this;return e.withContext(function(){var r,a;return r=s["@current"],($receiver=r)==t||null==$receiver?(s["@current"]=e.TabManager.klass.superclass.fn.prototype._new.apply(n(s),[]),a=s["@current"]):a=r,a},function(t){t.fill(s,"current",{},e.TabManager.klass)})},args:[],source:"current\n	^ current ifNil: [ current := super new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.TabManager.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.TabManager.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.TabManager.klass),e.addMethod(e.method({selector:"toggleAmberIDE",category:"actions",fn:function(){function s(){return e.Browser||("undefined"==typeof Browser?t:Browser)}function r(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var a=this;return e.withContext(function(t){var o,i,l,c,u;return o="#amber"._asJQuery(),t.sendIdx.asJQuery=1,i=n(o)._length(),l=n(i).__eq(0),e.assert(l)?(n(s())._open(),t.sendIdx.open=1):(c=n("#amber"._asJQuery())._is_(":visible"),e.assert(c)?(u=n(r())._current(),t.sendIdx.current=1,n(u)._close()):n(n(r())._current())._open()),a},function(t){t.fill(a,"toggleAmberIDE",{},e.TabManager.klass)})},args:[],source:"toggleAmberIDE\n	'#amber' asJQuery length = 0\n		ifTrue: [ Browser open ]\n		ifFalse: [\n			('#amber' asJQuery is: ':visible')\n				ifTrue: [ TabManager current close ]\n				ifFalse: [ TabManager current open ] ]",messageSends:["ifTrue:ifFalse:","=","length","asJQuery","open","is:","close","current"],referencedClasses:["Browser","TabManager"]}),e.TabManager.klass),e.addClass("TabWidget",e.Widget,["div"],"IDE"),e.addMethod(e.method({selector:"canBeClosed",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"canBeClosed",{},e.TabWidget)})},args:[],source:"canBeClosed\n	^ false",messageSends:[],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"close",category:"actions",fn:function(){function s(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var r=this;return e.withContext(function(){return n(n(s())._current())._closeTab_(r),r},function(t){t.fill(r,"close",{},e.TabWidget)})},args:[],source:"close\n	TabManager current closeTab: self",messageSends:["closeTab:","current"],referencedClasses:["TabManager"]}),e.TabWidget),e.addMethod(e.method({selector:"hide",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@div"])._asJQuery())._hide(),t},function(n){n.fill(t,"hide",{},e.TabWidget)})},args:[],source:"hide\n	div asJQuery hide",messageSends:["hide","asJQuery"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return t._subclassResponsibility(),t},function(n){n.fill(t,"label",{},e.TabWidget)})},args:[],source:"label\n	self subclassResponsibility",messageSends:["subclassResponsibility"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"open",category:"actions",fn:function(){function s(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var r=this;return e.withContext(function(e){var t;return t=n(s())._current(),e.sendIdx.current=1,n(t)._addTab_(r),n(n(s())._current())._selectTab_(r),r},function(t){t.fill(r,"open",{},e.TabWidget)})},args:[],source:"open\n	TabManager current addTab: self.\n	TabManager current selectTab: self",messageSends:["addTab:","current","selectTab:"],referencedClasses:["TabManager"]}),e.TabWidget),e.addMethod(e.method({selector:"remove",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@div"])._asJQuery())._remove(),t},function(n){n.fill(t,"remove",{},e.TabWidget)})},args:[],source:"remove\n	div asJQuery remove",messageSends:["remove","asJQuery"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.TabWidget)})},args:["html"],source:"renderBoxOn: html",messageSends:[],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){return n},function(s){s.fill(n,"renderButtonsOn:",{html:t},e.TabWidget)})},args:["html"],source:"renderButtonsOn: html",messageSends:[],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){var e,r;return e=n(t)._div(),n(e)._class_("amberTool"),r=n(e)._yourself(),s["@div"]=r,s._renderTab(),s},function(n){n.fill(s,"renderOn:",{html:t},e.TabWidget)})},args:["html"],source:"renderOn: html\n	div := html div\n		class: 'amberTool';\n		yourself.\n	self renderTab",messageSends:["class:","div","yourself","renderTab"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"renderTab",category:"rendering",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return n(t["@div"])._contents_(function(l){return e.withContext(function(s){return r=n(l)._div(),s.sendIdx.div=1,n(r)._class_("amber_box"),s.sendIdx["class:"]=1,a=n(r)._with_(function(){return e.withContext(function(){return t._renderBoxOn_(l)},function(e){e.fillBlock({},s,2)})}),s.sendIdx["with:"]=1,o=n(l)._div(),n(o)._class_("amber_buttons"),i=n(o)._with_(function(){return e.withContext(function(){return t._renderButtonsOn_(l)},function(e){e.fillBlock({},s,3)})})},function(e){e.fillBlock({html:l},s,1)})}),t},function(n){n.fill(t,"renderTab",{},e.TabWidget)})},args:[],source:"renderTab\n	div contents: [ :html |\n		html div\n		class: 'amber_box';\n		with: [ self renderBoxOn: html ].\n		html div\n		class: 'amber_buttons';\n		with: [ self renderButtonsOn: html ]]",messageSends:["contents:","class:","div","with:","renderBoxOn:","renderButtonsOn:"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"show",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@div"])._asJQuery())._show(),t},function(n){n.fill(t,"show",{},e.TabWidget)})},args:[],source:"show\n	div asJQuery show",messageSends:["show","asJQuery"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"update",category:"rendering",fn:function(){var t=this;return e.withContext(function(){return t._renderTab(),t},function(n){n.fill(t,"update",{},e.TabWidget)})},args:[],source:"update\n	self renderTab",messageSends:["renderTab"],referencedClasses:[]}),e.TabWidget),e.addMethod(e.method({selector:"open",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._new())._open()},function(n){n.fill(t,"open",{},e.TabWidget.klass)})},args:[],source:"open\n	^ self new open",messageSends:["open","new"],referencedClasses:[]}),e.TabWidget.klass),e.addClass("Browser",e.TabWidget,["selectedPackage","selectedClass","selectedProtocol","selectedMethod","packagesList","classesList","protocolsList","methodsList","sourceArea","tabsList","selectedTab","saveButton","classButtons","methodButtons","unsavedChanges"],"IDE"),e.addMethod(e.method({selector:"addInstanceVariableNamed:toClass:",category:"actions",fn:function(s,r){function a(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var o=this;return e.withContext(function(e){var t,i,l,c,u;return t=n(a())._new(),i=n(r)._superclass(),l=n(r)._name(),e.sendIdx.name=1,c=n(n(r)._instanceVariableNames())._copy(),n(c)._add_(s),u=n(c)._yourself(),n(t)._addSubclassOf_named_instanceVariableNames_package_(i,l,u,n(n(r)._package())._name()),o},function(t){t.fill(o,"addInstanceVariableNamed:toClass:",{aString:s,aClass:r},e.Browser)})},args:["aString","aClass"],source:"addInstanceVariableNamed: aString toClass: aClass\n	ClassBuilder new\n		addSubclassOf: aClass superclass\n		named: aClass name\n		instanceVariableNames: (aClass instanceVariableNames copy add: aString; yourself)\n		package: aClass package name",messageSends:["addSubclassOf:named:instanceVariableNames:package:","new","superclass","name","add:","copy","instanceVariableNames","yourself","package"],referencedClasses:["ClassBuilder"]}),e.Browser),e.addMethod(e.method({selector:"addNewClass",category:"actions",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a,o=this;return e.withContext(function(t){var i,l;return a=o._prompt_("New class"),i=n(n(a)._notNil())._and_(function(){return e.withContext(function(){return n(a)._notEmpty()},function(e){e.fillBlock({},t,1)})}),e.assert(i)&&(n(s())._subclass_instanceVariableNames_package_(a,"",o._selectedPackage()),o._resetClassesList(),l=o._updateClassesList(),o._selectClass_(n(n(r())._current())._at_(a))),o},function(t){t.fill(o,"addNewClass",{className:a},e.Browser)})},args:[],source:"addNewClass\n	| className |\n	className := self prompt: 'New class'.\n	(className notNil and: [ className notEmpty ]) ifTrue: [\n		Object subclass: className instanceVariableNames: '' package: self selectedPackage.\n			self\n			resetClassesList;\n			updateClassesList.\n		self selectClass: (Smalltalk current at: className) ]",messageSends:["prompt:","ifTrue:","and:","notNil","notEmpty","subclass:instanceVariableNames:package:","selectedPackage","resetClassesList","updateClassesList","selectClass:","at:","current"],referencedClasses:["Object","Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"addNewProtocol",category:"actions",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=s._prompt_("New method protocol"),a=n(n(t)._notNil())._and_(function(){return e.withContext(function(){return n(t)._notEmpty()},function(e){e.fillBlock({},r,1)})}),e.assert(a)&&(n(s["@selectedMethod"])._category_(t),s._setMethodProtocol_(t)),s},function(n){n.fill(s,"addNewProtocol",{newProtocol:t},e.Browser)})},args:[],source:"addNewProtocol\n	| newProtocol |\n	newProtocol := self prompt: 'New method protocol'.\n	(newProtocol notNil and: [ newProtocol notEmpty ]) ifTrue: [\n	selectedMethod category: newProtocol.\n	self setMethodProtocol: newProtocol ]",messageSends:["prompt:","ifTrue:","and:","notNil","notEmpty","category:","setMethodProtocol:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"canBeClosed",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"canBeClosed",{},e.Browser)})},args:[],source:"canBeClosed\n	^ true",messageSends:[],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"cancelChanges",category:"actions",fn:function(){var t=this;
return e.withContext(function(){var n,s;return n=t["@unsavedChanges"],s=e.assert(n)?t._confirm_("Cancel changes?"):!0},function(n){n.fill(t,"cancelChanges",{},e.Browser)})},args:[],source:"cancelChanges\n	^ unsavedChanges\n	ifTrue: [ self confirm: 'Cancel changes?' ]\n	ifFalse: [ true ]",messageSends:["ifTrue:ifFalse:","confirm:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"classCommentSource",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@selectedClass"])._comment()},function(n){n.fill(t,"classCommentSource",{},e.Browser)})},args:[],source:"classCommentSource\n	^ selectedClass comment",messageSends:["comment"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"classDeclarationSource",category:"accessing",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r,a=this;return e.withContext(function(o){var i,l,c,u,d,f,h,m,g,p,_,C,v;return r=""._writeStream(),i=a["@selectedClass"],($receiver=i)==t||null==$receiver?l=a._classDeclarationTemplate():(c=r,n(c)._nextPutAll_(n(n(a["@selectedClass"])._superclass())._asString()),o.sendIdx["nextPutAll:"]=1,n(c)._nextPutAll_(" subclass: #"),o.sendIdx["nextPutAll:"]=2,n(c)._nextPutAll_(n(a["@selectedClass"])._name()),o.sendIdx["nextPutAll:"]=3,u=c,d=n(s())._lf(),o.sendIdx.lf=1,f=n(s())._tab(),o.sendIdx.tab=1,h=n(d).__comma(f),o.sendIdx[","]=1,n(u)._nextPutAll_(h),o.sendIdx["nextPutAll:"]=4,m=n(c)._nextPutAll_("instanceVariableNames: '"),o.sendIdx["nextPutAll:"]=5,n(n(a["@selectedClass"])._instanceVariableNames())._do_separatedBy_(function(t){return e.withContext(function(e){return n(r)._nextPutAll_(t)},function(e){e.fillBlock({each:t},o,2)})},function(){return e.withContext(function(e){return n(r)._nextPutAll_(" ")},function(e){e.fillBlock({},o,3)})}),g=r,p=g,_=n("'".__comma(n(s())._lf())).__comma(n(s())._tab()),o.sendIdx[","]=2,n(p)._nextPutAll_(_),o.sendIdx["nextPutAll:"]=8,n(g)._nextPutAll_("package: '"),o.sendIdx["nextPutAll:"]=9,n(g)._nextPutAll_(n(a["@selectedClass"])._category()),o.sendIdx["nextPutAll:"]=10,C=n(g)._nextPutAll_("'"),v=n(r)._contents())},function(t){t.fill(a,"classDeclarationSource",{stream:r},e.Browser)})},args:[],source:"classDeclarationSource\n	| stream |\n	stream := '' writeStream.\n	selectedClass ifNil: [ ^ self classDeclarationTemplate ].\n	stream\n		nextPutAll: selectedClass superclass asString;\n		nextPutAll: ' subclass: #';\n		nextPutAll: selectedClass name;\n		nextPutAll: String lf, String tab;\n		nextPutAll: 'instanceVariableNames: '''.\n	selectedClass instanceVariableNames\n		do: [ :each | stream nextPutAll: each ]\n		separatedBy: [ stream nextPutAll: ' ' ].\n	stream\n		nextPutAll: '''', String lf, String tab;\n		nextPutAll: 'package: ''';\n		nextPutAll: selectedClass category;\n		nextPutAll: ''''.\n	^ stream contents",messageSends:["writeStream","ifNil:","classDeclarationTemplate","nextPutAll:","asString","superclass","name",",","lf","tab","do:separatedBy:","instanceVariableNames","category","contents"],referencedClasses:["String"]}),e.Browser),e.addMethod(e.method({selector:"classDeclarationTemplate",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n("Object subclass: #NameOfSubclass\n	instanceVariableNames: ''\n	package: '".__comma(t._selectedPackage())).__comma("'"),e.sendIdx[","]=1,s},function(n){n.fill(t,"classDeclarationTemplate",{},e.Browser)})},args:[],source:"classDeclarationTemplate\n	^ 'Object subclass: #NameOfSubclass\n	instanceVariableNames: ''''\n	package: ''', self selectedPackage, ''''",messageSends:[",","selectedPackage"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"classes",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var a,o;return o=n(n(n(n(n(s())._current())._classes())._select_(function(s){return e.withContext(function(){return n(n(s)._category()).__eq(r["@selectedPackage"])},function(e){e.fillBlock({each:s},t,1)})}))._sort_(function(s,r){return e.withContext(function(e){return a=n(s)._name(),e.sendIdx.name=1,n(a).__lt(n(r)._name())},function(e){e.fillBlock({a:s,b:r},t,2)})}))._asSet()},function(t){t.fill(r,"classes",{},e.Browser)})},args:[],source:"classes\n	^ ((Smalltalk current classes\n	select: [ :each | each category = selectedPackage ])\n	sort: [ :a :b | a name < b name ]) asSet",messageSends:["asSet","sort:","select:","classes","current","=","category","<","name"],referencedClasses:["Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"commitPackage",category:"actions",fn:function(){function s(){return e.Package||("undefined"==typeof Package?t:Package)}var r=this;return e.withContext(function(){var e;return e=r["@selectedPackage"],($receiver=e)==t||null==$receiver||n(n(s())._named_(r["@selectedPackage"]))._commit(),r},function(t){t.fill(r,"commitPackage",{},e.Browser)})},args:[],source:"commitPackage\n	selectedPackage ifNotNil: [\n		(Package named: selectedPackage) commit ]",messageSends:["ifNotNil:","commit","named:"],referencedClasses:["Package"]}),e.Browser),e.addMethod(e.method({selector:"compile",category:"actions",fn:function(){var s,r=this;return e.withContext(function(a){var o,i,l,c,u;return r._disableSaveButton(),o=n(r["@sourceArea"])._editor(),a.sendIdx.editor=1,s=n(o)._getCursor(),i=n(r["@selectedTab"]).__eq("comment"),e.assert(i)?(l=r["@selectedClass"],($receiver=l)==t||null==$receiver||r._compileClassComment()):(c=n(r["@selectedProtocol"])._notNil(),a.sendIdx.notNil=1,u=n(c)._or_(function(){return e.withContext(function(){return n(r["@selectedMethod"])._notNil()},function(e){e.fillBlock({},a,4)})}),e.assert(u)?r._compileMethodDefinition():r._compileDefinition()),n(n(r["@sourceArea"])._editor())._setCursor_(s),r},function(t){t.fill(r,"compile",{currentEditLine:s},e.Browser)})},args:[],source:"compile\n	| currentEditLine |\n	self disableSaveButton.\n	currentEditLine := sourceArea editor getCursor.\n	selectedTab = #comment\n	ifTrue: [\n			selectedClass ifNotNil: [\n				self compileClassComment ]]\n	ifFalse: [\n			(selectedProtocol notNil or: [ selectedMethod notNil ])\n				ifFalse: [ self compileDefinition ]\n				ifTrue: [ self compileMethodDefinition ]].\n	sourceArea editor setCursor: currentEditLine.",messageSends:["disableSaveButton","getCursor","editor","ifTrue:ifFalse:","=","ifNotNil:","compileClassComment","ifFalse:ifTrue:","or:","notNil","compileDefinition","compileMethodDefinition","setCursor:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"compileClassComment",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@selectedClass"])._comment_(n(t["@sourceArea"])._val()),t},function(n){n.fill(t,"compileClassComment",{},e.Browser)})},args:[],source:"compileClassComment\n	selectedClass comment: sourceArea val",messageSends:["comment:","val"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"compileDefinition",category:"actions",fn:function(){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var r,a=this;return e.withContext(function(){var e;return r=n(n(s())._new())._evaluateExpression_(n(a["@sourceArea"])._val()),a._resetClassesList(),a._updateCategoriesList(),e=a._updateClassesList(),a._selectClass_(r),a},function(t){t.fill(a,"compileDefinition",{newClass:r},e.Browser)})},args:[],source:"compileDefinition\n	| newClass |\n	newClass := Compiler new evaluateExpression: sourceArea val.\n	self\n	resetClassesList;\n	updateCategoriesList;\n	updateClassesList.\n	self selectClass: newClass",messageSends:["evaluateExpression:","new","val","resetClassesList","updateCategoriesList","updateClassesList","selectClass:"],referencedClasses:["Compiler"]}),e.Browser),e.addMethod(e.method({selector:"compileMethodDefinition",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(t["@selectedTab"]).__eq("instance"),e.assert(r)?(t._compileMethodDefinitionFor_(t["@selectedClass"]),s.sendIdx["compileMethodDefinitionFor:"]=1):t._compileMethodDefinitionFor_(n(t["@selectedClass"])._class()),t},function(n){n.fill(t,"compileMethodDefinition",{},e.Browser)})},args:[],source:"compileMethodDefinition\n	selectedTab = #instance\n	ifTrue: [ self compileMethodDefinitionFor: selectedClass ]\n	ifFalse: [ self compileMethodDefinitionFor: selectedClass class ]",messageSends:["ifTrue:ifFalse:","=","compileMethodDefinitionFor:","class"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"compileMethodDefinitionFor:",category:"actions",fn:function(s){function r(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}function a(){return e.PlatformInterface||("undefined"==typeof PlatformInterface?t:PlatformInterface)}function o(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var i,l,c,u,d=this;return e.withContext(function(f){var h,m,g,p,_,C,v,x,y,S,b={};try{return c=n(d["@sourceArea"])._val(),h=d["@selectedProtocol"],(($receiver=h)==t||null==$receiver)&&(d["@selectedProtocol"]=n(d["@selectedMethod"])._category(),d["@selectedProtocol"]),i=n(r())._new(),f.sendIdx["new"]=1,n(i)._source_(c),u=n(i)._parse_(c),m=n(u)._isParseFailure(),e.assert(m)?(g="PARSE ERROR: ".__comma(n(u)._reason()),f.sendIdx[","]=3,p=n(g).__comma(", position: "),f.sendIdx[","]=2,_=n(p).__comma(n(n(u)._position())._asString()),f.sendIdx[","]=1,C=d._alert_(_)):(n(i)._currentClass_(s),l=n(i)._eval_(n(i)._compileNode_(u)),n(n(i)._unknownVariables())._do_(function(t){return e.withContext(function(r){if(v=n(a())._existsGlobal_(t),!e.assert(v)&&(x=n("Declare '".__comma(t)).__comma("' as instance variable?"),r.sendIdx[","]=4,y=d._confirm_(x),e.assert(y)))throw d._addInstanceVariableNamed_toClass_(t,s),S=d._compileMethodDefinitionFor_(s),b=[S]},function(e){e.fillBlock({each:t},f,3)})}),n(n(o())._new())._installMethod_forClass_category_(l,s,d["@selectedProtocol"]),d._updateMethodsList(),d._selectMethod_(l),d)}catch(w){if(w===b)return w[0];throw w}},function(t){t.fill(d,"compileMethodDefinitionFor:",{aClass:s,compiler:i,method:l,source:c,node:u},e.Browser)})},args:["aClass"],source:"compileMethodDefinitionFor: aClass\n	| compiler method source node |\n	source := sourceArea val.\n	selectedProtocol ifNil: [ selectedProtocol := selectedMethod category ].\n	compiler := Compiler new.\n	compiler source: source.\n	node := compiler parse: source.\n	node isParseFailure ifTrue: [\n	^ self alert: 'PARSE ERROR: ', node reason, ', position: ', node position asString ].\n	compiler currentClass: aClass.\n	method := compiler eval: (compiler compileNode: node).\n	compiler unknownVariables do: [ :each |\n		\"Do not try to redeclare javascript's objects\"\n		(PlatformInterface existsGlobal: each) ifFalse: [\n		(self confirm: 'Declare ''', each, ''' as instance variable?') ifTrue: [\n			self addInstanceVariableNamed: each toClass: aClass.\n			^ self compileMethodDefinitionFor: aClass ]] ].\n	ClassBuilder new installMethod: method forClass: aClass category: selectedProtocol.\n	self updateMethodsList.\n	self selectMethod: method",messageSends:["val","ifNil:","category","new","source:","parse:","ifTrue:","isParseFailure","alert:",",","reason","asString","position","currentClass:","eval:","compileNode:","do:","unknownVariables","ifFalse:","existsGlobal:","confirm:","addInstanceVariableNamed:toClass:","compileMethodDefinitionFor:","installMethod:forClass:category:","updateMethodsList","selectMethod:"],referencedClasses:["Compiler","PlatformInterface","ClassBuilder"]}),e.Browser),e.addMethod(e.method({selector:"copyClass",category:"actions",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a,o=this;return e.withContext(function(t){var i,l;return a=o._prompt_("Copy class"),i=n(n(a)._notNil())._and_(function(){return e.withContext(function(){return n(a)._notEmpty()},function(e){e.fillBlock({},t,1)})}),e.assert(i)&&(n(n(s())._new())._copyClass_named_(o._selectedClass(),a),o._resetClassesList(),l=o._updateClassesList(),o._selectClass_(n(n(r())._current())._at_(a))),o},function(t){t.fill(o,"copyClass",{className:a},e.Browser)})},args:[],source:"copyClass\n	| className |\n	className := self prompt: 'Copy class'.\n	(className notNil and: [ className notEmpty ]) ifTrue: [\n		ClassBuilder new copyClass: self selectedClass named: className.\n			self\n			resetClassesList;\n			updateClassesList.\n		self selectClass: (Smalltalk current at: className) ]",messageSends:["prompt:","ifTrue:","and:","notNil","notEmpty","copyClass:named:","new","selectedClass","resetClassesList","updateClassesList","selectClass:","at:","current"],referencedClasses:["ClassBuilder","Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"declarationSource",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var s,r;return s=n(t["@selectedTab"]).__eq("instance"),r=e.assert(s)?t._classDeclarationSource():t._metaclassDeclarationSource()},function(n){n.fill(t,"declarationSource",{},e.Browser)})},args:[],source:"declarationSource\n	^ selectedTab = #instance\n	ifTrue: [ self classDeclarationSource ]\n	ifFalse: [ self metaclassDeclarationSource ]",messageSends:["ifTrue:ifFalse:","=","classDeclarationSource","metaclassDeclarationSource"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"disableSaveButton",category:"actions",fn:function(){var s=this;return e.withContext(function(){var e;return e=s["@saveButton"],($receiver=e)==t||null==$receiver||n(s["@saveButton"])._at_put_("disabled",!0),s["@unsavedChanges"]=!1,s},function(t){t.fill(s,"disableSaveButton",{},e.Browser)})},args:[],source:"disableSaveButton\n	saveButton ifNotNil: [\n	saveButton at: 'disabled' put: true ].\n	unsavedChanges := false",messageSends:["ifNotNil:","at:put:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"dummyMethodSource",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return'messageSelectorAndArgumentNames\n	"comment stating purpose of message"\n\n	| temporary variable names |\n	statements'},function(n){n.fill(t,"dummyMethodSource",{},e.Browser)})},args:[],source:"dummyMethodSource\n	^ 'messageSelectorAndArgumentNames\n	\"comment stating purpose of message\"\n\n	| temporary variable names |\n	statements'",messageSends:[],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"handleSourceAreaKeyDown:",category:"actions",fn:function(t){var n=this;return e.withContext(function(){return t.ctrlKey&&83===t.keyCode?(n._compile(),t.preventDefault(),!1):n},function(s){s.fill(n,"handleSourceAreaKeyDown:",{anEvent:t},e.Browser)})},args:["anEvent"],source:"handleSourceAreaKeyDown: anEvent\n	<if(anEvent.ctrlKey) {\n		if(anEvent.keyCode === 83) { //ctrl+s\n			self._compile();\n			anEvent.preventDefault();\n			return false;\n		}\n	}\n	>",messageSends:[],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"hideClassButtons",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@classButtons"])._asJQuery())._hide(),t},function(n){n.fill(t,"hideClassButtons",{},e.Browser)})},args:[],source:"hideClassButtons\n	classButtons asJQuery hide",messageSends:["hide","asJQuery"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"hideMethodButtons",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@methodButtons"])._asJQuery())._hide(),t},function(n){n.fill(t,"hideMethodButtons",{},e.Browser)})},args:[],source:"hideMethodButtons\n	methodButtons asJQuery hide",messageSends:["hide","asJQuery"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Browser.superclass.fn.prototype._initialize.apply(n(t),[]),t["@selectedTab"]="instance",t["@selectedPackage"]=n(t._packages())._first(),t["@unsavedChanges"]=!1,t},function(n){n.fill(t,"initialize",{},e.Browser)})},args:[],source:"initialize\n	super initialize.\n	selectedTab := #instance.\n	selectedPackage := self packages first.\n	unsavedChanges := false",messageSends:["initialize","first","packages"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;return e=s["@selectedClass"],r=($receiver=e)==t||null==$receiver?"Browser (nil)":"Browser: ".__comma(n(s["@selectedClass"])._name())},function(t){t.fill(s,"label",{},e.Browser)})},args:[],source:"label\n	^ selectedClass\n	ifNil: [ 'Browser (nil)' ]\n	ifNotNil: [ 'Browser: ', selectedClass name ]",messageSends:["ifNil:ifNotNil:",",","name"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"metaclassDeclarationSource",category:"accessing",fn:function(){var s,r=this;return e.withContext(function(a){var o,i,l,c;return s=""._writeStream(),o=r["@selectedClass"],($receiver=o)==t||null==$receiver||(i=s,n(i)._nextPutAll_(n(r["@selectedClass"])._asString()),a.sendIdx["nextPutAll:"]=1,n(i)._nextPutAll_(" class "),a.sendIdx["nextPutAll:"]=2,l=n(i)._nextPutAll_("instanceVariableNames: '"),a.sendIdx["nextPutAll:"]=3,n(n(n(r["@selectedClass"])._class())._instanceVariableNames())._do_separatedBy_(function(t){return e.withContext(function(e){return n(s)._nextPutAll_(t)},function(e){e.fillBlock({each:t},a,2)})},function(){return e.withContext(function(e){return n(s)._nextPutAll_(" ")},function(e){e.fillBlock({},a,3)})}),n(s)._nextPutAll_("'")),c=n(s)._contents()},function(t){t.fill(r,"metaclassDeclarationSource",{stream:s},e.Browser)})},args:[],source:"metaclassDeclarationSource\n	| stream |\n	stream := '' writeStream.\n	selectedClass ifNotNil: [\n	stream\n		nextPutAll: selectedClass asString;\n		nextPutAll: ' class ';\n		nextPutAll: 'instanceVariableNames: '''.\n	selectedClass class instanceVariableNames\n		do: [ :each | stream nextPutAll: each ]\n		separatedBy: [ stream nextPutAll: ' ' ].\n	stream nextPutAll: '''' ].\n	^ stream contents",messageSends:["writeStream","ifNotNil:","nextPutAll:","asString","do:separatedBy:","instanceVariableNames","class","contents"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"methodSource",category:"accessing",fn:function(){var s=this;return e.withContext(function(){var e,r;return e=s["@selectedMethod"],r=($receiver=e)==t||null==$receiver?s._dummyMethodSource():n(s["@selectedMethod"])._source()},function(t){t.fill(s,"methodSource",{},e.Browser)})},args:[],source:"methodSource\n	^ selectedMethod\n	ifNil: [ self dummyMethodSource ]\n	ifNotNil: [ selectedMethod source ]",messageSends:["ifNil:ifNotNil:","dummyMethodSource","source"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"methods",category:"accessing",fn:function(){var s,r=this;return e.withContext(function(a){var o,i,l,c,u,d,f,h,m,g;return o=n(r["@selectedTab"]).__eq("comment"),a.sendIdx["="]=1,e.assert(o)?i=[]:(l=r["@selectedClass"],($receiver=l)==t||null==$receiver||(c=n(r["@selectedTab"]).__eq("instance"),a.sendIdx["="]=2,s=e.assert(c)?r["@selectedClass"]:n(r["@selectedClass"])._class()),u=r["@selectedProtocol"],($receiver=u)==t||null==$receiver?(d=s,($receiver=d)==t||null==$receiver?h=[]:(f=n(s)._methodDictionary(),a.sendIdx.methodDictionary=1,h=n(f)._values(),a.sendIdx.values=1)):h=n(n(n(s)._methodDictionary())._values())._select_(function(t){return e.withContext(function(){return n(n(t)._category()).__eq(r["@selectedProtocol"])},function(e){e.fillBlock({each:t},a,9)})}),g=n(h)._sort_(function(t,s){return e.withContext(function(e){return m=n(t)._selector(),e.sendIdx.selector=1,n(m).__lt(n(s)._selector())},function(e){e.fillBlock({a:t,b:s},a,10)})}))},function(t){t.fill(r,"methods",{klass:s},e.Browser)})},args:[],source:"methods\n	| klass |\n	selectedTab = #comment ifTrue: [ ^ #() ].\n	selectedClass ifNotNil: [\n	klass := selectedTab = #instance\n		ifTrue: [ selectedClass ]\n		ifFalse: [ selectedClass class ]].\n	^ (selectedProtocol\n	ifNil: [\n		klass\n		ifNil: [ #() ]\n		ifNotNil: [ klass methodDictionary values ]]\n	ifNotNil: [\n		klass methodDictionary values select: [ :each |\n		each category = selectedProtocol ]]) sort: [ :a :b | a selector < b selector ]",messageSends:["ifTrue:","=","ifNotNil:","ifTrue:ifFalse:","class","sort:","ifNil:ifNotNil:","values","methodDictionary","select:","category","<","selector"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"packages",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a,o=this;return e.withContext(function(t){var o,i,l,c;return a=n(s())._new(),n(n(n(r())._current())._classes())._do_(function(s){return e.withContext(function(t){return o=a,i=n(s)._category(),t.sendIdx.category=1,l=n(o)._includes_(i),e.assert(l)?void 0:n(a)._add_(n(s)._category())},function(e){e.fillBlock({each:s},t,1)})}),c=n(a)._sort()},function(t){t.fill(o,"packages",{packages:a},e.Browser)})},args:[],source:"packages\n	| packages |\n	packages := Array new.\n	Smalltalk current classes do: [ :each |\n	(packages includes: each category) ifFalse: [\n		packages add: each category ]].\n	^ packages sort",messageSends:["new","do:","classes","current","ifFalse:","includes:","category","add:","sort"],referencedClasses:["Array","Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"protocols",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r,a=this;return e.withContext(function(o){var i,l,c,u,d,f,h,m;return i=a["@selectedClass"],($receiver=i)!=t&&null!=$receiver?(l=n(a["@selectedTab"]).__eq("comment"),o.sendIdx["="]=1,e.assert(l)?c=[]:(u=n(a["@selectedTab"]).__eq("instance"),r=e.assert(u)?a["@selectedClass"]:n(a["@selectedClass"])._class(),d=n(n(r)._methodDictionary())._isEmpty(),e.assert(d)?f=n(s())._with_("not yet classified"):h=n(r)._protocols())):m=n(s())._new()},function(t){t.fill(a,"protocols",{klass:r},e.Browser)})},args:[],source:"protocols\n	| klass |\n	selectedClass ifNotNil: [\n	selectedTab = #comment ifTrue: [ ^ #() ].\n	klass := selectedTab = #instance\n		ifTrue: [ selectedClass ]\n		ifFalse: [ selectedClass class ].\n	klass methodDictionary isEmpty ifTrue: [\n		^ Array with: 'not yet classified' ].\n	^ klass protocols ].\n	^ Array new",messageSends:["ifNotNil:","ifTrue:","=","ifTrue:ifFalse:","class","isEmpty","methodDictionary","with:","protocols","new"],referencedClasses:["Array"]}),e.Browser),e.addMethod(e.method({selector:"removeClass",category:"actions",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(a){var o,i;return o=n("Do you really want to remove ".__comma(n(r["@selectedClass"])._name())).__comma("?"),a.sendIdx[","]=1,i=r._confirm_(o),e.assert(i)&&(n(n(s())._current())._removeClass_(r["@selectedClass"]),r._resetClassesList(),r._selectClass_(t)),r},function(t){t.fill(r,"removeClass",{},e.Browser)})},args:[],source:"removeClass\n	(self confirm: 'Do you really want to remove ', selectedClass name, '?')\n	ifTrue: [\n		Smalltalk current removeClass: selectedClass.\n		self resetClassesList.\n		self selectClass: nil ]",messageSends:["ifTrue:","confirm:",",","name","removeClass:","current","resetClassesList","selectClass:"],referencedClasses:["Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"removeMethod",category:"actions",fn:function(){var s=this;return e.withContext(function(r){var a,o,i,l;return a=s._cancelChanges(),e.assert(a)&&(o=n("Do you really want to remove #".__comma(n(s["@selectedMethod"])._selector())).__comma("?"),r.sendIdx[","]=1,i=s._confirm_(o),e.assert(i)&&(l=n(s["@selectedTab"]).__eq("instance"),e.assert(l)?(n(s["@selectedClass"])._removeCompiledMethod_(s["@selectedMethod"]),r.sendIdx["removeCompiledMethod:"]=1):n(n(s["@selectedClass"])._class())._removeCompiledMethod_(s["@selectedMethod"]),s._selectMethod_(t))),s},function(t){t.fill(s,"removeMethod",{},e.Browser)})},args:[],source:"removeMethod\n	self cancelChanges ifTrue: [\n	(self confirm: 'Do you really want to remove #', selectedMethod selector, '?')\n		ifTrue: [\n		selectedTab = #instance\n			ifTrue: [ selectedClass removeCompiledMethod: selectedMethod ]\n			ifFalse: [ selectedClass class removeCompiledMethod: selectedMethod ].\n		self selectMethod: nil ]]",messageSends:["ifTrue:","cancelChanges","confirm:",",","selector","ifTrue:ifFalse:","=","removeCompiledMethod:","class","selectMethod:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"removePackage",category:"actions",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var a,o;return a=n("Do you really want to remove the whole package ".__comma(r["@selectedPackage"])).__comma(" with all its classes?"),t.sendIdx[","]=1,o=r._confirm_(a),e.assert(o)&&(n(n(s())._current())._removePackage_(r["@selectedPackage"]),r._updateCategoriesList()),r},function(t){t.fill(r,"removePackage",{},e.Browser)})},args:[],source:"removePackage\n\n	(self confirm: 'Do you really want to remove the whole package ', selectedPackage, ' with all its classes?')\n	ifTrue: [\n		Smalltalk current removePackage: selectedPackage.\n		self updateCategoriesList ]",messageSends:["ifTrue:","confirm:",",","removePackage:","current","updateCategoriesList"],referencedClasses:["Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"renameClass",category:"actions",fn:function(){var t,s=this;return e.withContext(function(r){var a,o;return t=s._prompt_("Rename class ".__comma(n(s["@selectedClass"])._name())),a=n(n(t)._notNil())._and_(function(){return e.withContext(function(){return n(t)._notEmpty()},function(e){e.fillBlock({},r,1)})}),e.assert(a)&&(n(s["@selectedClass"])._rename_(t),s._updateClassesList(),o=s._updateSourceAndButtons()),s},function(n){n.fill(s,"renameClass",{newName:t},e.Browser)})},args:[],source:"renameClass\n	| newName |\n	newName := self prompt: 'Rename class ', selectedClass name.\n	(newName notNil and: [ newName notEmpty ]) ifTrue: [\n	selectedClass rename: newName.\n	self\n		updateClassesList;\n		updateSourceAndButtons ]",messageSends:["prompt:",",","name","ifTrue:","and:","notNil","notEmpty","rename:","updateClassesList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"renamePackage",category:"actions",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r,a=this;return e.withContext(function(){var o,i;return r=a._prompt_("Rename package ".__comma(a["@selectedPackage"])),o=r,($receiver=o)==t||null==$receiver||(i=n(r)._notEmpty(),e.assert(i)&&(n(n(s())._current())._renamePackage_to_(a["@selectedPackage"],r),a._updateCategoriesList())),a},function(t){t.fill(a,"renamePackage",{newName:r},e.Browser)})},args:[],source:"renamePackage\n\n	| newName |\n	newName := self prompt: 'Rename package ', selectedPackage.\n	newName ifNotNil: [\n	newName notEmpty ifTrue: [\n	Smalltalk current renamePackage: selectedPackage to: newName.\n	self updateCategoriesList ]]",messageSends:["prompt:",",","ifNotNil:","ifTrue:","notEmpty","renamePackage:to:","current","updateCategoriesList"],referencedClasses:["Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"renderBottomPanelOn:",category:"rendering",fn:function(s){function r(){return e.SourceArea||("undefined"==typeof SourceArea?t:SourceArea)}var a=this;return e.withContext(function(t){var o,i;return o=n(s)._div(),n(o)._class_("amber_sourceCode"),i=n(o)._with_(function(){return e.withContext(function(t){return a["@sourceArea"]=n(r())._new(),a["@sourceArea"],n(a["@sourceArea"])._renderOn_(s),n(a["@sourceArea"])._onKeyDown_(function(n){return e.withContext(function(){return a._handleSourceAreaKeyDown_(n)},function(e){e.fillBlock({e:n},t,2)})}),n(a["@sourceArea"])._onKeyUp_(function(){return e.withContext(function(){return a._updateStatus()},function(e){e.fillBlock({},t,3)})})},function(e){e.fillBlock({},t,1)})}),a},function(t){t.fill(a,"renderBottomPanelOn:",{html:s},e.Browser)})},args:["html"],source:"renderBottomPanelOn: html\n	html div\n	class: 'amber_sourceCode';\n	with: [\n		sourceArea := SourceArea new.\n		sourceArea renderOn: html.\n			sourceArea onKeyDown: [ :e |\n				self handleSourceAreaKeyDown: e ].\n		sourceArea onKeyUp: [ self updateStatus ]]",messageSends:["class:","div","with:","new","renderOn:","onKeyDown:","handleSourceAreaKeyDown:","onKeyUp:","updateStatus"],referencedClasses:["SourceArea"]}),e.Browser),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){var e;return n._renderTopPanelOn_(t),n._renderTabsOn_(t),e=n._renderBottomPanelOn_(t),n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.Browser)})},args:["html"],source:"renderBoxOn: html\n	self\n	renderTopPanelOn: html;\n	renderTabsOn: html;\n	renderBottomPanelOn: html",messageSends:["renderTopPanelOn:","renderTabsOn:","renderBottomPanelOn:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m;return s["@saveButton"]=n(t)._button(),r.sendIdx.button=1,a=s["@saveButton"],n(a)._with_("Save"),r.sendIdx["with:"]=1,o=n(a)._onClick_(function(){return e.withContext(function(){return s._compile()},function(e){e.fillBlock({},r,1)})}),r.sendIdx["onClick:"]=1,s["@methodButtons"]=n(t)._span(),r.sendIdx.span=1,s["@classButtons"]=n(t)._span(),i=n(t)._div(),n(i)._class_("right"),m=n(i)._with_(function(){return e.withContext(function(r){return l=n(t)._button(),r.sendIdx.button=2,n(l)._with_("DoIt"),r.sendIdx["with:"]=3,c=n(l)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._doIt()},function(e){e.fillBlock({},r,3)})}),r.sendIdx["onClick:"]=2,u=n(t)._button(),r.sendIdx.button=3,n(u)._with_("PrintIt"),r.sendIdx["with:"]=4,d=n(u)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._printIt()},function(e){e.fillBlock({},r,4)})}),r.sendIdx["onClick:"]=3,f=n(t)._button(),n(f)._with_("InspectIt"),h=n(f)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._inspectIt()},function(e){e.fillBlock({},r,5)})})},function(e){e.fillBlock({},r,2)})}),r.sendIdx["with:"]=2,s._updateSourceAndButtons(),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.Browser)})},args:["html"],source:"renderButtonsOn: html\n	saveButton := html button.\n	saveButton\n	with: 'Save';\n	onClick: [ self compile ].\n	methodButtons := html span.\n	classButtons := html span.\n	html div\n	class: 'right';\n	with: [\n		html button\n			with: 'DoIt';\n			onClick: [ sourceArea doIt ].\n		html button\n			with: 'PrintIt';\n			onClick: [ sourceArea printIt ].\n		html button with: 'InspectIt';\n			onClick: [ sourceArea inspectIt ]].\n	self updateSourceAndButtons",messageSends:["button","with:","onClick:","compile","span","class:","div","doIt","printIt","inspectIt","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"renderTabsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@tabsList"]=n(n(t)._ul())._class_("amber_tabs amber_browser"),s._updateTabsList(),s},function(n){n.fill(s,"renderTabsOn:",{html:t},e.Browser)})},args:["html"],source:"renderTabsOn: html\n	tabsList := html ul class: 'amber_tabs amber_browser'.\n	self updateTabsList.",messageSends:["class:","ul","updateTabsList"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"renderTopPanelOn:",category:"rendering",fn:function(s){function r(){return e.ClassesList||("undefined"==typeof ClassesList?t:ClassesList)}var a=this;return e.withContext(function(t){var o,i,l,c,u,d,f,h,m,g,p,_,C;return o=n(s)._div(),t.sendIdx.div=1,n(o)._class_("top"),t.sendIdx["class:"]=1,C=n(o)._with_(function(){return e.withContext(function(t){return i=n(s)._ul(),t.sendIdx.ul=1,a["@packagesList"]=n(i)._class_("amber_column browser packages"),t.sendIdx["class:"]=2,a["@packagesList"],l=n(s)._div(),t.sendIdx.div=2,n(l)._class_("amber_packagesButtons"),t.sendIdx["class:"]=3,g=n(l)._with_(function(){return e.withContext(function(t){return c=n(s)._button(),t.sendIdx.button=1,n(c)._title_("Commit classes in this package to disk"),t.sendIdx["title:"]=1,n(c)._onClick_(function(){return e.withContext(function(){return a._commitPackage()
},function(e){e.fillBlock({},t,3)})}),t.sendIdx["onClick:"]=1,u=n(c)._with_("Commit"),t.sendIdx["with:"]=3,d=n(s)._button(),t.sendIdx.button=2,n(d)._title_("Rename package"),t.sendIdx["title:"]=2,n(d)._onClick_(function(){return e.withContext(function(){return a._renamePackage()},function(e){e.fillBlock({},t,4)})}),t.sendIdx["onClick:"]=2,f=n(d)._with_("Rename"),t.sendIdx["with:"]=4,h=n(s)._button(),n(h)._title_("Remove this package from the system"),n(h)._onClick_(function(){return e.withContext(function(){return a._removePackage()},function(e){e.fillBlock({},t,5)})}),m=n(h)._with_("Remove")},function(e){e.fillBlock({},t,2)})}),t.sendIdx["with:"]=2,a["@classesList"]=n(r())._on_(a),a["@classesList"],n(a["@classesList"])._renderOn_(s),p=n(s)._ul(),t.sendIdx.ul=2,a["@protocolsList"]=n(p)._class_("amber_column browser protocols"),t.sendIdx["class:"]=4,a["@protocolsList"],a["@methodsList"]=n(n(s)._ul())._class_("amber_column browser methods"),t.sendIdx["class:"]=5,a["@methodsList"],a._updateCategoriesList(),a._updateClassesList(),a._updateProtocolsList(),_=a._updateMethodsList(),n(n(s)._div())._class_("amber_clear")},function(e){e.fillBlock({},t,1)})}),t.sendIdx["with:"]=1,a},function(t){t.fill(a,"renderTopPanelOn:",{html:s},e.Browser)})},args:["html"],source:"renderTopPanelOn: html\n	html div\n		class: 'top';\n		with: [\n			packagesList := html ul class: 'amber_column browser packages'.\n				html div class: 'amber_packagesButtons'; with: [\n				html button\n					title: 'Commit classes in this package to disk';\n					onClick: [ self commitPackage ];\n					with: 'Commit'.\n					html button\n					title: 'Rename package';\n					onClick: [ self renamePackage ];\n					with: 'Rename'.\n					html button\n					title: 'Remove this package from the system';\n					onClick: [ self removePackage ];\n					with: 'Remove' ].\n			classesList := ClassesList on: self.\n			classesList renderOn: html.\n			protocolsList := html ul class: 'amber_column browser protocols'.\n			methodsList := html ul class: 'amber_column browser methods'.\n			self\n				updateCategoriesList;\n				updateClassesList;\n				updateProtocolsList;\n				updateMethodsList.\n			html div class: 'amber_clear' ]",messageSends:["class:","div","with:","ul","title:","button","onClick:","commitPackage","renamePackage","removePackage","on:","renderOn:","updateCategoriesList","updateClassesList","updateProtocolsList","updateMethodsList"],referencedClasses:["ClassesList"]}),e.Browser),e.addMethod(e.method({selector:"resetClassesList",category:"updating",fn:function(){var t=this;return e.withContext(function(){return n(t["@classesList"])._resetNodes(),t},function(n){n.fill(t,"resetClassesList",{},e.Browser)})},args:[],source:"resetClassesList\n	classesList resetNodes",messageSends:["resetNodes"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"search:",category:"actions",fn:function(s){function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var a=this;return e.withContext(function(){var t,o;if(t=a._cancelChanges(),e.assert(t)){var i;i=n(n(r())._current())._at_(s),o=n(i)._isClass(),e.assert(o)?n(a._class())._openOn_(i):a._searchReferencesOf_(s)}return a},function(t){t.fill(a,"search:",{aString:s},e.Browser)})},args:["aString"],source:"search: aString\n	self cancelChanges ifTrue: [ | searchedClass |\n		searchedClass := Smalltalk current at: aString.\n		searchedClass isClass\n			ifTrue: [ self class openOn: searchedClass ]\n			ifFalse: [ self searchReferencesOf: aString ]]",messageSends:["ifTrue:","cancelChanges","at:","current","ifTrue:ifFalse:","isClass","openOn:","class","searchReferencesOf:"],referencedClasses:["Smalltalk"]}),e.Browser),e.addMethod(e.method({selector:"searchClassReferences",category:"actions",fn:function(){function s(){return e.ReferencesBrowser||("undefined"==typeof ReferencesBrowser?t:ReferencesBrowser)}var r=this;return e.withContext(function(){return n(s())._search_(n(r["@selectedClass"])._name()),r},function(t){t.fill(r,"searchClassReferences",{},e.Browser)})},args:[],source:"searchClassReferences\n	ReferencesBrowser search: selectedClass name",messageSends:["search:","name"],referencedClasses:["ReferencesBrowser"]}),e.Browser),e.addMethod(e.method({selector:"searchReferencesOf:",category:"actions",fn:function(s){function r(){return e.ReferencesBrowser||("undefined"==typeof ReferencesBrowser?t:ReferencesBrowser)}var a=this;return e.withContext(function(){return n(r())._search_(s),a},function(t){t.fill(a,"searchReferencesOf:",{aString:s},e.Browser)})},args:["aString"],source:"searchReferencesOf: aString\n	ReferencesBrowser search: aString",messageSends:["search:"],referencedClasses:["ReferencesBrowser"]}),e.Browser),e.addMethod(e.method({selector:"selectCategory:",category:"actions",fn:function(n){var s=this;return e.withContext(function(){var r,a;return r=s._cancelChanges(),e.assert(r)&&(s["@selectedPackage"]=n,s["@selectedPackage"],s["@selectedMethod"]=t,s["@selectedProtocol"]=s["@selectedMethod"],s["@selectedClass"]=s["@selectedProtocol"],s["@selectedClass"],s._resetClassesList(),s._updateCategoriesList(),s._updateClassesList(),s._updateProtocolsList(),s._updateMethodsList(),a=s._updateSourceAndButtons()),s},function(t){t.fill(s,"selectCategory:",{aCategory:n},e.Browser)})},args:["aCategory"],source:"selectCategory: aCategory\n	self cancelChanges ifTrue: [\n	selectedPackage := aCategory.\n	selectedClass := selectedProtocol := selectedMethod := nil.\n	self resetClassesList.\n	self\n		updateCategoriesList;\n		updateClassesList;\n		updateProtocolsList;\n		updateMethodsList;\n		updateSourceAndButtons ]",messageSends:["ifTrue:","cancelChanges","resetClassesList","updateCategoriesList","updateClassesList","updateProtocolsList","updateMethodsList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectClass:",category:"actions",fn:function(n){var s=this;return e.withContext(function(){var r,a;return r=s._cancelChanges(),e.assert(r)&&(s["@selectedClass"]=n,s["@selectedClass"],s["@selectedMethod"]=t,s["@selectedProtocol"]=s["@selectedMethod"],s["@selectedProtocol"],s._updateClassesList(),s._updateProtocolsList(),s._updateMethodsList(),a=s._updateSourceAndButtons()),s},function(t){t.fill(s,"selectClass:",{aClass:n},e.Browser)})},args:["aClass"],source:"selectClass: aClass\n	self cancelChanges ifTrue: [\n	selectedClass := aClass.\n	selectedProtocol := selectedMethod := nil.\n	self\n		updateClassesList;\n		updateProtocolsList;\n		updateMethodsList;\n		updateSourceAndButtons ]",messageSends:["ifTrue:","cancelChanges","updateClassesList","updateProtocolsList","updateMethodsList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectMethod:",category:"actions",fn:function(t){var n=this;return e.withContext(function(){var s,r;return s=n._cancelChanges(),e.assert(s)&&(n["@selectedMethod"]=t,n["@selectedMethod"],n._updateProtocolsList(),n._updateMethodsList(),r=n._updateSourceAndButtons()),n},function(s){s.fill(n,"selectMethod:",{aMethod:t},e.Browser)})},args:["aMethod"],source:"selectMethod: aMethod\n	self cancelChanges ifTrue: [\n	selectedMethod := aMethod.\n	self\n		updateProtocolsList;\n		updateMethodsList;\n		updateSourceAndButtons ]",messageSends:["ifTrue:","cancelChanges","updateProtocolsList","updateMethodsList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectProtocol:",category:"actions",fn:function(n){var s=this;return e.withContext(function(){var r,a;return r=s._cancelChanges(),e.assert(r)&&(s["@selectedProtocol"]=n,s["@selectedProtocol"],s["@selectedMethod"]=t,s["@selectedMethod"],s._updateProtocolsList(),s._updateMethodsList(),a=s._updateSourceAndButtons()),s},function(t){t.fill(s,"selectProtocol:",{aString:n},e.Browser)})},args:["aString"],source:"selectProtocol: aString\n	self cancelChanges ifTrue: [\n	selectedProtocol := aString.\n	selectedMethod := nil.\n	self\n		updateProtocolsList;\n		updateMethodsList;\n		updateSourceAndButtons ]",messageSends:["ifTrue:","cancelChanges","updateProtocolsList","updateMethodsList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectTab:",category:"actions",fn:function(n){var s=this;return e.withContext(function(){var r;return r=s._cancelChanges(),e.assert(r)&&(s["@selectedTab"]=n,s["@selectedTab"],s._selectProtocol_(t),s._updateTabsList()),s},function(t){t.fill(s,"selectTab:",{aString:n},e.Browser)})},args:["aString"],source:"selectTab: aString\n	self cancelChanges ifTrue: [\n	selectedTab := aString.\n	self selectProtocol: nil.\n	self updateTabsList ]",messageSends:["ifTrue:","cancelChanges","selectProtocol:","updateTabsList"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectedClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selectedClass"]},function(n){n.fill(t,"selectedClass",{},e.Browser)})},args:[],source:"selectedClass\n	^ selectedClass",messageSends:[],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"selectedPackage",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selectedPackage"]},function(n){n.fill(t,"selectedPackage",{},e.Browser)})},args:[],source:"selectedPackage\n	^ selectedPackage",messageSends:[],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"setMethodProtocol:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var r,a,o;return r=s._cancelChanges(),e.assert(r)&&(a=n(s._protocols())._includes_(t),e.assert(a)?(n(s["@selectedMethod"])._category_(t),s["@selectedProtocol"]=t,s["@selectedProtocol"],s["@selectedMethod"]=s["@selectedMethod"],s["@selectedMethod"],s._updateProtocolsList(),s._updateMethodsList(),o=s._updateSourceAndButtons()):s._addNewProtocol()),s},function(n){n.fill(s,"setMethodProtocol:",{aString:t},e.Browser)})},args:["aString"],source:"setMethodProtocol: aString\n	self cancelChanges ifTrue: [\n	(self protocols includes: aString)\n		ifFalse: [ self addNewProtocol ]\n		ifTrue: [\n		selectedMethod category: aString.\n		selectedProtocol := aString.\n		selectedMethod := selectedMethod.\n		self\n			updateProtocolsList;\n			updateMethodsList;\n			updateSourceAndButtons ]]",messageSends:["ifTrue:","cancelChanges","ifFalse:ifTrue:","includes:","protocols","addNewProtocol","category:","updateProtocolsList","updateMethodsList","updateSourceAndButtons"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"showClassButtons",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@classButtons"])._asJQuery())._show(),t},function(n){n.fill(t,"showClassButtons",{},e.Browser)})},args:[],source:"showClassButtons\n	classButtons asJQuery show",messageSends:["show","asJQuery"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"showMethodButtons",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@methodButtons"])._asJQuery())._show(),t},function(n){n.fill(t,"showMethodButtons",{},e.Browser)})},args:[],source:"showMethodButtons\n	methodButtons asJQuery show",messageSends:["show","asJQuery"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=n(s["@selectedTab"]).__eq("comment"),e.assert(a)?(c=s["@selectedClass"],u=($receiver=c)==t||null==$receiver?"":s._classCommentSource()):(o=n(s["@selectedProtocol"])._notNil(),r.sendIdx.notNil=1,i=n(o)._or_(function(){return e.withContext(function(){return n(s["@selectedMethod"])._notNil()},function(e){e.fillBlock({},r,2)})}),l=e.assert(i)?s._methodSource():s._declarationSource())},function(t){t.fill(s,"source",{},e.Browser)})},args:[],source:"source\n	selectedTab = #comment ifFalse: [\n	^ (selectedProtocol notNil or: [ selectedMethod notNil ])\n		ifFalse: [ self declarationSource ]\n		ifTrue: [ self methodSource ]].\n	^ selectedClass\n	ifNil: [ '' ]\n	ifNotNil: [ self classCommentSource ]",messageSends:["ifFalse:","=","ifFalse:ifTrue:","or:","notNil","declarationSource","methodSource","ifNil:ifNotNil:","classCommentSource"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateCategoriesList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return n(t["@packagesList"])._contents_(function(l){return e.withContext(function(s){return n(t._packages())._do_(function(c){var u,d;return e.withContext(function(s){return r=n(c)._isEmpty(),d=e.assert(r)?"Unclassified":c,u=n(l)._li(),a=n(t["@selectedPackage"]).__eq(c),e.assert(a)&&n(u)._class_("selected"),o=u,n(o)._with_(d),i=n(o)._onClick_(function(){return e.withContext(function(){return t._selectCategory_(c)},function(e){e.fillBlock({},s,6)})})},function(e){e.fillBlock({each:c,li:u,label:d},s,2)})})},function(e){e.fillBlock({html:l},s,1)})}),t},function(n){n.fill(t,"updateCategoriesList",{},e.Browser)})},args:[],source:"updateCategoriesList\n	packagesList contents: [ :html |\n	self packages do: [ :each || li label |\n		each isEmpty\n		ifTrue: [ label := 'Unclassified' ]\n		ifFalse: [ label := each ].\n		li := html li.\n		selectedPackage = each ifTrue: [\n		li class: 'selected' ].\n		li\n		with: label;\n		onClick: [ self selectCategory: each ]] ]",messageSends:["contents:","do:","packages","ifTrue:ifFalse:","isEmpty","li","ifTrue:","=","class:","with:","onClick:","selectCategory:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateClassesList",category:"updating",fn:function(){function s(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var r=this;return e.withContext(function(){return n(n(s())._current())._update(),n(r["@classesList"])._updateNodes(),r},function(t){t.fill(r,"updateClassesList",{},e.Browser)})},args:[],source:"updateClassesList\n	TabManager current update.\n	classesList updateNodes",messageSends:["update","current","updateNodes"],referencedClasses:["TabManager"]}),e.Browser),e.addMethod(e.method({selector:"updateMethodsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return n(t["@methodsList"])._contents_(function(i){return e.withContext(function(s){return n(t._methods())._do_(function(l){var c;return e.withContext(function(s){return c=n(i)._li(),r=n(t["@selectedMethod"]).__eq(l),e.assert(r)&&n(c)._class_("selected"),a=c,n(a)._with_(n(l)._selector()),o=n(a)._onClick_(function(){return e.withContext(function(){return t._selectMethod_(l)},function(e){e.fillBlock({},s,4)})})},function(e){e.fillBlock({each:l,li:c},s,2)})})},function(e){e.fillBlock({html:i},s,1)})}),t},function(n){n.fill(t,"updateMethodsList",{},e.Browser)})},args:[],source:"updateMethodsList\n	methodsList contents: [ :html |\n	self methods do: [ :each || li |\n		li := html li.\n		selectedMethod = each ifTrue: [\n		li class: 'selected' ].\n		li\n		with: each selector;\n		onClick: [ self selectMethod: each ]] ]",messageSends:["contents:","do:","methods","li","ifTrue:","=","class:","with:","selector","onClick:","selectMethod:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateProtocolsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return n(t["@protocolsList"])._contents_(function(i){return e.withContext(function(s){return n(t._protocols())._do_(function(l){var c;return e.withContext(function(s){return c=n(i)._li(),r=n(t["@selectedProtocol"]).__eq(l),e.assert(r)&&n(c)._class_("selected"),a=c,n(a)._with_(l),o=n(a)._onClick_(function(){return e.withContext(function(){return t._selectProtocol_(l)},function(e){e.fillBlock({},s,4)})})},function(e){e.fillBlock({each:l,li:c},s,2)})})},function(e){e.fillBlock({html:i},s,1)})}),t},function(n){n.fill(t,"updateProtocolsList",{},e.Browser)})},args:[],source:"updateProtocolsList\n	protocolsList contents: [ :html |\n	self protocols do: [ :each || li |\n		li := html li.\n		selectedProtocol = each ifTrue: [\n		li class: 'selected' ].\n		li\n		with: each;\n		onClick: [ self selectProtocol: each ]] ]",messageSends:["contents:","do:","protocols","li","ifTrue:","=","class:","with:","onClick:","selectProtocol:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateSourceAndButtons",category:"updating",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M,T,A,N,B,P,R,O,j,D,E;return s._disableSaveButton(),n(s["@classButtons"])._contents_(function(t){return e.withContext(function(r){return a=n(t)._button(),r.sendIdx.button=1,n(a)._title_("Create a new class"),n(a)._onClick_(function(){return e.withContext(function(){return s._addNewClass()},function(e){e.fillBlock({},r,2)})}),r.sendIdx["onClick:"]=1,o=n(a)._with_("New class"),r.sendIdx["with:"]=1,i=n(t)._button(),r.sendIdx.button=2,n(i)._with_("Rename class"),r.sendIdx["with:"]=2,l=n(i)._onClick_(function(){return e.withContext(function(){return s._renameClass()},function(e){e.fillBlock({},r,3)})}),r.sendIdx["onClick:"]=2,c=n(t)._button(),r.sendIdx.button=3,n(c)._with_("Copy class"),r.sendIdx["with:"]=3,u=n(c)._onClick_(function(){return e.withContext(function(){return s._copyClass()},function(e){e.fillBlock({},r,4)})}),r.sendIdx["onClick:"]=3,d=n(t)._button(),r.sendIdx.button=4,n(d)._with_("Remove class"),r.sendIdx["with:"]=4,f=n(d)._onClick_(function(){return e.withContext(function(){return s._removeClass()},function(e){e.fillBlock({},r,5)})}),r.sendIdx["onClick:"]=4,h=n(t)._button(),r.sendIdx.button=5,n(h)._with_("References"),r.sendIdx["with:"]=5,m=n(h)._onClick_(function(){return e.withContext(function(){return s._searchClassReferences()},function(e){e.fillBlock({},r,6)})}),r.sendIdx["onClick:"]=5,m},function(e){e.fillBlock({html:t},r,1)})}),r.sendIdx["contents:"]=1,n(s["@methodButtons"])._contents_(function(a){var o,i;return e.withContext(function(r){return g=n(a)._button(),n(g)._with_("Remove method"),r.sendIdx["with:"]=6,p=n(g)._onClick_(function(){return e.withContext(function(){return s._removeMethod()},function(e){e.fillBlock({},r,8)})}),o=n(a)._select(),r.sendIdx.select=1,_=o,n(_)._onChange_(function(){return e.withContext(function(e){return C=n(o)._asJQuery(),e.sendIdx.asJQuery=1,v=n(C)._val(),e.sendIdx.val=1,s._setMethodProtocol_(v)},function(e){e.fillBlock({},r,9)})}),r.sendIdx["onChange:"]=1,T=n(_)._with_(function(){return e.withContext(function(r){return x=n(a)._option(),r.sendIdx.option=1,n(x)._with_("Method protocol"),r.sendIdx["with:"]=8,y=n(x)._at_put_("disabled","disabled"),r.sendIdx["at:put:"]=1,S=n(a)._option(),r.sendIdx.option=2,n(S)._class_("important"),r.sendIdx["class:"]=1,b=n(S)._with_("New..."),r.sendIdx["with:"]=9,t=s["@selectedProtocol"],w=n(t)._isNil(),r.sendIdx.isNil=1,k=n(w)._and_(function(){return e.withContext(function(e){return n(s["@selectedMethod"])._notNil()},function(e){e.fillBlock({},r,11)})}),e.assert(k)&&(t=n(s["@selectedMethod"])._category()),n(s._protocols())._do_(function(s){var o;return e.withContext(function(r){return I=n(a)._option(),r.sendIdx.option=3,o=n(I)._with_(s),r.sendIdx["with:"]=10,M=n(t).__eq(s),e.assert(M)?n(o)._at_put_("selected","selected"):void 0},function(e){e.fillBlock({each:s,option:o},r,13)})})},function(e){e.fillBlock({},r,10)})}),r.sendIdx["with:"]=7,A=n(s["@selectedMethod"])._isNil(),r.sendIdx.isNil=2,e.assert(A)?void 0:(i=n(a)._select(),N=i,n(N)._onChange_(function(){return e.withContext(function(){return s._searchReferencesOf_(n(n(i)._asJQuery())._val())},function(e){e.fillBlock({},r,16)})}),j=n(N)._with_(function(){var t;return e.withContext(function(t){return B=n(a)._option(),t.sendIdx.option=4,n(B)._with_("References"),t.sendIdx["with:"]=12,n(B)._at_put_("disabled","disabled"),t.sendIdx["at:put:"]=3,P=n(B)._at_put_("selected","selected"),R=n(a)._option(),t.sendIdx.option=5,n(R)._class_("important"),O=n(R)._with_(n(s["@selectedMethod"])._selector()),t.sendIdx["with:"]=13,n(n(n(s["@selectedMethod"])._messageSends())._sorted())._do_(function(s){return e.withContext(function(){return n(n(a)._option())._with_(s)},function(e){e.fillBlock({each:s},t,18)})})},function(e){e.fillBlock({option:t},r,17)})}),r.sendIdx["with:"]=11,j)},function(e){e.fillBlock({html:a,protocolSelect:o,referencesSelect:i},r,7)})}),D=n(s["@selectedMethod"])._isNil(),r.sendIdx.isNil=3,e.assert(D)?(s._hideMethodButtons(),E=n(n(s["@selectedClass"])._isNil())._or_(function(){return e.withContext(function(){return n(s["@selectedProtocol"])._notNil()},function(e){e.fillBlock({},r,20)})}),e.assert(E)?(s._hideClassButtons(),r.sendIdx.hideClassButtons=1):s._showClassButtons()):(s._hideClassButtons(),s._showMethodButtons()),n(s["@sourceArea"])._val_(s._source()),s},function(n){n.fill(s,"updateSourceAndButtons",{currentProtocol:t},e.Browser)})},args:[],source:"updateSourceAndButtons\n	| currentProtocol |\n\n	self disableSaveButton.\n	classButtons contents: [ :html |\n		html button\n			title: 'Create a new class';\n			onClick: [ self addNewClass ];\n			with: 'New class'.\n		html button\n			with: 'Rename class';\n			onClick: [ self renameClass ].\n		html button\n			with: 'Copy class';\n			onClick: [ self copyClass ].\n		html button\n			with: 'Remove class';\n			onClick: [ self removeClass ].\n		html button\n			with: 'References';\n			onClick: [ self searchClassReferences ]].\n	methodButtons contents: [ :html | | protocolSelect referencesSelect |\n		html button\n			with: 'Remove method';\n			onClick: [ self removeMethod ].\n		protocolSelect := html select.\n				protocolSelect\n			onChange: [ self setMethodProtocol: protocolSelect asJQuery val ];\n			with: [\n				html option\n					with: 'Method protocol';\n					at: 'disabled' put: 'disabled'.\n				html option\n					class: 'important';\n					with: 'New...'.\n				currentProtocol := selectedProtocol.\n				(currentProtocol isNil and: [ selectedMethod notNil ])\n					ifTrue: [ currentProtocol := selectedMethod category ].\n				self protocols do: [ :each | | option |\n					option := html option with: each.\n					currentProtocol = each ifTrue: [ option at: 'selected' put: 'selected' ] ] ].\n		selectedMethod isNil ifFalse: [\n			referencesSelect := html select.\n						referencesSelect\n				onChange: [ self searchReferencesOf: referencesSelect asJQuery val ];\n				with: [ |option|\n					html option\n						with: 'References';\n						at: 'disabled' put: 'disabled';\n						at: 'selected' put: 'selected'.\n					html option\n						class: 'important';\n						with: selectedMethod selector.\n					selectedMethod messageSends sorted do: [ :each |\n						html option with: each ]] ]].\n	selectedMethod isNil\n		ifTrue: [\n			self hideMethodButtons.\n				(selectedClass isNil or: [ selectedProtocol notNil ])\n					ifTrue: [ self hideClassButtons ]\n					ifFalse: [ self showClassButtons ]]\n		ifFalse: [\n			self hideClassButtons.\n			self showMethodButtons ].\n	sourceArea val: self source",messageSends:["disableSaveButton","contents:","title:","button","onClick:","addNewClass","with:","renameClass","copyClass","removeClass","searchClassReferences","removeMethod","select","onChange:","setMethodProtocol:","val","asJQuery","option","at:put:","class:","ifTrue:","and:","isNil","notNil","category","do:","protocols","=","ifFalse:","searchReferencesOf:","selector","sorted","messageSends","ifTrue:ifFalse:","hideMethodButtons","or:","hideClassButtons","showClassButtons","showMethodButtons","val:","source"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateStatus",category:"updating",fn:function(){var s=this;return e.withContext(function(){var r,a,o;return r=n(n(s["@sourceArea"])._val()).__eq(s._source()),e.assert(r)?(a=s["@saveButton"],($receiver=a)==t||null==$receiver||n(s["@saveButton"])._at_put_("disabled",!0),s["@unsavedChanges"]=!1,s["@unsavedChanges"]):(o=s["@saveButton"],($receiver=o)==t||null==$receiver||n(s["@saveButton"])._removeAt_("disabled"),s["@unsavedChanges"]=!0,s["@unsavedChanges"]),s},function(t){t.fill(s,"updateStatus",{},e.Browser)})},args:[],source:"updateStatus\n	sourceArea val = self source\n		ifTrue: [\n			saveButton ifNotNil: [\n				saveButton at: 'disabled' put: true ].\n				unsavedChanges := false ]\n		ifFalse: [\n			saveButton ifNotNil: [\n				saveButton removeAt: 'disabled' ].\n			unsavedChanges := true ]",messageSends:["ifTrue:ifFalse:","=","val","source","ifNotNil:","at:put:","removeAt:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"updateTabsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b;return n(t["@tabsList"])._contents_(function(w){var k;return e.withContext(function(s){return k=n(w)._li(),s.sendIdx.li=1,r=n(t["@selectedTab"]).__eq("instance"),s.sendIdx["="]=1,e.assert(r)&&(n(k)._class_("selected"),s.sendIdx["class:"]=1),a=k,n(a)._with_(function(){return e.withContext(function(e){return o=n(w)._span(),e.sendIdx.span=1,n(o)._class_("ltab"),e.sendIdx["class:"]=2,i=n(w)._span(),e.sendIdx.span=2,n(i)._class_("mtab"),e.sendIdx["class:"]=3,l=n(i)._with_("Instance"),e.sendIdx["with:"]=2,c=n(w)._span(),e.sendIdx.span=3,n(c)._class_("rtab")},function(e){e.fillBlock({},s,3)})}),s.sendIdx["with:"]=1,u=n(a)._onClick_(function(){return e.withContext(function(e){return t._selectTab_("instance")},function(e){e.fillBlock({},s,4)})}),s.sendIdx["onClick:"]=1,k=n(w)._li(),s.sendIdx.li=2,d=n(t["@selectedTab"]).__eq("class"),s.sendIdx["="]=2,e.assert(d)&&(n(k)._class_("selected"),s.sendIdx["class:"]=5),f=k,n(f)._with_(function(){return e.withContext(function(e){return h=n(w)._span(),e.sendIdx.span=4,n(h)._class_("ltab"),e.sendIdx["class:"]=6,m=n(w)._span(),e.sendIdx.span=5,n(m)._class_("mtab"),e.sendIdx["class:"]=7,g=n(m)._with_("Class"),e.sendIdx["with:"]=4,p=n(w)._span(),e.sendIdx.span=6,n(p)._class_("rtab")},function(e){e.fillBlock({},s,6)})}),s.sendIdx["with:"]=3,_=n(f)._onClick_(function(){return e.withContext(function(e){return t._selectTab_("class")},function(e){e.fillBlock({},s,7)})}),s.sendIdx["onClick:"]=2,k=n(w)._li(),C=n(t["@selectedTab"]).__eq("comment"),e.assert(C)&&(n(k)._class_("selected"),s.sendIdx["class:"]=9),v=k,n(v)._with_(function(){return e.withContext(function(e){return x=n(w)._span(),e.sendIdx.span=7,n(x)._class_("ltab"),e.sendIdx["class:"]=10,y=n(w)._span(),e.sendIdx.span=8,n(y)._class_("mtab"),e.sendIdx["class:"]=11,S=n(y)._with_("Comment"),n(n(w)._span())._class_("rtab")},function(e){e.fillBlock({},s,9)})}),s.sendIdx["with:"]=5,b=n(v)._onClick_(function(){return e.withContext(function(){return t._selectTab_("comment")},function(e){e.fillBlock({},s,10)})})},function(e){e.fillBlock({html:w,li:k},s,1)})}),t},function(n){n.fill(t,"updateTabsList",{},e.Browser)})},args:[],source:"updateTabsList\n	tabsList contents: [ :html || li |\n	li := html li.\n	selectedTab = #instance ifTrue: [ li class: 'selected' ].\n	li\n		with: [\n		html span class: 'ltab'.\n		html span class: 'mtab'; with: 'Instance'.\n		html span class: 'rtab' ];\n		onClick: [ self selectTab: #instance ].\n	li := html li.\n	selectedTab = #class ifTrue: [ li class: 'selected' ].\n	li\n		with: [\n		html span class: 'ltab'.\n		html span class: 'mtab'; with: 'Class'.\n		html span class: 'rtab' ];\n		onClick: [ self selectTab: #class ].\n	li := html li.\n	selectedTab = #comment ifTrue: [ li class: 'selected' ].\n	li\n		with: [\n		html span class: 'ltab'.\n		html span class: 'mtab'; with: 'Comment'.\n		html span class: 'rtab' ];\n		onClick: [ self selectTab: #comment ]]",messageSends:["contents:","li","ifTrue:","=","class:","with:","span","onClick:","selectTab:"],referencedClasses:[]}),e.Browser),e.addMethod(e.method({selector:"open",category:"convenience",fn:function(){var t=this;return e.withContext(function(){return n(t._new())._open(),t},function(n){n.fill(t,"open",{},e.Browser.klass)})},args:[],source:"open\n	self new open",messageSends:["open","new"],referencedClasses:[]}),e.Browser.klass),e.addMethod(e.method({selector:"openOn:",category:"convenience",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._open(),n(e)._selectCategory_(n(t)._category()),r=n(e)._selectClass_(t),a=r},function(n){n.fill(s,"openOn:",{aClass:t},e.Browser.klass)})},args:["aClass"],source:"openOn: aClass\n	^ self new\n	open;\n	selectCategory: aClass category;\n	selectClass: aClass",messageSends:["open","new","selectCategory:","category","selectClass:"],referencedClasses:[]}),e.Browser.klass),e.addClass("Debugger",e.TabWidget,["error","selectedContext","sourceArea","ul","ul2","inspector","saveButton","unsavedChanges","selectedVariable","selectedVariableName","inspectButton"],"IDE"),e.addMethod(e.method({selector:"allVariables",category:"accessing",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(t){var o,i,l,c;return r=n(s())._new(),o=a._receiver(),t.sendIdx.receiver=1,i=n(o)._class(),l=n(i)._allInstanceVariableNames(),n(l)._do_(function(s){return e.withContext(function(e){return n(r)._at_put_(s,n(a._receiver())._instVarAt_(s))},function(e){e.fillBlock({each:s},t,1)})}),n(n(a["@selectedContext"])._locals())._keysAndValuesDo_(function(s,a){return e.withContext(function(){return n(r)._at_put_(s,a)},function(e){e.fillBlock({key:s,value:a},t,2)})}),c=r},function(t){t.fill(a,"allVariables",{all:r},e.Debugger)})},args:[],source:"allVariables\n	| all |\n	all := Dictionary new.\n\n	self receiver class allInstanceVariableNames do: [ :each |\n		all at: each put: (self receiver instVarAt: each) ].\n	\n	selectedContext locals keysAndValuesDo: [ :key :value |\n		all at: key put: value ].\n	\n	^ all",messageSends:["new","do:","allInstanceVariableNames","class","receiver","at:put:","instVarAt:","keysAndValuesDo:","locals"],referencedClasses:["Dictionary"]}),e.Debugger),e.addMethod(e.method({selector:"canBeClosed",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"canBeClosed",{},e.Debugger)})},args:[],source:"canBeClosed\n	^ true",messageSends:[],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"error",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@error"]},function(n){n.fill(t,"error",{},e.Debugger)})},args:[],source:"error\n	^ error",messageSends:[],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"error:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@error"]=t,n},function(s){s.fill(n,"error:",{anError:t},e.Debugger)})},args:["anError"],source:"error: anError\n	error := anError",messageSends:[],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Debugger.superclass.fn.prototype._initialize.apply(n(t),[]),n(t["@unsavedChanges"]).__eq(!1),t},function(n){n.fill(t,"initialize",{},e.Debugger)})},args:[],source:"initialize\n	super initialize.\n	unsavedChanges = false",messageSends:["initialize","="],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"inspectSelectedVariable",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@selectedVariable"])._inspect(),t},function(n){n.fill(t,"inspectSelectedVariable",{},e.Debugger)})},args:[],source:"inspectSelectedVariable\n	selectedVariable inspect",messageSends:["inspect"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"[ Debugger ]"},function(n){n.fill(t,"label",{},e.Debugger)})},args:[],source:"label\n	^ '[ Debugger ]'",messageSends:[],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"method",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@selectedContext"])._method()},function(n){n.fill(t,"method",{},e.Debugger)})},args:[],source:"method\n	^ selectedContext method",messageSends:["method"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"proceed",category:"actions",fn:function(){var t=this;
return e.withContext(function(){return t._close(),n(n(t["@selectedContext"])._receiver())._perform_withArguments_(n(t["@selectedContext"])._selector(),n(t["@selectedContext"])._temps()),t},function(n){n.fill(t,"proceed",{},e.Debugger)})},args:[],source:"proceed\n	self close.\n	selectedContext receiver perform: selectedContext selector withArguments: selectedContext temps",messageSends:["close","perform:withArguments:","receiver","selector","temps"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"receiver",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t["@selectedContext"])._receiver()},function(n){n.fill(t,"receiver",{},e.Debugger)})},args:[],source:"receiver\n	^ selectedContext receiver",messageSends:["receiver"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"renderBottomPanelOn:",category:"rendering",fn:function(s){function r(){return e.SourceArea||("undefined"==typeof SourceArea?t:SourceArea)}var a=this;return e.withContext(function(t){var o,i;return o=n(s)._div(),t.sendIdx.div=1,n(o)._class_("amber_sourceCode debugger"),t.sendIdx["class:"]=1,i=n(o)._with_(function(){return e.withContext(function(){return a["@sourceArea"]=n(r())._new(),a["@sourceArea"],n(a["@sourceArea"])._renderOn_(s)},function(e){e.fillBlock({},t,1)})}),a["@ul2"]=n(n(s)._ul())._class_("amber_column debugger variables"),t.sendIdx["class:"]=2,a["@inspector"]=n(n(s)._div())._class_("amber_column debugger inspector"),n(a["@sourceArea"])._onKeyUp_(function(){return e.withContext(function(){return a._updateStatus()},function(e){e.fillBlock({},t,2)})}),a},function(t){t.fill(a,"renderBottomPanelOn:",{html:s},e.Debugger)})},args:["html"],source:"renderBottomPanelOn: html\n	html div\n		class: 'amber_sourceCode debugger';\n		with: [\n			sourceArea := SourceArea new.\n			sourceArea renderOn: html ].\n	ul2 := html ul class: 'amber_column debugger variables'.\n	inspector := html div class: 'amber_column debugger inspector'.\n	sourceArea\n		onKeyUp: [ self updateStatus ]",messageSends:["class:","div","with:","new","renderOn:","ul","onKeyUp:","updateStatus"],referencedClasses:["SourceArea"]}),e.Debugger),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){var e;return n._renderTopPanelOn_(t),e=n._renderBottomPanelOn_(t),n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.Debugger)})},args:["html"],source:"renderBoxOn: html\n	self\n		renderTopPanelOn: html;\n		renderBottomPanelOn: html",messageSends:["renderTopPanelOn:","renderBottomPanelOn:"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m,g,p,_,C,v;return a=n(t)._button(),r.sendIdx.button=1,n(a)._with_("Save"),r.sendIdx["with:"]=1,o=n(a)._onClick_(function(){return e.withContext(function(){return s._save()},function(e){e.fillBlock({},r,1)})}),r.sendIdx["onClick:"]=1,s["@saveButton"]=o,i=n(t)._button(),r.sendIdx.button=2,n(i)._with_("DoIt"),r.sendIdx["with:"]=2,l=n(i)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._doIt()},function(e){e.fillBlock({},r,2)})}),r.sendIdx["onClick:"]=2,c=n(t)._button(),r.sendIdx.button=3,n(c)._with_("PrintIt"),r.sendIdx["with:"]=3,u=n(c)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._printIt()},function(e){e.fillBlock({},r,3)})}),r.sendIdx["onClick:"]=3,d=n(t)._button(),r.sendIdx.button=4,n(d)._with_("InspectIt"),r.sendIdx["with:"]=4,f=n(d)._onClick_(function(){return e.withContext(function(){return n(s["@sourceArea"])._inspectIt()},function(e){e.fillBlock({},r,4)})}),r.sendIdx["onClick:"]=4,h=n(t)._button(),r.sendIdx.button=5,n(h)._with_("Proceed"),r.sendIdx["with:"]=5,m=n(h)._onClick_(function(){return e.withContext(function(){return s._proceed()},function(e){e.fillBlock({},r,5)})}),r.sendIdx["onClick:"]=5,g=n(t)._button(),r.sendIdx.button=6,n(g)._with_("Abandon"),r.sendIdx["with:"]=6,p=n(g)._onClick_(function(){return e.withContext(function(){return s._close()},function(e){e.fillBlock({},r,6)})}),r.sendIdx["onClick:"]=6,_=n(t)._button(),n(_)._class_("amber_button debugger inspect"),n(_)._with_("Inspect"),C=n(_)._onClick_(function(){return e.withContext(function(){return s._inspectSelectedVariable()},function(e){e.fillBlock({},r,7)})}),s["@inspectButton"]=C,s._updateSourceArea(),s._updateStatus(),s._updateVariablesList(),v=s._updateInspector(),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.Debugger)})},args:["html"],source:"renderButtonsOn: html\n	saveButton := html button\n		with: 'Save';\n		onClick: [ self save ].\n	html button\n		with: 'DoIt';\n		onClick: [ sourceArea doIt ].\n	html button\n		with: 'PrintIt';\n		onClick: [ sourceArea printIt ].\n	html button\n		with: 'InspectIt';\n		onClick: [ sourceArea inspectIt ].\n	html button\n		with: 'Proceed';\n		onClick: [ self proceed ].\n	html button\n		with: 'Abandon';\n		onClick: [ self close ].\n	inspectButton := html button\n		class: 'amber_button debugger inspect';\n		with: 'Inspect';\n		onClick: [ self inspectSelectedVariable ].\n	self\n		updateSourceArea;\n		updateStatus;\n		updateVariablesList;\n		updateInspector",messageSends:["with:","button","onClick:","save","doIt","printIt","inspectIt","proceed","close","class:","inspectSelectedVariable","updateSourceArea","updateStatus","updateVariablesList","updateInspector"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"renderContext:on:",category:"rendering",fn:function(s,r){var a,o=this;return e.withContext(function(i){var l,c,u,d;return a=n(r)._li(),l=n(o["@selectedContext"]).__eq(s),e.assert(l)&&n(a)._class_("selected"),c=a,n(c)._with_(n(s)._asString()),u=n(c)._onClick_(function(){return e.withContext(function(){return o._selectContext_(s)},function(e){e.fillBlock({},i,2)})}),d=n(s)._outerContext(),i.sendIdx.outerContext=1,($receiver=d)==t||null==$receiver||o._renderContext_on_(n(s)._outerContext(),r),o},function(t){t.fill(o,"renderContext:on:",{aContext:s,html:r,li:a},e.Debugger)})},args:["aContext","html"],source:"renderContext: aContext on: html\n	| li |\n	li := html li.\n	selectedContext = aContext ifTrue: [\n		li class: 'selected' ].\n	li\n		with: aContext asString;\n		onClick: [ self selectContext: aContext ].\n	aContext outerContext ifNotNil: [ self renderContext: aContext outerContext on: html ]",messageSends:["li","ifTrue:","=","class:","with:","asString","onClick:","selectContext:","ifNotNil:","outerContext","renderContext:on:"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"renderTopPanelOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m;return a=s._error(),r.sendIdx.error=1,s["@selectedContext"]=n(a)._context(),r.sendIdx.context=1,o=n(t)._div(),r.sendIdx.div=1,n(o)._class_("top"),r.sendIdx["class:"]=1,m=n(o)._with_(function(){return e.withContext(function(r){return i=n(t)._div(),n(i)._class_("label"),r.sendIdx["class:"]=2,l=i,c=s._error(),r.sendIdx.error=2,u=n(c)._messageText(),d=n(l)._with_(u),r.sendIdx["with:"]=2,f=n(t)._ul(),n(f)._class_("amber_column debugger contexts"),h=n(f)._with_(function(){return e.withContext(function(){return s._renderContext_on_(n(s._error())._context(),t)},function(e){e.fillBlock({},r,2)})}),s["@ul"]=h,s["@ul"]},function(e){e.fillBlock({},r,1)})}),r.sendIdx["with:"]=1,s},function(n){n.fill(s,"renderTopPanelOn:",{html:t},e.Debugger)})},args:["html"],source:"renderTopPanelOn: html\n	selectedContext := self error context.\n	html div\n		class: 'top';\n		with: [\n			html div\n				class: 'label';\n				with: self error messageText.\n			ul := html ul\n				class: 'amber_column debugger contexts';\n				with: [ self renderContext: self error context on: html ]]",messageSends:["context","error","class:","div","with:","messageText","ul","renderContext:on:"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"save",category:"actions",fn:function(){var t,s=this;return e.withContext(function(e){var r,a,o,i;return r=n(s["@selectedContext"])._receiver(),e.sendIdx.receiver=1,a=n(r)._class(),e.sendIdx["class"]=1,o=n(a)._methodDictionary(),i=n(o)._at_(n(s["@selectedContext"])._selector()),t=n(i)._category(),n(n(n(s["@selectedContext"])._receiver())._class())._compile_category_(n(s["@sourceArea"])._val(),t),s._updateStatus(),s},function(n){n.fill(s,"save",{protocol:t},e.Debugger)})},args:[],source:"save\n	| protocol |\n	protocol := (selectedContext receiver class methodDictionary at: selectedContext selector) category.\n	selectedContext receiver class compile: sourceArea val category: protocol.\n	self updateStatus",messageSends:["category","at:","methodDictionary","class","receiver","selector","compile:category:","val","updateStatus"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"selectContext:",category:"actions",fn:function(n){var s=this;return e.withContext(function(){var e;return s["@selectedContext"]=n,s["@selectedVariable"]=t,s["@selectedVariableName"]=t,s._updateContextsList(),s._updateSourceArea(),s._updateInspector(),s._updateVariablesList(),e=s._updateStatus(),s},function(t){t.fill(s,"selectContext:",{aContext:n},e.Debugger)})},args:["aContext"],source:"selectContext: aContext\n	selectedContext := aContext.\n	selectedVariable := nil.\n	selectedVariableName := nil.\n	self\n		updateContextsList;\n		updateSourceArea;\n		updateInspector;\n		updateVariablesList;\n		updateStatus",messageSends:["updateContextsList","updateSourceArea","updateInspector","updateVariablesList","updateStatus"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"selectVariable:named:",category:"actions",fn:function(t,s){var r=this;return e.withContext(function(a){return r["@selectedVariable"]=t,r["@selectedVariableName"]=s,n(r["@inspector"])._contents_(function(s){return e.withContext(function(){return n(s)._with_(n(t)._printString())},function(e){e.fillBlock({html:s},a,1)})}),r._updateVariablesList(),r},function(n){n.fill(r,"selectVariable:named:",{anObject:t,aString:s},e.Debugger)})},args:["anObject","aString"],source:"selectVariable: anObject named: aString\n	\n	selectedVariable := anObject.\n	selectedVariableName := aString.\n	inspector contents: [ :html | html with: anObject printString ].\n	self updateVariablesList",messageSends:["contents:","with:","printString","updateVariablesList"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"source",category:"accessing",fn:function(){var s=this;return e.withContext(function(e){var r,a;return r=s._method(),e.sendIdx.method=1,a=($receiver=r)==t||null==$receiver?"Method doesn't exist!":n(s._method())._source()},function(t){t.fill(s,"source",{},e.Debugger)})},args:[],source:"source\n	^ self method\n		ifNil: [ 'Method doesn''t exist!' ]\n		ifNotNil: [ self method source ]",messageSends:["ifNil:ifNotNil:","method","source"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"updateContextsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){return n(t["@ul"])._contents_(function(r){return e.withContext(function(){return t._renderContext_on_(n(t._error())._context(),r)},function(e){e.fillBlock({html:r},s,1)})}),t},function(n){n.fill(t,"updateContextsList",{},e.Debugger)})},args:[],source:"updateContextsList\n	ul contents: [ :html |\n		self renderContext: self error context on: html ]",messageSends:["contents:","renderContext:on:","context","error"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"updateInspector",category:"updating",fn:function(){var t=this;return e.withContext(function(s){return n(t["@inspector"])._contents_(function(t){return e.withContext(function(){},function(e){e.fillBlock({html:t},s,1)})}),t},function(n){n.fill(t,"updateInspector",{},e.Debugger)})},args:[],source:"updateInspector\n	inspector contents: [ :html | ]",messageSends:["contents:"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"updateSourceArea",category:"updating",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._val_(t._source()),t},function(n){n.fill(t,"updateSourceArea",{},e.Debugger)})},args:[],source:"updateSourceArea\n	sourceArea val: self source",messageSends:["val:","source"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"updateStatus",category:"updating",fn:function(){var s=this;return e.withContext(function(){var r,a,o;return r=n(n(s["@sourceArea"])._val()).__eq(s._source()),e.assert(r)?(a=s["@saveButton"],($receiver=a)==t||null==$receiver||n(s["@saveButton"])._at_put_("disabled",!0),s["@unsavedChanges"]=!1,s["@unsavedChanges"]):(o=s["@saveButton"],($receiver=o)==t||null==$receiver||n(s["@saveButton"])._removeAt_("disabled"),s["@unsavedChanges"]=!0,s["@unsavedChanges"]),s},function(t){t.fill(s,"updateStatus",{},e.Debugger)})},args:[],source:"updateStatus\n	sourceArea val = self source\n		ifTrue: [\n			saveButton ifNotNil: [\n				saveButton at: 'disabled' put: true ].\n			unsavedChanges := false ]\n		ifFalse: [\n			saveButton ifNotNil: [\n				saveButton removeAt: 'disabled' ].\n			unsavedChanges := true ]",messageSends:["ifTrue:ifFalse:","=","val","source","ifNotNil:","at:put:","removeAt:"],referencedClasses:[]}),e.Debugger),e.addMethod(e.method({selector:"updateVariablesList",category:"updating",fn:function(){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d;return n(s["@ul2"])._contents_(function(t){var d;return e.withContext(function(r){return a=n(t)._li(),r.sendIdx.li=1,n(a)._with_("self"),r.sendIdx["with:"]=1,o=n(a)._onClick_(function(){return e.withContext(function(e){return s._selectVariable_named_(s._receiver(),"self")},function(e){e.fillBlock({},r,2)})}),r.sendIdx["onClick:"]=1,d=o,i=n(s["@selectedVariableName"]).__eq("self"),r.sendIdx["="]=1,e.assert(i)&&(n(d)._class_("selected"),r.sendIdx["class:"]=1),n(s._allVariables())._keysAndValuesDo_(function(a,o){return e.withContext(function(r){return l=n(t)._li(),n(l)._with_(a),c=n(l)._onClick_(function(){return e.withContext(function(){return s._selectVariable_named_(o,a)},function(e){e.fillBlock({},r,5)})}),d=c,u=n(s["@selectedVariableName"]).__eq(a),e.assert(u)?n(d)._class_("selected"):void 0},function(e){e.fillBlock({key:a,value:o},r,4)})})},function(e){e.fillBlock({html:t,li:d},r,1)})}),d=s["@selectedVariable"],($receiver=d)==t||null==$receiver?n(s["@inspectButton"])._at_put_("disabled",!0):n(s["@inspectButton"])._removeAt_("disabled"),s},function(t){t.fill(s,"updateVariablesList",{},e.Debugger)})},args:[],source:"updateVariablesList\n	ul2 contents: [ :html | | li |\n		li := html li\n			with: 'self';\n			onClick: [ self selectVariable: self receiver named: 'self' ].\n				selectedVariableName = 'self' ifTrue: [ li class: 'selected' ].\n		\n		self allVariables keysAndValuesDo: [ :key :value |\n						li := html li\n							with: key;\n							onClick: [ self selectVariable: value named: key ].\n						selectedVariableName = key ifTrue: [\n							li class: 'selected' ] ] ].\n							\n	selectedVariable\n		ifNil: [ inspectButton at: 'disabled' put: true ]\n		ifNotNil: [ inspectButton removeAt: 'disabled' ]",messageSends:["contents:","with:","li","onClick:","selectVariable:named:","receiver","ifTrue:","=","class:","keysAndValuesDo:","allVariables","ifNil:ifNotNil:","at:put:","removeAt:"],referencedClasses:[]}),e.Debugger),e.addClass("IDETranscript",e.TabWidget,["textarea"],"IDE"),e.addMethod(e.method({selector:"clear",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t["@textarea"])._asJQuery())._val_(""),t},function(n){n.fill(t,"clear",{},e.IDETranscript)})},args:[],source:"clear\n	textarea asJQuery val: ''",messageSends:["val:","asJQuery"],referencedClasses:[]}),e.IDETranscript),e.addMethod(e.method({selector:"cr",category:"actions",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(e){var t;return t=n(r["@textarea"])._asJQuery(),e.sendIdx.asJQuery=1,n(t)._val_(n(n(n(r["@textarea"])._asJQuery())._val()).__comma(n(s())._cr())),r},function(t){t.fill(r,"cr",{},e.IDETranscript)})},args:[],source:"cr\n	textarea asJQuery val: textarea asJQuery val, String cr.",messageSends:["val:","asJQuery",",","val","cr"],referencedClasses:["String"]}),e.IDETranscript),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"Transcript"},function(n){n.fill(t,"label",{},e.IDETranscript)})},args:[],source:"label\n	^ 'Transcript'",messageSends:[],referencedClasses:[]}),e.IDETranscript),e.addMethod(e.method({selector:"open",category:"actions",fn:function(){function s(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var r=this;return e.withContext(function(){var e,t;return e=n(s())._current(),n(e)._open(),t=n(e)._selectTab_(r),r},function(t){t.fill(r,"open",{},e.IDETranscript)})},args:[],source:"open\n	TabManager current\n	open;\n	selectTab: self",messageSends:["open","current","selectTab:"],referencedClasses:["TabManager"]}),e.IDETranscript),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){var e,r;return s["@textarea"]=n(t)._textarea(),e=s["@textarea"],n(e)._class_("amber_transcript"),r=n(e)._at_put_("spellcheck","false"),s},function(n){n.fill(s,"renderBoxOn:",{html:t},e.IDETranscript)})},args:["html"],source:"renderBoxOn: html\n	textarea := html textarea.\n	textarea\n	class: 'amber_transcript';\n	at: 'spellcheck' put: 'false'",messageSends:["textarea","class:","at:put:"],referencedClasses:[]}),e.IDETranscript),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=n(t)._button(),n(a)._with_("Clear transcript"),o=n(a)._onClick_(function(){return e.withContext(function(){return s._clear()},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.IDETranscript)})},args:["html"],source:"renderButtonsOn: html\n	html button\n	with: 'Clear transcript';\n	onClick: [ self clear ]",messageSends:["with:","button","onClick:","clear"],referencedClasses:[]}),e.IDETranscript),e.addMethod(e.method({selector:"show:",category:"actions",fn:function(s){var r=this;return e.withContext(function(e){var a,o;return a=r["@textarea"],(($receiver=a)==t||null==$receiver)&&r._open(),o=n(r["@textarea"])._asJQuery(),e.sendIdx.asJQuery=1,n(o)._val_(n(n(n(r["@textarea"])._asJQuery())._val()).__comma(n(s)._asString())),r},function(t){t.fill(r,"show:",{anObject:s},e.IDETranscript)})},args:["anObject"],source:"show: anObject\n	textarea ifNil: [ self open ].\n	textarea asJQuery val: textarea asJQuery val, anObject asString.",messageSends:["ifNil:","open","val:","asJQuery",",","val","asString"],referencedClasses:[]}),e.IDETranscript),e.IDETranscript.klass.iVarNames=["current"],e.addMethod(e.method({selector:"current",category:"instance creation",fn:function(){var s=this;return e.withContext(function(){var r,a;return r=s["@current"],($receiver=r)==t||null==$receiver?(s["@current"]=e.IDETranscript.klass.superclass.fn.prototype._new.apply(n(s),[]),a=s["@current"]):a=r,a},function(t){t.fill(s,"current",{},e.IDETranscript.klass)})},args:[],source:"current\n	^ current ifNil: [ current := super new ]",messageSends:["ifNil:","new"],referencedClasses:[]}),e.IDETranscript.klass),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}var r=this;return e.withContext(function(){return n(s())._register_(r._current()),r},function(t){t.fill(r,"initialize",{},e.IDETranscript.klass)})},args:[],source:"initialize\n	Transcript register: self current",messageSends:["register:","current"],referencedClasses:["Transcript"]}),e.IDETranscript.klass),e.addMethod(e.method({selector:"new",category:"instance creation",fn:function(){var t=this;return e.withContext(function(){return t._shouldNotImplement(),t},function(n){n.fill(t,"new",{},e.IDETranscript.klass)})},args:[],source:"new\n	self shouldNotImplement",messageSends:["shouldNotImplement"],referencedClasses:[]}),e.IDETranscript.klass),e.addMethod(e.method({selector:"open",category:"instance creation",fn:function(){function s(){return e.TabManager||("undefined"==typeof TabManager?t:TabManager)}var r=this;return e.withContext(function(e){var t,a;return t=n(s())._current(),e.sendIdx.current=1,n(t)._open(),a=n(t)._selectTab_(r._current()),r},function(t){t.fill(r,"open",{},e.IDETranscript.klass)})},args:[],source:"open\n	TabManager current\n	open;\n	selectTab: self current",messageSends:["open","current","selectTab:"],referencedClasses:["TabManager"]}),e.IDETranscript.klass),e.addClass("Inspector",e.TabWidget,["label","variables","object","selectedVariable","variablesList","valueTextarea","diveButton","sourceArea"],"IDE"),e.addMethod(e.method({selector:"canBeClosed",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"canBeClosed",{},e.Inspector)})},args:[],source:"canBeClosed\n	^ true",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"dive",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(n(t._variables())._at_(t._selectedVariable()))._inspect(),t},function(n){n.fill(t,"dive",{},e.Inspector)})},args:[],source:"dive\n	(self variables at: self selectedVariable) inspect",messageSends:["inspect","at:","variables","selectedVariable"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"inspect:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return s["@object"]=t,s["@variables"]=[],n(s["@object"])._inspectOn_(s),s},function(n){n.fill(s,"inspect:",{anObject:t},e.Inspector)})},args:["anObject"],source:"inspect: anObject\n	object := anObject.\n	variables := #().\n	object inspectOn: self",messageSends:["inspectOn:"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@label"],s=($receiver=e)==t||null==$receiver?"Inspector (nil)":e},function(t){t.fill(n,"label",{},e.Inspector)})},args:[],source:"label\n	^ label ifNil: [ 'Inspector (nil)' ]",messageSends:["ifNil:"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"refresh",category:"actions",fn:function(){var t=this;return e.withContext(function(){var e;return t._inspect_(t["@object"]),t._updateVariablesList(),e=t._updateValueTextarea(),t},function(n){n.fill(t,"refresh",{},e.Inspector)})},args:[],source:"refresh\n	self\n		inspect: object;\n		updateVariablesList;\n		updateValueTextarea",messageSends:["inspect:","updateVariablesList","updateValueTextarea"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"renderBottomPanelOn:",category:"rendering",fn:function(s){function r(){return e.SourceArea||("undefined"==typeof SourceArea?t:SourceArea)}var a=this;return e.withContext(function(t){var o,i,l,c;return o=n(s)._div(),n(o)._class_("amber_sourceCode"),c=n(o)._with_(function(){return e.withContext(function(t){return i=n(r())._new(),n(i)._receiver_(a["@object"]),n(i)._onDoIt_(function(){return e.withContext(function(){return a._refresh()},function(e){e.fillBlock({},t,2)})}),l=n(i)._yourself(),a["@sourceArea"]=l,a["@sourceArea"],n(a["@sourceArea"])._renderOn_(s)},function(e){e.fillBlock({},t,1)})}),a},function(t){t.fill(a,"renderBottomPanelOn:",{html:s},e.Inspector)})},args:["html"],source:"renderBottomPanelOn: html\n	html div\n	class: 'amber_sourceCode';\n	with: [\n		sourceArea := SourceArea new\n		receiver: object;\n		onDoIt: [ self refresh ];\n		yourself.\n			sourceArea renderOn: html ]",messageSends:["class:","div","with:","receiver:","new","onDoIt:","refresh","yourself","renderOn:"],referencedClasses:["SourceArea"]}),e.Inspector),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){var e;return n._renderTopPanelOn_(t),e=n._renderBottomPanelOn_(t),n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.Inspector)})},args:["html"],source:"renderBoxOn: html\n	self\n		renderTopPanelOn: html;\n		renderBottomPanelOn: html",messageSends:["renderTopPanelOn:","renderBottomPanelOn:"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f;return a=n(t)._button(),r.sendIdx.button=1,n(a)._with_("DoIt"),r.sendIdx["with:"]=1,i=n(a)._onClick_(function(){return e.withContext(function(e){return o=s._sourceArea(),e.sendIdx.sourceArea=1,n(o)._doIt()},function(e){e.fillBlock({},r,1)})}),r.sendIdx["onClick:"]=1,l=n(t)._button(),r.sendIdx.button=2,n(l)._with_("PrintIt"),r.sendIdx["with:"]=2,u=n(l)._onClick_(function(){return e.withContext(function(e){return c=s._sourceArea(),e.sendIdx.sourceArea=2,n(c)._printIt()},function(e){e.fillBlock({},r,2)})}),r.sendIdx["onClick:"]=2,d=n(t)._button(),n(d)._with_("InspectIt"),f=n(d)._onClick_(function(){return e.withContext(function(){return n(s._sourceArea())._inspectIt()},function(e){e.fillBlock({},r,3)})}),s._updateButtons(),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.Inspector)})},args:["html"],source:"renderButtonsOn: html\n	html button\n		with: 'DoIt';\n		onClick: [ self sourceArea doIt ].\n	html button\n		with: 'PrintIt';\n		onClick: [ self sourceArea printIt ].\n	html button\n		with: 'InspectIt';\n		onClick: [ self sourceArea inspectIt ].\n	self updateButtons",messageSends:["with:","button","onClick:","doIt","sourceArea","printIt","inspectIt","updateButtons"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"renderTopPanelOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m,g;return a=n(t)._div(),r.sendIdx.div=1,n(a)._class_("top"),r.sendIdx["class:"]=1,m=n(a)._with_(function(){return e.withContext(function(r){return s["@variablesList"]=n(n(t)._ul())._class_("amber_column variables"),r.sendIdx["class:"]=2,s["@variablesList"],o=n(t)._textarea(),n(o)._class_("amber_column value"),r.sendIdx["class:"]=3,i=n(o)._at_put_("readonly","readonly"),s["@valueTextarea"]=i,s["@valueTextarea"],l=n(t)._div(),r.sendIdx.div=2,n(l)._class_("amber_tabs inspector"),r.sendIdx["class:"]=4,h=n(l)._with_(function(){return e.withContext(function(r){return c=n(t)._button(),r.sendIdx.button=1,n(c)._class_("amber_button inspector refresh"),r.sendIdx["class:"]=5,n(c)._with_("Refresh"),r.sendIdx["with:"]=3,u=n(c)._onClick_(function(){return e.withContext(function(){return s._refresh()},function(e){e.fillBlock({},r,3)})}),r.sendIdx["onClick:"]=1,d=n(t)._button(),n(d)._class_("amber_button inspector dive"),r.sendIdx["class:"]=6,n(d)._with_("Dive"),f=n(d)._onClick_(function(){return e.withContext(function(){return s._dive()},function(e){e.fillBlock({},r,4)})}),s["@diveButton"]=f,s["@diveButton"]},function(e){e.fillBlock({},r,2)})}),r.sendIdx["with:"]=2,n(n(t)._div())._class_("amber_clear")},function(e){e.fillBlock({},r,1)})}),r.sendIdx["with:"]=1,s._updateVariablesList(),g=s._updateValueTextarea(),s},function(n){n.fill(s,"renderTopPanelOn:",{html:t},e.Inspector)})},args:["html"],source:"renderTopPanelOn: html\n	html div\n		class: 'top';\n		with: [\n			variablesList := html ul class: 'amber_column variables'.\n			valueTextarea := html textarea class: 'amber_column value'; at: 'readonly' put: 'readonly'.\n			html div class: 'amber_tabs inspector'; with: [\n				html button\n					class: 'amber_button inspector refresh';\n					with: 'Refresh';\n					onClick: [ self refresh ].\n				diveButton := html button\n					class: 'amber_button inspector dive';\n					with: 'Dive';\n					onClick: [ self dive ]].\n			html div class: 'amber_clear' ].\n	self\n		updateVariablesList;\n		updateValueTextarea.",messageSends:["class:","div","with:","ul","textarea","at:put:","button","onClick:","refresh","dive","updateVariablesList","updateValueTextarea"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"selectVariable:",category:"updating",fn:function(t){var n=this;return e.withContext(function(){var e;return n._selectedVariable_(t),n._updateVariablesList(),n._updateValueTextarea(),e=n._updateButtons(),n},function(s){s.fill(n,"selectVariable:",{aString:t},e.Inspector)})},args:["aString"],source:"selectVariable: aString\n	self selectedVariable: aString.\n	self\n		updateVariablesList;\n		updateValueTextarea;\n		updateButtons",messageSends:["selectedVariable:","updateVariablesList","updateValueTextarea","updateButtons"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"selectedVariable",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selectedVariable"]},function(n){n.fill(t,"selectedVariable",{},e.Inspector)})},args:[],source:"selectedVariable\n	^ selectedVariable",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"selectedVariable:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@selectedVariable"]=t,n},function(s){s.fill(n,"selectedVariable:",{aString:t},e.Inspector)})},args:["aString"],source:"selectedVariable: aString\n	selectedVariable := aString",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"setLabel:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@label"]=t,n},function(s){s.fill(n,"setLabel:",{aString:t},e.Inspector)})},args:["aString"],source:"setLabel: aString\n	label := aString",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"setVariables:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@variables"]=t,n},function(s){s.fill(n,"setVariables:",{aCollection:t},e.Inspector)})},args:["aCollection"],source:"setVariables: aCollection\n	variables := aCollection",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"sourceArea",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@sourceArea"]},function(n){n.fill(t,"sourceArea",{},e.Inspector)})},args:[],source:"sourceArea\n	^ sourceArea",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"updateButtons",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o;return r=t._selectedVariable(),s.sendIdx.selectedVariable=1,a=n(r)._notNil(),s.sendIdx.notNil=1,o=n(a)._and_(function(){return e.withContext(function(){return n(n(t._variables())._at_(t._selectedVariable()))._notNil()},function(e){e.fillBlock({},s,1)})}),e.assert(o)?n(t["@diveButton"])._removeAt_("disabled"):n(t["@diveButton"])._at_put_("disabled",!0),t},function(n){n.fill(t,"updateButtons",{},e.Inspector)})},args:[],source:"updateButtons\n	(self selectedVariable notNil and: [ (self variables at: self selectedVariable) notNil ])\n		ifFalse: [ diveButton at: 'disabled' put: true ]\n		ifTrue: [ diveButton removeAt: 'disabled' ]",messageSends:["ifFalse:ifTrue:","and:","notNil","selectedVariable","at:","variables","at:put:","removeAt:"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"updateValueTextarea",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return r=n(t["@valueTextarea"])._asJQuery(),a=t._selectedVariable(),s.sendIdx.selectedVariable=1,o=n(a)._isNil(),i=e.assert(o)?"":n(n(t._variables())._at_(t._selectedVariable()))._printString(),n(r)._val_(i),t},function(n){n.fill(t,"updateValueTextarea",{},e.Inspector)})},args:[],source:"updateValueTextarea\n	valueTextarea asJQuery val: (self selectedVariable isNil\n		ifTrue: [ '' ]\n		ifFalse: [ (self variables at: self selectedVariable) printString ])",messageSends:["val:","asJQuery","ifTrue:ifFalse:","isNil","selectedVariable","printString","at:","variables"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"updateVariablesList",category:"updating",fn:function(){var t=this;
return e.withContext(function(s){var r,a,o;return n(t["@variablesList"])._contents_(function(i){return e.withContext(function(s){return n(n(t._variables())._keys())._do_(function(l){var c;return e.withContext(function(s){return c=n(i)._li(),r=c,n(r)._with_(l),a=n(r)._onClick_(function(){return e.withContext(function(){return t._selectVariable_(l)},function(e){e.fillBlock({},s,3)})}),o=n(t._selectedVariable()).__eq(l),e.assert(o)?n(c)._class_("selected"):void 0},function(e){e.fillBlock({each:l,li:c},s,2)})})},function(e){e.fillBlock({html:i},s,1)})}),t},function(n){n.fill(t,"updateVariablesList",{},e.Inspector)})},args:[],source:"updateVariablesList\n	variablesList contents: [ :html |\n		self variables keys do: [ :each || li |\n			li := html li.\n			li\n				with: each;\n				onClick: [ self selectVariable: each ].\n			self selectedVariable = each ifTrue: [\n				li class: 'selected' ]] ]",messageSends:["contents:","do:","keys","variables","li","with:","onClick:","selectVariable:","ifTrue:","=","selectedVariable","class:"],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"variables",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@variables"]},function(n){n.fill(t,"variables",{},e.Inspector)})},args:[],source:"variables\n	^ variables",messageSends:[],referencedClasses:[]}),e.Inspector),e.addMethod(e.method({selector:"inspect:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._inspect_(t),n(e)._open(),r=n(e)._yourself(),a=r},function(n){n.fill(s,"inspect:",{anObject:t},e.Inspector.klass)})},args:["anObject"],source:"inspect: anObject\n	^ self new\n		inspect: anObject;\n		open;\n		yourself",messageSends:["inspect:","new","open","yourself"],referencedClasses:[]}),e.Inspector.klass),e.addMethod(e.method({selector:"on:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._inspect_(t),r=n(e)._yourself(),a=r},function(n){n.fill(s,"on:",{anObject:t},e.Inspector.klass)})},args:["anObject"],source:"on: anObject\n	^ self new\n		inspect: anObject;\n		yourself",messageSends:["inspect:","new","yourself"],referencedClasses:[]}),e.Inspector.klass),e.addClass("ProgressBar",e.TabWidget,["percent","progressDiv","div"],"IDE"),e.addMethod(e.method({selector:"percent",category:"accessing",fn:function(){var n=this;return e.withContext(function(){var e,s;return e=n["@percent"],s=($receiver=e)==t||null==$receiver?0:e},function(t){t.fill(n,"percent",{},e.ProgressBar)})},args:[],source:"percent\n	^ percent ifNil: [ 0 ]",messageSends:["ifNil:"],referencedClasses:[]}),e.ProgressBar),e.addMethod(e.method({selector:"percent:",category:"accessing",fn:function(t){var n=this;return e.withContext(function(){return n["@percent"]=t,n},function(s){s.fill(n,"percent:",{aNumber:t},e.ProgressBar)})},args:["aNumber"],source:"percent: aNumber\n	percent := aNumber",messageSends:[],referencedClasses:[]}),e.ProgressBar),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){var e,r;return e=n(t)._div(),n(e)._class_("progress_bar"),r=n(e)._yourself(),s["@div"]=r,s._renderProgressBar(),s},function(n){n.fill(s,"renderOn:",{html:t},e.ProgressBar)})},args:["html"],source:"renderOn: html\n	div := html div\n		class: 'progress_bar';\n		yourself.\n	self renderProgressBar",messageSends:["class:","div","yourself","renderProgressBar"],referencedClasses:[]}),e.ProgressBar),e.addMethod(e.method({selector:"renderProgressBar",category:"rendering",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i;return n(t["@div"])._contents_(function(l){return e.withContext(function(e){return r=n(l)._div(),n(r)._class_("progress"),a=r,o=n("width:".__comma(n(t._percent())._asString())).__comma("%"),e.sendIdx[","]=1,i=n(a)._style_(o)},function(e){e.fillBlock({html:l},s,1)})}),t},function(n){n.fill(t,"renderProgressBar",{},e.ProgressBar)})},args:[],source:"renderProgressBar\n	div contents: [ :html |\n		html div\n			class: 'progress';\n			style: 'width:', self percent asString, '%' ]",messageSends:["contents:","class:","div","style:",",","asString","percent"],referencedClasses:[]}),e.ProgressBar),e.addMethod(e.method({selector:"updatePercent:",category:"updating",fn:function(t){var n=this;return e.withContext(function(){return n._percent_(t),n._renderProgressBar(),n},function(s){s.fill(n,"updatePercent:",{aNumber:t},e.ProgressBar)})},args:["aNumber"],source:"updatePercent: aNumber\n	self percent: aNumber.\n	self renderProgressBar",messageSends:["percent:","renderProgressBar"],referencedClasses:[]}),e.ProgressBar),e.addClass("ReferencesBrowser",e.TabWidget,["implementors","senders","implementorsList","input","timer","selector","sendersList","referencedClasses","referencedClassesList","matches","matchesList"],"IDE"),e.addMethod(e.method({selector:"canBeClosed",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!0},function(n){n.fill(t,"canBeClosed",{},e.ReferencesBrowser)})},args:[],source:"canBeClosed\n	^ true",messageSends:[],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"classesAndMetaclasses",category:"accessing",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(t){var r,a,o;return r=n(s())._current(),t.sendIdx.current=1,a=n(r)._classes(),t.sendIdx.classes=1,o=n(a).__comma(n(n(n(s())._current())._classes())._collect_(function(s){return e.withContext(function(){return n(s)._class()},function(e){e.fillBlock({each:s},t,1)})}))},function(t){t.fill(r,"classesAndMetaclasses",{},e.ReferencesBrowser)})},args:[],source:"classesAndMetaclasses\n	^ Smalltalk current classes, (Smalltalk current classes collect: [ :each | each class ])",messageSends:[",","classes","current","collect:","class"],referencedClasses:["Smalltalk"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"implementors",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@implementors"],($receiver=e)==t||null==$receiver?(r["@implementors"]=n(s())._new(),a=r["@implementors"]):a=e,a},function(t){t.fill(r,"implementors",{},e.ReferencesBrowser)})},args:[],source:"implementors\n	^ implementors ifNil: [ implementors := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.ReferencesBrowser.superclass.fn.prototype._initialize.apply(n(t),[]),t["@selector"]="",t},function(n){n.fill(t,"initialize",{},e.ReferencesBrowser)})},args:[],source:"initialize\n	super initialize.\n	selector := ''",messageSends:["initialize"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"[ References ]"},function(n){n.fill(t,"label",{},e.ReferencesBrowser)})},args:[],source:"label\n	^ '[ References ]'",messageSends:[],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"matches",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@matches"],($receiver=e)==t||null==$receiver?(r["@matches"]=n(s())._new(),a=r["@matches"]):a=e,a},function(t){t.fill(r,"matches",{},e.ReferencesBrowser)})},args:[],source:"matches\n	^ matches ifNil: [ matches := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"openBrowserOn:",category:"actions",fn:function(s){function r(){return e.Browser||("undefined"==typeof Browser?t:Browser)}var a,o=this;return e.withContext(function(t){var i,l,c,u,d,f,h;return i=n(s)._methodClass(),t.sendIdx.methodClass=1,l=n(i)._isMetaclass(),t.sendIdx.isMetaclass=1,e.assert(l)?(c=n(s)._methodClass(),t.sendIdx.methodClass=2,u=n(c)._instanceClass()):(u=n(s)._methodClass(),t.sendIdx.methodClass=3),a=n(r())._openOn_(u),d=n(n(s)._methodClass())._isMetaclass(),e.assert(d)&&n(a)._selectTab_("class"),f=a,n(f)._selectProtocol_(n(s)._category()),h=n(f)._selectMethod_(s),o},function(t){t.fill(o,"openBrowserOn:",{aMethod:s,browser:a},e.ReferencesBrowser)})},args:["aMethod"],source:"openBrowserOn: aMethod\n	| browser |\n	browser := Browser openOn: (aMethod methodClass isMetaclass\n		ifTrue: [ aMethod methodClass instanceClass ] ifFalse: [ aMethod methodClass ]).\n	aMethod methodClass isMetaclass ifTrue: [ browser selectTab: #class ].\n	browser\n		selectProtocol: aMethod category;\n		selectMethod: aMethod",messageSends:["openOn:","ifTrue:ifFalse:","isMetaclass","methodClass","instanceClass","ifTrue:","selectTab:","selectProtocol:","category","selectMethod:"],referencedClasses:["Browser"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"referencedClasses",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@referencedClasses"],($receiver=e)==t||null==$receiver?(r["@referencedClasses"]=n(s())._new(),a=r["@referencedClasses"]):a=e,a},function(t){t.fill(r,"referencedClasses",{},e.ReferencesBrowser)})},args:[],source:"referencedClasses\n	^ referencedClasses ifNil: [ referencedClasses := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){var e;return n._renderInputOn_(t),n._renderImplementorsOn_(t),n._renderSendersOn_(t),n._renderReferencedClassesOn_(t),e=n._renderMatchesOn_(t),n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderBoxOn: html\n	self\n		renderInputOn: html;\n		renderImplementorsOn: html;\n		renderSendersOn: html;\n		renderReferencedClassesOn: html;\n		renderMatchesOn: html",messageSends:["renderInputOn:","renderImplementorsOn:","renderSendersOn:","renderReferencedClassesOn:","renderMatchesOn:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderImplementorsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@implementorsList"]=n(n(t)._ul())._class_("amber_column implementors"),s._updateImplementorsList(),s},function(n){n.fill(s,"renderImplementorsOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderImplementorsOn: html\n	implementorsList := html ul class: 'amber_column implementors'.\n	self updateImplementorsList",messageSends:["class:","ul","updateImplementorsList"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderInputOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){var e,r;return e=n(t)._input(),n(e)._class_("implementors"),r=n(e)._yourself(),s["@input"]=r,n(n(s["@input"])._asJQuery())._val_(s["@selector"]),s._setInputEvents(),s},function(n){n.fill(s,"renderInputOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderInputOn: html\n	input := html input\n		class: 'implementors';\n		yourself.\n	input asJQuery val: selector.\n	self setInputEvents",messageSends:["class:","input","yourself","val:","asJQuery","setInputEvents"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderMatchesOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@matchesList"]=n(n(t)._ul())._class_("amber_column matches"),s._updateMatchesList(),s},function(n){n.fill(s,"renderMatchesOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderMatchesOn: html\n	matchesList := html ul class: 'amber_column matches'.\n	self updateMatchesList",messageSends:["class:","ul","updateMatchesList"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderReferencedClassesOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@referencedClassesList"]=n(n(t)._ul())._class_("amber_column referenced_classes"),s._updateReferencedClassesList(),s},function(n){n.fill(s,"renderReferencedClassesOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderReferencedClassesOn: html\n	referencedClassesList := html ul class: 'amber_column referenced_classes'.\n	self updateReferencedClassesList",messageSends:["class:","ul","updateReferencedClassesList"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"renderSendersOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@sendersList"]=n(n(t)._ul())._class_("amber_column senders"),s._updateSendersList(),s},function(n){n.fill(s,"renderSendersOn:",{html:t},e.ReferencesBrowser)})},args:["html"],source:"renderSendersOn: html\n	sendersList := html ul class: 'amber_column senders'.\n	self updateSendersList",messageSends:["class:","ul","updateSendersList"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"search:",category:"actions",fn:function(t){var n=this;return e.withContext(function(){var e;return n._searchReferencesFor_(t),n._updateImplementorsList(),n._updateSendersList(),n._updateReferencedClassesList(),e=n._updateMatchesList(),n},function(s){s.fill(n,"search:",{aString:t},e.ReferencesBrowser)})},args:["aString"],source:"search: aString\n	self\n		searchReferencesFor: aString;\n		updateImplementorsList;\n		updateSendersList;\n		updateReferencedClassesList;\n		updateMatchesList",messageSends:["searchReferencesFor:","updateImplementorsList","updateSendersList","updateReferencedClassesList","updateMatchesList"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"searchMethodSource",category:"actions",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=n(s["@selector"])._allButFirst(),n(s._classesAndMetaclasses())._do_(function(o){return e.withContext(function(r){return n(n(n(o)._methodDictionary())._values())._do_(function(o){return e.withContext(function(){return a=n(n(o)._source())._match_(t),e.assert(a)?n(s._matches())._add_(o):void 0},function(e){e.fillBlock({value:o},r,2)})})},function(e){e.fillBlock({each:o},r,1)})}),r.sendIdx["do:"]=1,s},function(n){n.fill(s,"searchMethodSource",{regex:t},e.ReferencesBrowser)})},args:[],source:"searchMethodSource\n	| regex |\n	regex := selector allButFirst.\n	self classesAndMetaclasses do: [ :each |\n		each methodDictionary values do: [ :value |\n			(value source match: regex) ifTrue: [\n				self matches add: value ]] ]",messageSends:["allButFirst","do:","classesAndMetaclasses","values","methodDictionary","ifTrue:","match:","source","add:","matches"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"searchReferencedClasses",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a;return n(t._classesAndMetaclasses())._do_(function(o){return e.withContext(function(s){return n(n(n(o)._methodDictionary())._values())._do_(function(o){return e.withContext(function(s){return r=n(o)._referencedClasses(),s.sendIdx.referencedClasses=1,a=n(r)._includes_(t["@selector"]),e.assert(a)?n(t._referencedClasses())._add_(o):void 0},function(e){e.fillBlock({value:o},s,2)})})},function(e){e.fillBlock({each:o},s,1)})}),s.sendIdx["do:"]=1,t},function(n){n.fill(t,"searchReferencedClasses",{},e.ReferencesBrowser)})},args:[],source:"searchReferencedClasses\n	self classesAndMetaclasses do: [ :each |\n		each methodDictionary values do: [ :value |\n			(value referencedClasses includes: selector) ifTrue: [\n				self referencedClasses add: value ]] ]",messageSends:["do:","classesAndMetaclasses","values","methodDictionary","ifTrue:","includes:","referencedClasses","add:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"searchReferencesFor:",category:"actions",fn:function(s){function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a=this;return e.withContext(function(t){var o;return a["@selector"]=s,a["@implementors"]=n(r())._new(),t.sendIdx["new"]=1,a["@senders"]=n(r())._new(),t.sendIdx["new"]=2,a["@referencedClasses"]=n(r())._new(),t.sendIdx["new"]=3,a["@matches"]=n(r())._new(),a._searchMethodSource(),o=n(a["@selector"])._match_("^[A-Z]"),e.assert(o)?a._searchReferencedClasses():a._searchSelectorReferences(),a},function(t){t.fill(a,"searchReferencesFor:",{aString:s},e.ReferencesBrowser)})},args:["aString"],source:"searchReferencesFor: aString\n	selector := aString.\n	implementors := Array new.\n	senders := Array new.\n	referencedClasses := Array new.\n	matches := Array new.\n	self searchMethodSource.\n	(selector match: '^[A-Z]')\n		ifFalse: [ self searchSelectorReferences ]\n		ifTrue: [ self searchReferencedClasses ]",messageSends:["new","searchMethodSource","ifFalse:ifTrue:","match:","searchSelectorReferences","searchReferencedClasses"],referencedClasses:["Array"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"searchSelectorReferences",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a;return n(t._classesAndMetaclasses())._do_(function(o){return e.withContext(function(s){return n(n(o)._methodDictionary())._keysAndValuesDo_(function(o,i){return e.withContext(function(s){return r=n(o).__eq(t["@selector"]),e.assert(r)&&(n(t._implementors())._add_(i),s.sendIdx["add:"]=1),a=n(n(i)._messageSends())._includes_(t["@selector"]),e.assert(a)?n(t._senders())._add_(i):void 0},function(e){e.fillBlock({key:o,value:i},s,2)})})},function(e){e.fillBlock({each:o},s,1)})}),t},function(n){n.fill(t,"searchSelectorReferences",{},e.ReferencesBrowser)})},args:[],source:"searchSelectorReferences\n	self classesAndMetaclasses do: [ :each |\n		each methodDictionary keysAndValuesDo: [ :key :value |\n			key = selector ifTrue: [ self implementors add: value ].\n			(value messageSends includes: selector) ifTrue: [\n				self senders add: value ]] ]",messageSends:["do:","classesAndMetaclasses","keysAndValuesDo:","methodDictionary","ifTrue:","=","add:","implementors","includes:","messageSends","senders"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"selector",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@selector"]},function(n){n.fill(t,"selector",{},e.ReferencesBrowser)})},args:[],source:"selector\n	^ selector",messageSends:[],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"senders",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@senders"],($receiver=e)==t||null==$receiver?(r["@senders"]=n(s())._new(),a=r["@senders"]):a=e,a},function(t){t.fill(r,"senders",{},e.ReferencesBrowser)})},args:[],source:"senders\n	^ senders ifNil: [ senders := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"setInputEvents",category:"private",fn:function(){var s=this;return e.withContext(function(r){var a,o,i;return a=s["@input"],n(a)._onKeyUp_(function(){return e.withContext(function(t){return s["@timer"]=n(function(){return e.withContext(function(){return s._search_(n(n(s["@input"])._asJQuery())._val())},function(e){e.fillBlock({},t,2)})})._valueWithTimeout_(100),s["@timer"]},function(e){e.fillBlock({},r,1)})}),i=n(a)._onKeyDown_(function(){return e.withContext(function(){return o=s["@timer"],($receiver=o)==t||null==$receiver?o:n(s["@timer"])._clearTimeout()},function(e){e.fillBlock({},r,3)})}),s},function(t){t.fill(s,"setInputEvents",{},e.ReferencesBrowser)})},args:[],source:"setInputEvents\n	input\n		onKeyUp: [ timer := [ self search: input asJQuery val ] valueWithTimeout: 100 ];\n		onKeyDown: [ timer ifNotNil: [ timer clearTimeout ]]",messageSends:["onKeyUp:","valueWithTimeout:","search:","val","asJQuery","onKeyDown:","ifNotNil:","clearTimeout"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"updateImplementorsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g;return n(t["@implementorsList"])._contents_(function(p){return e.withContext(function(s){return r=n(p)._li(),s.sendIdx.li=1,n(r)._class_("column_label"),a=r,o=t._implementors(),s.sendIdx.implementors=1,i=n(o)._size(),l=n(i)._asString(),s.sendIdx.asString=1,c="Implementors (".__comma(l),s.sendIdx[","]=2,u=n(c).__comma(")"),s.sendIdx[","]=1,n(a)._with_(u),s.sendIdx["with:"]=1,d=n(r)._style_("font-weight: bold"),n(t._implementors())._do_(function(r){var a;return e.withContext(function(s){return a=n(p)._li(),f=a,h=f,m=n(n(n(n(r)._methodClass())._asString()).__comma(" >> ")).__comma(t._selector()),s.sendIdx[","]=3,n(h)._with_(m),g=n(f)._onClick_(function(){return e.withContext(function(){return t._openBrowserOn_(r)},function(e){e.fillBlock({},s,3)})})},function(e){e.fillBlock({each:r,li:a},s,2)})})},function(e){e.fillBlock({html:p},s,1)})}),t},function(n){n.fill(t,"updateImplementorsList",{},e.ReferencesBrowser)})},args:[],source:"updateImplementorsList\n	implementorsList contents: [ :html |\n	html li\n		class: 'column_label';\n		with: 'Implementors (', self implementors size asString, ')';\n		style: 'font-weight: bold'.\n	self implementors do: [ :each || li |\n		li := html li.\n		li\n		with: (each methodClass asString, ' >> ', self selector);\n		onClick: [ self openBrowserOn: each ]] ]",messageSends:["contents:","class:","li","with:",",","asString","size","implementors","style:","do:","methodClass","selector","onClick:","openBrowserOn:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"updateMatchesList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g;return n(t["@matchesList"])._contents_(function(p){return e.withContext(function(s){return r=n(p)._li(),s.sendIdx.li=1,n(r)._class_("column_label"),a=r,o=t._matches(),s.sendIdx.matches=1,i=n(o)._size(),l=n(i)._asString(),s.sendIdx.asString=1,c="Regex matches (".__comma(l),s.sendIdx[","]=2,u=n(c).__comma(")"),s.sendIdx[","]=1,n(a)._with_(u),s.sendIdx["with:"]=1,d=n(r)._style_("font-weight: bold"),n(t._matches())._do_(function(r){var a;return e.withContext(function(s){return a=n(p)._li(),f=a,h=f,m=n(n(n(n(r)._methodClass())._asString()).__comma(" >> ")).__comma(n(r)._selector()),s.sendIdx[","]=3,n(h)._with_(m),g=n(f)._onClick_(function(){return e.withContext(function(){return t._openBrowserOn_(r)},function(e){e.fillBlock({},s,3)})})},function(e){e.fillBlock({each:r,li:a},s,2)})})},function(e){e.fillBlock({html:p},s,1)})}),t},function(n){n.fill(t,"updateMatchesList",{},e.ReferencesBrowser)})},args:[],source:"updateMatchesList\n	matchesList contents: [ :html |\n	html li\n		class: 'column_label';\n		with: 'Regex matches (', self matches size asString, ')';\n		style: 'font-weight: bold'.\n	self matches do: [ :each || li |\n		li := html li.\n		li\n		with: (each methodClass asString, ' >> ', each selector);\n		onClick: [ self openBrowserOn: each ]] ]",messageSends:["contents:","class:","li","with:",",","asString","size","matches","style:","do:","methodClass","selector","onClick:","openBrowserOn:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"updateReferencedClassesList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g;return n(t["@referencedClassesList"])._contents_(function(p){return e.withContext(function(s){return r=n(p)._li(),s.sendIdx.li=1,n(r)._class_("column_label"),a=r,o=t._referencedClasses(),s.sendIdx.referencedClasses=1,i=n(o)._size(),l=n(i)._asString(),s.sendIdx.asString=1,c="Class references (".__comma(l),s.sendIdx[","]=2,u=n(c).__comma(")"),s.sendIdx[","]=1,n(a)._with_(u),s.sendIdx["with:"]=1,d=n(r)._style_("font-weight: bold"),n(t._referencedClasses())._do_(function(r){return e.withContext(function(s){return f=n(p)._li(),h=f,m=n(n(n(n(r)._methodClass())._asString()).__comma(" >> ")).__comma(n(r)._selector()),s.sendIdx[","]=3,n(h)._with_(m),g=n(f)._onClick_(function(){return e.withContext(function(){return t._openBrowserOn_(r)},function(e){e.fillBlock({},s,3)})})},function(e){e.fillBlock({each:r},s,2)})})},function(e){e.fillBlock({html:p},s,1)})}),t},function(n){n.fill(t,"updateReferencedClassesList",{},e.ReferencesBrowser)})},args:[],source:"updateReferencedClassesList\n	referencedClassesList contents: [ :html |\n	html li\n		class: 'column_label';\n		with: 'Class references (', self referencedClasses size asString, ')';\n		style: 'font-weight: bold'.\n	self referencedClasses do: [ :each |\n		html li\n			with: (each methodClass asString, ' >> ', each selector);\n			onClick: [ self openBrowserOn: each ]] ]",messageSends:["contents:","class:","li","with:",",","asString","size","referencedClasses","style:","do:","methodClass","selector","onClick:","openBrowserOn:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"updateSendersList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g;return n(t["@sendersList"])._contents_(function(p){return e.withContext(function(s){return r=n(p)._li(),s.sendIdx.li=1,n(r)._class_("column_label"),a=r,o=t._senders(),s.sendIdx.senders=1,i=n(o)._size(),l=n(i)._asString(),s.sendIdx.asString=1,c="Senders (".__comma(l),s.sendIdx[","]=2,u=n(c).__comma(")"),s.sendIdx[","]=1,n(a)._with_(u),s.sendIdx["with:"]=1,d=n(r)._style_("font-weight: bold"),n(t._senders())._do_(function(r){return e.withContext(function(s){return f=n(p)._li(),h=f,m=n(n(n(n(r)._methodClass())._asString()).__comma(" >> ")).__comma(n(r)._selector()),s.sendIdx[","]=3,n(h)._with_(m),g=n(f)._onClick_(function(){return e.withContext(function(){return t._openBrowserOn_(r)},function(e){e.fillBlock({},s,3)})})},function(e){e.fillBlock({each:r},s,2)})})},function(e){e.fillBlock({html:p},s,1)})}),t},function(n){n.fill(t,"updateSendersList",{},e.ReferencesBrowser)})},args:[],source:"updateSendersList\n	sendersList contents: [ :html |\n	html li\n		class: 'column_label';\n		with: 'Senders (', self senders size asString, ')';\n		style: 'font-weight: bold'.\n	self senders do: [ :each |\n		html li\n			with: (each methodClass asString, ' >> ', each selector);\n			onClick: [ self openBrowserOn: each ]] ]",messageSends:["contents:","class:","li","with:",",","asString","size","senders","style:","do:","methodClass","selector","onClick:","openBrowserOn:"],referencedClasses:[]}),e.ReferencesBrowser),e.addMethod(e.method({selector:"search:",category:"instance creation",fn:function(t){var s=this;return e.withContext(function(){var e,r,a;return e=s._new(),n(e)._searchReferencesFor_(t),r=n(e)._open(),a=r},function(n){n.fill(s,"search:",{aString:t},e.ReferencesBrowser.klass)})},args:["aString"],source:"search: aString\n	^ self new\n		searchReferencesFor: aString;\n		open",messageSends:["searchReferencesFor:","new","open"],referencedClasses:[]}),e.ReferencesBrowser.klass),e.addClass("TestRunner",e.TabWidget,["selectedCategories","packagesList","selectedClasses","classesList","selectedMethods","progressBar","methodsList","result","statusDiv"],"IDE"),e.addMethod(e.method({selector:"allClasses",category:"accessing",fn:function(){function s(){return e.TestCase||("undefined"==typeof TestCase?t:TestCase)}var r=this;return e.withContext(function(t){var r;return r=n(n(s())._allSubclasses())._select_(function(s){return e.withContext(function(){return n(n(s)._isAbstract())._not()},function(e){e.fillBlock({each:s},t,1)})})},function(t){t.fill(r,"allClasses",{},e.TestRunner)})},args:[],source:"allClasses\n	^ TestCase allSubclasses select: [ :each | each isAbstract not ]",messageSends:["select:","allSubclasses","not","isAbstract"],referencedClasses:["TestCase"]}),e.TestRunner),e.addMethod(e.method({selector:"classes",category:"accessing",fn:function(){var t=this;return e.withContext(function(s){var r,a;return a=n(n(t._allClasses())._select_(function(r){return e.withContext(function(){return n(t._selectedCategories())._includes_(n(r)._category())},function(e){e.fillBlock({each:r},s,1)})}))._sort_(function(t,a){return e.withContext(function(e){return r=n(t)._name(),e.sendIdx.name=1,n(r).__gt(n(a)._name())},function(e){e.fillBlock({a:t,b:a},s,2)})})},function(n){n.fill(t,"classes",{},e.TestRunner)})},args:[],source:"classes\n	^ (self allClasses\n	select: [ :each | self selectedCategories includes: each category ])\n	sort: [ :a :b | a name > b name ]",messageSends:["sort:","select:","allClasses","includes:","selectedCategories","category",">","name"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){function s(){return e.TestResult||("undefined"==typeof TestResult?t:TestResult)}var r=this;return e.withContext(function(){return e.TestRunner.superclass.fn.prototype._initialize.apply(n(r),[]),r["@result"]=n(s())._new(),r},function(t){t.fill(r,"initialize",{},e.TestRunner)})},args:[],source:"initialize\n	super initialize.\n	result := TestResult new",messageSends:["initialize","new"],referencedClasses:["TestResult"]}),e.TestRunner),e.addMethod(e.method({selector:"isSelectedCategory:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._selectedCategories())._includes_(t)},function(n){n.fill(s,"isSelectedCategory:",{aCategory:t},e.TestRunner)})},args:["aCategory"],source:"isSelectedCategory: aCategory\n	^ (self selectedCategories includes: aCategory)",messageSends:["includes:","selectedCategories"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"isSelectedClass:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){var e;return e=n(s._selectedClasses())._includes_(t)},function(n){n.fill(s,"isSelectedClass:",{aClass:t},e.TestRunner)})},args:["aClass"],source:"isSelectedClass: aClass\n	^ (self selectedClasses includes: aClass)",messageSends:["includes:","selectedClasses"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"SUnit"},function(n){n.fill(t,"label",{},e.TestRunner)})},args:[],source:"label\n	^ 'SUnit'",messageSends:[],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"packages",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r,a=this;return e.withContext(function(t){var o,i,l,c;return r=n(s())._new(),n(a._allClasses())._do_(function(s){return e.withContext(function(t){return o=r,i=n(s)._category(),t.sendIdx.category=1,l=n(o)._includes_(i),e.assert(l)?void 0:n(r)._add_(n(s)._category())},function(e){e.fillBlock({each:s},t,1)})}),c=n(r)._sort()},function(t){t.fill(a,"packages",{packages:r},e.TestRunner)})},args:[],source:"packages\n	| packages |\n	packages := Array new.\n	self allClasses do: [ :each |\n	(packages includes: each category) ifFalse: [\n		packages add: each category ]].\n	^ packages sort",messageSends:["new","do:","allClasses","ifFalse:","includes:","category","add:","sort"],referencedClasses:["Array"]}),e.TestRunner),e.addMethod(e.method({selector:"performFailure:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){return n(t)._runCase(),s},function(n){n.fill(s,"performFailure:",{aTestCase:t},e.TestRunner)})},args:["aTestCase"],source:"performFailure: aTestCase\n	aTestCase runCase",messageSends:["runCase"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"printErrors",category:"printing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(n(n(t._result())._errors())._size())._asString()).__comma(" errors, ")},function(n){n.fill(t,"printErrors",{},e.TestRunner)})},args:[],source:"printErrors\n	^ self result errors size asString , ' errors, '",messageSends:[",","asString","size","errors","result"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"printFailures",category:"printing",fn:function(){var t=this;
return e.withContext(function(){var e;return e=n(n(n(n(t._result())._failures())._size())._asString()).__comma(" failures")},function(n){n.fill(t,"printFailures",{},e.TestRunner)})},args:[],source:"printFailures\n	^ self result failures size asString, ' failures'",messageSends:[",","asString","size","failures","result"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"printPasses",category:"printing",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d;return s=t._result(),e.sendIdx.result=1,r=n(s)._runs(),a=t._result(),e.sendIdx.result=2,o=n(a)._errors(),i=n(o)._size(),e.sendIdx.size=1,l=n(r).__minus(i),c=n(l).__minus(n(n(t._result())._failures())._size()),e.sendIdx["-"]=1,u=n(c)._asString(),d=n(u).__comma(" passes, ")},function(n){n.fill(t,"printPasses",{},e.TestRunner)})},args:[],source:"printPasses\n	^ (self result runs - self result errors size - self result failures size) asString , ' passes, '",messageSends:[",","asString","-","runs","result","size","errors","failures"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"printTotal",category:"printing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(n(t._result())._total())._asString()).__comma(" runs, ")},function(n){n.fill(t,"printTotal",{},e.TestRunner)})},args:[],source:"printTotal\n	^ self result total asString, ' runs, '",messageSends:[",","asString","total","result"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"progressBar",category:"accessing",fn:function(){function s(){return e.ProgressBar||("undefined"==typeof ProgressBar?t:ProgressBar)}var r=this;return e.withContext(function(){var e,a;return e=r["@progressBar"],($receiver=e)==t||null==$receiver?(r["@progressBar"]=n(s())._new(),a=r["@progressBar"]):a=e,a},function(t){t.fill(r,"progressBar",{},e.TestRunner)})},args:[],source:"progressBar\n	^ progressBar ifNil: [ progressBar := ProgressBar new ]",messageSends:["ifNil:","new"],referencedClasses:["ProgressBar"]}),e.TestRunner),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(t){var n=this;return e.withContext(function(){var e;return n._renderCategoriesOn_(t),n._renderClassesOn_(t),e=n._renderResultsOn_(t),n},function(s){s.fill(n,"renderBoxOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderBoxOn: html\n	self\n	renderCategoriesOn: html;\n	renderClassesOn: html;\n	renderResultsOn: html",messageSends:["renderCategoriesOn:","renderClassesOn:","renderResultsOn:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o;return a=n(t)._button(),n(a)._with_("Run selected"),o=n(a)._onClick_(function(){return e.withContext(function(){return s._run_(s._testCases())},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderButtonsOn: html\n	html button\n	with: 'Run selected';\n	onClick: [ self run: self testCases ]",messageSends:["with:","button","onClick:","run:","testCases"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderCategoriesOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@packagesList"]=n(n(t)._ul())._class_("amber_column sunit packages"),s._updateCategoriesList(),s},function(n){n.fill(s,"renderCategoriesOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderCategoriesOn: html\n	packagesList := html ul class: 'amber_column sunit packages'.\n	self updateCategoriesList",messageSends:["class:","ul","updateCategoriesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderClassesOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@classesList"]=n(n(t)._ul())._class_("amber_column sunit classes"),s._updateClassesList(),s},function(n){n.fill(s,"renderClassesOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderClassesOn: html\n	classesList := html ul class: 'amber_column sunit classes'.\n	self updateClassesList",messageSends:["class:","ul","updateClassesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderErrorsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return n(n(s._result())._errors())._do_(function(c){return e.withContext(function(r){return a=n(t)._li(),n(a)._class_("errors"),o=a,i=n(n(n(n(c)._class())._name()).__comma(" >> ")).__comma(n(c)._selector()),r.sendIdx[","]=1,n(o)._with_(i),l=n(a)._onClick_(function(){return e.withContext(function(){return s._performFailure_(c)},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({each:c},r,1)})}),s},function(n){n.fill(s,"renderErrorsOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderErrorsOn: html\n	self result errors do: [ :each |\n		html li\n			class: 'errors';\n			with: each class name, ' >> ', each selector;\n						onClick: [ self performFailure: each ]]",messageSends:["do:","errors","result","class:","li","with:",",","name","class","selector","onClick:","performFailure:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderFailuresOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l;return n(n(s._result())._failures())._do_(function(c){return e.withContext(function(r){return a=n(t)._li(),n(a)._class_("failures"),o=a,i=n(n(n(n(c)._class())._name()).__comma(" >> ")).__comma(n(c)._selector()),r.sendIdx[","]=1,n(o)._with_(i),l=n(a)._onClick_(function(){return e.withContext(function(){return s._performFailure_(c)},function(e){e.fillBlock({},r,2)})})},function(e){e.fillBlock({each:c},r,1)})}),s},function(n){n.fill(s,"renderFailuresOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderFailuresOn: html\n	self result failures do: [ :each |\n		html li\n			class: 'failures';\n			with: each class name, ' >> ', each selector;\n						onClick: [ self performFailure: each ]]",messageSends:["do:","failures","result","class:","li","with:",",","name","class","selector","onClick:","performFailure:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"renderResultsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(){return s["@statusDiv"]=n(t)._div(),n(t)._with_(s._progressBar()),s["@methodsList"]=n(n(t)._ul())._class_("amber_column sunit results"),s._updateMethodsList(),s._updateStatusDiv(),s},function(n){n.fill(s,"renderResultsOn:",{html:t},e.TestRunner)})},args:["html"],source:"renderResultsOn: html\n	statusDiv := html div.\n	html with: self progressBar.\n	methodsList := html ul class: 'amber_column sunit results'.\n	self updateMethodsList.\n	self updateStatusDiv",messageSends:["div","with:","progressBar","class:","ul","updateMethodsList","updateStatusDiv"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"result",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@result"]},function(n){n.fill(t,"result",{},e.TestRunner)})},args:[],source:"result\n	^ result",messageSends:[],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"run:",category:"actions",fn:function(s){function r(){return e.TestSuiteRunner||("undefined"==typeof TestSuiteRunner?t:TestSuiteRunner)}function a(){return e.ResultAnnouncement||("undefined"==typeof ResultAnnouncement?t:ResultAnnouncement)}var o,i=this;return e.withContext(function(t){var l;return o=n(r())._on_(s),i["@result"]=n(o)._result(),t.sendIdx.result=1,n(n(o)._announcer())._on_do_(a(),function(s){return e.withContext(function(){return l=n(n(s)._result()).__eq_eq(i["@result"]),e.assert(l)?(n(i._progressBar())._updatePercent_(n(n(n(i["@result"])._runs()).__slash(n(i["@result"])._total())).__star(100)),i._updateStatusDiv(),i._updateMethodsList()):void 0},function(e){e.fillBlock({ann:s},t,1)})}),n(o)._run(),i},function(t){t.fill(i,"run:",{aCollection:s,worker:o},e.TestRunner)})},args:["aCollection"],source:"run: aCollection\n| worker |\n	worker := TestSuiteRunner on: aCollection.\n	result := worker result.\n	worker announcer on: ResultAnnouncement do: [ :ann |\n		ann result == result ifTrue: [\n			self progressBar updatePercent: result runs / result total * 100.\n			self updateStatusDiv.\n			self updateMethodsList\n		]\n	].\n	worker run",messageSends:["on:","result","on:do:","announcer","ifTrue:","==","updatePercent:","progressBar","*","/","runs","total","updateStatusDiv","updateMethodsList","run"],referencedClasses:["TestSuiteRunner","ResultAnnouncement"]}),e.TestRunner),e.addMethod(e.method({selector:"selectAllCategories",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a;return n(t._packages())._do_(function(a){return e.withContext(function(){return r=n(t["@selectedCategories"])._includes_(a),e.assert(r)?void 0:n(t._selectedCategories())._add_(a)},function(e){e.fillBlock({each:a},s,1)})}),t._updateCategoriesList(),a=t._updateClassesList(),t},function(n){n.fill(t,"selectAllCategories",{},e.TestRunner)})},args:[],source:"selectAllCategories\n	self packages do: [ :each |\n		(selectedCategories includes: each) ifFalse: [\n			self selectedCategories add: each ]].\n	self\n		updateCategoriesList;\n		updateClassesList",messageSends:["do:","packages","ifFalse:","includes:","add:","selectedCategories","updateCategoriesList","updateClassesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"selectAllClasses",category:"actions",fn:function(){var t=this;return e.withContext(function(s){var r,a;return n(t._classes())._do_(function(a){return e.withContext(function(){return r=n(t["@selectedClasses"])._includes_(a),e.assert(r)?void 0:n(t._selectedClasses())._add_(a)},function(e){e.fillBlock({each:a},s,1)})}),t._updateCategoriesList(),a=t._updateClassesList(),t},function(n){n.fill(t,"selectAllClasses",{},e.TestRunner)})},args:[],source:"selectAllClasses\n	self classes do: [ :each |\n		(selectedClasses includes: each) ifFalse: [\n			self selectedClasses add: each ]].\n	self\n		updateCategoriesList;\n		updateClassesList",messageSends:["do:","classes","ifFalse:","includes:","add:","selectedClasses","updateCategoriesList","updateClassesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"selectedCategories",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@selectedCategories"],($receiver=e)==t||null==$receiver?(r["@selectedCategories"]=n(s())._new(),a=r["@selectedCategories"]):a=e,a},function(t){t.fill(r,"selectedCategories",{},e.TestRunner)})},args:[],source:"selectedCategories\n	^ selectedCategories ifNil: [ selectedCategories := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.TestRunner),e.addMethod(e.method({selector:"selectedClasses",category:"accessing",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r=this;return e.withContext(function(){var e,a;return e=r["@selectedClasses"],($receiver=e)==t||null==$receiver?(r["@selectedClasses"]=n(s())._new(),a=r["@selectedClasses"]):a=e,a},function(t){t.fill(r,"selectedClasses",{},e.TestRunner)})},args:[],source:"selectedClasses\n	^ selectedClasses ifNil: [ selectedClasses := Array new ]",messageSends:["ifNil:","new"],referencedClasses:["Array"]}),e.TestRunner),e.addMethod(e.method({selector:"statusInfo",category:"accessing",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=n(n(t._printTotal()).__comma(t._printPasses())).__comma(t._printErrors()),e.sendIdx[","]=2,r=n(s).__comma(t._printFailures()),e.sendIdx[","]=1,r},function(n){n.fill(t,"statusInfo",{},e.TestRunner)})},args:[],source:"statusInfo\n	^ self printTotal, self printPasses, self printErrors, self printFailures",messageSends:[",","printTotal","printPasses","printErrors","printFailures"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"testCases",category:"accessing",fn:function(){var t,s=this;return e.withContext(function(r){var a;return t=[],n(n(s._selectedClasses())._select_(function(t){return e.withContext(function(){return n(s._selectedCategories())._includes_(n(t)._category())},function(e){e.fillBlock({each:t},r,1)})}))._do_(function(s){return e.withContext(function(){return n(t)._addAll_(n(s)._buildSuite())},function(e){e.fillBlock({each:s},r,2)})}),a=t},function(n){n.fill(s,"testCases",{testCases:t},e.TestRunner)})},args:[],source:"testCases\n	| testCases |\n	testCases := #().\n	(self selectedClasses\n		select: [ :each | self selectedCategories includes: each category ])\n		do: [ :each | testCases addAll: each buildSuite ].\n	^ testCases",messageSends:["do:","select:","selectedClasses","includes:","selectedCategories","category","addAll:","buildSuite"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"toggleCategory:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var r,a;return r=s._isSelectedCategory_(t),e.assert(r)?n(s["@selectedCategories"])._remove_(t):n(s["@selectedCategories"])._add_(t),s._updateCategoriesList(),a=s._updateClassesList(),s},function(n){n.fill(s,"toggleCategory:",{aCategory:t},e.TestRunner)})},args:["aCategory"],source:"toggleCategory: aCategory\n	(self isSelectedCategory: aCategory)\n		ifFalse: [ selectedCategories add: aCategory ]\n		ifTrue: [ selectedCategories remove: aCategory ].\n	self\n		updateCategoriesList;\n		updateClassesList",messageSends:["ifFalse:ifTrue:","isSelectedCategory:","add:","remove:","updateCategoriesList","updateClassesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"toggleClass:",category:"actions",fn:function(t){var s=this;return e.withContext(function(){var r;return r=s._isSelectedClass_(t),e.assert(r)?n(s["@selectedClasses"])._remove_(t):n(s["@selectedClasses"])._add_(t),s._updateClassesList(),s},function(n){n.fill(s,"toggleClass:",{aClass:t},e.TestRunner)})},args:["aClass"],source:"toggleClass: aClass\n	(self isSelectedClass: aClass)\n		ifFalse: [ selectedClasses add: aClass ]\n		ifTrue: [ selectedClasses remove: aClass ].\n	self\n		updateClassesList",messageSends:["ifFalse:ifTrue:","isSelectedClass:","add:","remove:","updateClassesList"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"updateCategoriesList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l;return n(t["@packagesList"])._contents_(function(c){return e.withContext(function(s){return r=n(c)._li(),s.sendIdx.li=1,n(r)._class_("all"),s.sendIdx["class:"]=1,n(r)._with_("All"),s.sendIdx["with:"]=1,a=n(r)._onClick_(function(){return e.withContext(function(){return t._selectAllCategories()},function(e){e.fillBlock({},s,2)})}),s.sendIdx["onClick:"]=1,n(t._packages())._do_(function(r){var a;return e.withContext(function(s){return a=n(c)._li(),o=n(t._selectedCategories())._includes_(r),e.assert(o)&&n(a)._class_("selected"),i=a,n(i)._with_(r),l=n(i)._onClick_(function(){return e.withContext(function(){return t._toggleCategory_(r)},function(e){e.fillBlock({},s,5)})})},function(e){e.fillBlock({each:r,li:a},s,3)})})},function(e){e.fillBlock({html:c},s,1)})}),t},function(n){n.fill(t,"updateCategoriesList",{},e.TestRunner)})},args:[],source:"updateCategoriesList\n	packagesList contents: [ :html |\n		html li\n		class: 'all';\n		with: 'All';\n		onClick: [ self selectAllCategories ].\n	self packages do: [ :each || li |\n		li := html li.\n		(self selectedCategories includes: each) ifTrue: [\n		li class: 'selected' ].\n		li\n		with: each;\n		onClick: [ self toggleCategory: each ]] ]",messageSends:["contents:","class:","li","with:","onClick:","selectAllCategories","do:","packages","ifTrue:","includes:","selectedCategories","toggleCategory:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"updateClassesList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c;return n(t["@classesList"])._contents_(function(u){return e.withContext(function(s){return r=n(t._selectedCategories())._isEmpty(),e.assert(r)||(a=n(u)._li(),s.sendIdx.li=1,n(a)._class_("all"),s.sendIdx["class:"]=1,n(a)._with_("All"),s.sendIdx["with:"]=1,o=n(a)._onClick_(function(){return e.withContext(function(){return t._selectAllClasses()},function(e){e.fillBlock({},s,3)})}),s.sendIdx["onClick:"]=1),n(t._classes())._do_(function(r){var a;return e.withContext(function(s){return a=n(u)._li(),i=n(t._selectedClasses())._includes_(r),e.assert(i)&&n(a)._class_("selected"),l=a,n(l)._with_(n(r)._name()),c=n(l)._onClick_(function(){return e.withContext(function(){return t._toggleClass_(r)},function(e){e.fillBlock({},s,6)})})},function(e){e.fillBlock({each:r,li:a},s,4)})})},function(e){e.fillBlock({html:u},s,1)})}),t},function(n){n.fill(t,"updateClassesList",{},e.TestRunner)})},args:[],source:"updateClassesList\n	classesList contents: [ :html |\n	(self selectedCategories isEmpty) ifFalse: [\n		html li\n			class: 'all';\n			with: 'All';\n			onClick: [ self selectAllClasses ]].\n	self classes do: [ :each || li |\n		li := html li.\n		(self selectedClasses includes: each) ifTrue: [\n			li class: 'selected' ].\n		li\n			with: each name;\n			onClick: [ self toggleClass: each ]] ]",messageSends:["contents:","ifFalse:","isEmpty","selectedCategories","class:","li","with:","onClick:","selectAllClasses","do:","classes","ifTrue:","includes:","selectedClasses","name","toggleClass:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"updateMethodsList",category:"updating",fn:function(){var t=this;return e.withContext(function(s){return n(t["@methodsList"])._contents_(function(n){return e.withContext(function(){return t._renderErrorsOn_(n),t._renderFailuresOn_(n)},function(e){e.fillBlock({html:n},s,1)})}),t},function(n){n.fill(t,"updateMethodsList",{},e.TestRunner)})},args:[],source:"updateMethodsList\n	methodsList contents: [ :html |\n		self renderErrorsOn: html.\n				self renderFailuresOn: html ]",messageSends:["contents:","renderErrorsOn:","renderFailuresOn:"],referencedClasses:[]}),e.TestRunner),e.addMethod(e.method({selector:"updateStatusDiv",category:"updating",fn:function(){var t=this;return e.withContext(function(s){return n(t["@statusDiv"])._class_("sunit status ".__comma(n(t["@result"])._status())),n(t["@statusDiv"])._contents_(function(r){return e.withContext(function(){return n(n(r)._span())._with_(t._statusInfo())},function(e){e.fillBlock({html:r},s,1)})}),t},function(n){n.fill(t,"updateStatusDiv",{},e.TestRunner)})},args:[],source:"updateStatusDiv\n	statusDiv class: 'sunit status ', result status.\n	statusDiv contents: [ :html |\n		html span with: self statusInfo ]",messageSends:["class:",",","status","contents:","with:","span","statusInfo"],referencedClasses:[]}),e.TestRunner),e.addClass("Workspace",e.TabWidget,["sourceArea"],"IDE"),e.addMethod(e.method({selector:"clearWorkspace",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._clear(),t},function(n){n.fill(t,"clearWorkspace",{},e.Workspace)})},args:[],source:"clearWorkspace\n	sourceArea clear",messageSends:["clear"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"doIt",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._doIt(),t},function(n){n.fill(t,"doIt",{},e.Workspace)})},args:[],source:"doIt\n	sourceArea doIt",messageSends:["doIt"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"fileIn",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._fileIn(),t},function(n){n.fill(t,"fileIn",{},e.Workspace)})},args:[],source:"fileIn\n	sourceArea fileIn",messageSends:["fileIn"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"inspectIt",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._inspectIt(),t},function(n){n.fill(t,"inspectIt",{},e.Workspace)})},args:[],source:"inspectIt\n	sourceArea inspectIt",messageSends:["inspectIt"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"label",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"Workspace"},function(n){n.fill(t,"label",{},e.Workspace)})},args:[],source:"label\n	^ 'Workspace'",messageSends:[],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"printIt",category:"actions",fn:function(){var t=this;return e.withContext(function(){return n(t["@sourceArea"])._printIt(),t},function(n){n.fill(t,"printIt",{},e.Workspace)})},args:[],source:"printIt\n	sourceArea printIt",messageSends:["printIt"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"renderBoxOn:",category:"rendering",fn:function(s){function r(){return e.SourceArea||("undefined"==typeof SourceArea?t:SourceArea)}var a=this;return e.withContext(function(){return a["@sourceArea"]=n(r())._new(),n(a["@sourceArea"])._renderOn_(s),a},function(t){t.fill(a,"renderBoxOn:",{html:s},e.Workspace)})},args:["html"],source:"renderBoxOn: html\n	sourceArea := SourceArea new.\n	sourceArea renderOn: html",messageSends:["new","renderOn:"],referencedClasses:["SourceArea"]}),e.Workspace),e.addMethod(e.method({selector:"renderButtonsOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u,d,f,h,m;return a=n(t)._button(),r.sendIdx.button=1,n(a)._with_("DoIt"),r.sendIdx["with:"]=1,n(a)._title_("ctrl+d"),r.sendIdx["title:"]=1,o=n(a)._onClick_(function(){return e.withContext(function(){return s._doIt()},function(e){e.fillBlock({},r,1)})}),r.sendIdx["onClick:"]=1,i=n(t)._button(),r.sendIdx.button=2,n(i)._with_("PrintIt"),r.sendIdx["with:"]=2,n(i)._title_("ctrl+p"),r.sendIdx["title:"]=2,l=n(i)._onClick_(function(){return e.withContext(function(){return s._printIt()},function(e){e.fillBlock({},r,2)})}),r.sendIdx["onClick:"]=2,c=n(t)._button(),r.sendIdx.button=3,n(c)._with_("InspectIt"),r.sendIdx["with:"]=3,n(c)._title_("ctrl+i"),r.sendIdx["title:"]=3,u=n(c)._onClick_(function(){return e.withContext(function(){return s._inspectIt()},function(e){e.fillBlock({},r,3)})}),r.sendIdx["onClick:"]=3,d=n(t)._button(),r.sendIdx.button=4,n(d)._with_("FileIn"),r.sendIdx["with:"]=4,n(d)._title_("ctrl+f"),f=n(d)._onClick_(function(){return e.withContext(function(){return s._fileIn()},function(e){e.fillBlock({},r,4)})}),r.sendIdx["onClick:"]=4,h=n(t)._button(),n(h)._with_("Clear workspace"),m=n(h)._onClick_(function(){return e.withContext(function(){return s._clearWorkspace()},function(e){e.fillBlock({},r,5)})}),s},function(n){n.fill(s,"renderButtonsOn:",{html:t},e.Workspace)})},args:["html"],source:"renderButtonsOn: html\n	html button\n	with: 'DoIt';\n	title: 'ctrl+d';\n	onClick: [ self doIt ].\n	html button\n	with: 'PrintIt';\n	title: 'ctrl+p';\n	onClick: [ self printIt ].\n	html button\n	with: 'InspectIt';\n	title: 'ctrl+i';\n	onClick: [ self inspectIt ].\n	html button\n	with: 'FileIn';\n	title: 'ctrl+f';\n	onClick: [ self fileIn ].\n	html button\n	with: 'Clear workspace';\n	onClick: [ self clearWorkspace ]",messageSends:["with:","button","title:","onClick:","doIt","printIt","inspectIt","fileIn","clearWorkspace"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"show",category:"actions",fn:function(){var t=this;return e.withContext(function(){return e.Workspace.superclass.fn.prototype._show.apply(n(t),[]),n(t["@sourceArea"])._focus(),t},function(n){n.fill(t,"show",{},e.Workspace)})},args:[],source:"show\n	super show.\n	sourceArea focus.",messageSends:["show","focus"],referencedClasses:[]}),e.Workspace),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(e){var t;return a=n(r())._new(),n(a)._at_put_("#self",o),e.sendIdx["at:put:"]=1,n(a)._at_put_("#year",o._year()),e.sendIdx["at:put:"]=2,n(a)._at_put_("#month",o._month()),e.sendIdx["at:put:"]=3,n(a)._at_put_("#day",o._day()),e.sendIdx["at:put:"]=4,n(a)._at_put_("#hours",o._hours()),e.sendIdx["at:put:"]=5,n(a)._at_put_("#minutes",o._minutes()),e.sendIdx["at:put:"]=6,n(a)._at_put_("#seconds",o._seconds()),e.sendIdx["at:put:"]=7,n(a)._at_put_("#milliseconds",o._milliseconds()),n(s)._setLabel_(o._printString()),t=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.Date)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	variables at: '#year' put: self year.\n	variables at: '#month' put: self month.\n	variables at: '#day' put: self day.\n	variables at: '#hours' put: self hours.\n	variables at: '#minutes' put: self minutes.\n	variables at: '#seconds' put: self seconds.\n	variables at: '#milliseconds' put: self milliseconds.\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","year","month","day","hours","minutes","seconds","milliseconds","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.Date),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(a)._at_put_("#self",o),t.sendIdx["at:put:"]=1,o._withIndexDo_(function(s,r){return e.withContext(function(){return n(a)._at_put_(r,s)},function(e){e.fillBlock({each:s,i:r},t,1)})}),n(s)._setLabel_(o._printString()),i=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.Collection)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	self withIndexDo: [ :each :i |\n		variables at: i put: each ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","withIndexDo:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.Collection),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(t){var s,r=this;return e.withContext(function(a){var o,i,l,c,u;return e.String.superclass.fn.prototype._inspectOn_.apply(n(r),[t]),o=r._printString(),a.sendIdx.printString=1,i=n(o)._size(),l=n(i).__gt(30),e.assert(l)?(c=r._printString(),a.sendIdx.printString=2,u=n(c)._copyFrom_to_(1,30),s=n(u).__comma("...'")):s=r._printString(),n(t)._setLabel_(s),r},function(n){n.fill(r,"inspectOn:",{anInspector:t,label:s},e.String)})},args:["anInspector"],source:"inspectOn: anInspector\n	| label |\n	super inspectOn: anInspector.\n	self printString size > 30\n		ifTrue: [ label := (self printString copyFrom: 1 to: 30), '...''' ]\n		ifFalse: [ label := self printString ].\n	anInspector setLabel: label",messageSends:["inspectOn:","ifTrue:ifFalse:",">","size","printString",",","copyFrom:to:","setLabel:"],referencedClasses:[]}),e.String),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(a)._at_put_("#self",o),t.sendIdx["at:put:"]=1,n(a)._at_put_("#home",o._home()),t.sendIdx["at:put:"]=2,n(a)._at_put_("#receiver",o._receiver()),t.sendIdx["at:put:"]=3,n(a)._at_put_("#selector",o._selector()),t.sendIdx["at:put:"]=4,n(a)._at_put_("#temps",o._temps()),t.sendIdx["at:put:"]=5,n(n(o._class())._instanceVariableNames())._do_(function(s){return e.withContext(function(){return n(a)._at_put_(s,o._instVarAt_(s))},function(e){e.fillBlock({each:s},t,1)})}),n(s)._setLabel_(o._printString()),i=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.MethodContext)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	variables at: '#home' put: self home.\n	variables at: '#receiver' put: self receiver.\n	variables at: '#selector' put: self selector.\n	variables at: '#temps' put: self temps.\n	self class instanceVariableNames do: [ :each |\n		variables at: each put: (self instVarAt: each) ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","home","receiver","selector","temps","do:","instanceVariableNames","class","instVarAt:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.MethodContext),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(a)._at_put_("#self",o),t.sendIdx["at:put:"]=1,n(a)._at_put_("#keys",o._keys()),t.sendIdx["at:put:"]=2,o._keysAndValuesDo_(function(s,r){return e.withContext(function(){return n(a)._at_put_(s,r)},function(e){e.fillBlock({key:s,value:r},t,1)})}),n(s)._setLabel_(o._printString()),i=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.HashedCollection)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	variables at: '#keys' put: self keys.\n	self keysAndValuesDo: [ :key :value |\n		variables at: key put: value ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","keys","keysAndValuesDo:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.HashedCollection),e.addMethod(e.method({selector:"inspectOn:",category:"*IDE",fn:function(s){function r(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var a,o=this;return e.withContext(function(t){var i;return a=n(r())._new(),n(a)._at_put_("#self",o),t.sendIdx["at:put:"]=1,n(o["@elements"])._withIndexDo_(function(s,r){return e.withContext(function(){return n(a)._at_put_(r,s)},function(e){e.fillBlock({each:s,i:r},t,1)})}),n(s)._setLabel_(o._printString()),i=n(s)._setVariables_(a),o},function(t){t.fill(o,"inspectOn:",{anInspector:s,variables:a},e.Set)})},args:["anInspector"],source:"inspectOn: anInspector\n	| variables |\n	variables := Dictionary new.\n	variables at: '#self' put: self.\n	elements withIndexDo: [ :each :i |\n		variables at: i put: each ].\n	anInspector\n		setLabel: self printString;\n		setVariables: variables",messageSends:["new","at:put:","withIndexDo:","setLabel:","printString","setVariables:"],referencedClasses:["Dictionary"]}),e.Set)}),define("amber_core/Examples",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Canvas"],function(e,t,n){e.addPackage("Examples"),e.packages.Examples.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Counter",e.Widget,["count","header"],"Examples"),e.Counter.comment="This is a trivial Widget example mimicking the classic Counter example in Seaside.\nIn order to play with it, just evaluate the doit below in a workspace.\nThen take a look in the HTML document above the IDE.\n\n		Counter tryExample",e.addMethod(e.method({selector:"decrease",category:"actions",fn:function(){var t=this;return e.withContext(function(s){return t["@count"]=n(t["@count"]).__minus(1),n(t["@header"])._contents_(function(r){return e.withContext(function(){return n(r)._with_(n(t["@count"])._asString())},function(e){e.fillBlock({html:r},s,1)})}),t},function(n){n.fill(t,"decrease",{},e.Counter)})},args:[],source:"decrease\n	count := count - 1.\n	header contents: [ :html | html with: count asString ]",messageSends:["-","contents:","with:","asString"],referencedClasses:[]}),e.Counter),e.addMethod(e.method({selector:"increase",category:"actions",fn:function(){var t=this;return e.withContext(function(s){return t["@count"]=n(t["@count"]).__plus(1),n(t["@header"])._contents_(function(r){return e.withContext(function(){return n(r)._with_(n(t["@count"])._asString())
},function(e){e.fillBlock({html:r},s,1)})}),t},function(n){n.fill(t,"increase",{},e.Counter)})},args:[],source:"increase\n	count := count + 1.\n	header contents: [ :html | html with: count asString ]",messageSends:["+","contents:","with:","asString"],referencedClasses:[]}),e.Counter),e.addMethod(e.method({selector:"initialize",category:"initialization",fn:function(){var t=this;return e.withContext(function(){return e.Counter.superclass.fn.prototype._initialize.apply(n(t),[]),t["@count"]=0,t},function(n){n.fill(t,"initialize",{},e.Counter)})},args:[],source:"initialize\n	super initialize.\n	count := 0",messageSends:["initialize"],referencedClasses:[]}),e.Counter),e.addMethod(e.method({selector:"renderOn:",category:"rendering",fn:function(t){var s=this;return e.withContext(function(r){var a,o,i,l,c,u;return a=n(t)._h1(),n(a)._with_(n(s["@count"])._asString()),r.sendIdx["with:"]=1,o=n(a)._yourself(),s["@header"]=o,i=n(t)._button(),r.sendIdx.button=1,n(i)._with_("++"),r.sendIdx["with:"]=2,l=n(i)._onClick_(function(){return e.withContext(function(){return s._increase()},function(e){e.fillBlock({},r,1)})}),r.sendIdx["onClick:"]=1,c=n(t)._button(),n(c)._with_("--"),u=n(c)._onClick_(function(){return e.withContext(function(){return s._decrease()},function(e){e.fillBlock({},r,2)})}),s},function(n){n.fill(s,"renderOn:",{html:t},e.Counter)})},args:["html"],source:"renderOn: html\n	header := html h1\n		with: count asString;\n		yourself.\n	html button\n		with: '++';\n		onClick: [ self increase ].\n	html button\n		with: '--';\n		onClick: [ self decrease ]",messageSends:["with:","h1","asString","yourself","button","onClick:","increase","decrease"],referencedClasses:[]}),e.Counter),e.addMethod(e.method({selector:"tryExample",category:"example",fn:function(){var t=this;return e.withContext(function(){return n(t._new())._appendToJQuery_("body"._asJQuery()),t},function(n){n.fill(t,"tryExample",{},e.Counter.klass)})},args:[],source:'tryExample\n	"In order to play with the Counter, just select the\n	doit below and press the Do it button. Then take a\n	look in the HTML document above the IDE."\n\n	"Counter tryExample"\n		self new appendToJQuery: \'body\' asJQuery',messageSends:["appendToJQuery:","new","asJQuery"],referencedClasses:[]}),e.Counter.klass)}),define("amber_core/Benchfib",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Benchfib"),e.packages.Benchfib.transport={type:"amd",amdNamespace:"amber_core"},e.addClass("Benchfib",e.Object,[],"Benchfib"),e.addMethod(e.method({selector:"main",category:"not yet classified",fn:function(){var t,s=this;return e.withContext(function(){return t=0.._tinyBenchmarks(),n(console)._log_("0 tinyBenchmarks => ".__comma(t)),s},function(n){n.fill(s,"main",{result:t},e.Benchfib.klass)})},args:[],source:"main\n\n	| result |\n	result := 0 tinyBenchmarks.\n	console log: '0 tinyBenchmarks => ' , result",messageSends:["tinyBenchmarks","log:",","],referencedClasses:[]}),e.Benchfib.klass),e.addMethod(e.method({selector:"benchFib",category:"*Benchfib",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l;return r=t.__lt(2),e.assert(r)?l=1:(a=t.__minus(1),s.sendIdx["-"]=1,o=n(a)._benchFib(),s.sendIdx.benchFib=1,i=n(o).__plus(n(t.__minus(2))._benchFib()),l=n(i).__plus(1),s.sendIdx["+"]=1),l},function(n){n.fill(t,"benchFib",{},e.Number)})},args:[],source:'benchFib\n	"Handy send-heavy benchmark"\n	"(result // seconds to run) = approx calls per second"\n	"	| r t |\n		t := Time millisecondsToRun: [r := 26 benchFib].\n		(r * 1000) // t"\n	"138000 on a Mac 8100/100"\n	^ self < 2\n		ifTrue: [1]\n		ifFalse: [(self-1) benchFib + (self-2) benchFib + 1]',messageSends:["ifTrue:ifFalse:","<","+","benchFib","-"],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"benchmark",category:"*Benchfib",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)}var r,a,o,i,l,c=this;return e.withContext(function(t){var u,d;return r=8190,1.._to_do_(c,function(c){return e.withContext(function(t){return l=0,a=n(s())._new(),n(r)._timesRepeat_(function(){return e.withContext(function(){return n(a)._add_(!0)},function(e){e.fillBlock({},t,2)})}),1.._to_do_(r,function(s){return e.withContext(function(t){return u=n(a)._at_(s),e.assert(u)?(o=n(s).__plus(1),t.sendIdx["+"]=1,i=n(s).__plus(o),t.sendIdx["+"]=2,n(function(){return e.withContext(function(){return n(i).__lt_eq(r)},function(e){e.fillBlock({},t,5)})})._whileTrue_(function(){return e.withContext(function(e){return n(a)._at_put_(i,!1),i=n(i).__plus(o),e.sendIdx["+"]=3,i},function(e){e.fillBlock({},t,6)})}),l=n(l).__plus(1)):void 0},function(e){e.fillBlock({i:s},t,3)})})},function(e){e.fillBlock({iter:c},t,1)})}),t.sendIdx["to:do:"]=1,d=l},function(t){t.fill(c,"benchmark",{size:r,flags:a,prime:o,k:i,count:l},e.Number)})},args:[],source:'benchmark\n	"Handy bytecode-heavy benchmark"\n	"(500000 // time to run) = approx bytecodes per second"\n	"5000000 // (Time millisecondsToRun: [10 benchmark]) * 1000"\n	"3059000 on a Mac 8100/100"\n	| size flags prime k count |\n	size := 8190.\n	1 to: self do:\n		[:iter |\n		count := 0.\n		flags := Array new.\n		size timesRepeat: [ flags add: true].\n		1 to: size do:\n			[:i | (flags at: i) ifTrue:\n				[prime := i+1.\n				k := i + prime.\n				[k <= size] whileTrue:\n					[flags at: k put: false.\n					k := k + prime].\n				count := count + 1]]].\n	^ count',messageSends:["to:do:","new","timesRepeat:","add:","ifTrue:","at:","+","whileTrue:","<=","at:put:"],referencedClasses:["Array"]}),e.Number),e.addMethod(e.method({selector:"jsbenchFib",category:"*Benchfib",fn:function(){var t=this;return e.withContext(function(){return 2>this?1:(this-1)._jsbenchFib()+(this-2)._jsbenchFib()+1},function(n){n.fill(t,"jsbenchFib",{},e.Number)})},args:[],source:"jsbenchFib\n\n	<if (this < 2) {\nreturn 1;\n} else {\nreturn (this-1)._jsbenchFib() + (this-2)._jsbenchFib() + 1;}>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"jsbenchmark",category:"*Benchfib",fn:function(){var t=this;return e.withContext(function(){for(var e,t=8190,n=0;this>n;n++){e=0;for(var s=new Array,r=0;t>r;r++)s[r]=!0;for(var a=1;t>=a;a++)if(s[a-1]){for(var o=a+1,i=a+o;t>=i;)s[i-1]=!1,i+=o;e+=1}}return e},function(n){n.fill(t,"jsbenchmark",{},e.Number)})},args:[],source:"jsbenchmark\n\n<\nvar size = 8190;\nvar count;\nfor (var z=0;z<this;z++) {\n	count = 0;\n	var flags = new Array();\n	for (var p=0; p<size; p++) {\n	flags[p] = true;\n	}\n	for (var i=1;i<=size;i++) {\n		if (flags[i-1]) {\n			var prime = i+1;\n			var k = i + prime;\n			while (k <= size) {\n				flags[k-1] = false;\n				k = k + prime;\n			}\n			count = count + 1;\n		}\n	}\n}\nreturn count>",messageSends:[],referencedClasses:[]}),e.Number),e.addMethod(e.method({selector:"jstinyBenchmarks",category:"*Benchfib",fn:function(){function s(){return e.Date||("undefined"==typeof Date?t:Date)}var r,a,o,i,l,c=this;return e.withContext(function(t){var c,u,d,f,h,m,g;return i=1,n(function(){return e.withContext(function(t){return r=n(s())._millisecondsToRun_(function(){return e.withContext(function(){return n(i)._jsbenchmark()},function(e){e.fillBlock({},t,2)})}),t.sendIdx["millisecondsToRun:"]=1,n(r).__lt(1e3)},function(e){e.fillBlock({},t,1)})})._whileTrue_(function(){return e.withContext(function(e){return i=n(i).__star(2),e.sendIdx["*"]=1,i},function(e){e.fillBlock({},t,3)})}),t.sendIdx["whileTrue:"]=1,l=28,n(function(){return e.withContext(function(t){return a=n(s())._millisecondsToRun_(function(){return e.withContext(function(){return o=n(l)._jsbenchFib()},function(e){e.fillBlock({},t,5)})}),n(a).__lt(1e3)},function(e){e.fillBlock({},t,4)})})._whileTrue_(function(){return e.withContext(function(){return l=n(l).__plus(1)},function(e){e.fillBlock({},t,6)})}),c=n(i).__star(5e5),t.sendIdx["*"]=3,u=n(c).__star(1e3),t.sendIdx["*"]=2,d=n(u).__slash(r),t.sendIdx["/"]=1,f=n(d)._printString(),t.sendIdx.printString=1,h=n(f).__comma(" bytecodes/sec; "),m=n(h).__comma(n(n(n(o).__star(1e3)).__slash(a))._printString()),t.sendIdx[","]=2,g=n(m).__comma(" sends/sec"),t.sendIdx[","]=1,g},function(t){t.fill(c,"jstinyBenchmarks",{t1:r,t2:a,r:o,n1:i,n2:l},e.Number)})},args:[],source:"jstinyBenchmarks\n	\"0 jstinyBenchmarks\"\n\n	| t1 t2 r n1 n2 |\n	n1 := 1.\n	[t1 := Date millisecondsToRun: [n1 jsbenchmark].\n	t1 < 1000] whileTrue:[n1 := n1 * 2]. \"Note: #benchmark's runtime is about O(n)\"\n\n	n2 := 28.\n	[t2 := Date millisecondsToRun: [r := n2 jsbenchFib].\n	t2 < 1000] whileTrue:[n2 := n2 + 1].\n	\"Note: #jsbenchFib's runtime is about O(k^n),\n		where k is the golden number = (1 + 5 sqrt) / 2 = 1.618....\"\n\n	^ ((n1 * 500000 * 1000) / t1) printString, ' bytecodes/sec; ',\n		((r * 1000) / t2) printString, ' sends/sec'",messageSends:["whileTrue:","millisecondsToRun:","jsbenchmark","<","*","jsbenchFib","+",",","printString","/"],referencedClasses:["Date"]}),e.Number),e.addMethod(e.method({selector:"tinyBenchmarks",category:"*Benchfib",fn:function(){function s(){return e.Date||("undefined"==typeof Date?t:Date)}var r,a,o,i,l,c=this;return e.withContext(function(t){var c,u,d,f,h,m,g;return i=1,n(function(){return e.withContext(function(t){return r=n(s())._millisecondsToRun_(function(){return e.withContext(function(){return n(i)._benchmark()},function(e){e.fillBlock({},t,2)})}),t.sendIdx["millisecondsToRun:"]=1,n(r).__lt(1e3)},function(e){e.fillBlock({},t,1)})})._whileTrue_(function(){return e.withContext(function(e){return i=n(i).__star(2),e.sendIdx["*"]=1,i},function(e){e.fillBlock({},t,3)})}),t.sendIdx["whileTrue:"]=1,l=16,n(function(){return e.withContext(function(t){return a=n(s())._millisecondsToRun_(function(){return e.withContext(function(){return o=n(l)._benchFib()},function(e){e.fillBlock({},t,5)})}),n(a).__lt(1e3)},function(e){e.fillBlock({},t,4)})})._whileTrue_(function(){return e.withContext(function(){return l=n(l).__plus(1)},function(e){e.fillBlock({},t,6)})}),c=n(i).__star(5e5),t.sendIdx["*"]=3,u=n(c).__star(1e3),t.sendIdx["*"]=2,d=n(u).__slash(r),t.sendIdx["/"]=1,f=n(d)._printString(),t.sendIdx.printString=1,h=n(f).__comma(" bytecodes/sec; "),m=n(h).__comma(n(n(n(o).__star(1e3)).__slash(a))._printString()),t.sendIdx[","]=2,g=n(m).__comma(" sends/sec"),t.sendIdx[","]=1,g},function(t){t.fill(c,"tinyBenchmarks",{t1:r,t2:a,r:o,n1:i,n2:l},e.Number)})},args:[],source:'tinyBenchmarks\n	"Report the results of running the two tiny Squeak benchmarks.\n	ar 9/10/1999: Adjusted to run at least 1 sec to get more stable results"\n	"0 tinyBenchmarks"\n	"On a 292 MHz G3 Mac: 22727272 bytecodes/sec; 984169 sends/sec"\n	"On a 400 MHz PII/Win98: 18028169 bytecodes/sec; 1081272 sends/sec"\n	| t1 t2 r n1 n2 |\n	n1 := 1.\n	[t1 := Date millisecondsToRun: [n1 benchmark].\n	t1 < 1000] whileTrue:[n1 := n1 * 2]. "Note: #benchmark\'s runtime is about O(n)"\n\n	n2 := 16.\n	[t2 := Date millisecondsToRun: [r := n2 benchFib].\n	t2 < 1000] whileTrue:[n2 := n2 + 1].\n	"Note: #benchFib\'s runtime is about O(k^n),\n		where k is the golden number = (1 + 5 sqrt) / 2 = 1.618...."\n\n	^ ((n1 * 500000 * 1000) / t1) printString, \' bytecodes/sec; \',\n		((r * 1000) / t2) printString, \' sends/sec\'',messageSends:["whileTrue:","millisecondsToRun:","benchmark","<","*","benchFib","+",",","printString","/"],referencedClasses:["Date"]}),e.Number)}),define("amber_core/Kernel-Tests",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/SUnit","amber_core/Kernel-Objects"],function(e,t,n){e.addPackage("Kernel-Tests"),e.packages["Kernel-Tests"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("AnnouncementSubscriptionTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testHandlesAnnouncement",category:"tests",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}function r(){return e.SystemAnnouncement||("undefined"==typeof SystemAnnouncement?t:SystemAnnouncement)}function a(){return e.AnnouncementSubscription||("undefined"==typeof AnnouncementSubscription?t:AnnouncementSubscription)}function o(){return e.Object||("undefined"==typeof Object?t:Object)}var i,l,c,u,d=this;return e.withContext(function(e){var t,c;return u=n(s())._new(),e.sendIdx["new"]=1,l=n(u)._basicAddSubclassOf_named_instanceVariableNames_package_(r(),"TestAnnouncement1",[],"Kernel-Tests"),i=n(n(a())._new())._announcementClass_(r()),t=n(i)._handlesAnnouncement_(r()),e.sendIdx["handlesAnnouncement:"]=1,d._assert_equals_(t,!0),e.sendIdx["assert:equals:"]=1,c=n(i)._handlesAnnouncement_(l),e.sendIdx["handlesAnnouncement:"]=2,d._assert_equals_(c,!0),e.sendIdx["assert:equals:"]=2,d._assert_equals_(n(i)._handlesAnnouncement_(o()),!1),n(u)._basicRemoveClass_(l),d},function(t){t.fill(d,"testHandlesAnnouncement",{subscription:i,announcementClass1:l,announcementClass2:c,classBuilder:u},e.AnnouncementSubscriptionTest)})},args:[],source:'testHandlesAnnouncement\n	| subscription announcementClass1 announcementClass2 classBuilder |\n	\n	classBuilder := ClassBuilder new.\n	announcementClass1 := classBuilder basicAddSubclassOf: SystemAnnouncement named: \'TestAnnouncement1\' instanceVariableNames: #() package: \'Kernel-Tests\'.\n	\n	subscription := AnnouncementSubscription new announcementClass: SystemAnnouncement.\n	"Test whether the same class triggers the announcement"\n	self assert: (subscription handlesAnnouncement: SystemAnnouncement) equals: true.\n	"Test whether a subclass triggers the announcement"\n	self assert: (subscription handlesAnnouncement: announcementClass1) equals: true.\n	"Test whether an unrelated class does not trigger the announcement"\n	self assert: (subscription handlesAnnouncement: Object) equals: false.\n	\n	classBuilder basicRemoveClass: announcementClass1.',messageSends:["new","basicAddSubclassOf:named:instanceVariableNames:package:","announcementClass:","assert:equals:","handlesAnnouncement:","basicRemoveClass:"],referencedClasses:["ClassBuilder","SystemAnnouncement","AnnouncementSubscription","Object"]}),e.AnnouncementSubscriptionTest),e.addClass("BlockClosureTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testCanClearInterval",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._shouldnt_raise_(function(){return e.withContext(function(t){return n(n(function(){return e.withContext(function(){return n(n(s())._new())._signal()},function(e){e.fillBlock({},t,2)})})._valueWithInterval_(0))._clearInterval()},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testCanClearInterval",{},e.BlockClosureTest)})},args:[],source:"testCanClearInterval\n	self shouldnt: [ ([ Error new signal ] valueWithInterval: 0) clearInterval ] raise: Error",messageSends:["shouldnt:raise:","clearInterval","valueWithInterval:","signal","new"],referencedClasses:["Error"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testCanClearTimeout",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._shouldnt_raise_(function(){return e.withContext(function(t){return n(n(function(){return e.withContext(function(){return n(n(s())._new())._signal()},function(e){e.fillBlock({},t,2)})})._valueWithTimeout_(0))._clearTimeout()},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testCanClearTimeout",{},e.BlockClosureTest)})},args:[],source:"testCanClearTimeout\n	self shouldnt: [ ([ Error new signal ] valueWithTimeout: 0) clearTimeout ] raise: Error",messageSends:["shouldnt:raise:","clearTimeout","valueWithTimeout:","signal","new"],referencedClasses:["Error"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testCompiledSource",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t._assert_(n(n(function(){return e.withContext(function(){return 1..__plus(1)},function(e){e.fillBlock({},s,1)})})._compiledSource())._includesSubString_("function")),t},function(n){n.fill(t,"testCompiledSource",{},e.BlockClosureTest)})},args:[],source:"testCompiledSource\n	self assert: ([ 1+1 ] compiledSource includesSubString: 'function')",messageSends:["assert:","includesSubString:","compiledSource","+"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testCurrySelf",category:"tests",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}function r(){return e.Array||("undefined"==typeof Array?t:Array)}var a,o,i=this;return e.withContext(function(t){return a=n(n(function(s,r){return e.withContext(function(){return n(s)._at_(r)},function(e){e.fillBlock({selfarg:s,x:r},t,1)})})._currySelf())._asCompiledMethod_("foo:"),o=[3,1,4],n(n(s())._new())._installMethod_forClass_category_(a,r(),"**test helper"),n(function(){return e.withContext(function(){return i._assert_equals_(n(o)._foo_(2),1)},function(e){e.fillBlock({},t,2)})})._ensure_(function(){return e.withContext(function(){return n(r())._removeCompiledMethod_(a)},function(e){e.fillBlock({},t,3)})}),i},function(t){t.fill(i,"testCurrySelf",{curriedMethod:a,array:o},e.BlockClosureTest)})},args:[],source:"testCurrySelf\n	| curriedMethod array |\n	curriedMethod := [ :selfarg :x | selfarg at: x ] currySelf asCompiledMethod: 'foo:'.\n	array := #(3 1 4).\n	ClassBuilder new installMethod: curriedMethod forClass: Array category: '**test helper'.\n	[ self assert: (array foo: 2) equals: 1 ]\n	ensure: [ Array removeCompiledMethod: curriedMethod ]",messageSends:["asCompiledMethod:","currySelf","at:","installMethod:forClass:category:","new","ensure:","assert:equals:","foo:","removeCompiledMethod:"],referencedClasses:["ClassBuilder","Array"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testEnsure",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t._assert_equals_(n(function(){return e.withContext(function(){return 3},function(e){e.fillBlock({},s,1)})})._ensure_(function(){return e.withContext(function(){return 4},function(e){e.fillBlock({},s,2)})}),3),t},function(n){n.fill(t,"testEnsure",{},e.BlockClosureTest)})},args:[],source:"testEnsure\n	self assert: ([ 3 ] ensure: [ 4 ]) equals: 3",messageSends:["assert:equals:","ensure:"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testEnsureRaises",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(t){return n(function(){return e.withContext(function(){return n(n(s())._new())._signal()},function(e){e.fillBlock({},t,2)})})._ensure_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},t,3)})})},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testEnsureRaises",{},e.BlockClosureTest)})},args:[],source:"testEnsureRaises\n	self should: [ [Error new signal ] ensure: [ true ]] raise: Error",messageSends:["should:raise:","ensure:","signal","new"],referencedClasses:["Error"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testExceptionSemantics",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._timeout_(100),n(r._async_(function(){return e.withContext(function(t){return n(function(){return e.withContext(function(e){return r._assert_(!0),n(s())._signal(),r._deny_(!0),r._finished()},function(e){e.fillBlock({},t,2)})})._on_do_(s(),function(n){return e.withContext(function(){return r._finished()},function(e){e.fillBlock({ex:n},t,3)})})},function(e){e.fillBlock({},t,1)})}))._valueWithTimeout_(0),r},function(t){t.fill(r,"testExceptionSemantics",{},e.BlockClosureTest)})},args:[],source:'testExceptionSemantics\n	"See https://github.com/NicolasPetton/amber/issues/314"\n	self timeout: 100.\n	\n	(self async: [\n		[\n			self assert: true.\n			Error signal.\n			"The following should *not* be run"\n			self deny: true.\n			self finished.\n		] on: Error do: [ :ex | self finished ]\n	]) valueWithTimeout: 0',messageSends:["timeout:","valueWithTimeout:","async:","on:do:","assert:","signal","deny:","finished"],referencedClasses:["Error"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testNewWithValues",category:"tests",fn:function(){var t=this;return e.withContext(function(){function s(){this.name="theTestPrototype"}function r(){}function a(){o._newWithValues_("This is so wrong")}r.prototype=new s;var o=n(r),i=o._newWithValues_([1,2,3]);return t._assert_equals_(Object.getPrototypeOf(i).name,"theTestPrototype"),t._should_raise_(n(a),e.Error),t},function(n){n.fill(t,"testNewWithValues",{},e.BlockClosureTest)})},args:[],source:"testNewWithValues\n<\n	function theTestPrototype() {this.name = \"theTestPrototype\";}\n	function theTestConstructor(arg1, arg2, arg3) {}\n	theTestConstructor.prototype = new theTestPrototype;\n\n	var theWrappedConstructor = _st(theTestConstructor);\n	var theResult = theWrappedConstructor._newWithValues_([1, 2, 3 ]);\n	self._assert_equals_(Object.getPrototypeOf(theResult).name, 'theTestPrototype');\n\n	\"newWithValues: cannot help if the argument list is wrong, and should warn that a mistake was made.\"\n	function constructionShouldFail() {var anotherResult = theWrappedConstructor._newWithValues_('This is so wrong');}\n	self._should_raise_(_st(constructionShouldFail), smalltalk.Error);\n>",messageSends:[],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testNumArgs",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(function(){return e.withContext(function(){},function(e){e.fillBlock({},s,1)})})._numArgs(),s.sendIdx.numArgs=1,t._assert_equals_(r,0),s.sendIdx["assert:equals:"]=1,t._assert_equals_(n(function(t,n){return e.withContext(function(){},function(e){e.fillBlock({a:t,b:n},s,2)})})._numArgs(),2),t},function(n){n.fill(t,"testNumArgs",{},e.BlockClosureTest)})},args:[],source:"testNumArgs\n	self assert: [] numArgs equals: 0.\n	self assert: [ :a :b | ] numArgs equals: 2",messageSends:["assert:equals:","numArgs"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testOnDo",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._assert_(n(function(){return e.withContext(function(){return n(n(s())._new())._signal()},function(e){e.fillBlock({},t,1)})})._on_do_(s(),function(n){return e.withContext(function(){return!0},function(e){e.fillBlock({ex:n},t,2)})})),r},function(t){t.fill(r,"testOnDo",{},e.BlockClosureTest)})},args:[],source:"testOnDo\n	self assert: ([ Error new signal ] on: Error do: [ :ex | true ])",messageSends:["assert:","on:do:","signal","new"],referencedClasses:["Error"]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testValue",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r;return r=n(function(){return e.withContext(function(e){return 1..__plus(1)},function(e){e.fillBlock({},s,1)})})._value(),s.sendIdx.value=1,t._assert_equals_(r,2),s.sendIdx["assert:equals:"]=1,t._assert_equals_(n(function(t){return e.withContext(function(){return n(t).__plus(1)},function(e){e.fillBlock({x:t},s,2)})})._value_(2),3),s.sendIdx["assert:equals:"]=2,t._assert_equals_(n(function(t,r){return e.withContext(function(){return n(t).__star(r)},function(e){e.fillBlock({x:t,y:r},s,3)})})._value_value_(2,4),8),s.sendIdx["assert:equals:"]=3,t._assert_equals_(n(function(t,n,r){return e.withContext(function(){return 1},function(e){e.fillBlock({a:t,b:n,c:r},s,4)})})._value(),1),t},function(n){n.fill(t,"testValue",{},e.BlockClosureTest)})},args:[],source:'testValue\n	self assert: ([ 1+1 ] value) equals: 2.\n	self assert: ([ :x | x +1 ] value: 2) equals: 3.\n	self assert: ([ :x :y | x*y ] value: 2 value: 4) equals: 8.\n\n	"Arguments are optional in Amber. This isn\'t ANSI compliant."\n\n	self assert: ([ :a :b :c | 1 ] value) equals: 1',messageSends:["assert:equals:","value","+","value:","value:value:","*"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testValueWithPossibleArguments",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r,a;return r=n(function(){return e.withContext(function(){return 1},function(e){e.fillBlock({},s,1)})})._valueWithPossibleArguments_([3,4]),s.sendIdx["valueWithPossibleArguments:"]=1,t._assert_equals_(r,1),s.sendIdx["assert:equals:"]=1,a=n(function(t){return e.withContext(function(e){return n(t).__plus(4)},function(e){e.fillBlock({a:t},s,2)})})._valueWithPossibleArguments_([3,4]),s.sendIdx["valueWithPossibleArguments:"]=2,t._assert_equals_(a,7),s.sendIdx["assert:equals:"]=2,t._assert_equals_(n(function(t,r){return e.withContext(function(){return n(t).__plus(r)},function(e){e.fillBlock({a:t,b:r},s,3)})})._valueWithPossibleArguments_([3,4,5]),7),t},function(n){n.fill(t,"testValueWithPossibleArguments",{},e.BlockClosureTest)})},args:[],source:"testValueWithPossibleArguments\n	self assert: ([ 1 ] valueWithPossibleArguments: #(3 4)) equals: 1.\n	self assert: ([ :a | a + 4 ] valueWithPossibleArguments: #(3 4)) equals: 7.\n	self assert: ([ :a :b | a + b ] valueWithPossibleArguments: #(3 4 5)) equals: 7.",messageSends:["assert:equals:","valueWithPossibleArguments:","+"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testWhileFalse",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t=0,n(function(){return e.withContext(function(e){return n(t).__gt(5)},function(e){e.fillBlock({},r,1)})})._whileFalse_(function(){return e.withContext(function(e){return t=n(t).__plus(1),e.sendIdx["+"]=1,t},function(e){e.fillBlock({},r,2)})}),s._assert_equals_(t,6),r.sendIdx["assert:equals:"]=1,t=0,n(function(){return e.withContext(function(){return t=n(t).__plus(1),n(t).__gt(5)},function(e){e.fillBlock({},r,3)})})._whileFalse(),s._assert_equals_(t,6),s},function(n){n.fill(s,"testWhileFalse",{i:t},e.BlockClosureTest)})},args:[],source:"testWhileFalse\n	| i |\n	i := 0.\n	[ i > 5 ] whileFalse: [ i := i + 1 ].\n	self assert: i equals: 6.\n\n	i := 0.\n	[ i := i + 1. i > 5 ] whileFalse.\n	self assert: i equals: 6",messageSends:["whileFalse:",">","+","assert:equals:","whileFalse"],referencedClasses:[]}),e.BlockClosureTest),e.addMethod(e.method({selector:"testWhileTrue",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t=0,n(function(){return e.withContext(function(e){return n(t).__lt(5)},function(e){e.fillBlock({},r,1)})})._whileTrue_(function(){return e.withContext(function(e){return t=n(t).__plus(1),e.sendIdx["+"]=1,t},function(e){e.fillBlock({},r,2)})}),s._assert_equals_(t,5),r.sendIdx["assert:equals:"]=1,t=0,n(function(){return e.withContext(function(){return t=n(t).__plus(1),n(t).__lt(5)},function(e){e.fillBlock({},r,3)})})._whileTrue(),s._assert_equals_(t,5),s},function(n){n.fill(s,"testWhileTrue",{i:t},e.BlockClosureTest)})},args:[],source:"testWhileTrue\n	| i |\n	i := 0.\n	[ i < 5 ] whileTrue: [ i := i + 1 ].\n	self assert: i equals: 5.\n\n	i := 0.\n	[ i := i + 1. i < 5 ] whileTrue.\n	self assert: i equals: 5",messageSends:["whileTrue:","<","+","assert:equals:","whileTrue"],referencedClasses:[]}),e.BlockClosureTest),e.addClass("BooleanTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testEquality",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m;return s=0..__eq(!1),e.sendIdx["="]=1,t._deny_(s),e.sendIdx["deny:"]=1,r=(!1).__eq(0),e.sendIdx["="]=2,t._deny_(r),e.sendIdx["deny:"]=2,a="".__eq(!1),e.sendIdx["="]=3,t._deny_(a),e.sendIdx["deny:"]=3,o=(!1).__eq(""),e.sendIdx["="]=4,t._deny_(o),e.sendIdx["deny:"]=4,i=(!0).__eq(!0),e.sendIdx["="]=5,t._assert_(i),e.sendIdx["assert:"]=1,l=(!1).__eq(!0),e.sendIdx["="]=6,t._deny_(l),e.sendIdx["deny:"]=5,c=(!0).__eq(!1),e.sendIdx["="]=7,t._deny_(c),u=(!1).__eq(!1),e.sendIdx["="]=8,t._assert_(u),e.sendIdx["assert:"]=2,d=(!0)._yourself(),e.sendIdx.yourself=1,f=n(d).__eq(!0),e.sendIdx["="]=9,t._assert_(f),e.sendIdx["assert:"]=3,h=(!0)._yourself(),e.sendIdx.yourself=2,m=n(h).__eq((!0)._yourself()),t._assert_(m),t},function(n){n.fill(t,"testEquality",{},e.BooleanTest)})},args:[],source:"testEquality\n	\"We're on top of JS...just be sure to check the basics!\"\n\n	self deny: 0 = false.\n	self deny: false = 0.\n	self deny: '' = false.\n	self deny: false = ''.\n\n	self assert: (true = true).\n	self deny: false = true.\n	self deny: true = false.\n	self assert: (false = false).\n\n	\"JS may do some type coercing after sending a message\"\n	self assert: (true yourself = true).\n	self assert: (true yourself = true yourself)",messageSends:["deny:","=","assert:","yourself"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testIdentity",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m;return s=0..__eq_eq(!1),e.sendIdx["=="]=1,t._deny_(s),e.sendIdx["deny:"]=1,r=(!1).__eq_eq(0),e.sendIdx["=="]=2,t._deny_(r),e.sendIdx["deny:"]=2,a="".__eq_eq(!1),e.sendIdx["=="]=3,t._deny_(a),e.sendIdx["deny:"]=3,o=(!1).__eq_eq(""),e.sendIdx["=="]=4,t._deny_(o),e.sendIdx["deny:"]=4,i=(!0).__eq_eq(!0),e.sendIdx["=="]=5,t._assert_(i),e.sendIdx["assert:"]=1,l=(!1).__eq_eq(!0),e.sendIdx["=="]=6,t._deny_(l),e.sendIdx["deny:"]=5,c=(!0).__eq_eq(!1),e.sendIdx["=="]=7,t._deny_(c),u=(!1).__eq_eq(!1),e.sendIdx["=="]=8,t._assert_(u),e.sendIdx["assert:"]=2,d=(!0)._yourself(),e.sendIdx.yourself=1,f=n(d).__eq_eq(!0),e.sendIdx["=="]=9,t._assert_(f),e.sendIdx["assert:"]=3,h=(!0)._yourself(),e.sendIdx.yourself=2,m=n(h).__eq_eq((!0)._yourself()),t._assert_(m),t},function(n){n.fill(t,"testIdentity",{},e.BooleanTest)})},args:[],source:"testIdentity\n	\"We're on top of JS...just be sure to check the basics!\"\n\n	self deny: 0 == false.\n	self deny: false == 0.\n	self deny: '' == false.\n	self deny: false == ''.\n\n	self assert: true == true.\n	self deny: false == true.\n	self deny: true == false.\n	self assert: false == false.\n\n	\"JS may do some type coercing after sending a message\"\n	self assert: true yourself == true.\n	self assert: true yourself == true yourself",messageSends:["deny:","==","assert:","yourself"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testIfTrueIfFalse",category:"tests",fn:function(){var n=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d;return e.assert(!0)&&(r="alternative block"),n._assert_equals_(r,"alternative block"),s.sendIdx["assert:equals:"]=1,e.assert(!0)||(a="alternative block"),n._assert_equals_(a,t),s.sendIdx["assert:equals:"]=2,e.assert(!1)&&(o="alternative block"),n._assert_equals_(o,t),s.sendIdx["assert:equals:"]=3,e.assert(!1)||(i="alternative block"),n._assert_equals_(i,"alternative block"),s.sendIdx["assert:equals:"]=4,l=e.assert(!1)?"alternative block":"alternative block2",n._assert_equals_(l,"alternative block2"),s.sendIdx["assert:equals:"]=5,c=e.assert(!1)?"alternative block2":"alternative block",n._assert_equals_(c,"alternative block"),s.sendIdx["assert:equals:"]=6,u=e.assert(!0)?"alternative block":"alternative block2",n._assert_equals_(u,"alternative block"),s.sendIdx["assert:equals:"]=7,d=e.assert(!0)?"alternative block2":"alternative block",n._assert_equals_(d,"alternative block2"),n},function(t){t.fill(n,"testIfTrueIfFalse",{},e.BooleanTest)})},args:[],source:"testIfTrueIfFalse\n\n	self assert: (true ifTrue: [ 'alternative block' ]) equals: 'alternative block'.\n	self assert: (true ifFalse: [ 'alternative block' ]) equals: nil.\n\n	self assert: (false ifTrue: [ 'alternative block' ]) equals: nil.\n	self assert: (false ifFalse: [ 'alternative block' ]) equals: 'alternative block'.\n\n	self assert: (false ifTrue: [ 'alternative block' ] ifFalse: [ 'alternative block2' ]) equals: 'alternative block2'.\n	self assert: (false ifFalse: [ 'alternative block' ] ifTrue: [ 'alternative block2' ]) equals: 'alternative block'.\n\n	self assert: (true ifTrue: [ 'alternative block' ] ifFalse: [ 'alternative block2' ]) equals: 'alternative block'.\n	self assert: (true ifFalse: [ 'alternative block' ] ifTrue: [ 'alternative block2' ]) equals: 'alternative block2'.",messageSends:["assert:equals:","ifTrue:","ifFalse:","ifTrue:ifFalse:","ifFalse:ifTrue:"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testIfTrueIfFalseWithBoxing",category:"tests",fn:function(){var n=this;
return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g,p,_,C,v;return r=(!0)._yourself(),s.sendIdx.yourself=1,e.assert(r)&&(a="alternative block"),n._assert_equals_(a,"alternative block"),s.sendIdx["assert:equals:"]=1,o=(!0)._yourself(),s.sendIdx.yourself=2,e.assert(o)||(i="alternative block"),n._assert_equals_(i,t),s.sendIdx["assert:equals:"]=2,l=(!1)._yourself(),s.sendIdx.yourself=3,e.assert(l)&&(c="alternative block"),n._assert_equals_(c,t),s.sendIdx["assert:equals:"]=3,u=(!1)._yourself(),s.sendIdx.yourself=4,e.assert(u)||(d="alternative block"),n._assert_equals_(d,"alternative block"),s.sendIdx["assert:equals:"]=4,f=(!1)._yourself(),s.sendIdx.yourself=5,h=e.assert(f)?"alternative block":"alternative block2",n._assert_equals_(h,"alternative block2"),s.sendIdx["assert:equals:"]=5,m=(!1)._yourself(),s.sendIdx.yourself=6,g=e.assert(m)?"alternative block2":"alternative block",n._assert_equals_(g,"alternative block"),s.sendIdx["assert:equals:"]=6,p=(!0)._yourself(),s.sendIdx.yourself=7,_=e.assert(p)?"alternative block":"alternative block2",n._assert_equals_(_,"alternative block"),s.sendIdx["assert:equals:"]=7,C=(!0)._yourself(),v=e.assert(C)?"alternative block2":"alternative block",n._assert_equals_(v,"alternative block2"),n},function(t){t.fill(n,"testIfTrueIfFalseWithBoxing",{},e.BooleanTest)})},args:[],source:"testIfTrueIfFalseWithBoxing\n\n	self assert: (true yourself ifTrue: [ 'alternative block' ]) equals: 'alternative block'.\n	self assert: (true yourself ifFalse: [ 'alternative block' ]) equals: nil.\n\n	self assert: (false yourself ifTrue: [ 'alternative block' ]) equals: nil.\n	self assert: (false yourself ifFalse: [ 'alternative block' ]) equals: 'alternative block'.\n\n	self assert: (false yourself ifTrue: [ 'alternative block' ] ifFalse: [ 'alternative block2' ]) equals: 'alternative block2'.\n	self assert: (false yourself ifFalse: [ 'alternative block' ] ifTrue: [ 'alternative block2' ]) equals: 'alternative block'.\n\n	self assert: (true yourself ifTrue: [ 'alternative block' ] ifFalse: [ 'alternative block2' ]) equals: 'alternative block'.\n	self assert: (true yourself ifFalse: [ 'alternative block' ] ifTrue: [ 'alternative block2' ]) equals: 'alternative block2'.",messageSends:["assert:equals:","ifTrue:","yourself","ifFalse:","ifTrue:ifFalse:","ifFalse:ifTrue:"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testLogic",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k,I,M;return s=(!0).__and(!0),e.sendIdx["&"]=1,t._assert_(s),e.sendIdx["assert:"]=1,r=(!0).__and(!1),e.sendIdx["&"]=2,t._deny_(r),e.sendIdx["deny:"]=1,a=(!1).__and(!0),e.sendIdx["&"]=3,t._deny_(a),e.sendIdx["deny:"]=2,o=(!1).__and(!1),e.sendIdx["&"]=4,i=t._deny_(o),e.sendIdx["deny:"]=3,l=(!0).__or(!0),e.sendIdx["|"]=1,t._assert_(l),e.sendIdx["assert:"]=2,c=(!0).__or(!1),e.sendIdx["|"]=2,t._assert_(c),e.sendIdx["assert:"]=3,u=(!1).__or(!0),e.sendIdx["|"]=3,t._assert_(u),e.sendIdx["assert:"]=4,d=(!1).__or(!1),e.sendIdx["|"]=4,f=t._deny_(d),e.sendIdx["deny:"]=4,h=1..__gt(0),e.sendIdx[">"]=1,m=(!0).__and(h),e.sendIdx["&"]=5,t._assert_(m),e.sendIdx["assert:"]=5,g=1..__gt(0),e.sendIdx[">"]=2,p=n(g).__and(!1),e.sendIdx["&"]=6,t._deny_(p),e.sendIdx["deny:"]=5,_=1..__gt(0),e.sendIdx[">"]=3,C=1..__gt(2),e.sendIdx[">"]=4,v=n(_).__and(C),x=t._deny_(v),y=1..__gt(0),e.sendIdx[">"]=5,S=(!1).__or(y),e.sendIdx["|"]=5,t._assert_(S),e.sendIdx["assert:"]=6,b=1..__gt(0),e.sendIdx[">"]=6,w=n(b).__or(!1),e.sendIdx["|"]=6,t._assert_(w),e.sendIdx["assert:"]=7,k=1..__gt(0),e.sendIdx[">"]=7,I=n(k).__or(1..__gt(2)),M=t._assert_(I),t},function(n){n.fill(t,"testLogic",{},e.BooleanTest)})},args:[],source:'testLogic\n	"Trivial logic table"\n	self assert: (true & true);\n		deny: (true & false);\n		deny: (false & true);\n		deny: (false & false).\n	self assert: (true | true);\n		assert: (true | false);\n		assert: (false | true);\n		deny: (false | false).\n	"Checking that expressions work fine too"\n	self assert: (true & (1 > 0));\n		deny: ((1 > 0) & false);\n		deny: ((1 > 0) & (1 > 2)).\n	self assert: (false | (1 > 0));\n		assert: ((1 > 0) | false);\n		assert: ((1 > 0) | (1 > 2))',messageSends:["assert:","&","deny:","|",">"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testLogicKeywords",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r,a,o,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y,S,b,w,k;return r=(!0)._and_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},s,1)})}),s.sendIdx["and:"]=1,t._assert_(r),s.sendIdx["assert:"]=1,a=(!0)._and_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,2)})}),s.sendIdx["and:"]=2,t._deny_(a),s.sendIdx["deny:"]=1,o=(!1)._and_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},s,3)})}),s.sendIdx["and:"]=3,t._deny_(o),s.sendIdx["deny:"]=2,i=(!1)._and_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,4)})}),s.sendIdx["and:"]=4,l=t._deny_(i),s.sendIdx["deny:"]=3,c=(!0)._or_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},s,5)})}),s.sendIdx["or:"]=1,t._assert_(c),s.sendIdx["assert:"]=2,u=(!0)._or_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,6)})}),s.sendIdx["or:"]=2,t._assert_(u),s.sendIdx["assert:"]=3,d=(!1)._or_(function(){return e.withContext(function(){return!0},function(e){e.fillBlock({},s,7)})}),s.sendIdx["or:"]=3,t._assert_(d),s.sendIdx["assert:"]=4,f=(!1)._or_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,8)})}),s.sendIdx["or:"]=4,h=t._deny_(f),s.sendIdx["deny:"]=4,m=(!0)._and_(function(){return e.withContext(function(e){return 1..__gt(0)},function(e){e.fillBlock({},s,9)})}),s.sendIdx["and:"]=5,t._assert_(m),s.sendIdx["assert:"]=5,g=1..__gt(0),s.sendIdx[">"]=2,p=n(g)._and_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,10)})}),s.sendIdx["and:"]=6,t._deny_(p),s.sendIdx["deny:"]=5,_=1..__gt(0),s.sendIdx[">"]=3,C=n(_)._and_(function(){return e.withContext(function(e){return 1..__gt(2)},function(e){e.fillBlock({},s,11)})}),v=t._deny_(C),x=(!1)._or_(function(){return e.withContext(function(e){return 1..__gt(0)},function(e){e.fillBlock({},s,12)})}),s.sendIdx["or:"]=5,t._assert_(x),s.sendIdx["assert:"]=6,y=1..__gt(0),s.sendIdx[">"]=6,S=n(y)._or_(function(){return e.withContext(function(){return!1},function(e){e.fillBlock({},s,13)})}),s.sendIdx["or:"]=6,t._assert_(S),s.sendIdx["assert:"]=7,b=1..__gt(0),s.sendIdx[">"]=7,w=n(b)._or_(function(){return e.withContext(function(){return 1..__gt(2)},function(e){e.fillBlock({},s,14)})}),k=t._assert_(w),t},function(n){n.fill(t,"testLogicKeywords",{},e.BooleanTest)})},args:[],source:'testLogicKeywords\n	"Trivial logic table"\n	self\n		assert: (true and: [ true ]);\n		deny: (true and: [ false ]);\n		deny: (false and: [ true ]);\n		deny: (false and: [ false ]).\n	self\n		assert: (true or: [ true ]);\n		assert: (true or: [ false ]);\n		assert: (false or: [ true ]);\n		deny: (false or: [ false ]).\n		\n	"Checking that expressions work fine too"\n	self\n		assert: (true and: [ 1 > 0 ]);\n		deny: ((1 > 0) and: [ false ]);\n		deny: ((1 > 0) and: [ 1 > 2 ]).\n	self\n		assert: (false or: [ 1 > 0 ]);\n		assert: ((1 > 0) or: [ false ]);\n		assert: ((1 > 0) or: [ 1 > 2 ])',messageSends:["assert:","and:","deny:","or:",">"],referencedClasses:[]}),e.BooleanTest),e.addMethod(e.method({selector:"testNonBooleanError",category:"tests",fn:function(){function n(){return e.NonBooleanReceiver||("undefined"==typeof NonBooleanReceiver?t:NonBooleanReceiver)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(){e.assert("")},function(e){e.fillBlock({},t,1)})},n()),s},function(t){t.fill(s,"testNonBooleanError",{},e.BooleanTest)})},args:[],source:"testNonBooleanError\n	self should: [ '' ifTrue: [] ifFalse: [] ] raise: NonBooleanReceiver",messageSends:["should:raise:","ifTrue:ifFalse:"],referencedClasses:["NonBooleanReceiver"]}),e.BooleanTest),e.addClass("ClassBuilderTest",e.TestCase,["builder","theClass"],"Kernel-Tests"),e.addMethod(e.method({selector:"setUp",category:"running",fn:function(){function s(){return e.ClassBuilder||("undefined"==typeof ClassBuilder?t:ClassBuilder)}var r=this;return e.withContext(function(){return r["@builder"]=n(s())._new(),r},function(t){t.fill(r,"setUp",{},e.ClassBuilderTest)})},args:[],source:"setUp\n	builder := ClassBuilder new",messageSends:["new"],referencedClasses:["ClassBuilder"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"tearDown",category:"running",fn:function(){function s(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var r=this;return e.withContext(function(){var e;return e=r["@theClass"],($receiver=e)==t||null==$receiver||(n(n(s())._current())._removeClass_(r["@theClass"]),r["@theClass"]=t,r["@theClass"]),r},function(t){t.fill(r,"tearDown",{},e.ClassBuilderTest)})},args:[],source:"tearDown\n	theClass ifNotNil: [ Smalltalk current removeClass: theClass. theClass := nil ]",messageSends:["ifNotNil:","removeClass:","current"],referencedClasses:["Smalltalk"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"testClassCopy",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}var r=this;return e.withContext(function(e){var t,a,o,i,l,c,u,d;return r["@theClass"]=n(r["@builder"])._copyClass_named_(s(),"ObjectMock2"),t=n(r["@theClass"])._superclass(),e.sendIdx.superclass=1,a=n(t).__eq_eq(n(s())._superclass()),e.sendIdx["=="]=1,r._assert_(a),e.sendIdx["assert:"]=1,o=n(r["@theClass"])._instanceVariableNames(),e.sendIdx.instanceVariableNames=1,i=n(o).__eq_eq(n(s())._instanceVariableNames()),e.sendIdx["=="]=2,r._assert_(i),e.sendIdx["assert:"]=2,r._assert_equals_(n(r["@theClass"])._name(),"ObjectMock2"),e.sendIdx["assert:equals:"]=1,l=n(r["@theClass"])._package(),e.sendIdx["package"]=1,c=n(l).__eq_eq(n(s())._package()),r._assert_(c),u=n(r["@theClass"])._methodDictionary(),e.sendIdx.methodDictionary=1,d=n(u)._keys(),e.sendIdx.keys=1,r._assert_equals_(d,n(n(s())._methodDictionary())._keys()),r},function(t){t.fill(r,"testClassCopy",{},e.ClassBuilderTest)})},args:[],source:"testClassCopy\n	theClass := builder copyClass: ObjectMock named: 'ObjectMock2'.\n	self assert: theClass superclass == ObjectMock superclass.\n	self assert: theClass instanceVariableNames == ObjectMock instanceVariableNames.\n	self assert: theClass name equals: 'ObjectMock2'.\n	self assert: theClass package == ObjectMock package.\n	self assert: theClass methodDictionary keys equals: ObjectMock methodDictionary keys",messageSends:["copyClass:named:","assert:","==","superclass","instanceVariableNames","assert:equals:","name","package","keys","methodDictionary"],referencedClasses:["ObjectMock"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"testClassMigration",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}function r(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function a(){return e.ObjectMock2||("undefined"==typeof ObjectMock2?t:ObjectMock2)}var o,i,l=this;return e.withContext(function(e){var t,c,u,d,f,h,m,g,p,_,C,v,x,y;return i=n(l["@builder"])._copyClass_named_(s(),"ObjectMock2"),t=n(r())._current(),e.sendIdx.current=1,c=n(t)._at_("ObjectMock2"),e.sendIdx["at:"]=1,o=n(c)._new(),u=n(r())._current(),e.sendIdx.current=2,d=n(u)._at_("ObjectMock2"),e.sendIdx["at:"]=2,n(s())._subclass_instanceVariableNames_package_(d,"","Kernel-Tests"),f=n(i).__eq_eq(a()),e.sendIdx["=="]=1,l._deny_(f),e.sendIdx["deny:"]=1,h=n(n(a())._superclass()).__eq_eq(s()),e.sendIdx["=="]=2,l._assert_(h),e.sendIdx["assert:"]=1,l._assert_(n(n(a())._instanceVariableNames())._isEmpty()),e.sendIdx["assert:"]=2,m=n(a())._selectors(),e.sendIdx.selectors=1,l._assert_equals_(m,n(i)._selectors()),e.sendIdx["assert:equals:"]=1,g=n(a())._comment(),e.sendIdx.comment=1,l._assert_equals_(g,n(i)._comment()),e.sendIdx["assert:equals:"]=2,p=n(n(a())._package())._name(),e.sendIdx.name=1,l._assert_equals_(p,"Kernel-Tests"),_=n(o)._class(),e.sendIdx["class"]=1,C=n(_).__eq_eq(a()),l._deny_(C),v=n(r())._current(),e.sendIdx.current=3,x=n(v)._at_(n(n(o)._class())._name()),y=n(x)._isNil(),l._assert_(y),n(n(r())._current())._removeClass_(a()),l},function(t){t.fill(l,"testClassMigration",{instance:o,oldClass:i},e.ClassBuilderTest)})},args:[],source:"testClassMigration\n	| instance oldClass |\n	\n	oldClass := builder copyClass: ObjectMock named: 'ObjectMock2'.\n	instance := (Smalltalk current at: 'ObjectMock2') new.\n	\n	\"Change the superclass of ObjectMock2\"\n	ObjectMock subclass: (Smalltalk current at: 'ObjectMock2')\n		instanceVariableNames: ''\n		package: 'Kernel-Tests'.\n	\n	self deny: oldClass == ObjectMock2.\n	\n	self assert: ObjectMock2 superclass == ObjectMock.\n	self assert: ObjectMock2 instanceVariableNames isEmpty.\n	self assert: ObjectMock2 selectors equals: oldClass selectors.\n	self assert: ObjectMock2 comment equals: oldClass comment.\n	self assert: ObjectMock2 package name equals: 'Kernel-Tests'.\n	\n	self deny: instance class == ObjectMock2.\n	\"Commeting this out. Tests implementation detail.\"\n	\"self assert: instance class name equals: 'OldObjectMock2'.\"\n	\n	self assert: (Smalltalk current at: instance class name) isNil.\n	\n	Smalltalk current removeClass: ObjectMock2",messageSends:["copyClass:named:","new","at:","current","subclass:instanceVariableNames:package:","deny:","==","assert:","superclass","isEmpty","instanceVariableNames","assert:equals:","selectors","comment","name","package","class","isNil","removeClass:"],referencedClasses:["ObjectMock","Smalltalk","ObjectMock2"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"testClassMigrationWithClassInstanceVariables",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}function r(){return e.ObjectMock2||("undefined"==typeof ObjectMock2?t:ObjectMock2)}function a(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}var o=this;return e.withContext(function(e){var t,i,l;return n(o["@builder"])._copyClass_named_(s(),"ObjectMock2"),t=n(r())._class(),e.sendIdx["class"]=1,n(t)._instanceVariableNames_("foo bar"),i=n(a())._current(),e.sendIdx.current=1,l=n(i)._at_("ObjectMock2"),n(s())._subclass_instanceVariableNames_package_(l,"","Kernel-Tests"),o._assert_equals_(n(n(r())._class())._instanceVariableNames(),["foo","bar"]),n(n(a())._current())._removeClass_(r()),o},function(t){t.fill(o,"testClassMigrationWithClassInstanceVariables",{},e.ClassBuilderTest)})},args:[],source:"testClassMigrationWithClassInstanceVariables\n	\n	builder copyClass: ObjectMock named: 'ObjectMock2'.\n	ObjectMock2 class instanceVariableNames: 'foo bar'.\n	\n	\"Change the superclass of ObjectMock2\"\n	ObjectMock subclass: (Smalltalk current at: 'ObjectMock2')\n		instanceVariableNames: ''\n		package: 'Kernel-Tests'.\n	\n	self assert: ObjectMock2 class instanceVariableNames equals: #('foo' 'bar').\n	\n	Smalltalk current removeClass: ObjectMock2",messageSends:["copyClass:named:","instanceVariableNames:","class","subclass:instanceVariableNames:package:","at:","current","assert:equals:","instanceVariableNames","removeClass:"],referencedClasses:["ObjectMock","ObjectMock2","Smalltalk"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"testClassMigrationWithSubclasses",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}function r(){return e.ObjectMock2||("undefined"==typeof ObjectMock2?t:ObjectMock2)}function a(){return e.ObjectMock3||("undefined"==typeof ObjectMock3?t:ObjectMock3)}function o(){return e.Smalltalk||("undefined"==typeof Smalltalk?t:Smalltalk)}function i(){return e.ObjectMock4||("undefined"==typeof ObjectMock4?t:ObjectMock4)}var l=this;return e.withContext(function(t){var c,u,d,f,h,m;return n(l["@builder"])._copyClass_named_(s(),"ObjectMock2"),n(r())._subclass_instanceVariableNames_package_("ObjectMock3","","Kernel-Tests"),t.sendIdx["subclass:instanceVariableNames:package:"]=1,n(a())._subclass_instanceVariableNames_package_("ObjectMock4","","Kernel-Tests"),t.sendIdx["subclass:instanceVariableNames:package:"]=2,c=n(o())._current(),t.sendIdx.current=1,u=n(c)._at_("ObjectMock2"),n(s())._subclass_instanceVariableNames_package_(u,"","Kernel-Tests"),d=n(s())._subclasses(),t.sendIdx.subclasses=1,f=n(d)._includes_(r()),t.sendIdx["includes:"]=1,l._assert_(f),t.sendIdx["assert:"]=1,h=n(r())._subclasses(),t.sendIdx.subclasses=2,m=n(h)._includes_(a()),t.sendIdx["includes:"]=2,l._assert_(m),t.sendIdx["assert:"]=2,l._assert_(n(n(a())._subclasses())._includes_(i())),n(n(s())._allSubclasses())._do_(function(s){return e.withContext(function(){return n(n(o())._current())._removeClass_(s)},function(e){e.fillBlock({each:s},t,1)})}),l},function(t){t.fill(l,"testClassMigrationWithSubclasses",{},e.ClassBuilderTest)})},args:[],source:"testClassMigrationWithSubclasses\n	\n	builder copyClass: ObjectMock named: 'ObjectMock2'.\n	ObjectMock2 subclass: 'ObjectMock3' instanceVariableNames: '' package: 'Kernel-Tests'.\n	ObjectMock3 subclass: 'ObjectMock4' instanceVariableNames: '' package: 'Kernel-Tests'.\n	\n	\"Change the superclass of ObjectMock2\"\n	ObjectMock subclass: (Smalltalk current at: 'ObjectMock2')\n		instanceVariableNames: ''\n		package: 'Kernel-Tests'.\n	\n	self assert: (ObjectMock subclasses includes: ObjectMock2).\n	self assert: (ObjectMock2 subclasses includes: ObjectMock3).\n	self assert: (ObjectMock3 subclasses includes: ObjectMock4).\n	\n	ObjectMock allSubclasses do: [ :each | Smalltalk current removeClass: each ]",messageSends:["copyClass:named:","subclass:instanceVariableNames:package:","at:","current","assert:","includes:","subclasses","do:","allSubclasses","removeClass:"],referencedClasses:["ObjectMock","ObjectMock2","ObjectMock3","Smalltalk","ObjectMock4"]}),e.ClassBuilderTest),e.addMethod(e.method({selector:"testInstanceVariableNames",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(n(t["@builder"])._instanceVariableNamesFor_("  hello   world   "),["hello","world"]),t},function(n){n.fill(t,"testInstanceVariableNames",{},e.ClassBuilderTest)})},args:[],source:"testInstanceVariableNames\n	self assert: (builder instanceVariableNamesFor: '  hello   world   ') equals: #('hello' 'world')",messageSends:["assert:equals:","instanceVariableNamesFor:"],referencedClasses:[]}),e.ClassBuilderTest),e.addClass("CollectionTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"assertSameContents:as:",category:"convenience",fn:function(t,s){var r=this;return e.withContext(function(a){var o,i,l,c;return o=n(t)._size(),a.sendIdx.size=1,i=n(o).__eq(n(s)._size()),a.sendIdx["="]=1,r._assert_(i),a.sendIdx["assert:"]=1,n(t)._do_(function(o){return e.withContext(function(e){return l=n(t)._occurrencesOf_(o),e.sendIdx["occurrencesOf:"]=1,c=n(l).__eq(n(s)._occurrencesOf_(o)),r._assert_(c)},function(e){e.fillBlock({each:o},a,1)})}),r},function(n){n.fill(r,"assertSameContents:as:",{aCollection:t,anotherCollection:s},e.CollectionTest)})},args:["aCollection","anotherCollection"],source:"assertSameContents: aCollection as: anotherCollection\n	self assert: (aCollection size = anotherCollection size).\n	aCollection do: [ :each |\n		self assert: ((aCollection occurrencesOf: each) = (anotherCollection occurrencesOf: each)) ]",messageSends:["assert:","=","size","do:","occurrencesOf:"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collectionClass())._withAll_(t._defaultValues())},function(n){n.fill(t,"collection",{},e.CollectionTest)})},args:[],source:"collection\n	^ self collectionClass withAll: self defaultValues",messageSends:["withAll:","collectionClass","defaultValues"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._collectionClass()},function(n){n.fill(t,"collectionClass",{},e.CollectionTest)})},args:[],source:"collectionClass\n	^ self class collectionClass",messageSends:["collectionClass","class"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"collectionWithDuplicates",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collectionClass())._withAll_(["a","b","c",1,2,1,"a"])},function(n){n.fill(t,"collectionWithDuplicates",{},e.CollectionTest)})},args:[],source:"collectionWithDuplicates\n	^ self collectionClass withAll: #('a' 'b' 'c' 1 2 1 'a')",messageSends:["withAll:","collectionClass"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"defaultValues",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=[1,2,3,-4]},function(n){n.fill(t,"defaultValues",{},e.CollectionTest)})},args:[],source:"defaultValues\n	^ #(1 2 3 -4)",messageSends:[],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"isCollectionReadOnly",category:"testing",fn:function(){var t=this;return e.withContext(function(){return!1},function(n){n.fill(t,"isCollectionReadOnly",{},e.CollectionTest)})},args:[],source:"isCollectionReadOnly\n	^ false",messageSends:[],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testAsArray",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=t._collection(),e.sendIdx.collection=1,t._assertSameContents_as_(s,n(t._collection())._asArray()),t},function(n){n.fill(t,"testAsArray",{},e.CollectionTest)})},args:[],source:"testAsArray\n	self\n		assertSameContents: self collection\n		as: self collection asArray",messageSends:["assertSameContents:as:","collection","asArray"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testAsOrderedCollection",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=t._collection(),e.sendIdx.collection=1,t._assertSameContents_as_(s,n(t._collection())._asOrderedCollection()),t},function(n){n.fill(t,"testAsOrderedCollection",{},e.CollectionTest)})},args:[],source:"testAsOrderedCollection\n	self\n		assertSameContents: self collection\n		as: self collection asOrderedCollection",messageSends:["assertSameContents:as:","collection","asOrderedCollection"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testAsSet",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){return t=r._collectionWithDuplicates(),s=n(t)._asSet(),r._assert_equals_(n(s)._size(),5),n(t)._do_(function(t){return e.withContext(function(){return r._assert_(n(s)._includes_(t))},function(e){e.fillBlock({each:t},a,1)})}),r},function(n){n.fill(r,"testAsSet",{c:t,set:s},e.CollectionTest)})},args:[],source:"testAsSet\n	| c set |\n	c := self collectionWithDuplicates.\n	set := c asSet.\n	self assert: set size equals: 5.\n	c do: [ :each |\n		self assert: (set includes: each) ]",messageSends:["collectionWithDuplicates","asSet","assert:equals:","size","do:","assert:","includes:"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testCollect",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t=[1,2,3,4],s._assertSameContents_as_(n(s._collection())._collect_(function(t){return e.withContext(function(){return n(t)._abs()},function(e){e.fillBlock({each:t},r,1)})}),t),s},function(n){n.fill(s,"testCollect",{newCollection:t},e.CollectionTest)})},args:[],source:"testCollect\n	| newCollection |\n	newCollection := #(1 2 3 4).\n	self\n		assertSameContents: (self collection collect: [ :each |\n			each abs ])\n		as: newCollection",messageSends:["assertSameContents:as:","collect:","collection","abs"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testDetect",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._detect_(function(s){return e.withContext(function(){return n(s).__lt(0)},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["detect:"]=1,r._assert_equals_(o,-4),r._should_raise_(function(){return e.withContext(function(t){return n(r._collection())._detect_(function(s){return e.withContext(function(){return n(s).__eq(6)},function(e){e.fillBlock({each:s},t,3)})})},function(e){e.fillBlock({},t,2)})},s()),r},function(t){t.fill(r,"testDetect",{},e.CollectionTest)})},args:[],source:"testDetect\n	self assert: (self collection detect: [ :each | each < 0 ]) equals: -4.\n	self\n		should: [ self collection detect: [ :each | each = 6 ] ]\n		raise: Error",messageSends:["assert:equals:","detect:","collection","<","should:raise:","="],referencedClasses:["Error"]}),e.CollectionTest),e.addMethod(e.method({selector:"testDo",category:"tests",fn:function(){function s(){return e.OrderedCollection||("undefined"==typeof OrderedCollection?t:OrderedCollection)}var r,a=this;return e.withContext(function(t){var o;return r=n(s())._new(),o=a._collection(),t.sendIdx.collection=1,n(o)._do_(function(s){return e.withContext(function(){return n(r)._add_(s)},function(e){e.fillBlock({each:s},t,1)})}),a._assertSameContents_as_(a._collection(),r),a},function(t){t.fill(a,"testDo",{newCollection:r},e.CollectionTest)})},args:[],source:"testDo\n	| newCollection |\n	newCollection := OrderedCollection new.\n	self collection do: [ :each |\n		newCollection add: each ].\n	self\n		assertSameContents: self collection\n		as: newCollection",messageSends:["new","do:","collection","add:","assertSameContents:as:"],referencedClasses:["OrderedCollection"]}),e.CollectionTest),e.addMethod(e.method({selector:"testIsEmpty",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n(n(t._collectionClass())._new())._isEmpty(),e.sendIdx.isEmpty=1,t._assert_(s),t._deny_(n(t._collection())._isEmpty()),t},function(n){n.fill(t,"testIsEmpty",{},e.CollectionTest)})},args:[],source:"testIsEmpty\n	self assert: self collectionClass new isEmpty.\n	self deny: self collection isEmpty",messageSends:["assert:","isEmpty","new","collectionClass","deny:","collection"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testSelect",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t=[2,-4],s._assertSameContents_as_(n(s._collection())._select_(function(t){return e.withContext(function(){return n(t)._even()},function(e){e.fillBlock({each:t},r,1)})}),t),s},function(n){n.fill(s,"testSelect",{newCollection:t},e.CollectionTest)})},args:[],source:"testSelect\n	| newCollection |\n	newCollection := #(2 -4).\n	self\n		assertSameContents: (self collection select: [ :each |\n			each even ])\n		as: newCollection",messageSends:["assertSameContents:as:","select:","collection","even"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"testSize",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n(n(t._collectionClass())._new())._size(),e.sendIdx.size=1,t._assert_equals_(s,0),e.sendIdx["assert:equals:"]=1,t._assert_equals_(n(t._collection())._size(),4),t},function(n){n.fill(t,"testSize",{},e.CollectionTest)})},args:[],source:"testSize\n	self assert: self collectionClass new size equals: 0.\n	self assert: self collection size equals: 4",messageSends:["assert:equals:","size","new","collectionClass","collection"],referencedClasses:[]}),e.CollectionTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return t},function(t){t.fill(n,"collectionClass",{},e.CollectionTest.klass)})},args:[],source:"collectionClass\n	^ nil",messageSends:[],referencedClasses:[]}),e.CollectionTest.klass),e.addMethod(e.method({selector:"isAbstract",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collectionClass())._isNil()},function(n){n.fill(t,"isAbstract",{},e.CollectionTest.klass)})},args:[],source:"isAbstract\n	^ self collectionClass isNil",messageSends:["isNil","collectionClass"],referencedClasses:[]}),e.CollectionTest.klass),e.addClass("IndexableCollectionTest",e.CollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAt",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._at_(4),t.sendIdx["at:"]=1,r._assert_equals_(o,-4),r._should_raise_(function(){return e.withContext(function(){return n(r._collection())._at_(5)},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testAt",{},e.IndexableCollectionTest)})},args:[],source:"testAt\n	self assert: (self collection at: 4) equals: -4.\n	self should: [ self collection at: 5 ] raise: Error",messageSends:["assert:equals:","at:","collection","should:raise:"],referencedClasses:["Error"]}),e.IndexableCollectionTest),e.addMethod(e.method({selector:"testAtIfAbsent",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r,a;return r=t._collection(),s.sendIdx.collection=1,a=n(r)._at_ifAbsent_(n(n(t._collection())._size()).__plus(1),function(){return e.withContext(function(){return"none"},function(e){e.fillBlock({},s,1)})}),t._assert_equals_(a,"none"),t},function(n){n.fill(t,"testAtIfAbsent",{},e.IndexableCollectionTest)})},args:[],source:"testAtIfAbsent\n	self assert: (self collection at: (self collection size + 1) ifAbsent: [ 'none' ]) equals: 'none'",messageSends:["assert:equals:","at:ifAbsent:","collection","+","size"],referencedClasses:[]}),e.IndexableCollectionTest),e.addMethod(e.method({selector:"testContains",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(t){var o,i,l,c;return r=a._collection(),t.sendIdx.collection=1,o=a._collection(),t.sendIdx.collection=2,c=n(o)._contains_(function(s){return e.withContext(function(e){return i=a._collection(),e.sendIdx.collection=3,l=n(i)._first(),n(s).__eq(l)},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["contains:"]=1,a._assert_(c),a._deny_(n(a._collection())._contains_(function(r){return e.withContext(function(){return n(r).__eq(n(s())._new())},function(e){e.fillBlock({each:r},t,2)})})),a},function(t){t.fill(a,"testContains",{collection:r},e.IndexableCollectionTest)})},args:[],source:"testContains\n	| collection |\n	collection := self collection.\n	\n	self assert: (self collection contains: [ :each | each = self collection first ]).\n	self deny: (self collection contains: [ :each | each = Object new ])",messageSends:["collection","assert:","contains:","=","first","deny:","new"],referencedClasses:["Object"]}),e.IndexableCollectionTest),e.addMethod(e.method({selector:"testIndexOf",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o,i;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._indexOf_(2),t.sendIdx["indexOf:"]=1,r._assert_equals_(o,2),t.sendIdx["assert:equals:"]=1,r._should_raise_(function(){return e.withContext(function(e){return i=r._collection(),e.sendIdx.collection=2,n(i)._indexOf_(999)},function(e){e.fillBlock({},t,1)})},s()),r._assert_equals_(n(r._collection())._indexOf_ifAbsent_(999,function(){return e.withContext(function(){return"sentinel"},function(e){e.fillBlock({},t,2)})}),"sentinel"),r},function(t){t.fill(r,"testIndexOf",{},e.IndexableCollectionTest)})},args:[],source:"testIndexOf\n	self assert: (self collection indexOf: 2) equals: 2.\n	self should: [ self collection indexOf: 999 ] raise: Error.\n	self assert: (self collection indexOf: 999 ifAbsent: [ 'sentinel' ]) equals: 'sentinel'",messageSends:["assert:equals:","indexOf:","collection","should:raise:","indexOf:ifAbsent:"],referencedClasses:["Error"]}),e.IndexableCollectionTest),e.addMethod(e.method({selector:"testWithIndexDo",category:"tests",fn:function(){var t,s=this;
return e.withContext(function(r){return t=s._collection(),r.sendIdx.collection=1,n(s._collection())._withIndexDo_(function(a,o){return e.withContext(function(){return s._assert_equals_(n(t)._at_(o),a)},function(e){e.fillBlock({each:a,index:o},r,1)})}),s},function(n){n.fill(s,"testWithIndexDo",{collection:t},e.IndexableCollectionTest)})},args:[],source:"testWithIndexDo\n	| collection |\n	collection := self collection.\n	\n	self collection withIndexDo: [ :each :index |\n		self assert: (collection at: index) equals: each ]",messageSends:["collection","withIndexDo:","assert:equals:","at:"],referencedClasses:[]}),e.IndexableCollectionTest),e.addClass("HashedCollectionTest",e.IndexableCollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){var t=this;return e.withContext(function(t){var n,s,r,a;return n="b".__minus_gt(1),t.sendIdx["->"]=1,s="a".__minus_gt(2),t.sendIdx["->"]=2,r="c".__minus_gt(3),t.sendIdx["->"]=3,a=e.HashedCollection._from_([n,s,r,"d".__minus_gt(-4)])},function(n){n.fill(t,"collection",{},e.HashedCollectionTest)})},args:[],source:"collection\n	^ #{ 'b' -> 1. 'a' -> 2. 'c' -> 3. 'd' -> -4 }",messageSends:["->"],referencedClasses:[]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"collectionWithDuplicates",category:"accessing",fn:function(){var t=this;return e.withContext(function(t){var n,s,r,a,o,i,l;return n="b".__minus_gt(1),t.sendIdx["->"]=1,s="a".__minus_gt(2),t.sendIdx["->"]=2,r="c".__minus_gt(3),t.sendIdx["->"]=3,a="d".__minus_gt(-4),t.sendIdx["->"]=4,o="e".__minus_gt(1),t.sendIdx["->"]=5,i="f".__minus_gt(2),t.sendIdx["->"]=6,l=e.HashedCollection._from_([n,s,r,a,o,i,"g".__minus_gt(10)])},function(n){n.fill(t,"collectionWithDuplicates",{},e.HashedCollectionTest)})},args:[],source:"collectionWithDuplicates\n	^ #{ 'b' -> 1. 'a' -> 2. 'c' -> 3. 'd' -> -4. 'e' -> 1. 'f' -> 2. 'g' -> 10 }",messageSends:["->"],referencedClasses:[]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testAsDictionary",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(){return r._assert_(n(n(n(r._collectionClass())._new())._asDictionary())._isMemberOf_(s())),r},function(t){t.fill(r,"testAsDictionary",{},e.HashedCollectionTest)})},args:[],source:"testAsDictionary\nself assert: ( self collectionClass new asDictionary isMemberOf: Dictionary ).",messageSends:["assert:","isMemberOf:","asDictionary","new","collectionClass"],referencedClasses:["Dictionary"]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testAt",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._at_("a"),t.sendIdx["at:"]=1,r._assert_equals_(o,2),r._should_raise_(function(){return e.withContext(function(){return n(r._collection())._at_(5)},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testAt",{},e.HashedCollectionTest)})},args:[],source:"testAt\n	self assert: (self collection at: 'a') equals: 2.\n	self should: [ self collection at: 5 ] raise: Error",messageSends:["assert:equals:","at:","collection","should:raise:"],referencedClasses:["Error"]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testContains",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(t){var o,i,l,c,u;return r=a._collection(),t.sendIdx.collection=1,o=a._collection(),t.sendIdx.collection=2,u=n(o)._contains_(function(s){return e.withContext(function(e){return i=a._collection(),e.sendIdx.collection=3,l=n(i)._values(),c=n(l)._first(),n(s).__eq(c)},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["contains:"]=1,a._assert_(u),a._deny_(n(a._collection())._contains_(function(r){return e.withContext(function(){return n(r).__eq(n(s())._new())},function(e){e.fillBlock({each:r},t,2)})})),a},function(t){t.fill(a,"testContains",{collection:r},e.HashedCollectionTest)})},args:[],source:"testContains\n	| collection |\n	collection := self collection.\n	\n	self assert: (self collection contains: [ :each | each = self collection values first ]).\n	self deny: (self collection contains: [ :each | each = Object new ])",messageSends:["collection","assert:","contains:","=","first","values","deny:","new"],referencedClasses:["Object"]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testFrom",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i,l,c;return a="a".__minus_gt(1),r.sendIdx["->"]=1,o="b".__minus_gt(2),r.sendIdx["->"]=2,t=[a,o],i=n(n(s._class())._collectionClass())._from_(t),l="a".__minus_gt(1),r.sendIdx["->"]=3,c=e.HashedCollection._from_([l,"b".__minus_gt(2)]),s._assertSameContents_as_(i,c),s},function(n){n.fill(s,"testFrom",{associations:t},e.HashedCollectionTest)})},args:[],source:"testFrom\n\"Accept a collection of associations.\"\n| associations |\nassociations := { 'a' -> 1. 'b' -> 2 }.\nself assertSameContents: ( self class collectionClass from: associations ) as: #{ 'a' -> 1. 'b' -> 2 }.",messageSends:["->","assertSameContents:as:","from:","collectionClass","class"],referencedClasses:[]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testIndexOf",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o,i;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._indexOf_(2),t.sendIdx["indexOf:"]=1,r._assert_equals_(o,"a"),t.sendIdx["assert:equals:"]=1,r._should_raise_(function(){return e.withContext(function(e){return i=r._collection(),e.sendIdx.collection=2,n(i)._indexOf_(999)},function(e){e.fillBlock({},t,1)})},s()),r._assert_equals_(n(r._collection())._indexOf_ifAbsent_(999,function(){return e.withContext(function(){return"sentinel"},function(e){e.fillBlock({},t,2)})}),"sentinel"),r},function(t){t.fill(r,"testIndexOf",{},e.HashedCollectionTest)})},args:[],source:"testIndexOf\n	self assert: (self collection indexOf: 2) equals: 'a'.\n	self should: [ self collection indexOf: 999 ] raise: Error.\n	self assert: (self collection indexOf: 999 ifAbsent: [ 'sentinel' ]) equals: 'sentinel'",messageSends:["assert:equals:","indexOf:","collection","should:raise:","indexOf:ifAbsent:"],referencedClasses:["Error"]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"testNewFromPairs",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i;return t=["a",1,"b",2],a=n(n(s._class())._collectionClass())._newFromPairs_(t),o="a".__minus_gt(1),r.sendIdx["->"]=1,i=e.HashedCollection._from_([o,"b".__minus_gt(2)]),s._assertSameContents_as_(a,i),s},function(n){n.fill(s,"testNewFromPairs",{flattenedAssociations:t},e.HashedCollectionTest)})},args:[],source:"testNewFromPairs\n\"Accept an array in which all odd indexes are keys and evens are values.\"\n| flattenedAssociations |\nflattenedAssociations := { 'a'. 1. 'b'. 2 }.\nself assertSameContents: ( self class collectionClass newFromPairs: flattenedAssociations ) as: #{ 'a' -> 1. 'b' -> 2 }.",messageSends:["assertSameContents:as:","newFromPairs:","collectionClass","class","->"],referencedClasses:[]}),e.HashedCollectionTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.HashedCollectionTest.klass)})},args:[],source:"collectionClass\n	^ HashedCollection",messageSends:[],referencedClasses:["HashedCollection"]}),e.HashedCollectionTest.klass),e.addClass("DictionaryTest",e.HashedCollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(e){var t,r,a;return t=n(s())._new(),n(t)._at_put_(1,1),e.sendIdx["at:put:"]=1,n(t)._at_put_("a",2),e.sendIdx["at:put:"]=2,n(t)._at_put_(!0,3),e.sendIdx["at:put:"]=3,n(t)._at_put_(4,-4),r=n(t)._yourself(),a=r},function(t){t.fill(r,"collection",{},e.DictionaryTest)})},args:[],source:"collection\n	^ Dictionary new\n		at: 1 put: 1;\n		at: 'a' put: 2;\n		at: true put: 3;\n		at: 4 put: -4;\n		yourself",messageSends:["at:put:","new","yourself"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"collectionWithDuplicates",category:"accessing",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(e){var t,r,a;return t=n(s())._new(),n(t)._at_put_(1,1),e.sendIdx["at:put:"]=1,n(t)._at_put_("a",2),e.sendIdx["at:put:"]=2,n(t)._at_put_(!0,3),e.sendIdx["at:put:"]=3,n(t)._at_put_(4,-4),e.sendIdx["at:put:"]=4,n(t)._at_put_("b",1),e.sendIdx["at:put:"]=5,n(t)._at_put_(3,3),e.sendIdx["at:put:"]=6,n(t)._at_put_(!1,12),r=n(t)._yourself(),a=r},function(t){t.fill(r,"collectionWithDuplicates",{},e.DictionaryTest)})},args:[],source:"collectionWithDuplicates\n	^ Dictionary new\n		at: 1 put: 1;\n		at: 'a' put: 2;\n		at: true put: 3;\n		at: 4 put: -4;\n		at: 'b' put: 1;\n		at: 3 put: 3;\n		at: false put: 12;\n		yourself",messageSends:["at:put:","new","yourself"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testAccessing",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(o){var i,l,c,u,d,f,h,m,g,p,_,C,v;return r=n(s())._new(),n(r)._at_put_("hello","world"),o.sendIdx["at:put:"]=1,i=n(r)._at_("hello"),o.sendIdx["at:"]=1,a._assert_equals_(i,"world"),o.sendIdx["assert:equals:"]=1,l=n(r)._at_ifAbsent_("hello",function(){return e.withContext(function(){return t},function(e){e.fillBlock({},o,1)})}),o.sendIdx["at:ifAbsent:"]=1,a._assert_equals_(l,"world"),o.sendIdx["assert:equals:"]=2,a._deny_(n(n(r)._at_ifAbsent_("foo",function(){return e.withContext(function(){return t},function(e){e.fillBlock({},o,2)})})).__eq("world")),o.sendIdx["deny:"]=1,c=n(r)._includesKey_("hello"),o.sendIdx["includesKey:"]=1,a._assert_(c),o.sendIdx["assert:"]=1,u=n(r)._includesKey_("foo"),o.sendIdx["includesKey:"]=2,a._deny_(u),o.sendIdx["deny:"]=2,n(r)._at_put_(1,2),o.sendIdx["at:put:"]=2,d=n(r)._at_(1),o.sendIdx["at:"]=2,a._assert_equals_(d,2),o.sendIdx["assert:equals:"]=3,f=r,h=1..__at(3),o.sendIdx["@"]=1,n(f)._at_put_(h,3),m=r,g=1..__at(3),o.sendIdx["@"]=2,p=n(m)._at_(g),a._assert_equals_(p,3),_=r,C=1..__at(3),o.sendIdx["@"]=3,v=n(_)._includesKey_(C),o.sendIdx["includesKey:"]=3,a._assert_(v),a._deny_(n(r)._includesKey_(3..__at(1))),a},function(t){t.fill(a,"testAccessing",{d:r},e.DictionaryTest)})},args:[],source:"testAccessing\n	| d |\n\n	d := Dictionary new.\n\n	d at: 'hello' put: 'world'.\n	self assert: (d at: 'hello') equals: 'world'.\n	self assert: (d at: 'hello' ifAbsent: [ nil ]) equals: 'world'.\n	self deny: (d at: 'foo' ifAbsent: [ nil ]) = 'world'.\n\n	self assert: (d includesKey: 'hello').\n	self deny: (d includesKey: 'foo').\n\n	d at: 1 put: 2.\n	self assert: (d at: 1) equals: 2.\n\n	d at: 1@3 put: 3.\n	self assert: (d at: 1@3) equals: 3.\n\n	self assert: (d includesKey: 1@3).\n	self deny: (d includesKey: 3@1)",messageSends:["new","at:put:","assert:equals:","at:","at:ifAbsent:","deny:","=","assert:","includesKey:","@"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testAsHashedCollection",category:"tests",fn:function(){function s(){return e.HashedCollection||("undefined"==typeof HashedCollection?t:HashedCollection)}var r=this;return e.withContext(function(){return r._assert_(n(n(n(r._collectionClass())._new())._asHashedCollection())._isMemberOf_(s())),r},function(t){t.fill(r,"testAsHashedCollection",{},e.DictionaryTest)})},args:[],source:"testAsHashedCollection\nself assert: ( self collectionClass new asHashedCollection isMemberOf: HashedCollection ).",messageSends:["assert:","isMemberOf:","asHashedCollection","new","collectionClass"],referencedClasses:["HashedCollection"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testDynamicDictionaries",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(t){var a,o,i;return a="hello".__minus_gt(1),t.sendIdx["->"]=1,o=e.HashedCollection._from_([a]),i=n(o)._asDictionary(),r._assert_equals_(i,n(s())._with_("hello".__minus_gt(1))),r},function(t){t.fill(r,"testDynamicDictionaries",{},e.DictionaryTest)})},args:[],source:"testDynamicDictionaries\n	self assert: #{'hello' -> 1} asDictionary equals: (Dictionary with: 'hello' -> 1)",messageSends:["assert:equals:","asDictionary","->","with:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testEquality",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o=this;return e.withContext(function(e){var t,i,l,c,u,d,f,h,m,g,p,_,C,v,x,y;return t=n(s())._new(),e.sendIdx["new"]=1,i=n(s())._new(),e.sendIdx["new"]=2,l=n(t).__eq(i),e.sendIdx["="]=1,o._assert_(l),e.sendIdx["assert:"]=1,c=n(s())._new(),e.sendIdx["new"]=3,n(c)._at_put_(1,2),e.sendIdx["at:put:"]=1,u=n(c)._yourself(),e.sendIdx.yourself=1,r=u,d=n(s())._new(),e.sendIdx["new"]=4,n(d)._at_put_(1,2),e.sendIdx["at:put:"]=2,f=n(d)._yourself(),e.sendIdx.yourself=2,a=f,h=n(r).__eq(a),e.sendIdx["="]=2,o._assert_(h),m=n(s())._new(),e.sendIdx["new"]=5,n(m)._at_put_(1,3),e.sendIdx["at:put:"]=3,g=n(m)._yourself(),e.sendIdx.yourself=3,a=g,p=n(r).__eq(a),e.sendIdx["="]=3,o._deny_(p),e.sendIdx["deny:"]=1,_=n(s())._new(),e.sendIdx["new"]=6,n(_)._at_put_(2,2),e.sendIdx["at:put:"]=4,C=n(_)._yourself(),e.sendIdx.yourself=4,a=C,v=n(r).__eq(a),e.sendIdx["="]=4,o._deny_(v),e.sendIdx["deny:"]=2,x=n(s())._new(),n(x)._at_put_(1,2),e.sendIdx["at:put:"]=5,n(x)._at_put_(3,4),y=n(x)._yourself(),a=y,o._deny_(n(r).__eq(a)),o},function(t){t.fill(o,"testEquality",{d1:r,d2:a},e.DictionaryTest)})},args:[],source:"testEquality\n	| d1 d2 |\n\n	self assert: (Dictionary new = Dictionary new).\n		\n	d1 := Dictionary new at: 1 put: 2; yourself.\n	d2 := Dictionary new at: 1 put: 2; yourself.\n	self assert: (d1 = d2).\n\n	d2 := Dictionary new at: 1 put: 3; yourself.\n	self deny: d1 = d2.\n\n	d2 := Dictionary new at: 2 put: 2; yourself.\n	self deny: d1 = d2.\n\n	d2 := Dictionary new at: 1 put: 2; at: 3 put: 4; yourself.\n	self deny: d1 = d2.",messageSends:["assert:","=","new","at:put:","yourself","deny:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testIfAbsent",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o=this;return e.withContext(function(t){return a=!1,r=n(s())._new(),n(r)._at_ifAbsent_("hello",function(){return e.withContext(function(){return a=!0},function(e){e.fillBlock({},t,1)})}),o._assert_(a),o},function(t){t.fill(o,"testIfAbsent",{d:r,visited:a},e.DictionaryTest)})},args:[],source:"testIfAbsent\n\n	| d visited |\n	visited := false.\n	d := Dictionary new.\n\n	d at: 'hello' ifAbsent: [ visited := true ].\n	self assert: visited.",messageSends:["new","at:ifAbsent:","assert:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testIfPresent",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o,i=this;return e.withContext(function(t){return a=!1,r=n(s())._new(),n(r)._at_put_("hello","world"),n(r)._at_ifPresent_("hello",function(n){return e.withContext(function(){return a=n},function(e){e.fillBlock({value:n},t,1)})}),t.sendIdx["at:ifPresent:"]=1,i._assert_equals_(a,"world"),o=n(r)._at_ifPresent_("bye",function(n){return e.withContext(function(){return a=n},function(e){e.fillBlock({value:n},t,2)})}),i._assert_(n(o)._isNil()),i},function(t){t.fill(i,"testIfPresent",{d:r,visited:a,absent:o},e.DictionaryTest)})},args:[],source:"testIfPresent\n\n	| d visited absent |\n	visited := false.\n	d := Dictionary new.\n	d at: 'hello' put: 'world'.\n\n	d at: 'hello' ifPresent: [ :value | visited := value ].\n	self assert: visited equals: 'world'.\n\n	absent := d at: 'bye' ifPresent: [ :value | visited := value ].\n	self assert: absent isNil.",messageSends:["new","at:put:","at:ifPresent:","assert:equals:","assert:","isNil"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testIfPresentIfAbsent",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o=this;return e.withContext(function(t){return a=!1,r=n(s())._new(),n(r)._at_put_("hello","world"),n(r)._at_ifPresent_ifAbsent_("hello",function(n){return e.withContext(function(){return a=n},function(e){e.fillBlock({value:n},t,1)})},function(){return e.withContext(function(){return a=!0},function(e){e.fillBlock({},t,2)})}),t.sendIdx["at:ifPresent:ifAbsent:"]=1,o._assert_equals_(a,"world"),n(r)._at_ifPresent_ifAbsent_("buy",function(n){return e.withContext(function(){return a=n},function(e){e.fillBlock({value:n},t,3)})},function(){return e.withContext(function(){return a=!0},function(e){e.fillBlock({},t,4)})}),o._assert_(a),o},function(t){t.fill(o,"testIfPresentIfAbsent",{d:r,visited:a},e.DictionaryTest)})},args:[],source:"testIfPresentIfAbsent\n\n	| d visited |\n	visited := false.\n	d := Dictionary new.\n	d at: 'hello' put: 'world'.\n\n	d at: 'hello' ifPresent: [ :value | visited := value ] ifAbsent: [ visited := true ].\n	self assert: visited equals: 'world'.\n\n	d at: 'buy' ifPresent: [ :value | visited := value ] ifAbsent: [ visited := true ].\n	self assert: visited.",messageSends:["new","at:put:","at:ifPresent:ifAbsent:","assert:equals:","assert:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testKeys",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(e){return r=n(s())._new(),n(r)._at_put_(1,2),e.sendIdx["at:put:"]=1,n(r)._at_put_(2,3),e.sendIdx["at:put:"]=2,n(r)._at_put_(3,4),a._assert_equals_(n(r)._keys(),[1,2,3]),a},function(t){t.fill(a,"testKeys",{d:r},e.DictionaryTest)})},args:[],source:"testKeys\n	| d |\n\n	d := Dictionary new.\n	d at: 1 put: 2.\n	d at: 2 put: 3.\n	d at: 3 put: 4.\n\n	self assert: d keys equals: #(1 2 3)",messageSends:["new","at:put:","assert:equals:","keys"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testPointKey",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(t){var o,i,l,c,u,d,f,h,m,g,p,_,C,v,x;return r=n(s())._new(),o=r,i=1..__at(1),t.sendIdx["@"]=1,n(o)._at_put_(i,"foo"),t.sendIdx["at:put:"]=1,l=r,c=1..__at(1),t.sendIdx["@"]=2,u=n(l)._at_(c),t.sendIdx["at:"]=1,a._assert_equals_(u,"foo"),t.sendIdx["assert:equals:"]=1,d=r,f=1..__at(1),t.sendIdx["@"]=3,n(d)._at_put_(f,"bar"),h=r,m=1..__at(1),t.sendIdx["@"]=4,g=n(h)._at_(m),a._assert_equals_(g,"bar"),t.sendIdx["assert:equals:"]=2,p=r,_=1..__at(1),t.sendIdx["@"]=5,n(p)._removeKey_(_),C=r,v=1..__at(1),t.sendIdx["@"]=6,x=n(C)._at_ifAbsent_(v,function(){return e.withContext(function(){return"baz"},function(e){e.fillBlock({},t,1)})}),a._assert_equals_(x,"baz"),a._deny_(n(r)._includesKey_(1..__at(1))),a},function(t){t.fill(a,"testPointKey",{d:r},e.DictionaryTest)})},args:[],source:"testPointKey\n	| d |\n\n	d := Dictionary new.\n	\n	d at: 1@1 put: 'foo'.\n	self assert: (d at: 1@1) equals: 'foo'.\n	d at: 1@1 put: 'bar'.\n	self assert: (d at: 1@1) equals: 'bar'.\n	d removeKey: 1@1.\n	self assert: (d at: 1@1 ifAbsent: [ 'baz' ]) equals: 'baz'.\n	self deny: (d includesKey: 1@1)",messageSends:["new","at:put:","@","assert:equals:","at:","removeKey:","at:ifAbsent:","deny:","includesKey:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testPrintString",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r=this;return e.withContext(function(e){var t,a,o;return t=n(s())._new(),n(t)._at_put_("firstname","James"),e.sendIdx["at:put:"]=1,n(t)._at_put_("lastname","Bond"),a=n(t)._printString(),o=a,r._assert_equals_(o,"a Dictionary ('firstname' -> 'James' , 'lastname' -> 'Bond')"),r},function(t){t.fill(r,"testPrintString",{},e.DictionaryTest)})},args:[],source:"testPrintString\n	self\n		assert: (Dictionary new\n							at:'firstname' put: 'James';\n							at:'lastname' put: 'Bond';\n							printString)\n		equals: 'a Dictionary (''firstname'' -> ''James'' , ''lastname'' -> ''Bond'')'",messageSends:["assert:equals:","at:put:","new","printString"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testRemoveKey",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o=this;return e.withContext(function(e){var t;return r=n(s())._new(),n(r)._at_put_(1,2),e.sendIdx["at:put:"]=1,n(r)._at_put_(2,3),e.sendIdx["at:put:"]=2,n(r)._at_put_(3,4),a=2,t=n(r)._keys(),e.sendIdx.keys=1,o._assert_equals_(t,[1,2,3]),e.sendIdx["assert:equals:"]=1,n(r)._removeKey_(a),o._assert_equals_(n(r)._keys(),[1,3]),e.sendIdx["assert:equals:"]=2,o._assert_equals_(n(r)._values(),[2,4]),o._deny_(n(r)._includesKey_(2)),o},function(t){t.fill(o,"testRemoveKey",{d:r,key:a},e.DictionaryTest)})},args:[],source:"testRemoveKey\n	| d key |\n\n	d := Dictionary new.\n	d at: 1 put: 2.\n	d at: 2 put: 3.\n	d at: 3 put: 4.\n\n	key := 2.\n\n	self assert: d keys equals: #(1 2 3).\n\n	d removeKey: key.\n	self assert: d keys equals: #(1 3).\n	self assert: d values equals: #(2 4).\n	self deny: (d includesKey: 2)",messageSends:["new","at:put:","assert:equals:","keys","removeKey:","values","deny:","includesKey:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testRemoveKeyIfAbsent",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a,o=this;return e.withContext(function(t){var i;return r=n(s())._new(),n(r)._at_put_(1,2),t.sendIdx["at:put:"]=1,n(r)._at_put_(2,3),t.sendIdx["at:put:"]=2,n(r)._at_put_(3,4),a=2,o._assert_equals_(n(r)._removeKey_(a),3),t.sendIdx["assert:equals:"]=1,a=3,i=n(r)._removeKey_ifAbsent_(a,function(){return e.withContext(function(){return 42},function(e){e.fillBlock({},t,1)})}),t.sendIdx["removeKey:ifAbsent:"]=1,o._assert_equals_(i,4),t.sendIdx["assert:equals:"]=2,a="why",o._assert_equals_(n(r)._removeKey_ifAbsent_(a,function(){return e.withContext(function(){return 42},function(e){e.fillBlock({},t,2)})}),42),o},function(t){t.fill(o,"testRemoveKeyIfAbsent",{d:r,key:a},e.DictionaryTest)})},args:[],source:"testRemoveKeyIfAbsent\n	| d key |\n\n	d := Dictionary new.\n	d at: 1 put: 2.\n	d at: 2 put: 3.\n	d at: 3 put: 4.\n\n	key := 2.\n	self assert: (d removeKey: key) equals: 3.\n\n	key := 3.\n	self assert: (d removeKey: key ifAbsent: [ 42 ]) equals: 4.\n\n	key := 'why'.\n	self assert: (d removeKey: key ifAbsent: [ 42 ] ) equals: 42.",messageSends:["new","at:put:","assert:equals:","removeKey:","removeKey:ifAbsent:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testSize",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(e){var t,o;return r=n(s())._new(),t=n(r)._size(),e.sendIdx.size=1,a._assert_equals_(t,0),e.sendIdx["assert:equals:"]=1,n(r)._at_put_(1,2),e.sendIdx["at:put:"]=1,o=n(r)._size(),e.sendIdx.size=2,a._assert_equals_(o,1),e.sendIdx["assert:equals:"]=2,n(r)._at_put_(2,3),a._assert_equals_(n(r)._size(),2),a},function(t){t.fill(a,"testSize",{d:r},e.DictionaryTest)})},args:[],source:"testSize\n	| d |\n\n	d := Dictionary new.\n	self assert: d size equals: 0.\n\n	d at: 1 put: 2.\n	self assert: d size equals: 1.\n\n	d at: 2 put: 3.\n	self assert: d size equals: 2.",messageSends:["new","assert:equals:","size","at:put:"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"testValues",category:"tests",fn:function(){function s(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var r,a=this;return e.withContext(function(e){return r=n(s())._new(),n(r)._at_put_(1,2),e.sendIdx["at:put:"]=1,n(r)._at_put_(2,3),e.sendIdx["at:put:"]=2,n(r)._at_put_(3,4),a._assert_equals_(n(r)._values(),[2,3,4]),a},function(t){t.fill(a,"testValues",{d:r},e.DictionaryTest)})},args:[],source:"testValues\n	| d |\n\n	d := Dictionary new.\n	d at: 1 put: 2.\n	d at: 2 put: 3.\n	d at: 3 put: 4.\n\n	self assert: d values equals: #(2 3 4)",messageSends:["new","at:put:","assert:equals:","values"],referencedClasses:["Dictionary"]}),e.DictionaryTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.Dictionary||("undefined"==typeof Dictionary?t:Dictionary)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.DictionaryTest.klass)})},args:[],source:"collectionClass\n	^ Dictionary",messageSends:[],referencedClasses:["Dictionary"]}),e.DictionaryTest.klass),e.addClass("SequenceableCollectionTest",e.IndexableCollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testFirst",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=t._collection(),e.sendIdx.collection=1,r=n(s)._first(),t._assert_equals_(r,n(t._collection())._at_(1)),t},function(n){n.fill(t,"testFirst",{},e.SequenceableCollectionTest)})},args:[],source:"testFirst\n	self assert: (self collection first) equals: (self collection at: 1)",messageSends:["assert:equals:","first","collection","at:"],referencedClasses:[]}),e.SequenceableCollectionTest),e.addMethod(e.method({selector:"testFourth",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=t._collection(),e.sendIdx.collection=1,r=n(s)._fourth(),t._assert_equals_(r,n(t._collection())._at_(4)),t},function(n){n.fill(t,"testFourth",{},e.SequenceableCollectionTest)})},args:[],source:"testFourth\n	self assert: (self collection fourth) equals: (self collection at: 4)",messageSends:["assert:equals:","fourth","collection","at:"],referencedClasses:[]}),e.SequenceableCollectionTest),e.addMethod(e.method({selector:"testLast",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o;return s=t._collection(),e.sendIdx.collection=1,r=n(s)._last(),a=t._collection(),e.sendIdx.collection=2,o=n(a)._at_(n(t._collection())._size()),t._assert_equals_(r,o),t},function(n){n.fill(t,"testLast",{},e.SequenceableCollectionTest)})},args:[],source:"testLast\n	self assert: (self collection last) equals: (self collection at: self collection size)",messageSends:["assert:equals:","last","collection","at:","size"],referencedClasses:[]}),e.SequenceableCollectionTest),e.addMethod(e.method({selector:"testSecond",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=t._collection(),e.sendIdx.collection=1,r=n(s)._second(),t._assert_equals_(r,n(t._collection())._at_(2)),t},function(n){n.fill(t,"testSecond",{},e.SequenceableCollectionTest)})},args:[],source:"testSecond\n	self assert: (self collection second) equals: (self collection at: 2)",messageSends:["assert:equals:","second","collection","at:"],referencedClasses:[]}),e.SequenceableCollectionTest),e.addMethod(e.method({selector:"testThird",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=t._collection(),e.sendIdx.collection=1,r=n(s)._third(),t._assert_equals_(r,n(t._collection())._at_(3)),t},function(n){n.fill(t,"testThird",{},e.SequenceableCollectionTest)})},args:[],source:"testThird\n	self assert: (self collection third) equals: (self collection at: 3)",messageSends:["assert:equals:","third","collection","at:"],referencedClasses:[]}),e.SequenceableCollectionTest),e.addClass("ArrayTest",e.SequenceableCollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAdd",category:"tests",fn:function(){var t,s=this;return e.withContext(function(){return t=s._collection(),n(t)._add_(6),s._assert_equals_(n(t)._last(),6),s},function(n){n.fill(s,"testAdd",{array:t},e.ArrayTest)})},args:[],source:"testAdd \n	| array | \n	array := self collection. \n	array add: 6.\n	\n	self assert: array last equals: 6",messageSends:["collection","add:","assert:equals:","last"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testAddFirst",category:"tests",fn:function(){var t=this;return e.withContext(function(){var e,s;return e=t._collection(),n(e)._addFirst_(0),s=n(e)._yourself(),t._assert_equals_(n(s)._first(),0),t},function(n){n.fill(t,"testAddFirst",{},e.ArrayTest)})},args:[],source:"testAddFirst\n	self assert: (self collection addFirst: 0; yourself) first equals: 0",messageSends:["assert:equals:","first","addFirst:","collection","yourself"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testAtIfAbsent",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i,l;return t=["hello","world"],a=n(t)._at_(1),r.sendIdx["at:"]=1,s._assert_equals_(a,"hello"),r.sendIdx["assert:equals:"]=1,s._assert_equals_(n(t)._at_(2),"world"),r.sendIdx["assert:equals:"]=2,o=n(t)._at_ifAbsent_(2,function(){return e.withContext(function(){return"not found"},function(e){e.fillBlock({},r,1)})}),r.sendIdx["at:ifAbsent:"]=1,s._assert_equals_(o,"world"),r.sendIdx["assert:equals:"]=3,i=n(t)._at_ifAbsent_(0,function(){return e.withContext(function(){return"not found"},function(e){e.fillBlock({},r,2)})}),r.sendIdx["at:ifAbsent:"]=2,s._assert_equals_(i,"not found"),r.sendIdx["assert:equals:"]=4,l=n(t)._at_ifAbsent_(-10,function(){return e.withContext(function(){return"not found"},function(e){e.fillBlock({},r,3)})}),r.sendIdx["at:ifAbsent:"]=3,s._assert_equals_(l,"not found"),r.sendIdx["assert:equals:"]=5,s._assert_equals_(n(t)._at_ifAbsent_(3,function(){return e.withContext(function(){return"not found"},function(e){e.fillBlock({},r,4)})}),"not found"),s},function(n){n.fill(s,"testAtIfAbsent",{array:t},e.ArrayTest)})},args:[],source:"testAtIfAbsent\n	| array |\n	array := #('hello' 'world').\n	self assert: (array at: 1) equals: 'hello'.\n	self assert: (array at: 2) equals: 'world'.\n	self assert: (array at: 2 ifAbsent: [ 'not found' ]) equals: 'world'.\n	self assert: (array at: 0 ifAbsent: [ 'not found' ]) equals: 'not found'.\n	self assert: (array at: -10 ifAbsent: [ 'not found' ]) equals: 'not found'.\n	self assert: (array at: 3 ifAbsent: [ 'not found' ]) equals: 'not found'.",messageSends:["assert:equals:","at:","at:ifAbsent:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testFirstN",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(n([1,2,3,4,5])._first_(3),[1,2,3]),t},function(n){n.fill(t,"testFirstN",{},e.ArrayTest)})},args:[],source:"testFirstN\n	self assert: ({1. 2. 3. 4. 5} first: 3) equals: {1. 2. 3}",messageSends:["assert:equals:","first:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testIfEmpty",category:"tests",fn:function(){var t=this;return e.withContext(function(n){return t._assert_equals_(""._ifEmpty_(function(){return e.withContext(function(){return"zork"},function(e){e.fillBlock({},n,1)})}),"zork"),t},function(n){n.fill(t,"testIfEmpty",{},e.ArrayTest)})},args:[],source:"testIfEmpty\n	self assert: ( '' ifEmpty: [ 'zork' ] ) equals: 'zork'",messageSends:["assert:equals:","ifEmpty:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testPrintString",category:"tests",fn:function(){function s(){return e.Array||("undefined"==typeof Array?t:Array)
}var r,a=this;return e.withContext(function(e){var t,o,i,l,c,u,d,f,h;return r=n(s())._new(),t=n(r)._printString(),e.sendIdx.printString=1,a._assert_equals_(t,"an Array ()"),e.sendIdx["assert:equals:"]=1,o=r,n(o)._add_(1),e.sendIdx["add:"]=1,i=n(o)._add_(3),e.sendIdx["add:"]=2,l=n(r)._printString(),e.sendIdx.printString=2,a._assert_equals_(l,"an Array (1 3)"),e.sendIdx["assert:equals:"]=2,n(r)._add_("foo"),c=n(r)._printString(),e.sendIdx.printString=3,a._assert_equals_(c,"an Array (1 3 'foo')"),e.sendIdx["assert:equals:"]=3,u=r,n(u)._remove_(1),e.sendIdx["remove:"]=1,d=n(u)._remove_(3),f=n(r)._printString(),e.sendIdx.printString=4,a._assert_equals_(f,"an Array ('foo')"),e.sendIdx["assert:equals:"]=4,n(r)._addLast_(3),e.sendIdx["addLast:"]=1,h=n(r)._printString(),e.sendIdx.printString=5,a._assert_equals_(h,"an Array ('foo' 3)"),e.sendIdx["assert:equals:"]=5,n(r)._addLast_(3),a._assert_equals_(n(r)._printString(),"an Array ('foo' 3 3)"),a},function(t){t.fill(a,"testPrintString",{array:r},e.ArrayTest)})},args:[],source:"testPrintString\n	| array |\n	array := Array new.\n	self assert: array printString equals: 'an Array ()'.\n	array add: 1; add: 3.\n	self assert: array printString equals: 'an Array (1 3)'.\n	array add: 'foo'.\n	self assert: array printString equals: 'an Array (1 3 ''foo'')'.\n	array remove: 1; remove: 3.\n	self assert: array printString equals: 'an Array (''foo'')'.\n	array addLast: 3.\n	self assert: array printString equals: 'an Array (''foo'' 3)'.\n	array addLast: 3.\n	self assert: array printString equals: 'an Array (''foo'' 3 3)'.",messageSends:["new","assert:equals:","printString","add:","remove:","addLast:"],referencedClasses:["Array"]}),e.ArrayTest),e.addMethod(e.method({selector:"testRemove",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r,a=this;return e.withContext(function(t){return r=[1,2,3,4,5],n(r)._remove_(3),t.sendIdx["remove:"]=1,a._assert_equals_(r,[1,2,4,5]),a._should_raise_(function(){return e.withContext(function(){return n(r)._remove_(3)},function(e){e.fillBlock({},t,1)})},s()),a},function(t){t.fill(a,"testRemove",{array:r},e.ArrayTest)})},args:[],source:"testRemove \n	| array |\n	array := #(1 2 3 4 5). \n	array remove: 3.\n\n	self assert: array equals: #(1 2 4 5).\n	self should: [ array remove: 3 ] raise: Error",messageSends:["remove:","assert:equals:","should:raise:"],referencedClasses:["Error"]}),e.ArrayTest),e.addMethod(e.method({selector:"testRemoveFromTo",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=[1,2,3,4]._removeFrom_to_(1,3),e.sendIdx["removeFrom:to:"]=1,t._assert_equals_(n,[4]),e.sendIdx["assert:equals:"]=1,s=[1,2,3,4]._removeFrom_to_(2,3),e.sendIdx["removeFrom:to:"]=2,t._assert_equals_(s,[1,4]),e.sendIdx["assert:equals:"]=2,t._assert_equals_([1,2,3,4]._removeFrom_to_(2,4),[1]),t},function(n){n.fill(t,"testRemoveFromTo",{},e.ArrayTest)})},args:[],source:"testRemoveFromTo\n	\n	self assert: (#(1 2 3 4) removeFrom: 1 to: 3) equals: #(4).\n	self assert: (#(1 2 3 4) removeFrom: 2 to: 3) equals: #(1 4).\n	self assert: (#(1 2 3 4) removeFrom: 2 to: 4) equals: #(1)",messageSends:["assert:equals:","removeFrom:to:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testRemoveIndex",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=[1,2,3,4]._removeIndex_(2),e.sendIdx["removeIndex:"]=1,t._assert_equals_(n,[1,3,4]),e.sendIdx["assert:equals:"]=1,s=[1,2,3,4]._removeIndex_(1),e.sendIdx["removeIndex:"]=2,t._assert_equals_(s,[2,3,4]),e.sendIdx["assert:equals:"]=2,t._assert_equals_(["hello"]._removeIndex_(1),[]),t},function(n){n.fill(t,"testRemoveIndex",{},e.ArrayTest)})},args:[],source:"testRemoveIndex\n	\n	self assert: (#(1 2 3 4) removeIndex: 2) equals: #(1 3 4).\n	self assert: (#(1 2 3 4) removeIndex: 1) equals: #(2 3 4).\n	self assert: (#('hello') removeIndex: 1) equals: #()",messageSends:["assert:equals:","removeIndex:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testRemoveLast",category:"tests",fn:function(){var t,s=this;return e.withContext(function(){return t=[1,2],n(t)._removeLast(),s._assert_equals_(n(t)._last(),1),s},function(n){n.fill(s,"testRemoveLast",{array:t},e.ArrayTest)})},args:[],source:"testRemoveLast \n	| array |\n	array := #(1 2). \n	array removeLast.\n	\n	self assert: array last equals: 1",messageSends:["removeLast","assert:equals:","last"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testReversed",category:"tests",fn:function(){var t,s=this;return e.withContext(function(){return t=[5,4,3,2,1],s._assert_equals_(n(t)._reversed(),[1,2,3,4,5]),s},function(n){n.fill(s,"testReversed",{array:t},e.ArrayTest)})},args:[],source:"testReversed\n	|array|\n	array := #(5 4 3 2 1). \n	self assert: (array reversed) equals: #(1 2 3 4 5)",messageSends:["assert:equals:","reversed"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"testSort",category:"tests",fn:function(){var t,s=this;return e.withContext(function(){return t=[3,1,4,5,2],n(t)._sort(),s._assert_equals_(t,[1,2,3,4,5]),s},function(n){n.fill(s,"testSort",{array:t},e.ArrayTest)})},args:[],source:"testSort\n	| array |\n	array := #(3 1 4 5 2). \n	array sort.\n	self assert: array equals: #(1 2 3 4 5)",messageSends:["sort","assert:equals:"],referencedClasses:[]}),e.ArrayTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.Array||("undefined"==typeof Array?t:Array)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.ArrayTest.klass)})},args:[],source:"collectionClass\n	^ Array",messageSends:[],referencedClasses:["Array"]}),e.ArrayTest.klass),e.addClass("StringTest",e.SequenceableCollectionTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"collection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"hello"},function(n){n.fill(t,"collection",{},e.StringTest)})},args:[],source:"collection\n	^ 'hello'",messageSends:[],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"collectionWithDuplicates",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"abbaerte"},function(n){n.fill(t,"collectionWithDuplicates",{},e.StringTest)})},args:[],source:"collectionWithDuplicates\n	^ 'abbaerte'",messageSends:[],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAddRemove",category:"tests",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(){return"hello"._add_("a")},function(e){e.fillBlock({},t,1)})},n()),t.sendIdx["should:raise:"]=1,s._should_raise_(function(){return e.withContext(function(){return"hello"._remove_("h")},function(e){e.fillBlock({},t,2)})},n()),s},function(t){t.fill(s,"testAddRemove",{},e.StringTest)})},args:[],source:"testAddRemove\n	self should: [ 'hello' add: 'a' ] raise: Error.\n	self should: [ 'hello' remove: 'h' ] raise: Error",messageSends:["should:raise:","add:","remove:"],referencedClasses:["Error"]}),e.StringTest),e.addMethod(e.method({selector:"testAsArray",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("hello"._asArray(),["h","e","l","l","o"]),t},function(n){n.fill(t,"testAsArray",{},e.StringTest)})},args:[],source:"testAsArray\n	self assert: 'hello' asArray equals: #('h' 'e' 'l' 'l' 'o').",messageSends:["assert:equals:","asArray"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAsLowerCase",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("JACKIE"._asLowercase(),"jackie"),t},function(n){n.fill(t,"testAsLowerCase",{},e.StringTest)})},args:[],source:"testAsLowerCase\n	self assert: 'JACKIE' asLowercase equals: 'jackie'.",messageSends:["assert:equals:","asLowercase"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAsNumber",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n="3"._asNumber(),e.sendIdx.asNumber=1,t._assert_equals_(n,3),e.sendIdx["assert:equals:"]=1,s="-3"._asNumber(),e.sendIdx.asNumber=2,t._assert_equals_(s,-3),e.sendIdx["assert:equals:"]=2,t._assert_equals_("-1.5"._asNumber(),-1.5),t},function(n){n.fill(t,"testAsNumber",{},e.StringTest)})},args:[],source:"testAsNumber\n	self assert: '3' asNumber equals: 3.\n	self assert: '-3' asNumber equals: -3.\n	self assert: '-1.5' asNumber equals: -1.5.",messageSends:["assert:equals:","asNumber"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAsUpperCase",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("jackie"._asUppercase(),"JACKIE"),t},function(n){n.fill(t,"testAsUpperCase",{},e.StringTest)})},args:[],source:"testAsUpperCase\n	self assert: 'jackie' asUppercase equals: 'JACKIE'.",messageSends:["assert:equals:","asUppercase"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAsciiValue",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(e){var a;return t="A",s="U",a=n(t)._asciiValue(),e.sendIdx.asciiValue=1,r._assert_equals_(a,65),e.sendIdx["assert:equals:"]=1,r._assert_equals_(n(s)._asciiValue(),85),r},function(n){n.fill(r,"testAsciiValue",{characterA:t,characterU:s},e.StringTest)})},args:[],source:"testAsciiValue\n    | characterA characterU |\n    characterA := 'A'.\n    characterU := 'U'.\n    self assert: (characterA asciiValue) equals:65.\n    self assert: (characterU asciiValue) equals:85",messageSends:["assert:equals:","asciiValue"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAt",category:"tests",fn:function(){var n=this;return e.withContext(function(s){var r;return r="hello"._at_(1),s.sendIdx["at:"]=1,n._assert_equals_(r,"h"),s.sendIdx["assert:equals:"]=1,n._assert_equals_("hello"._at_(5),"o"),s.sendIdx["assert:equals:"]=2,n._assert_equals_("hello"._at_ifAbsent_(6,function(){return e.withContext(function(){return t},function(e){e.fillBlock({},s,1)})}),t),n},function(t){t.fill(n,"testAt",{},e.StringTest)})},args:[],source:"testAt\n	self assert: ('hello' at: 1) equals: 'h'.\n	self assert: ('hello' at: 5) equals: 'o'.\n	self assert: ('hello' at: 6 ifAbsent: [ nil ]) equals: nil",messageSends:["assert:equals:","at:","at:ifAbsent:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testAtPut",category:"tests",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(){return"hello"._at_put_(1,"a")},function(e){e.fillBlock({},t,1)})},n()),s},function(t){t.fill(s,"testAtPut",{},e.StringTest)})},args:[],source:"testAtPut\n	\"String instances are read-only\"\n	self should: [ 'hello' at: 1 put: 'a' ] raise: Error",messageSends:["should:raise:","at:put:"],referencedClasses:["Error"]}),e.StringTest),e.addMethod(e.method({selector:"testCapitalized",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s,r;return n="test"._capitalized(),e.sendIdx.capitalized=1,t._assert_equals_(n,"Test"),e.sendIdx["assert:equals:"]=1,s="Test"._capitalized(),e.sendIdx.capitalized=2,t._assert_equals_(s,"Test"),e.sendIdx["assert:equals:"]=2,t._assert_equals_(""._capitalized(),""),e.sendIdx["assert:equals:"]=3,r="Test"._isCapitalized(),e.sendIdx.isCapitalized=1,t._assert_equals_(r,!0),e.sendIdx["assert:equals:"]=4,t._assert_equals_("test"._isCapitalized(),!1),t},function(n){n.fill(t,"testCapitalized",{},e.StringTest)})},args:[],source:"testCapitalized\n	self assert: 'test' capitalized equals: 'Test'.\n	self assert: 'Test' capitalized equals: 'Test'.\n	self assert: '' capitalized equals: ''.\n	self assert: 'Test' isCapitalized equals: true.\n	self assert: 'test' isCapitalized equals: false.",messageSends:["assert:equals:","capitalized","isCapitalized"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testCharCodeAt",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s,r,a,o;return n="jackie"._charCodeAt_(1),e.sendIdx["charCodeAt:"]=1,t._assert_equals_(n,106),e.sendIdx["assert:equals:"]=1,s="jackie"._charCodeAt_(2),e.sendIdx["charCodeAt:"]=2,t._assert_equals_(s,97),e.sendIdx["assert:equals:"]=2,r="jackie"._charCodeAt_(3),e.sendIdx["charCodeAt:"]=3,t._assert_equals_(r,99),e.sendIdx["assert:equals:"]=3,a="jackie"._charCodeAt_(4),e.sendIdx["charCodeAt:"]=4,t._assert_equals_(a,107),e.sendIdx["assert:equals:"]=4,o="jackie"._charCodeAt_(5),e.sendIdx["charCodeAt:"]=5,t._assert_equals_(o,105),e.sendIdx["assert:equals:"]=5,t._assert_equals_("jackie"._charCodeAt_(6),101),t},function(n){n.fill(t,"testCharCodeAt",{},e.StringTest)})},args:[],source:"testCharCodeAt\n	self assert: ('jackie' charCodeAt:1) equals: 106.\n	self assert: ('jackie' charCodeAt:2) equals: 97.\n	self assert: ('jackie' charCodeAt:3) equals: 99.\n	self assert: ('jackie' charCodeAt:4) equals: 107.\n	self assert: ('jackie' charCodeAt:5) equals: 105.\n	self assert: ('jackie' charCodeAt:6) equals: 101",messageSends:["assert:equals:","charCodeAt:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testCollect",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t="hheelllloo",s._assertSameContents_as_(n(s._collection())._collect_(function(t){return e.withContext(function(){return n(t).__comma(t)},function(e){e.fillBlock({each:t},r,1)})}),t),s},function(n){n.fill(s,"testCollect",{newCollection:t},e.StringTest)})},args:[],source:"testCollect\n	| newCollection |\n	newCollection := 'hheelllloo'.\n	self\n		assertSameContents: (self collection collect: [ :each |\n			each, each ])\n		as: newCollection",messageSends:["assertSameContents:as:","collect:","collection",","],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testCopyFromTo",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n="jackie"._copyFrom_to_(1,3),e.sendIdx["copyFrom:to:"]=1,t._assert_equals_(n,"jac"),e.sendIdx["assert:equals:"]=1,t._assert_equals_("jackie"._copyFrom_to_(4,6),"kie"),t},function(n){n.fill(t,"testCopyFromTo",{},e.StringTest)})},args:[],source:"testCopyFromTo\n	self assert: ('jackie' copyFrom: 1 to: 3) equals: 'jac'.\n	self assert: ('jackie' copyFrom: 4 to: 6) equals: 'kie'.",messageSends:["assert:equals:","copyFrom:to:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testCopyWithoutAll",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("*hello* *world*"._copyWithoutAll_("*"),"hello world"),t},function(n){n.fill(t,"testCopyWithoutAll",{},e.StringTest)})},args:[],source:"testCopyWithoutAll\n	self\n		assert: ('*hello* *world*' copyWithoutAll: '*')\n		equals: 'hello world'",messageSends:["assert:equals:","copyWithoutAll:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testDetect",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._detect_(function(s){return e.withContext(function(e){return n(s).__eq("h")},function(e){e.fillBlock({each:s},t,1)})}),t.sendIdx["detect:"]=1,r._assert_equals_(o,"h"),r._should_raise_(function(){return e.withContext(function(t){return n(r._collection())._detect_(function(s){return e.withContext(function(){return n(s).__eq(6)},function(e){e.fillBlock({each:s},t,3)})})},function(e){e.fillBlock({},t,2)})},s()),r},function(t){t.fill(r,"testDetect",{},e.StringTest)})},args:[],source:"testDetect\n	self assert: (self collection detect: [ :each | each = 'h' ]) equals: 'h'.\n	self\n		should: [ self collection detect: [ :each | each = 6 ] ]\n		raise: Error",messageSends:["assert:equals:","detect:","collection","=","should:raise:"],referencedClasses:["Error"]}),e.StringTest),e.addMethod(e.method({selector:"testEquality",category:"tests",fn:function(){var t=this;return e.withContext(function(n){var s,r,a;return t._assert_equals_("hello","hello"),n.sendIdx["assert:equals:"]=1,s="hello".__eq("world"),n.sendIdx["="]=1,t._deny_(s),n.sendIdx["deny:"]=1,r="hello".__eq([]._at_ifAbsent_(1,function(){return e.withContext(function(){},function(e){e.fillBlock({},n,1)})})),n.sendIdx["="]=2,t._deny_(r),n.sendIdx["deny:"]=2,a="hello"._yourself(),n.sendIdx.yourself=1,t._assert_equals_("hello",a),n.sendIdx["assert:equals:"]=2,t._assert_equals_("hello"._yourself(),"hello"),t._deny_("".__eq(0)),t},function(n){n.fill(t,"testEquality",{},e.StringTest)})},args:[],source:"testEquality\n	self assert: 'hello' equals: 'hello'.\n	self deny: 'hello' = 'world'.\n	\n	\"Test for issue 459\"\n	self deny: 'hello' = (#() at: 1 ifAbsent: [ ]).\n\n	self assert: 'hello' equals: 'hello' yourself.\n	self assert: 'hello' yourself equals: 'hello'.\n\n	\"test JS falsy value\"\n	self deny: '' = 0",messageSends:["assert:equals:","deny:","=","at:ifAbsent:","yourself"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testIdentity",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i;return s="hello".__eq_eq("hello"),e.sendIdx["=="]=1,t._assert_(s),e.sendIdx["assert:"]=1,r="hello".__eq_eq("world"),e.sendIdx["=="]=2,t._deny_(r),e.sendIdx["deny:"]=1,a="hello"._yourself(),e.sendIdx.yourself=1,o="hello".__eq_eq(a),e.sendIdx["=="]=3,t._assert_(o),e.sendIdx["assert:"]=2,i=n("hello"._yourself()).__eq_eq("hello"),e.sendIdx["=="]=4,t._assert_(i),t._deny_("".__eq_eq(0)),t},function(n){n.fill(t,"testIdentity",{},e.StringTest)})},args:[],source:"testIdentity\n	self assert: 'hello' == 'hello'.\n	self deny: 'hello' == 'world'.\n\n	self assert: 'hello' == 'hello' yourself.\n	self assert: 'hello' yourself == 'hello'.\n\n	\"test JS falsy value\"\n	self deny: '' == 0",messageSends:["assert:","==","deny:","yourself"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testIdentityHash",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o;return s="foo"._identityHash(),e.sendIdx.identityHash=1,r="foo"._identityHash(),e.sendIdx.identityHash=2,t._assert_equals_(s,r),a="foo"._identityHash(),e.sendIdx.identityHash=3,o=n(a).__eq("bar"._identityHash()),t._deny_(o),t},function(n){n.fill(t,"testIdentityHash",{},e.StringTest)})},args:[],source:"testIdentityHash\n	self assert: 'foo' identityHash equals: 'foo' identityHash.\n	self deny: ('foo' identityHash = 'bar' identityHash)",messageSends:["assert:equals:","identityHash","deny:","="],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testIncludesSubString",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n="amber"._includesSubString_("ber"),e.sendIdx["includesSubString:"]=1,t._assert_(n),t._deny_("amber"._includesSubString_("zork")),t},function(n){n.fill(t,"testIncludesSubString",{},e.StringTest)})},args:[],source:"testIncludesSubString\n	self assert: ('amber' includesSubString: 'ber').\n	self deny: ('amber' includesSubString: 'zork').",messageSends:["assert:","includesSubString:","deny:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testIndexOf",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){var a,o,i;return a=r._collection(),t.sendIdx.collection=1,o=n(a)._indexOf_("e"),t.sendIdx["indexOf:"]=1,r._assert_equals_(o,2),t.sendIdx["assert:equals:"]=1,r._should_raise_(function(){return e.withContext(function(e){return i=r._collection(),e.sendIdx.collection=2,n(i)._indexOf_(999)},function(e){e.fillBlock({},t,1)})},s()),r._assert_equals_(n(r._collection())._indexOf_ifAbsent_(999,function(){return e.withContext(function(){return"sentinel"},function(e){e.fillBlock({},t,2)})}),"sentinel"),r},function(t){t.fill(r,"testIndexOf",{},e.StringTest)})},args:[],source:"testIndexOf\n	self assert: (self collection indexOf: 'e') equals: 2.\n	self should: [ self collection indexOf: 999 ] raise: Error.\n	self assert: (self collection indexOf: 999 ifAbsent: [ 'sentinel' ]) equals: 'sentinel'",messageSends:["assert:equals:","indexOf:","collection","should:raise:","indexOf:ifAbsent:"],referencedClasses:["Error"]}),e.StringTest),e.addMethod(e.method({selector:"testIsVowel",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(e){var a;return t="u",s="z",a=n(t)._isVowel(),e.sendIdx.isVowel=1,r._assert_equals_(a,!0),e.sendIdx["assert:equals:"]=1,r._assert_equals_(n(s)._isVowel(),!1),r},function(n){n.fill(r,"testIsVowel",{vowel:t,consonant:s},e.StringTest)})},args:[],source:"testIsVowel\n    |vowel consonant|\n    vowel := 'u'.\n    consonant := 'z'.\n    self assert: vowel isVowel equals: true.\n    self assert: consonant isVowel equals: false",messageSends:["assert:equals:","isVowel"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testJoin",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(","._join_(["hello","world"]),"hello,world"),t},function(n){n.fill(t,"testJoin",{},e.StringTest)})},args:[],source:"testJoin\n	self assert: (',' join: #('hello' 'world')) equals: 'hello,world'",messageSends:["assert:equals:","join:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testReversed",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("jackiechan"._reversed(),"nahceikcaj"),t},function(n){n.fill(t,"testReversed",{},e.StringTest)})},args:[],source:"testReversed\n	self assert: 'jackiechan' reversed equals: 'nahceikcaj'.",messageSends:["assert:equals:","reversed"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testSelect",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t="o",s._assertSameContents_as_(n(s._collection())._select_(function(t){return e.withContext(function(){return n(t).__eq("o")},function(e){e.fillBlock({each:t},r,1)})}),t),s},function(n){n.fill(s,"testSelect",{newCollection:t},e.StringTest)})},args:[],source:"testSelect\n	| newCollection |\n	newCollection := 'o'.\n	self\n		assertSameContents: (self collection select: [ :each |\n			each = 'o' ])\n		as: newCollection",messageSends:["assertSameContents:as:","select:","collection","="],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testSize",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n="smalltalk"._size(),e.sendIdx.size=1,t._assert_equals_(n,9),e.sendIdx["assert:equals:"]=1,t._assert_equals_(""._size(),0),t},function(n){n.fill(t,"testSize",{},e.StringTest)})},args:[],source:"testSize\n	self assert: 'smalltalk' size equals: 9.\n	self assert: '' size equals: 0",messageSends:["assert:equals:","size"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testStreamContents",category:"tests",fn:function(){function s(){return e.String||("undefined"==typeof String?t:String)}var r=this;return e.withContext(function(t){var a;return r._assert_equals_(n(s())._streamContents_(function(s){return e.withContext(function(e){return n(s)._nextPutAll_("hello"),e.sendIdx["nextPutAll:"]=1,n(s)._space(),a=n(s)._nextPutAll_("world")},function(e){e.fillBlock({aStream:s},t,1)})}),"hello world"),r},function(t){t.fill(r,"testStreamContents",{},e.StringTest)})},args:[],source:"testStreamContents\n	self\n		assert: (String streamContents: [ :aStream |\n			aStream\n				nextPutAll: 'hello'; space;\n				nextPutAll: 'world' ])\n		equals: 'hello world'",messageSends:["assert:equals:","streamContents:","nextPutAll:","space"],referencedClasses:["String"]}),e.StringTest),e.addMethod(e.method({selector:"testSubStrings",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("jackiechan"._subStrings_("ie"),["jack","chan"]),t},function(n){n.fill(t,"testSubStrings",{},e.StringTest)})},args:[],source:"testSubStrings\n	self assert: ('jackiechan' subStrings: 'ie') equals: #( 'jack' 'chan' ).",messageSends:["assert:equals:","subStrings:"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"testTrim",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._assert_equals_("       jackie"._trimLeft(),"jackie"),e.sendIdx["assert:equals:"]=1,t._assert_equals_("jackie               "._trimRight(),"jackie"),t},function(n){n.fill(t,"testTrim",{},e.StringTest)})},args:[],source:"testTrim\n	self assert: '       jackie' trimLeft equals: 'jackie'.\n	self assert: 'jackie               ' trimRight equals: 'jackie'.",messageSends:["assert:equals:","trimLeft","trimRight"],referencedClasses:[]}),e.StringTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.String||("undefined"==typeof String?t:String)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.StringTest.klass)})},args:[],source:"collectionClass\n	^ String",messageSends:[],referencedClasses:["String"]}),e.StringTest.klass),e.addClass("ConsoleTranscriptTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testShow",category:"tests",fn:function(){function s(){return e.Transcript||("undefined"==typeof Transcript?t:Transcript)}function r(){return e.ConsoleTranscript||("undefined"==typeof ConsoleTranscript?t:ConsoleTranscript)}function a(){return e.Error||("undefined"==typeof Error?t:Error)}var o,i=this;return e.withContext(function(t){return o=n(s())._current(),n(s())._register_(n(r())._new()),t.sendIdx["register:"]=1,i._shouldnt_raise_(function(){return e.withContext(function(e){return n(s())._show_("Hello console!")},function(e){e.fillBlock({},t,1)})},a()),t.sendIdx["shouldnt:raise:"]=1,i._shouldnt_raise_(function(){return e.withContext(function(){return n(s())._show_(console)},function(e){e.fillBlock({},t,2)})},a()),n(s())._register_(o),i},function(t){t.fill(i,"testShow",{originalTranscript:o},e.ConsoleTranscriptTest)})},args:[],source:"testShow\n| originalTranscript |\noriginalTranscript := Transcript current.\nTranscript register: ConsoleTranscript new.\n\nself shouldnt: [ Transcript show: 'Hello console!' ] raise: Error.\nself shouldnt: [ Transcript show: console ] raise: Error.\n\nTranscript register: originalTranscript.",messageSends:["current","register:","new","shouldnt:raise:","show:"],referencedClasses:["Transcript","ConsoleTranscript","Error"]}),e.ConsoleTranscriptTest),e.addClass("JSObjectProxyTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"jsObject",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return jsObject={a:1,b:function(){return 2},c:function(e){return e},d:"",e:null,f:void 0}},function(n){n.fill(t,"jsObject",{},e.JSObjectProxyTest)})},args:[],source:"jsObject\n	<return jsObject = {a: 1, b: function() {return 2;}, c: function(object) {return object;}, d: '', 'e': null, 'f': void 0}>",messageSends:[],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testAtIfAbsent",category:"tests",fn:function(){var s,r=this;return e.withContext(function(a){var o,i,l;return s=r._jsObject(),o=n(s)._at_ifAbsent_("abc",function(){return e.withContext(function(){return"Property does not exist"},function(e){e.fillBlock({},a,1)})}),a.sendIdx["at:ifAbsent:"]=1,r._assert_equals_(o,"Property does not exist"),a.sendIdx["assert:equals:"]=1,i=n(s)._at_ifAbsent_("e",function(){return e.withContext(function(){return"Property does not exist"},function(e){e.fillBlock({},a,2)})}),a.sendIdx["at:ifAbsent:"]=2,r._assert_equals_(i,t),a.sendIdx["assert:equals:"]=2,l=n(s)._at_ifAbsent_("a",function(){return e.withContext(function(){return"Property does not exist"},function(e){e.fillBlock({},a,3)})}),a.sendIdx["at:ifAbsent:"]=3,r._assert_equals_(l,1),a.sendIdx["assert:equals:"]=3,r._assert_equals_(n(s)._at_ifAbsent_("f",function(){return e.withContext(function(){return"Property does not exist"},function(e){e.fillBlock({},a,4)})}),t),r},function(t){t.fill(r,"testAtIfAbsent",{testObject:s},e.JSObjectProxyTest)})},args:[],source:"testAtIfAbsent\n	| testObject |\n	testObject := self jsObject.\n	self assert: (testObject at: 'abc' ifAbsent: [ 'Property does not exist' ]) equals: 'Property does not exist'.\n	self assert: (testObject at: 'e' ifAbsent: [ 'Property does not exist' ]) equals: nil.\n	self assert: (testObject at: 'a' ifAbsent: [ 'Property does not exist' ]) equals: 1.\n	self assert: (testObject at: 'f' ifAbsent: [ 'Property does not exist' ]) equals: nil.",messageSends:["jsObject","assert:equals:","at:ifAbsent:"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testAtIfPresent",category:"tests",fn:function(){var s,r=this;return e.withContext(function(a){var o,i,l,c,u,d;return s=r._jsObject(),i=n(s)._at_ifPresent_("abc",function(t){return e.withContext(function(e){return o=n(t)._asString(),e.sendIdx.asString=1,"hello ".__comma(o)},function(e){e.fillBlock({x:t},a,1)})}),a.sendIdx["at:ifPresent:"]=1,r._assert_equals_(i,t),a.sendIdx["assert:equals:"]=1,c=n(s)._at_ifPresent_("e",function(t){return e.withContext(function(e){return l=n(t)._asString(),e.sendIdx.asString=2,"hello ".__comma(l)},function(e){e.fillBlock({x:t},a,2)})}),a.sendIdx["at:ifPresent:"]=2,r._assert_equals_(c,"hello nil"),a.sendIdx["assert:equals:"]=2,d=n(s)._at_ifPresent_("a",function(t){return e.withContext(function(e){return u=n(t)._asString(),e.sendIdx.asString=3,"hello ".__comma(u)},function(e){e.fillBlock({x:t},a,3)})}),a.sendIdx["at:ifPresent:"]=3,r._assert_equals_(d,"hello 1"),a.sendIdx["assert:equals:"]=3,r._assert_equals_(n(s)._at_ifPresent_("f",function(t){return e.withContext(function(){return"hello ".__comma(n(t)._asString())},function(e){e.fillBlock({x:t},a,4)})}),"hello nil"),r},function(t){t.fill(r,"testAtIfPresent",{testObject:s},e.JSObjectProxyTest)})},args:[],source:"testAtIfPresent\n	| testObject |\n	\n	testObject := self jsObject.\n	\n	self assert: (testObject at: 'abc' ifPresent: [ :x | 'hello ',x asString ]) equals: nil.\n	self assert: (testObject at: 'e' ifPresent: [ :x | 'hello ',x asString ]) equals: 'hello nil'.\n	self assert: (testObject at: 'a' ifPresent: [ :x | 'hello ',x asString ]) equals: 'hello 1'.\n	self assert: (testObject at: 'f' ifPresent: [ :x | 'hello ',x asString ]) equals: 'hello nil'.",messageSends:["jsObject","assert:equals:","at:ifPresent:",",","asString"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testAtIfPresentIfAbsent",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i,l,c,u;return t=s._jsObject(),o=n(t)._at_ifPresent_ifAbsent_("abc",function(t){return e.withContext(function(e){return a=n(t)._asString(),e.sendIdx.asString=1,"hello ".__comma(a)},function(e){e.fillBlock({x:t},r,1)})},function(){return e.withContext(function(){return"not present"},function(e){e.fillBlock({},r,2)})}),r.sendIdx["at:ifPresent:ifAbsent:"]=1,s._assert_equals_(o,"not present"),r.sendIdx["assert:equals:"]=1,l=n(t)._at_ifPresent_ifAbsent_("e",function(t){return e.withContext(function(e){return i=n(t)._asString(),e.sendIdx.asString=2,"hello ".__comma(i)},function(e){e.fillBlock({x:t},r,3)})},function(){return e.withContext(function(){return"not present"},function(e){e.fillBlock({},r,4)})}),r.sendIdx["at:ifPresent:ifAbsent:"]=2,s._assert_equals_(l,"hello nil"),r.sendIdx["assert:equals:"]=2,u=n(t)._at_ifPresent_ifAbsent_("a",function(t){return e.withContext(function(e){return c=n(t)._asString(),e.sendIdx.asString=3,"hello ".__comma(c)},function(e){e.fillBlock({x:t},r,5)})},function(){return e.withContext(function(){return"not present"},function(e){e.fillBlock({},r,6)})}),r.sendIdx["at:ifPresent:ifAbsent:"]=3,s._assert_equals_(u,"hello 1"),r.sendIdx["assert:equals:"]=3,s._assert_equals_(n(t)._at_ifPresent_ifAbsent_("f",function(t){return e.withContext(function(){return"hello ".__comma(n(t)._asString())
},function(e){e.fillBlock({x:t},r,7)})},function(){return e.withContext(function(){return"not present"},function(e){e.fillBlock({},r,8)})}),"hello nil"),s},function(n){n.fill(s,"testAtIfPresentIfAbsent",{testObject:t},e.JSObjectProxyTest)})},args:[],source:"testAtIfPresentIfAbsent\n	| testObject |\n	testObject := self jsObject.\n	self assert: (testObject at: 'abc' ifPresent: [ :x|'hello ',x asString ] ifAbsent: [ 'not present' ]) equals: 'not present'.\n	self assert: (testObject at: 'e' ifPresent: [ :x|'hello ',x asString ] ifAbsent: [ 'not present' ]) equals: 'hello nil'.\n	self assert: (testObject at: 'a' ifPresent: [ :x|'hello ',x asString ] ifAbsent: [ 'not present' ]) equals: 'hello 1'.\n	self assert: (testObject at: 'f' ifPresent: [ :x|'hello ',x asString ] ifAbsent: [ 'not present' ]) equals: 'hello nil'.",messageSends:["jsObject","assert:equals:","at:ifPresent:ifAbsent:",",","asString"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testDNU",category:"tests",fn:function(){function s(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(){return n(r._jsObject())._foo()},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"testDNU",{},e.JSObjectProxyTest)})},args:[],source:"testDNU\n	self should: [ self jsObject foo ] raise: MessageNotUnderstood",messageSends:["should:raise:","foo","jsObject"],referencedClasses:["MessageNotUnderstood"]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testMessageSend",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o;return s=t._jsObject(),e.sendIdx.jsObject=1,r=n(s)._a(),t._assert_equals_(r,1),e.sendIdx["assert:equals:"]=1,a=t._jsObject(),e.sendIdx.jsObject=2,o=n(a)._b(),t._assert_equals_(o,2),e.sendIdx["assert:equals:"]=2,t._assert_equals_(n(t._jsObject())._c_(3),3),t},function(n){n.fill(t,"testMessageSend",{},e.JSObjectProxyTest)})},args:[],source:"testMessageSend\n\n	self assert: self jsObject a equals: 1.\n	self assert: self jsObject b equals: 2.\n	self assert: (self jsObject c: 3) equals: 3",messageSends:["assert:equals:","a","jsObject","b","c:"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testMethodWithArguments",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(n(t._jsObject())._c_(1),1),t},function(n){n.fill(t,"testMethodWithArguments",{},e.JSObjectProxyTest)})},args:[],source:"testMethodWithArguments\n	self assert: (self jsObject c: 1) equals: 1",messageSends:["assert:equals:","c:","jsObject"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testPrinting",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(n(t._jsObject())._printString(),"[object Object]"),t},function(n){n.fill(t,"testPrinting",{},e.JSObjectProxyTest)})},args:[],source:"testPrinting\n	self assert: self jsObject printString equals: '[object Object]'",messageSends:["assert:equals:","printString","jsObject"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testPropertyThatReturnsEmptyString",category:"tests",fn:function(){var t,s=this;return e.withContext(function(e){var r;return t=s._jsObject(),r=n(t)._d(),e.sendIdx.d=1,s._assert_equals_(r,""),e.sendIdx["assert:equals:"]=1,n(t)._d_("hello"),s._assert_equals_(n(t)._d(),"hello"),s},function(n){n.fill(s,"testPropertyThatReturnsEmptyString",{object:t},e.JSObjectProxyTest)})},args:[],source:"testPropertyThatReturnsEmptyString\n	| object |\n\n	object := self jsObject.\n	self assert: object d equals: ''.\n\n	object d: 'hello'.\n	self assert: object d equals: 'hello'",messageSends:["jsObject","assert:equals:","d","d:"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testPropertyThatReturnsUndefined",category:"tests",fn:function(){function s(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var r,a=this;return e.withContext(function(t){return r=a._jsObject(),a._shouldnt_raise_(function(){return e.withContext(function(e){return n(r)._e()},function(e){e.fillBlock({},t,1)})},s()),a._assert_(n(n(r)._e())._isNil()),a},function(t){t.fill(a,"testPropertyThatReturnsUndefined",{object:r},e.JSObjectProxyTest)})},args:[],source:"testPropertyThatReturnsUndefined\n	| object |\n\n	object := self jsObject.\n	self shouldnt: [ object e ] raise: MessageNotUnderstood.\n	self assert: object e isNil",messageSends:["jsObject","shouldnt:raise:","e","assert:","isNil"],referencedClasses:["MessageNotUnderstood"]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testValue",category:"tests",fn:function(){var t,s=this;return e.withContext(function(e){var r,a;return t=s._jsObject(),r=n(t)._value(),e.sendIdx.value=1,a=n(r)._printString(),s._assert_equals_(a,"[object Object]"),e.sendIdx["assert:equals:"]=1,n(t)._at_put_("value","aValue"),s._assert_equals_(n(t)._value(),"aValue"),s},function(n){n.fill(s,"testValue",{testObject:t},e.JSObjectProxyTest)})},args:[],source:"testValue\n	| testObject |\n	testObject := self jsObject.\n	self assert: testObject value printString equals: '[object Object]'.\n	testObject at: 'value' put: 'aValue'.\n	self assert: testObject value equals: 'aValue'",messageSends:["jsObject","assert:equals:","printString","value","at:put:"],referencedClasses:[]}),e.JSObjectProxyTest),e.addMethod(e.method({selector:"testYourself",category:"tests",fn:function(){var t,s=this;return e.withContext(function(){var e,r;return e=s._jsObject(),n(e)._d_("test"),r=n(e)._yourself(),t=r,s._assert_equals_(n(t)._d(),"test"),s},function(n){n.fill(s,"testYourself",{object:t},e.JSObjectProxyTest)})},args:[],source:"testYourself\n	| object |\n	object := self jsObject\n		d: 'test';\n		yourself.\n\n	self assert: object d equals: 'test'",messageSends:["d:","jsObject","yourself","assert:equals:","d"],referencedClasses:[]}),e.JSObjectProxyTest),e.addClass("JavaScriptExceptionTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testCatchingException",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return n(function(){return e.withContext(function(){return r._throwException()},function(e){e.fillBlock({},t,1)})})._on_do_(s(),function(s){return e.withContext(function(){return r._assert_(n(n(s)._exception()).__eq("test"))},function(e){e.fillBlock({error:s},t,2)})}),r},function(t){t.fill(r,"testCatchingException",{},e.JavaScriptExceptionTest)})},args:[],source:"testCatchingException\n	[ self throwException ]\n		on: Error\n		do: [ :error |\n			self assert: error exception = 'test' ]",messageSends:["on:do:","throwException","assert:","=","exception"],referencedClasses:["Error"]}),e.JavaScriptExceptionTest),e.addMethod(e.method({selector:"testRaisingException",category:"tests",fn:function(){function n(){return e.JavaScriptException||("undefined"==typeof JavaScriptException?t:JavaScriptException)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(){return s._throwException()},function(e){e.fillBlock({},t,1)})},n()),s},function(t){t.fill(s,"testRaisingException",{},e.JavaScriptExceptionTest)})},args:[],source:"testRaisingException\n	self should: [ self throwException ] raise: JavaScriptException",messageSends:["should:raise:","throwException"],referencedClasses:["JavaScriptException"]}),e.JavaScriptExceptionTest),e.addMethod(e.method({selector:"throwException",category:"helpers",fn:function(){var t=this;return e.withContext(function(){throw"test"},function(n){n.fill(t,"throwException",{},e.JavaScriptExceptionTest)})},args:[],source:"throwException\n	<throw 'test'>",messageSends:[],referencedClasses:[]}),e.JavaScriptExceptionTest),e.addClass("MessageSendTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testValue",category:"tests",fn:function(){function s(){return e.MessageSend||("undefined"==typeof MessageSend?t:MessageSend)}function r(){return e.Object||("undefined"==typeof Object?t:Object)}var a,o=this;return e.withContext(function(e){var t,i;return t=n(s())._new(),e.sendIdx["new"]=1,n(t)._receiver_(n(r())._new()),n(t)._selector_("asString"),i=n(t)._yourself(),a=i,o._assert_equals_(n(a)._value(),"an Object"),o},function(t){t.fill(o,"testValue",{messageSend:a},e.MessageSendTest)})},args:[],source:"testValue\n	| messageSend |\n	\n	messageSend := MessageSend new\n		receiver: Object new;\n		selector: #asString;\n		yourself.\n		\n	self assert: messageSend value equals: 'an Object'",messageSends:["receiver:","new","selector:","yourself","assert:equals:","value"],referencedClasses:["MessageSend","Object"]}),e.MessageSendTest),e.addMethod(e.method({selector:"testValueWithArguments",category:"tests",fn:function(){function s(){return e.MessageSend||("undefined"==typeof MessageSend?t:MessageSend)}var r,a=this;return e.withContext(function(e){var t,o;return t=n(s())._new(),n(t)._receiver_(2),n(t)._selector_("+"),o=n(t)._yourself(),r=o,a._assert_equals_(n(r)._value_(3),5),e.sendIdx["assert:equals:"]=1,a._assert_equals_(n(r)._valueWithPossibleArguments_([4]),6),a},function(t){t.fill(a,"testValueWithArguments",{messageSend:r},e.MessageSendTest)})},args:[],source:"testValueWithArguments\n	| messageSend |\n	\n	messageSend := MessageSend new\n		receiver: 2;\n		selector: '+';\n		yourself.\n		\n	self assert: (messageSend value: 3) equals: 5.\n	\n	self assert: (messageSend valueWithPossibleArguments: #(4)) equals: 6",messageSends:["receiver:","new","selector:","yourself","assert:equals:","value:","valueWithPossibleArguments:"],referencedClasses:["MessageSend"]}),e.MessageSendTest),e.addClass("MethodInheritanceTest",e.TestCase,["receiverTop","receiverMiddle","receiverBottom","method","performBlock"],"Kernel-Tests"),e.addMethod(e.method({selector:"codeGeneratorClass",category:"accessing",fn:function(){function n(){return e.CodeGenerator||("undefined"==typeof CodeGenerator?t:CodeGenerator)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"codeGeneratorClass",{},e.MethodInheritanceTest)})},args:[],source:"codeGeneratorClass\n	^ CodeGenerator",messageSends:[],referencedClasses:["CodeGenerator"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"compiler",category:"factory",fn:function(){function s(){return e.Compiler||("undefined"==typeof Compiler?t:Compiler)}var r=this;return e.withContext(function(){var e,t,a;return e=n(s())._new(),n(e)._codeGeneratorClass_(r._codeGeneratorClass()),t=n(e)._yourself(),a=t},function(t){t.fill(r,"compiler",{},e.MethodInheritanceTest)})},args:[],source:"compiler\n	^ Compiler new\n		codeGeneratorClass: self codeGeneratorClass;\n		yourself",messageSends:["codeGeneratorClass:","new","codeGeneratorClass","yourself"],referencedClasses:["Compiler"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"deinstallBottom",category:"testing",fn:function(){var t=this;return e.withContext(function(){return n(t._targetClassBottom())._removeCompiledMethod_(t["@method"]),t},function(n){n.fill(t,"deinstallBottom",{},e.MethodInheritanceTest)})},args:[],source:"deinstallBottom\n	self targetClassBottom removeCompiledMethod: method",messageSends:["removeCompiledMethod:","targetClassBottom"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"deinstallMiddle",category:"testing",fn:function(){var t=this;return e.withContext(function(){return n(t._targetClassMiddle())._removeCompiledMethod_(t["@method"]),t},function(n){n.fill(t,"deinstallMiddle",{},e.MethodInheritanceTest)})},args:[],source:"deinstallMiddle\n	self targetClassMiddle removeCompiledMethod: method",messageSends:["removeCompiledMethod:","targetClassMiddle"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"deinstallTop",category:"testing",fn:function(){var t=this;return e.withContext(function(){return n(t._targetClassTop())._removeCompiledMethod_(t["@method"]),t},function(n){n.fill(t,"deinstallTop",{},e.MethodInheritanceTest)})},args:[],source:"deinstallTop\n	self targetClassTop removeCompiledMethod: method",messageSends:["removeCompiledMethod:","targetClassTop"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"installBottom:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){return s["@method"]=n(s._compiler())._install_forClass_category_(t,s._targetClassBottom(),"tests"),s},function(n){n.fill(s,"installBottom:",{aString:t},e.MethodInheritanceTest)})},args:["aString"],source:"installBottom: aString\n	method := self compiler install: aString forClass: self targetClassBottom category: 'tests'",messageSends:["install:forClass:category:","compiler","targetClassBottom"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"installMiddle:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){return s["@method"]=n(s._compiler())._install_forClass_category_(t,s._targetClassMiddle(),"tests"),s},function(n){n.fill(s,"installMiddle:",{aString:t},e.MethodInheritanceTest)})},args:["aString"],source:"installMiddle: aString\n	method := self compiler install: aString forClass: self targetClassMiddle category: 'tests'",messageSends:["install:forClass:category:","compiler","targetClassMiddle"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"installTop:",category:"testing",fn:function(t){var s=this;return e.withContext(function(){return s["@method"]=n(s._compiler())._install_forClass_category_(t,s._targetClassTop(),"tests"),s},function(n){n.fill(s,"installTop:",{aString:t},e.MethodInheritanceTest)})},args:["aString"],source:"installTop: aString\n	method := self compiler install: aString forClass: self targetClassTop category: 'tests'",messageSends:["install:forClass:category:","compiler","targetClassTop"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"setUp",category:"initialization",fn:function(){var s=this;return e.withContext(function(r){return s["@receiverTop"]=n(s._targetClassTop())._new(),r.sendIdx["new"]=1,s["@receiverMiddle"]=n(s._targetClassMiddle())._new(),r.sendIdx["new"]=2,s["@receiverBottom"]=n(s._targetClassBottom())._new(),s["@method"]=t,s["@performBlock"]=function(){return e.withContext(function(){return s._error_("performBlock not initialized")},function(e){e.fillBlock({},r,1)})},s},function(t){t.fill(s,"setUp",{},e.MethodInheritanceTest)})},args:[],source:"setUp\n	receiverTop := self targetClassTop new.\n	receiverMiddle := self targetClassMiddle new.\n	receiverBottom := self targetClassBottom new.\n	method := nil.\n	performBlock := [ self error: 'performBlock not initialized' ]",messageSends:["new","targetClassTop","targetClassMiddle","targetClassBottom","error:"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldMNU",category:"testing",fn:function(){var t=this;return e.withContext(function(){return t._shouldMNUTop(),t._shouldMNUMiddle(),t._shouldMNUBottom(),t},function(n){n.fill(t,"shouldMNU",{},e.MethodInheritanceTest)})},args:[],source:"shouldMNU\n	self shouldMNUTop.\n	self shouldMNUMiddle.\n	self shouldMNUBottom",messageSends:["shouldMNUTop","shouldMNUMiddle","shouldMNUBottom"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldMNUBottom",category:"testing",fn:function(){function s(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(){return n(r["@performBlock"])._value_(r["@receiverBottom"])},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"shouldMNUBottom",{},e.MethodInheritanceTest)})},args:[],source:"shouldMNUBottom\n	self should: [ performBlock value: receiverBottom ] raise: MessageNotUnderstood",messageSends:["should:raise:","value:"],referencedClasses:["MessageNotUnderstood"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldMNUMiddle",category:"testing",fn:function(){function s(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(){return n(r["@performBlock"])._value_(r["@receiverMiddle"])},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"shouldMNUMiddle",{},e.MethodInheritanceTest)})},args:[],source:"shouldMNUMiddle\n	self should: [ performBlock value: receiverMiddle ] raise: MessageNotUnderstood",messageSends:["should:raise:","value:"],referencedClasses:["MessageNotUnderstood"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldMNUTop",category:"testing",fn:function(){function s(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(){return n(r["@performBlock"])._value_(r["@receiverTop"])},function(e){e.fillBlock({},t,1)})},s()),r},function(t){t.fill(r,"shouldMNUTop",{},e.MethodInheritanceTest)})},args:[],source:"shouldMNUTop\n	self should: [ performBlock value: receiverTop ] raise: MessageNotUnderstood",messageSends:["should:raise:","value:"],referencedClasses:["MessageNotUnderstood"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldReturn:",category:"testing",fn:function(t){var s,r=this;return e.withContext(function(e){return s=n(r["@performBlock"])._value_(r["@receiverTop"]),e.sendIdx["value:"]=1,r._assert_equals_(["top",t],["top",s]),e.sendIdx["assert:equals:"]=1,s=n(r["@performBlock"])._value_(r["@receiverMiddle"]),e.sendIdx["value:"]=2,r._assert_equals_(["middle",t],["middle",s]),e.sendIdx["assert:equals:"]=2,s=n(r["@performBlock"])._value_(r["@receiverBottom"]),r._assert_equals_(["bottom",t],["bottom",s]),r},function(n){n.fill(r,"shouldReturn:",{anObject:t,result:s},e.MethodInheritanceTest)})},args:["anObject"],source:"shouldReturn: anObject\n	| result |\n\n	result := performBlock value: receiverTop.\n	self assert: { 'top'. anObject } equals: { 'top'. result }.\n	result := performBlock value: receiverMiddle.\n	self assert: { 'middle'. anObject } equals: { 'middle'. result }.\n	result := performBlock value: receiverBottom.\n	self assert: { 'bottom'. anObject } equals: { 'bottom'. result }",messageSends:["value:","assert:equals:"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"shouldReturn:and:and:",category:"testing",fn:function(t,s,r){var a,o=this;return e.withContext(function(e){return a=n(o["@performBlock"])._value_(o["@receiverTop"]),e.sendIdx["value:"]=1,o._assert_equals_(["top",t],["top",a]),e.sendIdx["assert:equals:"]=1,a=n(o["@performBlock"])._value_(o["@receiverMiddle"]),e.sendIdx["value:"]=2,o._assert_equals_(["middle",s],["middle",a]),e.sendIdx["assert:equals:"]=2,a=n(o["@performBlock"])._value_(o["@receiverBottom"]),o._assert_equals_(["bottom",r],["bottom",a]),o},function(n){n.fill(o,"shouldReturn:and:and:",{anObject:t,anObject2:s,anObject3:r,result:a},e.MethodInheritanceTest)})},args:["anObject","anObject2","anObject3"],source:"shouldReturn: anObject and: anObject2 and: anObject3\n	| result |\n\n	result := performBlock value: receiverTop.\n	self assert: { 'top'. anObject } equals: { 'top'. result }.\n	result := performBlock value: receiverMiddle.\n	self assert: { 'middle'. anObject2 } equals: { 'middle'. result }.\n	result := performBlock value: receiverBottom.\n	self assert: { 'bottom'. anObject3 } equals: { 'bottom'. result }",messageSends:["value:","assert:equals:"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"targetClassBottom",category:"accessing",fn:function(){function n(){return e.JavaScriptException||("undefined"==typeof JavaScriptException?t:JavaScriptException)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"targetClassBottom",{},e.MethodInheritanceTest)})},args:[],source:"targetClassBottom\n	^ JavaScriptException",messageSends:[],referencedClasses:["JavaScriptException"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"targetClassMiddle",category:"accessing",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"targetClassMiddle",{},e.MethodInheritanceTest)})},args:[],source:"targetClassMiddle\n	^ Error",messageSends:[],referencedClasses:["Error"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"targetClassTop",category:"accessing",fn:function(){function n(){return e.Object||("undefined"==typeof Object?t:Object)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"targetClassTop",{},e.MethodInheritanceTest)})},args:[],source:"targetClassTop\n	^ Object",messageSends:[],referencedClasses:["Object"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"tearDown",category:"initialization",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return n(function(){return e.withContext(function(){return r._deinstallTop()},function(e){e.fillBlock({},t,1)})})._on_do_(s(),function(){return e.withContext(function(){},function(e){e.fillBlock({},t,2)})}),t.sendIdx["on:do:"]=1,n(function(){return e.withContext(function(){return r._deinstallMiddle()},function(e){e.fillBlock({},t,3)})})._on_do_(s(),function(){return e.withContext(function(){},function(e){e.fillBlock({},t,4)})}),t.sendIdx["on:do:"]=2,n(function(){return e.withContext(function(){return r._deinstallBottom()},function(e){e.fillBlock({},t,5)})})._on_do_(s(),function(){return e.withContext(function(){},function(e){e.fillBlock({},t,6)})}),r},function(t){t.fill(r,"tearDown",{},e.MethodInheritanceTest)})},args:[],source:"tearDown\n	[ self deinstallTop ] on: Error do: [ ].\n	[ self deinstallMiddle ] on: Error do: [ ].\n	[ self deinstallBottom ] on: Error do: [ ]",messageSends:["on:do:","deinstallTop","deinstallMiddle","deinstallBottom"],referencedClasses:["Error"]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"testMNU11",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t["@performBlock"]=function(t){return e.withContext(function(){return n(t)._foo()},function(e){e.fillBlock({x:t},s,1)})},t._shouldMNU(),s.sendIdx.shouldMNU=1,t._installTop_("foo ^ false"),s.sendIdx["installTop:"]=1,t._installTop_("foo ^ true"),t._deinstallTop(),t._shouldMNU(),t},function(n){n.fill(t,"testMNU11",{},e.MethodInheritanceTest)})},args:[],source:"testMNU11\n	performBlock := [ :x | x foo ].\n	self shouldMNU.\n	self installTop: 'foo ^ false'.\n	self installTop: 'foo ^ true'.\n	self deinstallTop.\n	self shouldMNU",messageSends:["foo","shouldMNU","installTop:","deinstallTop"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"testMNU22",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t["@performBlock"]=function(t){return e.withContext(function(){return n(t)._foo()},function(e){e.fillBlock({x:t},s,1)})},t._shouldMNU(),s.sendIdx.shouldMNU=1,t._installMiddle_("foo ^ false"),s.sendIdx["installMiddle:"]=1,t._installMiddle_("foo ^ true"),t._deinstallMiddle(),t._shouldMNU(),t},function(n){n.fill(t,"testMNU22",{},e.MethodInheritanceTest)})},args:[],source:"testMNU22\n	performBlock := [ :x | x foo ].\n	self shouldMNU.\n	self installMiddle: 'foo ^ false'.\n	self installMiddle: 'foo ^ true'.\n	self deinstallMiddle.\n	self shouldMNU",messageSends:["foo","shouldMNU","installMiddle:","deinstallMiddle"],referencedClasses:[]}),e.MethodInheritanceTest),e.addMethod(e.method({selector:"testReturns1",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t["@performBlock"]=function(t){return e.withContext(function(){return n(t)._foo()},function(e){e.fillBlock({x:t},s,1)})},t._installTop_("foo ^ false"),s.sendIdx["installTop:"]=1,t._shouldReturn_(!1),s.sendIdx["shouldReturn:"]=1,t._installTop_("foo ^ true"),t._shouldReturn_(!0),t},function(n){n.fill(t,"testReturns1",{},e.MethodInheritanceTest)})},args:[],source:"testReturns1\n	performBlock := [ :x | x foo ].\n	self installTop: 'foo ^ false'.\n	self shouldReturn: false.\n	self installTop: 'foo ^ true'.\n	self shouldReturn: true",messageSends:["foo","installTop:","shouldReturn:"],referencedClasses:[]}),e.MethodInheritanceTest),e.addClass("NumberTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAbs",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n=4.._abs(),e.sendIdx.abs=1,t._assert_equals_(n,4),e.sendIdx["assert:equals:"]=1,t._assert_equals_((-4)._abs(),4),t},function(n){n.fill(t,"testAbs",{},e.NumberTest)})},args:[],source:"testAbs\n	self assert: 4 abs equals: 4.\n	self assert: -4 abs equals: 4",messageSends:["assert:equals:","abs"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testArithmetic",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i;return s=1.5.__plus(1),e.sendIdx["+"]=1,t._assert_equals_(s,2.5),e.sendIdx["assert:equals:"]=1,r=2..__minus(1),e.sendIdx["-"]=1,t._assert_equals_(r,1),e.sendIdx["assert:equals:"]=2,t._assert_equals_((-2).__minus(1),-3),e.sendIdx["assert:equals:"]=3,t._assert_equals_(12..__slash(2),6),e.sendIdx["assert:equals:"]=4,a=3..__star(4),e.sendIdx["*"]=1,t._assert_equals_(a,12),e.sendIdx["assert:equals:"]=5,t._assert_equals_(7..__slash_slash(2),3),e.sendIdx["assert:equals:"]=6,t._assert_equals_(7..__backslash_backslash(2),1),e.sendIdx["assert:equals:"]=7,o=1..__plus(2),e.sendIdx["+"]=2,i=n(o).__star(3),e.sendIdx["*"]=2,t._assert_equals_(i,9),e.sendIdx["assert:equals:"]=8,t._assert_equals_(1..__plus(2..__star(3)),7),t},function(n){n.fill(t,"testArithmetic",{},e.NumberTest)})},args:[],source:'testArithmetic\n	\n	"We rely on JS here, so we won\'t test complex behavior, just check if\n	message sends are corrects"\n\n	self assert: 1.5 + 1 equals: 2.5.\n	self assert: 2 - 1 equals: 1.\n	self assert: -2 - 1 equals: -3.\n	self assert: 12 / 2 equals: 6.\n	self assert: 3 * 4 equals: 12.\n	self assert: 7 // 2 equals: 3.\n	self assert: 7 \\\\ 2 equals: 1.\n\n	"Simple parenthesis and execution order"\n	self assert: 1 + 2 * 3 equals: 9.\n	self assert: 1 + (2 * 3) equals: 7',messageSends:["assert:equals:","+","-","/","*","//","\\\\"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testAsNumber",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(3.._asNumber(),3),t},function(n){n.fill(t,"testAsNumber",{},e.NumberTest)})},args:[],source:"testAsNumber\n	self assert: 3 asNumber equals: 3.",messageSends:["assert:equals:","asNumber"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testCeiling",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=1.2._ceiling(),e.sendIdx.ceiling=1,t._assert_equals_(n,2),e.sendIdx["assert:equals:"]=1,s=(-1.2)._ceiling(),e.sendIdx.ceiling=2,t._assert_equals_(s,-1),e.sendIdx["assert:equals:"]=2,t._assert_equals_(1.._ceiling(),1),t},function(n){n.fill(t,"testCeiling",{},e.NumberTest)})},args:[],source:"testCeiling\n	self assert: 1.2 ceiling equals: 2.\n	self assert: -1.2 ceiling equals: -1.\n	self assert: 1.0 ceiling equals: 1.",messageSends:["assert:equals:","ceiling"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testComparison",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s,r,a;return n=3..__gt(2),e.sendIdx[">"]=1,t._assert_(n),e.sendIdx["assert:"]=1,s=2..__lt(3),e.sendIdx["<"]=1,t._assert_(s),e.sendIdx["assert:"]=2,t._deny_(3..__lt(2)),e.sendIdx["deny:"]=1,t._deny_(2..__gt(3)),r=3..__gt_eq(3),e.sendIdx[">="]=1,t._assert_(r),e.sendIdx["assert:"]=3,t._assert_(3.1.__gt_eq(3)),e.sendIdx["assert:"]=4,a=3..__lt_eq(3),e.sendIdx["<="]=1,t._assert_(a),e.sendIdx["assert:"]=5,t._assert_(3..__lt_eq(3.1)),t},function(n){n.fill(t,"testComparison",{},e.NumberTest)})},args:[],source:"testComparison\n\n	self assert: 3 > 2.\n	self assert: 2 < 3.\n	\n	self deny: 3 < 2.\n	self deny: 2 > 3.\n\n	self assert: 3 >= 3.\n	self assert: 3.1 >= 3.\n	self assert: 3 <= 3.\n	self assert: 3 <= 3.1",messageSends:["assert:",">","<","deny:",">=","<="],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testCopying",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n(1.._copy()).__eq_eq(1),e.sendIdx["=="]=1,t._assert_(s),e.sendIdx["assert:"]=1,t._assert_(n(1.._deepCopy()).__eq_eq(1)),t},function(n){n.fill(t,"testCopying",{},e.NumberTest)})},args:[],source:"testCopying\n	self assert: 1 copy == 1.\n	self assert: 1 deepCopy == 1",messageSends:["assert:","==","copy","deepCopy"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testEquality",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m;return s=1..__eq(1),e.sendIdx["="]=1,t._assert_(s),e.sendIdx["assert:"]=1,r=0..__eq(0),e.sendIdx["="]=2,t._assert_(r),e.sendIdx["assert:"]=2,a=1..__eq(0),e.sendIdx["="]=3,t._deny_(a),e.sendIdx["deny:"]=1,o=1.._yourself(),e.sendIdx.yourself=1,i=n(o).__eq(1),e.sendIdx["="]=4,t._assert_(i),e.sendIdx["assert:"]=3,l=1.._yourself(),e.sendIdx.yourself=2,c=1..__eq(l),e.sendIdx["="]=5,t._assert_(c),e.sendIdx["assert:"]=4,u=1.._yourself(),e.sendIdx.yourself=3,d=n(u).__eq(1.._yourself()),e.sendIdx["="]=6,t._assert_(d),f=0..__eq(!1),e.sendIdx["="]=7,t._deny_(f),e.sendIdx["deny:"]=2,h=(!1).__eq(0),e.sendIdx["="]=8,t._deny_(h),e.sendIdx["deny:"]=3,m="".__eq(0),e.sendIdx["="]=9,t._deny_(m),e.sendIdx["deny:"]=4,t._deny_(0..__eq("")),t},function(n){n.fill(t,"testEquality",{},e.NumberTest)})},args:[],source:"testEquality\n	self assert: (1 = 1).\n	self assert: (0 = 0).\n	self deny: (1 = 0).\n\n	self assert: (1 yourself = 1).\n	self assert: (1 = 1 yourself).\n	self assert: (1 yourself = 1 yourself).\n	\n	self deny: 0 = false.\n	self deny: false = 0.\n	self deny: '' = 0.\n	self deny: 0 = ''",messageSends:["assert:","=","deny:","yourself"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testFloor",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=1.2._floor(),e.sendIdx.floor=1,t._assert_equals_(n,1),e.sendIdx["assert:equals:"]=1,s=(-1.2)._floor(),e.sendIdx.floor=2,t._assert_equals_(s,-2),e.sendIdx["assert:equals:"]=2,t._assert_equals_(1.._floor(),1),t},function(n){n.fill(t,"testFloor",{},e.NumberTest)})},args:[],source:"testFloor\n	self assert: 1.2 floor equals: 1.\n	self assert: -1.2 floor equals: -2.\n	self assert: 1.0 floor equals: 1.",messageSends:["assert:equals:","floor"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testHexNumbers",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s,r,a,o;return t._assert_equals_(9,9),e.sendIdx["assert:equals:"]=1,n=10.._truncated(),e.sendIdx.truncated=1,t._assert_equals_(n,10),e.sendIdx["assert:equals:"]=2,s=11.._truncated(),e.sendIdx.truncated=2,t._assert_equals_(s,11),e.sendIdx["assert:equals:"]=3,r=12.._truncated(),e.sendIdx.truncated=3,t._assert_equals_(r,12),e.sendIdx["assert:equals:"]=4,a=13.._truncated(),e.sendIdx.truncated=4,t._assert_equals_(a,13),e.sendIdx["assert:equals:"]=5,o=14.._truncated(),e.sendIdx.truncated=5,t._assert_equals_(o,14),e.sendIdx["assert:equals:"]=6,t._assert_equals_(15.._truncated(),15),t},function(n){n.fill(t,"testHexNumbers",{},e.NumberTest)})},args:[],source:"testHexNumbers\n\n	self assert: 16r9 equals: 9.\n	self assert: 16rA truncated equals: 10.\n	self assert: 16rB truncated equals: 11.\n	self assert: 16rC truncated equals: 12.\n	self assert: 16rD truncated equals: 13.\n	self assert: 16rE truncated equals: 14.\n	self assert: 16rF truncated equals: 15",messageSends:["assert:equals:","truncated"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testIdentity",category:"tests",fn:function(){var t=this;
return e.withContext(function(e){var s,r,a,o,i,l,c,u,d;return s=1..__eq_eq(1),e.sendIdx["=="]=1,t._assert_(s),e.sendIdx["assert:"]=1,r=0..__eq_eq(0),e.sendIdx["=="]=2,t._assert_(r),e.sendIdx["assert:"]=2,a=1..__eq_eq(0),e.sendIdx["=="]=3,t._deny_(a),e.sendIdx["deny:"]=1,o=1.._yourself(),e.sendIdx.yourself=1,i=n(o).__eq_eq(1),e.sendIdx["=="]=4,t._assert_(i),e.sendIdx["assert:"]=3,l=1.._yourself(),e.sendIdx.yourself=2,c=1..__eq_eq(l),e.sendIdx["=="]=5,t._assert_(c),e.sendIdx["assert:"]=4,u=1.._yourself(),e.sendIdx.yourself=3,d=n(u).__eq_eq(1.._yourself()),e.sendIdx["=="]=6,t._assert_(d),t._deny_(1..__eq_eq(2)),t},function(n){n.fill(t,"testIdentity",{},e.NumberTest)})},args:[],source:"testIdentity\n	self assert: 1 == 1.\n	self assert: 0 == 0.\n	self deny: 1 == 0.\n\n	self assert: 1 yourself == 1.\n	self assert: 1 == 1 yourself.\n	self assert: 1 yourself == 1 yourself.\n	\n	self deny: 1 == 2",messageSends:["assert:","==","deny:","yourself"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testInvalidHexNumbers",category:"tests",fn:function(){function n(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(){return 16.._rG()},function(e){e.fillBlock({},t,1)})},n()),t.sendIdx["should:raise:"]=1,s._should_raise_(function(){return e.withContext(function(){return 16.._rg()},function(e){e.fillBlock({},t,2)})},n()),t.sendIdx["should:raise:"]=2,s._should_raise_(function(){return e.withContext(function(){return 16.._rH()},function(e){e.fillBlock({},t,3)})},n()),t.sendIdx["should:raise:"]=3,s._should_raise_(function(){return e.withContext(function(){return 16.._rh()},function(e){e.fillBlock({},t,4)})},n()),t.sendIdx["should:raise:"]=4,s._should_raise_(function(){return e.withContext(function(){return 16.._rI()},function(e){e.fillBlock({},t,5)})},n()),t.sendIdx["should:raise:"]=5,s._should_raise_(function(){return e.withContext(function(){return 16.._ri()},function(e){e.fillBlock({},t,6)})},n()),t.sendIdx["should:raise:"]=6,s._should_raise_(function(){return e.withContext(function(){return 16.._rJ()},function(e){e.fillBlock({},t,7)})},n()),t.sendIdx["should:raise:"]=7,s._should_raise_(function(){return e.withContext(function(){return 16.._rj()},function(e){e.fillBlock({},t,8)})},n()),t.sendIdx["should:raise:"]=8,s._should_raise_(function(){return e.withContext(function(){return 16.._rK()},function(e){e.fillBlock({},t,9)})},n()),t.sendIdx["should:raise:"]=9,s._should_raise_(function(){return e.withContext(function(){return 16.._rk()},function(e){e.fillBlock({},t,10)})},n()),t.sendIdx["should:raise:"]=10,s._should_raise_(function(){return e.withContext(function(){return 16.._rL()},function(e){e.fillBlock({},t,11)})},n()),t.sendIdx["should:raise:"]=11,s._should_raise_(function(){return e.withContext(function(){return 16.._rl()},function(e){e.fillBlock({},t,12)})},n()),t.sendIdx["should:raise:"]=12,s._should_raise_(function(){return e.withContext(function(){return 16.._rM()},function(e){e.fillBlock({},t,13)})},n()),t.sendIdx["should:raise:"]=13,s._should_raise_(function(){return e.withContext(function(){return 16.._rm()},function(e){e.fillBlock({},t,14)})},n()),t.sendIdx["should:raise:"]=14,s._should_raise_(function(){return e.withContext(function(){return 16.._rN()},function(e){e.fillBlock({},t,15)})},n()),t.sendIdx["should:raise:"]=15,s._should_raise_(function(){return e.withContext(function(){return 16.._rn()},function(e){e.fillBlock({},t,16)})},n()),t.sendIdx["should:raise:"]=16,s._should_raise_(function(){return e.withContext(function(){return 16.._rO()},function(e){e.fillBlock({},t,17)})},n()),t.sendIdx["should:raise:"]=17,s._should_raise_(function(){return e.withContext(function(){return 16.._ro()},function(e){e.fillBlock({},t,18)})},n()),t.sendIdx["should:raise:"]=18,s._should_raise_(function(){return e.withContext(function(){return 16.._rP()},function(e){e.fillBlock({},t,19)})},n()),t.sendIdx["should:raise:"]=19,s._should_raise_(function(){return e.withContext(function(){return 16.._rp()},function(e){e.fillBlock({},t,20)})},n()),t.sendIdx["should:raise:"]=20,s._should_raise_(function(){return e.withContext(function(){return 16.._rQ()},function(e){e.fillBlock({},t,21)})},n()),t.sendIdx["should:raise:"]=21,s._should_raise_(function(){return e.withContext(function(){return 16.._rq()},function(e){e.fillBlock({},t,22)})},n()),t.sendIdx["should:raise:"]=22,s._should_raise_(function(){return e.withContext(function(){return 16.._rR()},function(e){e.fillBlock({},t,23)})},n()),t.sendIdx["should:raise:"]=23,s._should_raise_(function(){return e.withContext(function(){return 16.._rr()},function(e){e.fillBlock({},t,24)})},n()),t.sendIdx["should:raise:"]=24,s._should_raise_(function(){return e.withContext(function(){return 16.._rS()},function(e){e.fillBlock({},t,25)})},n()),t.sendIdx["should:raise:"]=25,s._should_raise_(function(){return e.withContext(function(){return 16.._rs()},function(e){e.fillBlock({},t,26)})},n()),t.sendIdx["should:raise:"]=26,s._should_raise_(function(){return e.withContext(function(){return 16.._rT()},function(e){e.fillBlock({},t,27)})},n()),t.sendIdx["should:raise:"]=27,s._should_raise_(function(){return e.withContext(function(){return 16.._rt()},function(e){e.fillBlock({},t,28)})},n()),t.sendIdx["should:raise:"]=28,s._should_raise_(function(){return e.withContext(function(){return 16.._rU()},function(e){e.fillBlock({},t,29)})},n()),t.sendIdx["should:raise:"]=29,s._should_raise_(function(){return e.withContext(function(){return 16.._ru()},function(e){e.fillBlock({},t,30)})},n()),t.sendIdx["should:raise:"]=30,s._should_raise_(function(){return e.withContext(function(){return 16.._rV()},function(e){e.fillBlock({},t,31)})},n()),t.sendIdx["should:raise:"]=31,s._should_raise_(function(){return e.withContext(function(){return 16.._rv()},function(e){e.fillBlock({},t,32)})},n()),t.sendIdx["should:raise:"]=32,s._should_raise_(function(){return e.withContext(function(){return 16.._rW()},function(e){e.fillBlock({},t,33)})},n()),t.sendIdx["should:raise:"]=33,s._should_raise_(function(){return e.withContext(function(){return 16.._rw()},function(e){e.fillBlock({},t,34)})},n()),t.sendIdx["should:raise:"]=34,s._should_raise_(function(){return e.withContext(function(){return 16.._rX()},function(e){e.fillBlock({},t,35)})},n()),t.sendIdx["should:raise:"]=35,s._should_raise_(function(){return e.withContext(function(){return 16.._rx()},function(e){e.fillBlock({},t,36)})},n()),t.sendIdx["should:raise:"]=36,s._should_raise_(function(){return e.withContext(function(){return 16.._rY()},function(e){e.fillBlock({},t,37)})},n()),t.sendIdx["should:raise:"]=37,s._should_raise_(function(){return e.withContext(function(){return 16.._ry()},function(e){e.fillBlock({},t,38)})},n()),t.sendIdx["should:raise:"]=38,s._should_raise_(function(){return e.withContext(function(){return 16.._rZ()},function(e){e.fillBlock({},t,39)})},n()),t.sendIdx["should:raise:"]=39,s._should_raise_(function(){return e.withContext(function(){return 16.._rz()},function(e){e.fillBlock({},t,40)})},n()),t.sendIdx["should:raise:"]=40,s._should_raise_(function(){return e.withContext(function(){return 11259375.._Z()},function(e){e.fillBlock({},t,41)})},n()),s},function(t){t.fill(s,"testInvalidHexNumbers",{},e.NumberTest)})},args:[],source:"testInvalidHexNumbers\n\n	self should: [ 16rG ] raise: MessageNotUnderstood.\n	self should: [ 16rg ] raise: MessageNotUnderstood.\n	self should: [ 16rH ] raise: MessageNotUnderstood.\n	self should: [ 16rh ] raise: MessageNotUnderstood.\n	self should: [ 16rI ] raise: MessageNotUnderstood.\n	self should: [ 16ri ] raise: MessageNotUnderstood.\n	self should: [ 16rJ ] raise: MessageNotUnderstood.\n	self should: [ 16rj ] raise: MessageNotUnderstood.\n	self should: [ 16rK ] raise: MessageNotUnderstood.\n	self should: [ 16rk ] raise: MessageNotUnderstood.\n	self should: [ 16rL ] raise: MessageNotUnderstood.\n	self should: [ 16rl ] raise: MessageNotUnderstood.\n	self should: [ 16rM ] raise: MessageNotUnderstood.\n	self should: [ 16rm ] raise: MessageNotUnderstood.\n	self should: [ 16rN ] raise: MessageNotUnderstood.\n	self should: [ 16rn ] raise: MessageNotUnderstood.\n	self should: [ 16rO ] raise: MessageNotUnderstood.\n	self should: [ 16ro ] raise: MessageNotUnderstood.\n	self should: [ 16rP ] raise: MessageNotUnderstood.\n	self should: [ 16rp ] raise: MessageNotUnderstood.\n	self should: [ 16rQ ] raise: MessageNotUnderstood.\n	self should: [ 16rq ] raise: MessageNotUnderstood.\n	self should: [ 16rR ] raise: MessageNotUnderstood.\n	self should: [ 16rr ] raise: MessageNotUnderstood.\n	self should: [ 16rS ] raise: MessageNotUnderstood.\n	self should: [ 16rs ] raise: MessageNotUnderstood.\n	self should: [ 16rT ] raise: MessageNotUnderstood.\n	self should: [ 16rt ] raise: MessageNotUnderstood.\n	self should: [ 16rU ] raise: MessageNotUnderstood.\n	self should: [ 16ru ] raise: MessageNotUnderstood.\n	self should: [ 16rV ] raise: MessageNotUnderstood.\n	self should: [ 16rv ] raise: MessageNotUnderstood.\n	self should: [ 16rW ] raise: MessageNotUnderstood.\n	self should: [ 16rw ] raise: MessageNotUnderstood.\n	self should: [ 16rX ] raise: MessageNotUnderstood.\n	self should: [ 16rx ] raise: MessageNotUnderstood.\n	self should: [ 16rY ] raise: MessageNotUnderstood.\n	self should: [ 16ry ] raise: MessageNotUnderstood.\n	self should: [ 16rZ ] raise: MessageNotUnderstood.\n	self should: [ 16rz ] raise: MessageNotUnderstood.\n	self should: [ 16rABcdEfZ ] raise: MessageNotUnderstood.",messageSends:["should:raise:","rG","rg","rH","rh","rI","ri","rJ","rj","rK","rk","rL","rl","rM","rm","rN","rn","rO","ro","rP","rp","rQ","rq","rR","rr","rS","rs","rT","rt","rU","ru","rV","rv","rW","rw","rX","rx","rY","ry","rZ","rz","Z"],referencedClasses:["MessageNotUnderstood"]}),e.NumberTest),e.addMethod(e.method({selector:"testLog",category:"tests",fn:function(){function s(){return e.Number||("undefined"==typeof Number?t:Number)}var r=this;return e.withContext(function(e){return r._assert_equals_(1e4._log(),4),e.sendIdx["assert:equals:"]=1,r._assert_equals_(512.._log_(2),9),e.sendIdx["assert:equals:"]=2,r._assert_equals_(n(n(s())._e())._ln(),1),r},function(t){t.fill(r,"testLog",{},e.NumberTest)})},args:[],source:"testLog\n	self assert: 10000 log equals: 4.\n	self assert: (512 log: 2) equals: 9.\n	self assert: Number e ln equals: 1.",messageSends:["assert:equals:","log","log:","ln","e"],referencedClasses:["Number"]}),e.NumberTest),e.addMethod(e.method({selector:"testMinMax",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._assert_equals_(2.._max_(5),5),e.sendIdx["assert:equals:"]=1,t._assert_equals_(2.._min_(5),2),t},function(n){n.fill(t,"testMinMax",{},e.NumberTest)})},args:[],source:"testMinMax\n	\n	self assert: (2 max: 5) equals: 5.\n	self assert: (2 min: 5) equals: 2",messageSends:["assert:equals:","max:","min:"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testNegated",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n=3.._negated(),e.sendIdx.negated=1,t._assert_equals_(n,-3),e.sendIdx["assert:equals:"]=1,t._assert_equals_((-3)._negated(),3),t},function(n){n.fill(t,"testNegated",{},e.NumberTest)})},args:[],source:"testNegated\n	self assert: 3 negated equals: -3.\n	self assert: -3 negated equals: 3",messageSends:["assert:equals:","negated"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testPrintShowingDecimalPlaces",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m,g,p,_;return s=23.._printShowingDecimalPlaces_(2),e.sendIdx["printShowingDecimalPlaces:"]=1,t._assert_equals_(s,"23.00"),e.sendIdx["assert:equals:"]=1,r=23.5698._printShowingDecimalPlaces_(2),e.sendIdx["printShowingDecimalPlaces:"]=2,t._assert_equals_(r,"23.57"),e.sendIdx["assert:equals:"]=2,a=234.567._negated(),e.sendIdx.negated=1,o=n(a)._printShowingDecimalPlaces_(5),e.sendIdx["printShowingDecimalPlaces:"]=3,t._assert_equals_(o,"-234.56700"),e.sendIdx["assert:equals:"]=3,i=23.4567._printShowingDecimalPlaces_(0),e.sendIdx["printShowingDecimalPlaces:"]=4,t._assert_equals_(i,"23"),e.sendIdx["assert:equals:"]=4,l=23.5567._printShowingDecimalPlaces_(0),e.sendIdx["printShowingDecimalPlaces:"]=5,t._assert_equals_(l,"24"),e.sendIdx["assert:equals:"]=5,c=23.4567._negated(),e.sendIdx.negated=2,u=n(c)._printShowingDecimalPlaces_(0),e.sendIdx["printShowingDecimalPlaces:"]=6,t._assert_equals_(u,"-23"),e.sendIdx["assert:equals:"]=6,d=23.5567._negated(),e.sendIdx.negated=3,f=n(d)._printShowingDecimalPlaces_(0),e.sendIdx["printShowingDecimalPlaces:"]=7,t._assert_equals_(f,"-24"),e.sendIdx["assert:equals:"]=7,h=1e8._printShowingDecimalPlaces_(1),e.sendIdx["printShowingDecimalPlaces:"]=8,t._assert_equals_(h,"100000000.0"),e.sendIdx["assert:equals:"]=8,m=.98._printShowingDecimalPlaces_(5),e.sendIdx["printShowingDecimalPlaces:"]=9,t._assert_equals_(m,"0.98000"),e.sendIdx["assert:equals:"]=9,g=n(.98._negated())._printShowingDecimalPlaces_(2),e.sendIdx["printShowingDecimalPlaces:"]=10,t._assert_equals_(g,"-0.98"),e.sendIdx["assert:equals:"]=10,p=2.567._printShowingDecimalPlaces_(2),e.sendIdx["printShowingDecimalPlaces:"]=11,t._assert_equals_(p,"2.57"),e.sendIdx["assert:equals:"]=11,_=(-2.567)._printShowingDecimalPlaces_(2),e.sendIdx["printShowingDecimalPlaces:"]=12,t._assert_equals_(_,"-2.57"),e.sendIdx["assert:equals:"]=12,t._assert_equals_(0.._printShowingDecimalPlaces_(2),"0.00"),t},function(n){n.fill(t,"testPrintShowingDecimalPlaces",{},e.NumberTest)})},args:[],source:"testPrintShowingDecimalPlaces\n	self assert: (23 printShowingDecimalPlaces: 2) equals: '23.00'.\n	self assert: (23.5698 printShowingDecimalPlaces: 2) equals: '23.57'.\n	self assert: (234.567 negated printShowingDecimalPlaces: 5) equals: '-234.56700'.\n	self assert: (23.4567 printShowingDecimalPlaces: 0) equals: '23'.\n	self assert: (23.5567 printShowingDecimalPlaces: 0) equals: '24'.\n	self assert: (23.4567 negated printShowingDecimalPlaces: 0) equals: '-23'.\n	self assert: (23.5567 negated printShowingDecimalPlaces: 0) equals: '-24'.\n	self assert: (100000000 printShowingDecimalPlaces: 1) equals: '100000000.0'.\n	self assert: (0.98 printShowingDecimalPlaces: 5) equals: '0.98000'.\n	self assert: (0.98 negated printShowingDecimalPlaces: 2) equals: '-0.98'.\n	self assert: (2.567 printShowingDecimalPlaces: 2) equals: '2.57'.\n	self assert: (-2.567 printShowingDecimalPlaces: 2) equals: '-2.57'.\n	self assert: (0 printShowingDecimalPlaces: 2) equals: '0.00'.",messageSends:["assert:equals:","printShowingDecimalPlaces:","negated"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testRaisedTo",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s,r;return n=2.._raisedTo_(4),e.sendIdx["raisedTo:"]=1,t._assert_equals_(n,16),e.sendIdx["assert:equals:"]=1,s=2.._raisedTo_(0),e.sendIdx["raisedTo:"]=2,t._assert_equals_(s,1),e.sendIdx["assert:equals:"]=2,r=2.._raisedTo_(-3),e.sendIdx["raisedTo:"]=3,t._assert_equals_(r,.125),e.sendIdx["assert:equals:"]=3,t._assert_equals_(4.._raisedTo_(.5),2),e.sendIdx["assert:equals:"]=4,t._assert_equals_(2..__star_star(4),16),t},function(n){n.fill(t,"testRaisedTo",{},e.NumberTest)})},args:[],source:"testRaisedTo\n	self assert: (2 raisedTo: 4) equals: 16.\n	self assert: (2 raisedTo: 0) equals: 1.\n	self assert: (2 raisedTo: -3) equals: 0.125.\n	self assert: (4 raisedTo: 0.5) equals: 2.\n	\n	self assert: 2 ** 4 equals: 16.",messageSends:["assert:equals:","raisedTo:","**"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testRounded",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=3.._rounded(),e.sendIdx.rounded=1,t._assert_equals_(n,3),e.sendIdx["assert:equals:"]=1,s=3.212._rounded(),e.sendIdx.rounded=2,t._assert_equals_(s,3),e.sendIdx["assert:equals:"]=2,t._assert_equals_(3.51._rounded(),4),t},function(n){n.fill(t,"testRounded",{},e.NumberTest)})},args:[],source:"testRounded\n	\n	self assert: 3 rounded equals: 3.\n	self assert: 3.212 rounded equals: 3.\n	self assert: 3.51 rounded equals: 4",messageSends:["assert:equals:","rounded"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testSign",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=5.._sign(),e.sendIdx.sign=1,t._assert_equals_(n,1),e.sendIdx["assert:equals:"]=1,s=0.._sign(),e.sendIdx.sign=2,t._assert_equals_(s,0),e.sendIdx["assert:equals:"]=2,t._assert_equals_((-1.4)._sign(),-1),t},function(n){n.fill(t,"testSign",{},e.NumberTest)})},args:[],source:"testSign\n	self assert: 5 sign equals: 1.\n	self assert: 0 sign equals: 0.\n	self assert: -1.4 sign equals: -1.",messageSends:["assert:equals:","sign"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testSqrt",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n;return n=4.._sqrt(),e.sendIdx.sqrt=1,t._assert_equals_(n,2),e.sendIdx["assert:equals:"]=1,t._assert_equals_(16.._sqrt(),4),t},function(n){n.fill(t,"testSqrt",{},e.NumberTest)})},args:[],source:"testSqrt\n	\n	self assert: 4 sqrt equals: 2.\n	self assert: 16 sqrt equals: 4",messageSends:["assert:equals:","sqrt"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testSquared",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(4.._squared(),16),t},function(n){n.fill(t,"testSquared",{},e.NumberTest)})},args:[],source:"testSquared\n	\n	self assert: 4 squared equals: 16",messageSends:["assert:equals:","squared"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testTimesRepeat",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return t=0,0.._timesRepeat_(function(){return e.withContext(function(e){return t=n(t).__plus(1),e.sendIdx["+"]=1,t},function(e){e.fillBlock({},r,1)})}),r.sendIdx["timesRepeat:"]=1,s._assert_equals_(t,0),r.sendIdx["assert:equals:"]=1,5.._timesRepeat_(function(){return e.withContext(function(){return t=n(t).__plus(1)},function(e){e.fillBlock({},r,2)})}),s._assert_equals_(t,5),s},function(n){n.fill(s,"testTimesRepeat",{i:t},e.NumberTest)})},args:[],source:"testTimesRepeat\n	| i |\n\n	i := 0.\n	0 timesRepeat: [ i := i + 1 ].\n	self assert: i equals: 0.\n\n	5 timesRepeat: [ i := i + 1 ].\n	self assert: i equals: 5",messageSends:["timesRepeat:","+","assert:equals:"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testTo",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_(1.._to_(5),[1,2,3,4,5]),t},function(n){n.fill(t,"testTo",{},e.NumberTest)})},args:[],source:"testTo\n	self assert: (1 to: 5) equals: #(1 2 3 4 5)",messageSends:["assert:equals:","to:"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testToBy",category:"tests",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(t){var r;return r=0.._to_by_(6,2),t.sendIdx["to:by:"]=1,s._assert_equals_(r,[0,2,4,6]),s._should_raise_(function(){return e.withContext(function(){return 1.._to_by_(4,0)},function(e){e.fillBlock({},t,1)})},n()),s},function(t){t.fill(s,"testToBy",{},e.NumberTest)})},args:[],source:"testToBy\n	self assert: (0 to: 6 by: 2) equals: #(0 2 4 6).\n\n	self should: [ 1 to: 4 by: 0 ] raise: Error",messageSends:["assert:equals:","to:by:","should:raise:"],referencedClasses:["Error"]}),e.NumberTest),e.addMethod(e.method({selector:"testTrigonometry",category:"tests",fn:function(){var t=this;return e.withContext(function(e){return t._assert_equals_(0.._cos(),1),e.sendIdx["assert:equals:"]=1,t._assert_equals_(0.._sin(),0),e.sendIdx["assert:equals:"]=2,t._assert_equals_(0.._tan(),0),e.sendIdx["assert:equals:"]=3,t._assert_equals_(1.._arcCos(),0),e.sendIdx["assert:equals:"]=4,t._assert_equals_(0.._arcSin(),0),e.sendIdx["assert:equals:"]=5,t._assert_equals_(0.._arcTan(),0),t},function(n){n.fill(t,"testTrigonometry",{},e.NumberTest)})},args:[],source:"testTrigonometry\n	self assert: 0 cos equals: 1.\n	self assert: 0 sin equals: 0.\n	self assert: 0 tan equals: 0.\n	self assert: 1 arcCos equals: 0.\n	self assert: 0 arcSin equals: 0.\n	self assert: 0 arcTan equals: 0.",messageSends:["assert:equals:","cos","sin","tan","arcCos","arcSin","arcTan"],referencedClasses:[]}),e.NumberTest),e.addMethod(e.method({selector:"testTruncated",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=3.._truncated(),e.sendIdx.truncated=1,t._assert_equals_(n,3),e.sendIdx["assert:equals:"]=1,s=3.212._truncated(),e.sendIdx.truncated=2,t._assert_equals_(s,3),e.sendIdx["assert:equals:"]=2,t._assert_equals_(3.51._truncated(),3),t},function(n){n.fill(t,"testTruncated",{},e.NumberTest)})},args:[],source:"testTruncated\n	\n	self assert: 3 truncated equals: 3.\n	self assert: 3.212 truncated equals: 3.\n	self assert: 3.51 truncated equals: 3",messageSends:["assert:equals:","truncated"],referencedClasses:[]}),e.NumberTest),e.addClass("ObjectMock",e.Object,["foo","bar"],"Kernel-Tests"),e.ObjectMock.comment="ObjectMock is there only to perform tests on classes.",e.addMethod(e.method({selector:"foo",category:"not yet classified",fn:function(){var t=this;return e.withContext(function(){var e;return e=t["@foo"]},function(n){n.fill(t,"foo",{},e.ObjectMock)})},args:[],source:"foo\n	^ foo",messageSends:[],referencedClasses:[]}),e.ObjectMock),e.addMethod(e.method({selector:"foo:",category:"not yet classified",fn:function(t){var n=this;return e.withContext(function(){return n["@foo"]=t,n},function(s){s.fill(n,"foo:",{anObject:t},e.ObjectMock)})},args:["anObject"],source:"foo: anObject\n	foo := anObject",messageSends:[],referencedClasses:[]}),e.ObjectMock),e.addClass("ObjectTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"notDefined",category:"tests",fn:function(){var t=this;return e.withContext(function(){return void 0},function(n){n.fill(t,"notDefined",{},e.ObjectTest)})},args:[],source:"notDefined\n	<return void 0;>",messageSends:[],referencedClasses:[]}),e.ObjectTest),e.addMethod(e.method({selector:"testBasicAccess",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(e){var o;return r=n(s())._new(),n(r)._basicAt_put_("a",1),o=n(r)._basicAt_("a"),e.sendIdx["basicAt:"]=1,a._assert_equals_(o,1),e.sendIdx["assert:equals:"]=1,a._assert_equals_(n(r)._basicAt_("b"),t),a},function(t){t.fill(a,"testBasicAccess",{o:r},e.ObjectTest)})},args:[],source:"testBasicAccess\n	| o |\n	o := Object new.\n	o basicAt: 'a' put: 1.\n	self assert: (o basicAt: 'a') equals: 1.\n	self assert: (o basicAt: 'b') equals: nil",messageSends:["new","basicAt:put:","assert:equals:","basicAt:"],referencedClasses:["Object"]}),e.ObjectTest),e.addMethod(e.method({selector:"testBasicPerform",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(t){return r=n(s())._new(),n(r)._basicAt_put_("func",function(){return e.withContext(function(){return"hello"},function(e){e.fillBlock({},t,1)})}),t.sendIdx["basicAt:put:"]=1,n(r)._basicAt_put_("func2",function(s){return e.withContext(function(){return n(s).__plus(1)},function(e){e.fillBlock({a:s},t,2)})}),a._assert_equals_(n(r)._basicPerform_("func"),"hello"),t.sendIdx["assert:equals:"]=1,a._assert_equals_(n(r)._basicPerform_withArguments_("func2",[3]),4),a},function(t){t.fill(a,"testBasicPerform",{o:r},e.ObjectTest)})},args:[],source:"testBasicPerform\n	| o |\n	o := Object new.\n	o basicAt: 'func' put: [ 'hello' ].\n	o basicAt: 'func2' put: [ :a | a + 1 ].\n\n	self assert: (o basicPerform: 'func') equals: 'hello'.\n	self assert: (o basicPerform: 'func2' withArguments: #(3)) equals: 4",messageSends:["new","basicAt:put:","+","assert:equals:","basicPerform:","basicPerform:withArguments:"],referencedClasses:["Object"]}),e.ObjectTest),e.addMethod(e.method({selector:"testDNU",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}function r(){return e.MessageNotUnderstood||("undefined"==typeof MessageNotUnderstood?t:MessageNotUnderstood)}var a=this;return e.withContext(function(t){return a._should_raise_(function(){return e.withContext(function(){return n(n(s())._new())._foo()},function(e){e.fillBlock({},t,1)})},r()),a},function(t){t.fill(a,"testDNU",{},e.ObjectTest)})},args:[],source:"testDNU\n	self should: [ Object new foo ] raise: MessageNotUnderstood",messageSends:["should:raise:","foo","new"],referencedClasses:["Object","MessageNotUnderstood"]}),e.ObjectTest),e.addMethod(e.method({selector:"testEquality",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(e){var t,o,i,l;return r=n(s())._new(),e.sendIdx["new"]=1,t=n(r).__eq(n(s())._new()),e.sendIdx["="]=1,a._deny_(t),o=n(r).__eq(r),e.sendIdx["="]=2,a._assert_(o),e.sendIdx["assert:"]=1,i=n(r)._yourself(),e.sendIdx.yourself=1,l=n(i).__eq(r),e.sendIdx["="]=3,a._assert_(l),e.sendIdx["assert:"]=2,a._assert_(n(r).__eq(n(r)._yourself())),a},function(t){t.fill(a,"testEquality",{o:r},e.ObjectTest)})},args:[],source:"testEquality\n	| o |\n	o := Object new.\n	self deny: o = Object new.\n	self assert: (o = o).\n	self assert: (o yourself = o).\n	self assert: (o = o yourself)",messageSends:["new","deny:","=","assert:","yourself"],referencedClasses:["Object"]}),e.ObjectTest),e.addMethod(e.method({selector:"testHalt",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}function r(){return e.Error||("undefined"==typeof Error?t:Error)}var a=this;return e.withContext(function(t){return a._should_raise_(function(){return e.withContext(function(){return n(n(s())._new())._halt()},function(e){e.fillBlock({},t,1)})},r()),a},function(t){t.fill(a,"testHalt",{},e.ObjectTest)})},args:[],source:"testHalt\n	self should: [ Object new halt ] raise: Error",messageSends:["should:raise:","halt","new"],referencedClasses:["Object","Error"]}),e.ObjectTest),e.addMethod(e.method({selector:"testIdentity",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a=this;return e.withContext(function(e){var t,o,i,l;return r=n(s())._new(),e.sendIdx["new"]=1,t=n(r).__eq_eq(n(s())._new()),e.sendIdx["=="]=1,a._deny_(t),o=n(r).__eq_eq(r),e.sendIdx["=="]=2,a._assert_(o),e.sendIdx["assert:"]=1,i=n(r)._yourself(),e.sendIdx.yourself=1,l=n(i).__eq_eq(r),e.sendIdx["=="]=3,a._assert_(l),e.sendIdx["assert:"]=2,a._assert_(n(r).__eq_eq(n(r)._yourself())),a},function(t){t.fill(a,"testIdentity",{o:r},e.ObjectTest)})},args:[],source:"testIdentity\n	| o |\n	o := Object new.\n	self deny: o == Object new.\n	self assert: o == o.\n	self assert: o yourself == o.\n	self assert: o == o yourself",messageSends:["new","deny:","==","assert:","yourself"],referencedClasses:["Object"]}),e.ObjectTest),e.addMethod(e.method({selector:"testIfNil",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r=this;return e.withContext(function(e){var a,o,i,l,c,u,d,f,h,m,g;return a=n(s())._new(),e.sendIdx["new"]=1,o=n(a)._isNil(),r._deny_(o),e.sendIdx["deny:"]=1,i=n(s())._new(),e.sendIdx["new"]=2,l=($receiver=i)==t||null==$receiver?!0:i,c=n(l).__eq(!0),r._deny_(c),u=n(s())._new(),e.sendIdx["new"]=3,d=($receiver=u)==t||null==$receiver?u:!0,r._assert_equals_(d,!0),e.sendIdx["assert:equals:"]=1,f=n(s())._new(),e.sendIdx["new"]=4,h=($receiver=f)==t||null==$receiver?!1:!0,r._assert_equals_(h,!0),e.sendIdx["assert:equals:"]=2,m=n(s())._new(),g=($receiver=m)==t||null==$receiver?!1:!0,r._assert_equals_(g,!0),r},function(t){t.fill(r,"testIfNil",{},e.ObjectTest)})},args:[],source:"testIfNil\n	self deny: Object new isNil.\n	self deny: (Object new ifNil: [ true ]) = true.\n	self assert: (Object new ifNotNil: [ true ]) equals: true.\n\n	self assert: (Object new ifNil: [ false ] ifNotNil: [ true ]) equals: true.\n	self assert: (Object new ifNotNil: [ true ] ifNil: [ false ]) equals: true",messageSends:["deny:","isNil","new","=","ifNil:","assert:equals:","ifNotNil:","ifNil:ifNotNil:","ifNotNil:ifNil:"],referencedClasses:["Object"]}),e.ObjectTest),e.addMethod(e.method({selector:"testInstVars",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}var r,a=this;return e.withContext(function(e){var o,i;return r=n(s())._new(),o=n(r)._instVarAt_("foo"),e.sendIdx["instVarAt:"]=1,a._assert_equals_(o,t),e.sendIdx["assert:equals:"]=1,n(r)._instVarAt_put_("foo",1),i=n(r)._instVarAt_("foo"),e.sendIdx["instVarAt:"]=2,a._assert_equals_(i,1),e.sendIdx["assert:equals:"]=2,a._assert_equals_(n(r)._instVarAt_("foo"),1),a},function(t){t.fill(a,"testInstVars",{o:r},e.ObjectTest)})},args:[],source:"testInstVars\n	| o |\n	o := ObjectMock new.\n	self assert: (o instVarAt: #foo) equals: nil.\n\n	o instVarAt: #foo put: 1.\n	self assert: (o instVarAt: #foo) equals: 1.\n	self assert: (o instVarAt: 'foo') equals: 1",messageSends:["new","assert:equals:","instVarAt:","instVarAt:put:"],referencedClasses:["ObjectMock"]}),e.ObjectTest),e.addMethod(e.method({selector:"testNilUndefined",category:"tests",fn:function(){var n=this;return e.withContext(function(){return n._assert_equals_(n._notDefined(),t),n},function(t){t.fill(n,"testNilUndefined",{},e.ObjectTest)})},args:[],source:'testNilUndefined\n	"nil in Smalltalk is the undefined object in JS"\n\n	self assert: self notDefined equals: nil',messageSends:["assert:equals:","notDefined"],referencedClasses:[]}),e.ObjectTest),e.addMethod(e.method({selector:"testYourself",category:"tests",fn:function(){function s(){return e.ObjectMock||("undefined"==typeof ObjectMock?t:ObjectMock)}var r,a=this;return e.withContext(function(){return r=n(s())._new(),a._assert_(n(n(r)._yourself()).__eq_eq(r)),a},function(t){t.fill(a,"testYourself",{o:r},e.ObjectTest)})},args:[],source:"testYourself\n	| o |\n	o := ObjectMock new.\n	self assert: o yourself == o",messageSends:["new","assert:","==","yourself"],referencedClasses:["ObjectMock"]}),e.ObjectTest),e.addMethod(e.method({selector:"testidentityHash",category:"tests",fn:function(){function s(){return e.Object||("undefined"==typeof Object?t:Object)}var r,a,o=this;return e.withContext(function(e){var t,i,l,c,u;return r=n(s())._new(),e.sendIdx["new"]=1,a=n(s())._new(),t=n(r)._identityHash(),e.sendIdx.identityHash=1,i=n(r)._identityHash(),e.sendIdx.identityHash=2,l=n(t).__eq_eq(i),e.sendIdx["=="]=1,o._assert_(l),c=n(r)._identityHash(),e.sendIdx.identityHash=3,u=n(c).__eq_eq(n(a)._identityHash()),o._deny_(u),o},function(t){t.fill(o,"testidentityHash",{o1:r,o2:a},e.ObjectTest)})},args:[],source:"testidentityHash\n	| o1 o2 |\n	\n	o1 := Object new.\n	o2 := Object new.\n\n	self assert: o1 identityHash == o1 identityHash.\n	self deny: o1 identityHash == o2 identityHash",messageSends:["new","assert:","==","identityHash","deny:"],referencedClasses:["Object"]}),e.ObjectTest),e.addClass("PointTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAccessing",category:"tests",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)}var r=this;return e.withContext(function(e){var t,a,o,i,l,c;return t=n(s())._x_y_(3,4),e.sendIdx["x:y:"]=1,a=n(t)._x(),e.sendIdx.x=1,r._assert_equals_(a,3),e.sendIdx["assert:equals:"]=1,o=n(n(s())._x_y_(3,4))._y(),e.sendIdx.y=1,r._assert_equals_(o,4),e.sendIdx["assert:equals:"]=2,i=n(s())._new(),e.sendIdx["new"]=1,l=n(i)._x_(3),c=n(l)._x(),r._assert_equals_(c,3),e.sendIdx["assert:equals:"]=3,r._assert_equals_(n(n(n(s())._new())._y_(4))._y(),4),r},function(t){t.fill(r,"testAccessing",{},e.PointTest)})},args:[],source:"testAccessing\n	self assert: (Point x: 3 y: 4) x equals: 3.\n	self assert: (Point x: 3 y: 4) y equals: 4.\n	self assert: (Point new x: 3) x equals: 3.\n	self assert: (Point new y: 4) y equals: 4",messageSends:["assert:equals:","x","x:y:","y","x:","new","y:"],referencedClasses:["Point"]}),e.PointTest),e.addMethod(e.method({selector:"testArithmetic",category:"tests",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)
}var r=this;return e.withContext(function(e){var t,a,o,i,l,c,u,d,f,h,m,g,p,_;return t=3..__at(4),e.sendIdx["@"]=1,a=3..__at(4),e.sendIdx["@"]=2,o=n(t).__star(a),i=n(s())._x_y_(9,16),e.sendIdx["x:y:"]=1,r._assert_equals_(o,i),e.sendIdx["assert:equals:"]=1,l=3..__at(4),e.sendIdx["@"]=3,c=3..__at(4),e.sendIdx["@"]=4,u=n(l).__plus(c),d=n(s())._x_y_(6,8),e.sendIdx["x:y:"]=2,r._assert_equals_(u,d),e.sendIdx["assert:equals:"]=2,f=3..__at(4),e.sendIdx["@"]=5,h=3..__at(4),e.sendIdx["@"]=6,m=n(f).__minus(h),g=n(s())._x_y_(0,0),e.sendIdx["x:y:"]=3,r._assert_equals_(m,g),e.sendIdx["assert:equals:"]=3,p=6..__at(8),e.sendIdx["@"]=7,_=n(p).__slash(3..__at(4)),r._assert_equals_(_,n(s())._x_y_(2,2)),r},function(t){t.fill(r,"testArithmetic",{},e.PointTest)})},args:[],source:"testArithmetic\n	self assert: 3@4 * (3@4 ) equals: (Point x: 9 y: 16).\n	self assert: 3@4 + (3@4 ) equals: (Point x: 6 y: 8).\n	self assert: 3@4 - (3@4 ) equals: (Point x: 0 y: 0).\n	self assert: 6@8 / (3@4 ) equals: (Point x: 2 y: 2)",messageSends:["assert:equals:","*","@","x:y:","+","-","/"],referencedClasses:["Point"]}),e.PointTest),e.addMethod(e.method({selector:"testAt",category:"tests",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)}var r=this;return e.withContext(function(){return r._assert_equals_(3..__at(4),n(s())._x_y_(3,4)),r},function(t){t.fill(r,"testAt",{},e.PointTest)})},args:[],source:"testAt\n	self assert: 3@4 equals: (Point x: 3 y: 4)",messageSends:["assert:equals:","@","x:y:"],referencedClasses:["Point"]}),e.PointTest),e.addMethod(e.method({selector:"testEgality",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i;return s=3..__at(4),e.sendIdx["@"]=1,r=3..__at(4),e.sendIdx["@"]=2,a=n(s).__eq(r),e.sendIdx["="]=1,t._assert_(a),o=3..__at(5),e.sendIdx["@"]=3,i=n(o).__eq(3..__at(6)),t._deny_(i),t},function(n){n.fill(t,"testEgality",{},e.PointTest)})},args:[],source:"testEgality\n	self assert: (3@4 = (3@4)).\n	self deny: 3@5 = (3@6)",messageSends:["assert:","=","@","deny:"],referencedClasses:[]}),e.PointTest),e.addMethod(e.method({selector:"testNew",category:"tests",fn:function(){function s(){return e.Point||("undefined"==typeof Point?t:Point)}var r=this;return e.withContext(function(e){var a,o,i,l,c,u,d,f,h,m;return a=n(s())._new(),e.sendIdx["new"]=1,o=n(a)._x_(3),e.sendIdx["x:"]=1,i=n(o)._y(),e.sendIdx.y=1,r._assert_equals_(i,t),e.sendIdx["assert:equals:"]=1,l=n(s())._new(),e.sendIdx["new"]=2,c=n(l)._x_(3),u=n(c)._x(),e.sendIdx.x=1,d=n(u).__eq(0),e.sendIdx["="]=1,r._deny_(d),e.sendIdx["deny:"]=1,f=n(s())._new(),e.sendIdx["new"]=3,h=n(f)._y_(4),e.sendIdx["y:"]=1,m=n(h)._x(),r._assert_equals_(m,t),r._deny_(n(n(n(n(s())._new())._y_(4))._y()).__eq(0)),r},function(t){t.fill(r,"testNew",{},e.PointTest)})},args:[],source:"testNew\n\n	self assert: (Point new x: 3) y equals: nil.\n	self deny: (Point new x: 3) x = 0.\n	self assert: (Point new y: 4) x equals: nil.\n	self deny: (Point new y: 4) y = 0",messageSends:["assert:equals:","y","x:","new","deny:","=","x","y:"],referencedClasses:["Point"]}),e.PointTest),e.addMethod(e.method({selector:"testTranslateBy",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d,f,h,m,g,p,_,C;return s=3..__at(3),e.sendIdx["@"]=1,r=0..__at(1),e.sendIdx["@"]=2,a=n(s)._translateBy_(r),e.sendIdx["translateBy:"]=1,o=3..__at(4),e.sendIdx["@"]=3,t._assert_equals_(a,o),e.sendIdx["assert:equals:"]=1,i=3..__at(3),e.sendIdx["@"]=4,l=1.._negated(),e.sendIdx.negated=1,c=0..__at(l),e.sendIdx["@"]=5,u=n(i)._translateBy_(c),e.sendIdx["translateBy:"]=2,d=3..__at(2),e.sendIdx["@"]=6,t._assert_equals_(u,d),e.sendIdx["assert:equals:"]=2,f=3..__at(3),e.sendIdx["@"]=7,h=2..__at(3),e.sendIdx["@"]=8,m=n(f)._translateBy_(h),e.sendIdx["translateBy:"]=3,g=5..__at(6),e.sendIdx["@"]=9,t._assert_equals_(m,g),e.sendIdx["assert:equals:"]=3,p=3..__at(3),e.sendIdx["@"]=10,_=n(3.._negated()).__at(0),e.sendIdx["@"]=11,C=n(p)._translateBy_(_),t._assert_equals_(C,0..__at(3)),t},function(n){n.fill(t,"testTranslateBy",{},e.PointTest)})},args:[],source:"testTranslateBy\n	self assert: (3@3 translateBy: 0@1) equals: 3@4.\n	self assert: (3@3 translateBy: 0@1 negated) equals: 3@2.\n	self assert: (3@3 translateBy: 2@3) equals: 5@6.\n	self assert: (3@3 translateBy: 3 negated @0) equals: 0@3.",messageSends:["assert:equals:","translateBy:","@","negated"],referencedClasses:[]}),e.PointTest),e.addClass("QueueTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testNextIfAbsent",category:"tests",fn:function(){function s(){return e.Queue||("undefined"==typeof Queue?t:Queue)}var r,a=this;return e.withContext(function(e){var t,o;return r=n(s())._new(),n(r)._nextPut_("index1"),t=n(r)._nextIfAbsent_("empty"),e.sendIdx["nextIfAbsent:"]=1,o=n(t).__eq("index1"),e.sendIdx["="]=1,a._assert_(o),a._deny_(n(n(r)._nextIfAbsent_("empty")).__eq("index1")),a},function(t){t.fill(a,"testNextIfAbsent",{queue:r},e.QueueTest)})},args:[],source:"testNextIfAbsent\n	| queue |\n	queue := Queue new.\n	queue nextPut: 'index1'. \n\n	self assert: (queue  nextIfAbsent: 'empty') = 'index1'.\n	self deny: (queue  nextIfAbsent: 'empty') = 'index1'",messageSends:["new","nextPut:","assert:","=","nextIfAbsent:","deny:"],referencedClasses:["Queue"]}),e.QueueTest),e.addMethod(e.method({selector:"testQueueNext",category:"tests",fn:function(){function s(){return e.Queue||("undefined"==typeof Queue?t:Queue)}function r(){return e.Error||("undefined"==typeof Error?t:Error)}var a,o=this;return e.withContext(function(t){var i,l,c,u,d,f;return a=n(s())._new(),i=a,n(i)._nextPut_("index1"),t.sendIdx["nextPut:"]=1,l=n(i)._nextPut_("index2"),c=n(a)._next(),t.sendIdx.next=1,u=n(c).__eq("index1"),t.sendIdx["="]=1,o._assert_(u),d=n(a)._next(),t.sendIdx.next=2,f=n(d).__eq("index"),o._deny_(f),o._should_raise_(function(){return e.withContext(function(){return n(a)._next()},function(e){e.fillBlock({},t,1)})},r()),o},function(t){t.fill(o,"testQueueNext",{queue:a},e.QueueTest)})},args:[],source:"testQueueNext\n	| queue |               \n	queue := Queue new.\n	queue \n		nextPut: 'index1';\n		nextPut: 'index2'.\n\n	self assert: queue next = 'index1'.\n	self deny: queue next = 'index'.\n	self should: [ queue next ] raise: Error",messageSends:["new","nextPut:","assert:","=","next","deny:","should:raise:"],referencedClasses:["Queue","Error"]}),e.QueueTest),e.addClass("RandomTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAtRandomNumber",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){return 100.._timesRepeat_(function(){return e.withContext(function(e){return t=10.._atRandom(),s._assert_(n(t).__gt(0)),e.sendIdx["assert:"]=1,s._assert_(n(t).__lt(11))},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"testAtRandomNumber",{val:t},e.RandomTest)})},args:[],source:"testAtRandomNumber\n	|val|	\n\n	100 timesRepeat: [\n		val := 10 atRandom.	\n		self assert: (val > 0).\n		self assert: (val <11)\n	]",messageSends:["timesRepeat:","atRandom","assert:",">","<"],referencedClasses:[]}),e.RandomTest),e.addMethod(e.method({selector:"testAtRandomSequenceableCollection",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a,o,i,l;return 100.._timesRepeat_(function(){return e.withContext(function(e){return t="abc"._atRandom(),a=n(t).__eq("a"),e.sendIdx["="]=1,o=n(t).__eq("b"),e.sendIdx["="]=2,i=n(a).__or(o),l=n(i).__or(n(t).__eq("c")),e.sendIdx["|"]=1,s._assert_(l)},function(e){e.fillBlock({},r,1)})}),s},function(n){n.fill(s,"testAtRandomSequenceableCollection",{val:t},e.RandomTest)})},args:[],source:"testAtRandomSequenceableCollection\n	|val|\n	\n	100 timesRepeat: [\n		val := 'abc' atRandom.\n		self assert: ((val = 'a') | (val = 'b') | (val = 'c' )).\n	].",messageSends:["timesRepeat:","atRandom","assert:","|","="],referencedClasses:[]}),e.RandomTest),e.addMethod(e.method({selector:"textNext",category:"tests",fn:function(){function s(){return e.Random||("undefined"==typeof Random?t:Random)}var r=this;return e.withContext(function(t){var a;return 1e4._timesRepeat_(function(){var o,i;return e.withContext(function(e){return i=n(n(s())._new())._next(),r._assert_(n(i).__gt_eq(0)),e.sendIdx["assert:"]=1,r._assert_(n(i).__lt(1)),a=n(o).__eq(i),e.sendIdx["="]=1,r._deny_(a),n(i).__eq(o)},function(e){e.fillBlock({current:o,next:i},t,1)})}),r},function(t){t.fill(r,"textNext",{},e.RandomTest)})},args:[],source:"textNext\n\n	10000 timesRepeat: [\n			| current next |\n			next := Random new next.\n			self assert: (next >= 0).\n			self assert: (next < 1).\n			self deny: current = next.\n			next = current ]",messageSends:["timesRepeat:","next","new","assert:",">=","<","deny:","="],referencedClasses:["Random"]}),e.RandomTest),e.addClass("SetTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testAddRemove",category:"tests",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r,a=this;return e.withContext(function(e){var t,o;return r=n(s())._new(),a._assert_(n(r)._isEmpty()),e.sendIdx["assert:"]=1,n(r)._add_(3),e.sendIdx["add:"]=1,t=n(r)._includes_(3),e.sendIdx["includes:"]=1,a._assert_(t),e.sendIdx["assert:"]=2,n(r)._add_(5),o=n(r)._includes_(5),e.sendIdx["includes:"]=2,a._assert_(o),n(r)._remove_(3),a._deny_(n(r)._includes_(3)),a},function(t){t.fill(a,"testAddRemove",{set:r},e.SetTest)})},args:[],source:"testAddRemove\n	| set |\n	set := Set new.\n	\n	self assert: set isEmpty.\n\n	set add: 3.\n	self assert: (set includes: 3).\n\n	set add: 5.\n	self assert: (set includes: 5).\n\n	set remove: 3.\n	self deny: (set includes: 3)",messageSends:["new","assert:","isEmpty","add:","includes:","remove:","deny:"],referencedClasses:["Set"]}),e.SetTest),e.addMethod(e.method({selector:"testAt",category:"tests",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}function r(){return e.Error||("undefined"==typeof Error?t:Error)}var a=this;return e.withContext(function(t){return a._should_raise_(function(){return e.withContext(function(){return n(n(s())._new())._at_put_(1,2)},function(e){e.fillBlock({},t,1)})},r()),a},function(t){t.fill(a,"testAt",{},e.SetTest)})},args:[],source:"testAt\n	self should: [ Set new at: 1 put: 2 ] raise: Error",messageSends:["should:raise:","at:put:","new"],referencedClasses:["Set","Error"]}),e.SetTest),e.addMethod(e.method({selector:"testCollect",category:"tests",fn:function(){var t=this;return e.withContext(function(s){var r,a;return r=[5,6,8]._asSet(),s.sendIdx.asSet=1,a=n(r)._collect_(function(t){return e.withContext(function(){return n(t).__backslash_backslash(3)},function(e){e.fillBlock({x:t},s,1)})}),t._assert_equals_(a,[0,2]._asSet()),t},function(n){n.fill(t,"testCollect",{},e.SetTest)})},args:[],source:"testCollect\n	self assert: (#(5 6 8) asSet collect: [ :x | x \\\\ 3 ]) equals: #(0 2) asSet",messageSends:["assert:equals:","collect:","asSet","\\\\"],referencedClasses:[]}),e.SetTest),e.addMethod(e.method({selector:"testComparing",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o,i,l,c,u,d;return s=[0,2]._asSet(),e.sendIdx.asSet=1,r=[0,2]._asSet(),e.sendIdx.asSet=2,t._assert_equals_(s,r),e.sendIdx["assert:equals:"]=1,a=[2,0]._asSet(),e.sendIdx.asSet=3,o=[0,2]._asSet(),e.sendIdx.asSet=4,t._assert_equals_(a,o),i=[0,2,3]._asSet(),e.sendIdx.asSet=5,l=[0,2]._asSet(),e.sendIdx.asSet=6,c=n(i).__eq(l),e.sendIdx["="]=1,t._deny_(c),e.sendIdx["deny:"]=1,u=[1,2]._asSet(),e.sendIdx.asSet=7,d=n(u).__eq([0,2]._asSet()),t._deny_(d),t},function(n){n.fill(t,"testComparing",{},e.SetTest)})},args:[],source:"testComparing\n	self assert: #(0 2) asSet equals: #(0 2) asSet.\n	self assert: #(2 0) asSet equals: #(0 2) asSet.\n	self deny: #(0 2 3) asSet = #(0 2) asSet.\n	self deny: #(1 2) asSet = #(0 2) asSet",messageSends:["assert:equals:","asSet","deny:","="],referencedClasses:[]}),e.SetTest),e.addMethod(e.method({selector:"testPrintString",category:"tests",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r,a=this;return e.withContext(function(e){var t,o,i,l,c,u,d,f,h;return r=n(s())._new(),t=n(r)._printString(),e.sendIdx.printString=1,a._assert_equals_(t,"a Set ()"),e.sendIdx["assert:equals:"]=1,o=r,n(o)._add_(1),e.sendIdx["add:"]=1,i=n(o)._add_(3),e.sendIdx["add:"]=2,l=n(r)._printString(),e.sendIdx.printString=2,a._assert_equals_(l,"a Set (1 3)"),e.sendIdx["assert:equals:"]=2,n(r)._add_("foo"),e.sendIdx["add:"]=3,c=n(r)._printString(),e.sendIdx.printString=3,a._assert_equals_(c,"a Set (1 3 'foo')"),e.sendIdx["assert:equals:"]=3,u=r,n(u)._remove_(1),e.sendIdx["remove:"]=1,d=n(u)._remove_(3),f=n(r)._printString(),e.sendIdx.printString=4,a._assert_equals_(f,"a Set ('foo')"),e.sendIdx["assert:equals:"]=4,n(r)._add_(3),e.sendIdx["add:"]=4,h=n(r)._printString(),e.sendIdx.printString=5,a._assert_equals_(h,"a Set ('foo' 3)"),e.sendIdx["assert:equals:"]=5,n(r)._add_(3),a._assert_equals_(n(r)._printString(),"a Set ('foo' 3)"),a},function(t){t.fill(a,"testPrintString",{set:r},e.SetTest)})},args:[],source:"testPrintString\n	| set |\n	set := Set new.\n	self assert: set printString equals: 'a Set ()'.\n	set add: 1; add: 3.\n	self assert: set printString equals: 'a Set (1 3)'.\n	set add: 'foo'.\n	self assert: set printString equals: 'a Set (1 3 ''foo'')'.\n	set remove: 1; remove: 3.\n	self assert: set printString equals: 'a Set (''foo'')'.\n	set add: 3.\n	self assert: set printString equals: 'a Set (''foo'' 3)'.\n	set add: 3.\n	self assert: set printString equals: 'a Set (''foo'' 3)'",messageSends:["new","assert:equals:","printString","add:","remove:"],referencedClasses:["Set"]}),e.SetTest),e.addMethod(e.method({selector:"testSize",category:"tests",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r=this;return e.withContext(function(e){var t,a,o;return t=n(n(s())._new())._size(),e.sendIdx.size=1,r._assert_equals_(t,0),e.sendIdx["assert:equals:"]=1,a=n(s())._withAll_([1,2,3,4]),e.sendIdx["withAll:"]=1,o=n(a)._size(),e.sendIdx.size=2,r._assert_equals_(o,4),e.sendIdx["assert:equals:"]=2,r._assert_equals_(n(n(s())._withAll_([1,1,1,1]))._size(),1),r},function(t){t.fill(r,"testSize",{},e.SetTest)})},args:[],source:"testSize\n	self assert: Set new size equals: 0.\n	self assert: (Set withAll: #(1 2 3 4)) size equals: 4.\n	self assert: (Set withAll: #(1 1 1 1)) size equals: 1",messageSends:["assert:equals:","size","new","withAll:"],referencedClasses:["Set"]}),e.SetTest),e.addMethod(e.method({selector:"testUnboxedObjects",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r,a,o;return s="foo"._yourself(),e.sendIdx.yourself=1,r=[s,"foo"._yourself()],a=n(r)._asSet(),o=n(a)._asArray(),t._assert_equals_(o,["foo"]),t},function(n){n.fill(t,"testUnboxedObjects",{},e.SetTest)})},args:[],source:"testUnboxedObjects\n	self assert: {'foo' yourself. 'foo' yourself} asSet asArray equals: #('foo')",messageSends:["assert:equals:","asArray","asSet","yourself"],referencedClasses:[]}),e.SetTest),e.addMethod(e.method({selector:"testUnicity",category:"tests",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r,a=this;return e.withContext(function(e){var t;return r=n(s())._new(),n(r)._add_(21),e.sendIdx["add:"]=1,n(r)._add_("hello"),e.sendIdx["add:"]=2,n(r)._add_(21),e.sendIdx["add:"]=3,t=n(r)._size(),e.sendIdx.size=1,a._assert_equals_(t,2),e.sendIdx["assert:equals:"]=1,n(r)._add_("hello"),a._assert_equals_(n(r)._size(),2),e.sendIdx["assert:equals:"]=2,a._assert_equals_(n(r)._asArray(),[21,"hello"]),a},function(t){t.fill(a,"testUnicity",{set:r},e.SetTest)})},args:[],source:"testUnicity\n	| set |\n	set := Set new.\n	set add: 21.\n	set add: 'hello'.\n\n	set add: 21.\n	self assert: set size equals: 2.\n	\n	set add: 'hello'.\n	self assert: set size equals: 2.\n\n	self assert: set asArray equals: #(21 'hello')",messageSends:["new","add:","assert:equals:","size","asArray"],referencedClasses:["Set"]}),e.SetTest),e.addClass("StreamTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._class())._collectionClass()},function(n){n.fill(t,"collectionClass",{},e.StreamTest)})},args:[],source:"collectionClass\n	^ self class collectionClass",messageSends:["collectionClass","class"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"newCollection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collectionClass())._new()},function(n){n.fill(t,"newCollection",{},e.StreamTest)})},args:[],source:"newCollection\n	^ self collectionClass new",messageSends:["new","collectionClass"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"newStream",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(n(t._collectionClass())._new())._stream()},function(n){n.fill(t,"newStream",{},e.StreamTest)})},args:[],source:"newStream\n	^ self collectionClass new stream",messageSends:["stream","new","collectionClass"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testAtStartAtEnd",category:"tests",fn:function(){var t,s=this;return e.withContext(function(e){var r,a,o,i;return t=s._newStream(),r=n(t)._atStart(),e.sendIdx.atStart=1,s._assert_(r),e.sendIdx["assert:"]=1,a=n(t)._atEnd(),e.sendIdx.atEnd=1,s._assert_(a),e.sendIdx["assert:"]=2,n(t)._nextPutAll_(s._newCollection()),o=n(t)._atEnd(),e.sendIdx.atEnd=2,s._assert_(o),i=n(t)._atStart(),e.sendIdx.atStart=2,s._deny_(i),e.sendIdx["deny:"]=1,n(t)._position_(1),s._deny_(n(t)._atEnd()),e.sendIdx["deny:"]=2,s._deny_(n(t)._atStart()),s},function(n){n.fill(s,"testAtStartAtEnd",{stream:t},e.StreamTest)})},args:[],source:"testAtStartAtEnd\n	| stream |\n	\n	stream := self newStream.\n	self assert: stream atStart.\n	self assert: stream atEnd.\n	\n	stream nextPutAll: self newCollection.\n	self assert: stream atEnd.\n	self deny: stream atStart.\n	\n	stream position: 1.\n	self deny: stream atEnd.\n	self deny: stream atStart",messageSends:["newStream","assert:","atStart","atEnd","nextPutAll:","newCollection","deny:","position:"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testContents",category:"tests",fn:function(){var t,s=this;return e.withContext(function(e){var r,a;return t=s._newStream(),r=t,a=s._newCollection(),e.sendIdx.newCollection=1,n(r)._nextPutAll_(a),s._assert_equals_(n(t)._contents(),s._newCollection()),s},function(n){n.fill(s,"testContents",{stream:t},e.StreamTest)})},args:[],source:"testContents\n	| stream |\n	\n	stream := self newStream.\n	stream nextPutAll: self newCollection.\n	\n	self assert: stream contents equals: self newCollection",messageSends:["newStream","nextPutAll:","newCollection","assert:equals:","contents"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testIsEmpty",category:"tests",fn:function(){var t,s=this;return e.withContext(function(e){var r;return t=s._newStream(),r=n(t)._isEmpty(),e.sendIdx.isEmpty=1,s._assert_(r),n(t)._nextPutAll_(s._newCollection()),s._deny_(n(t)._isEmpty()),s},function(n){n.fill(s,"testIsEmpty",{stream:t},e.StreamTest)})},args:[],source:"testIsEmpty\n	| stream |\n	\n	stream := self newStream.\n	self assert: stream isEmpty.\n	\n	stream nextPutAll: self newCollection.\n	self deny: stream isEmpty",messageSends:["newStream","assert:","isEmpty","nextPutAll:","newCollection","deny:"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testPosition",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(e){var a,o,i;return t=r._newCollection(),s=r._newStream(),n(s)._nextPutAll_(t),a=n(s)._position(),e.sendIdx.position=1,r._assert_equals_(a,n(t)._size()),e.sendIdx["assert:equals:"]=1,n(s)._position_(0),o=n(s)._position(),e.sendIdx.position=2,r._assert_equals_(o,0),e.sendIdx["assert:equals:"]=2,n(s)._next(),e.sendIdx.next=1,i=n(s)._position(),e.sendIdx.position=3,r._assert_equals_(i,1),e.sendIdx["assert:equals:"]=3,n(s)._next(),r._assert_equals_(n(s)._position(),2),r},function(n){n.fill(r,"testPosition",{collection:t,stream:s},e.StreamTest)})},args:[],source:"testPosition\n	| collection stream |\n	\n	collection := self newCollection.\n	stream := self newStream.\n	\n	stream nextPutAll: collection.\n	self assert: stream position equals: collection size.\n	\n	stream position: 0.\n	self assert: stream position equals: 0.\n	\n	stream next.\n	self assert: stream position equals: 1.\n	\n	stream next.\n	self assert: stream position equals: 2",messageSends:["newCollection","newStream","nextPutAll:","assert:equals:","position","size","position:","next"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testReading",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o,i,l;return s=r._newCollection(),t=r._newStream(),o=t,n(o)._nextPutAll_(s),i=n(o)._position_(0),n(s)._do_(function(s){return e.withContext(function(e){return l=n(t)._next(),e.sendIdx.next=1,r._assert_equals_(l,s)},function(e){e.fillBlock({each:s},a,1)})}),r._assert_(n(n(t)._next())._isNil()),r},function(n){n.fill(r,"testReading",{stream:t,collection:s},e.StreamTest)})},args:[],source:"testReading\n	| stream collection |\n	\n	collection := self newCollection.\n	stream := self newStream.\n	\n	stream \n		nextPutAll: collection;\n		position: 0.\n	\n	collection do: [ :each |\n		self assert: stream next equals: each ].\n		\n	self assert: stream next isNil",messageSends:["newCollection","newStream","nextPutAll:","position:","do:","assert:equals:","next","assert:","isNil"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testStreamContents",category:"tests",fn:function(){var t=this;return e.withContext(function(){return t},function(n){n.fill(t,"testStreamContents",{},e.StreamTest)})},args:[],source:"testStreamContents",messageSends:[],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testWrite",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){return s=r._newCollection(),t=r._newStream(),n(s)._do_(function(s){return e.withContext(function(){return n(t).__lt_lt(s)},function(e){e.fillBlock({each:s},a,1)})}),r._assert_equals_(n(t)._contents(),s),r},function(n){n.fill(r,"testWrite",{stream:t,collection:s},e.StreamTest)})},args:[],source:"testWrite\n	| stream collection |\n	\n	collection := self newCollection.\n	stream := self newStream.\n	\n	collection do: [ :each | stream << each ].\n	self assert: stream contents equals: collection",messageSends:["newCollection","newStream","do:","<<","assert:equals:","contents"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"testWriting",category:"tests",fn:function(){var t,s,r=this;return e.withContext(function(a){var o;return s=r._newCollection(),t=r._newStream(),a.sendIdx.newStream=1,n(s)._do_(function(s){return e.withContext(function(){return n(t)._nextPut_(s)},function(e){e.fillBlock({each:s},a,1)})}),o=n(t)._contents(),a.sendIdx.contents=1,r._assert_equals_(o,s),a.sendIdx["assert:equals:"]=1,t=r._newStream(),n(t)._nextPutAll_(s),r._assert_equals_(n(t)._contents(),s),r},function(n){n.fill(r,"testWriting",{stream:t,collection:s},e.StreamTest)})},args:[],source:"testWriting\n	| stream collection |\n	\n	collection := self newCollection.\n	stream := self newStream.\n	\n	collection do: [ :each | stream nextPut: each ].\n	self assert: stream contents equals: collection.\n	\n	stream := self newStream.\n	stream nextPutAll: collection.\n	self assert: stream contents equals: collection",messageSends:["newCollection","newStream","do:","nextPut:","assert:equals:","contents","nextPutAll:"],referencedClasses:[]}),e.StreamTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){var n=this;return e.withContext(function(){return t},function(t){t.fill(n,"collectionClass",{},e.StreamTest.klass)})},args:[],source:"collectionClass\n	^ nil",messageSends:[],referencedClasses:[]}),e.StreamTest.klass),e.addMethod(e.method({selector:"isAbstract",category:"testing",fn:function(){var t=this;return e.withContext(function(){var e;return e=n(t._collectionClass())._isNil()},function(n){n.fill(t,"isAbstract",{},e.StreamTest.klass)})},args:[],source:"isAbstract\n	^ self collectionClass isNil",messageSends:["isNil","collectionClass"],referencedClasses:[]}),e.StreamTest.klass),e.addClass("ArrayStreamTest",e.StreamTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"newCollection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){var e;return e=[!0,1,3..__at(4),"foo"]},function(n){n.fill(t,"newCollection",{},e.ArrayStreamTest)})},args:[],source:"newCollection\n	^ { true. 1. 3@4. 'foo' }",messageSends:["@"],referencedClasses:[]}),e.ArrayStreamTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.Array||("undefined"==typeof Array?t:Array)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.ArrayStreamTest.klass)})},args:[],source:"collectionClass\n	^ Array",messageSends:[],referencedClasses:["Array"]}),e.ArrayStreamTest.klass),e.addClass("StringStreamTest",e.StreamTest,[],"Kernel-Tests"),e.addMethod(e.method({selector:"newCollection",category:"accessing",fn:function(){var t=this;return e.withContext(function(){return"hello world"},function(n){n.fill(t,"newCollection",{},e.StringStreamTest)})},args:[],source:"newCollection\n	^ 'hello world'",messageSends:[],referencedClasses:[]}),e.StringStreamTest),e.addMethod(e.method({selector:"collectionClass",category:"accessing",fn:function(){function n(){return e.String||("undefined"==typeof String?t:String)}var s=this;return e.withContext(function(){return n()},function(t){t.fill(s,"collectionClass",{},e.StringStreamTest.klass)})},args:[],source:"collectionClass\n	^ String",messageSends:[],referencedClasses:["String"]}),e.StringStreamTest.klass),e.addClass("UndefinedTest",e.TestCase,[],"Kernel-Tests"),e.addMethod(e.method({selector:"testCopying",category:"tests",fn:function(){var n=this;return e.withContext(function(){return n._assert_equals_(t._copy(),t),n},function(t){t.fill(n,"testCopying",{},e.UndefinedTest)})},args:[],source:"testCopying\n	self assert: nil copy equals: nil",messageSends:["assert:equals:","copy"],referencedClasses:[]}),e.UndefinedTest),e.addMethod(e.method({selector:"testDeepCopy",category:"tests",fn:function(){var s=this;return e.withContext(function(){return s._assert_(n(t._deepCopy()).__eq(t)),s},function(t){t.fill(s,"testDeepCopy",{},e.UndefinedTest)})},args:[],source:"testDeepCopy\n	self assert: nil deepCopy = nil",messageSends:["assert:","=","deepCopy"],referencedClasses:[]}),e.UndefinedTest),e.addMethod(e.method({selector:"testIfNil",category:"tests",fn:function(){var s=this;return e.withContext(function(e){var r,a,o,i,l,c;return r=($receiver=t)==t||null==$receiver?!0:t,s._assert_equals_(r,!0),e.sendIdx["assert:equals:"]=1,a=($receiver=t)==t||null==$receiver?t:!0,o=n(a).__eq(!0),e.sendIdx["="]=1,s._deny_(o),e.sendIdx["deny:"]=1,i=($receiver=t)==t||null==$receiver?!0:!1,s._assert_equals_(i,!0),l=($receiver=t)==t||null==$receiver?!1:!0,c=n(l).__eq(!0),s._deny_(c),s},function(t){t.fill(s,"testIfNil",{},e.UndefinedTest)})},args:[],source:"testIfNil\n	self assert: (nil ifNil: [ true ]) equals: true.\n	self deny: (nil ifNotNil: [ true ]) = true.\n	self assert: (nil ifNil: [ true ] ifNotNil: [ false ]) equals: true.\n	self deny: (nil ifNotNil: [ true ] ifNil: [ false ]) = true",messageSends:["assert:equals:","ifNil:","deny:","=","ifNotNil:","ifNil:ifNotNil:","ifNotNil:ifNil:"],referencedClasses:[]}),e.UndefinedTest),e.addMethod(e.method({selector:"testIsNil",category:"tests",fn:function(){var n=this;return e.withContext(function(){return n._assert_(t._isNil()),n._deny_(t._notNil()),n},function(t){t.fill(n,"testIsNil",{},e.UndefinedTest)})},args:[],source:"testIsNil\n	self assert: nil isNil.\n	self deny: nil notNil.",messageSends:["assert:","isNil","deny:","notNil"],referencedClasses:[]}),e.UndefinedTest)}),define("amber_core/SUnit-Tests",["amber_vm/smalltalk","amber_vm/nil","amber_vm/_st","amber_core/SUnit"],function(e,t,n){e.addPackage("SUnit-Tests"),e.packages["SUnit-Tests"].transport={type:"amd",amdNamespace:"amber_core"},e.addClass("ExampleSetTest",e.TestCase,["empty","full"],"SUnit-Tests"),e.ExampleSetTest.comment="ExampleSetTest is taken from Pharo 1.4.\n\nTHe purpose of this class is to demonstrate a simple use case of the test framework.",e.addMethod(e.method({selector:"setUp",category:"running",fn:function(){function s(){return e.Set||("undefined"==typeof Set?t:Set)}var r=this;return e.withContext(function(){return r["@empty"]=n(s())._new(),r["@full"]=n(s())._with_with_(5,"abc"),r},function(t){t.fill(r,"setUp",{},e.ExampleSetTest)})},args:[],source:"setUp\n	empty := Set new.\n	full := Set with: 5 with: #abc",messageSends:["new","with:with:"],referencedClasses:["Set"]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testAdd",category:"tests",fn:function(){var t=this;return e.withContext(function(){return n(t["@empty"])._add_(5),t._assert_(n(t["@empty"])._includes_(5)),t},function(n){n.fill(t,"testAdd",{},e.ExampleSetTest)})},args:[],source:"testAdd\n	empty add: 5.\n	self assert: (empty includes: 5)",messageSends:["add:","assert:","includes:"],referencedClasses:[]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testGrow",category:"tests",fn:function(){var t=this;return e.withContext(function(){return n(t["@empty"])._addAll_(1.._to_(100)),t._assert_equals_(n(t["@empty"])._size(),100),t},function(n){n.fill(t,"testGrow",{},e.ExampleSetTest)})},args:[],source:"testGrow\n	empty addAll: (1 to: 100).\n	self assert: empty size equals: 100",messageSends:["addAll:","to:","assert:equals:","size"],referencedClasses:[]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testIllegal",category:"tests",fn:function(){function s(){return e.Error||("undefined"==typeof Error?t:Error)}var r=this;return e.withContext(function(t){return r._should_raise_(function(){return e.withContext(function(){return n(r["@empty"])._at_(5)},function(e){e.fillBlock({},t,1)})},s()),t.sendIdx["should:raise:"]=1,r._should_raise_(function(){return e.withContext(function(){return n(r["@empty"])._at_put_(5,"abc")},function(e){e.fillBlock({},t,2)})},s()),r},function(t){t.fill(r,"testIllegal",{},e.ExampleSetTest)})},args:[],source:"testIllegal\n	self\n		should: [ empty at: 5 ]\n		raise: Error.\n	self\n		should: [ empty at: 5 put: #abc ]\n		raise: Error",messageSends:["should:raise:","at:","at:put:"],referencedClasses:["Error"]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testIncludes",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s;return s=n(t["@full"])._includes_(5),e.sendIdx["includes:"]=1,t._assert_(s),e.sendIdx["assert:"]=1,t._assert_(n(t["@full"])._includes_("abc")),t},function(n){n.fill(t,"testIncludes",{},e.ExampleSetTest)})},args:[],source:"testIncludes\n	self assert: (full includes: 5).\n	self assert: (full includes: #abc)",messageSends:["assert:","includes:"],referencedClasses:[]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testOccurrences",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var s,r;return s=n(t["@empty"])._occurrencesOf_(0),e.sendIdx["occurrencesOf:"]=1,t._assert_equals_(s,0),e.sendIdx["assert:equals:"]=1,r=n(t["@full"])._occurrencesOf_(5),e.sendIdx["occurrencesOf:"]=2,t._assert_equals_(r,1),e.sendIdx["assert:equals:"]=2,n(t["@full"])._add_(5),t._assert_equals_(n(t["@full"])._occurrencesOf_(5),1),t},function(n){n.fill(t,"testOccurrences",{},e.ExampleSetTest)})},args:[],source:"testOccurrences\n	self assert: (empty occurrencesOf: 0) equals: 0.\n	self assert: (full occurrencesOf: 5) equals: 1.\n	full add: 5.\n	self assert: (full occurrencesOf: 5) equals: 1",messageSends:["assert:equals:","occurrencesOf:","add:"],referencedClasses:[]}),e.ExampleSetTest),e.addMethod(e.method({selector:"testRemove",category:"tests",fn:function(){var t=this;
return e.withContext(function(e){var s;return n(t["@full"])._remove_(5),s=n(t["@full"])._includes_("abc"),e.sendIdx["includes:"]=1,t._assert_(s),t._deny_(n(t["@full"])._includes_(5)),t},function(n){n.fill(t,"testRemove",{},e.ExampleSetTest)})},args:[],source:"testRemove\n	full remove: 5.\n	self assert: (full includes: #abc).\n	self deny: (full includes: 5)",messageSends:["remove:","assert:","includes:","deny:"],referencedClasses:[]}),e.ExampleSetTest),e.addClass("SUnitAsyncTest",e.TestCase,["flag"],"SUnit-Tests"),e.addMethod(e.method({selector:"fakeError",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){return t["@flag"]="bad",t._timeout_(30),t["@flag"]=n(t._async_(function(){return e.withContext(function(){return t["@flag"]="ok",t["@flag"],t._error_("Intentional")},function(e){e.fillBlock({},s,1)})}))._valueWithTimeout_(20),t},function(n){n.fill(t,"fakeError",{},e.SUnitAsyncTest)})},args:[],source:"fakeError\n	flag := 'bad'.\n	self timeout: 30.\n	flag := (self async: [ flag := 'ok'. self error: 'Intentional' ]) valueWithTimeout: 20",messageSends:["timeout:","valueWithTimeout:","async:","error:"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"fakeErrorFailingInTearDown",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){return t["@flag"]="bad",t._timeout_(30),t["@flag"]=n(t._async_(function(){return e.withContext(function(){return t._error_("Intentional")},function(e){e.fillBlock({},s,1)})}))._valueWithTimeout_(20),t},function(n){n.fill(t,"fakeErrorFailingInTearDown",{},e.SUnitAsyncTest)})},args:[],source:"fakeErrorFailingInTearDown\n	flag := 'bad'.\n	self timeout: 30.\n	flag := (self async: [ self error: 'Intentional' ]) valueWithTimeout: 20",messageSends:["timeout:","valueWithTimeout:","async:","error:"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"fakeFailure",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){return t["@flag"]="bad",t._timeout_(30),t["@flag"]=n(t._async_(function(){return e.withContext(function(){return t["@flag"]="ok",t["@flag"],t._assert_(!1)},function(e){e.fillBlock({},s,1)})}))._valueWithTimeout_(20),t},function(n){n.fill(t,"fakeFailure",{},e.SUnitAsyncTest)})},args:[],source:"fakeFailure\n	flag := 'bad'.\n	self timeout: 30.\n	flag := (self async: [ flag := 'ok'. self assert: false ]) valueWithTimeout: 20",messageSends:["timeout:","valueWithTimeout:","async:","assert:"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"fakeMultipleTimeoutFailing",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){var r;return t._timeout_(100),s.sendIdx["timeout:"]=1,r=t._async_(function(){return e.withContext(function(s){return t._timeout_(20),n(t._async_(function(){return e.withContext(function(){return t._finished()},function(e){e.fillBlock({},s,2)})}))._valueWithTimeout_(30)},function(e){e.fillBlock({},s,1)})}),s.sendIdx["async:"]=1,n(r)._valueWithTimeout_(20),s.sendIdx["valueWithTimeout:"]=1,t},function(n){n.fill(t,"fakeMultipleTimeoutFailing",{},e.SUnitAsyncTest)})},args:[],source:"fakeMultipleTimeoutFailing\n	self timeout: 100.\n	(self async: [ \n		self timeout: 20.\n		(self async: [ self finished ]) valueWithTimeout: 30\n	]) valueWithTimeout: 20",messageSends:["timeout:","valueWithTimeout:","async:","finished"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"fakeMultipleTimeoutPassing",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){var r;return t._timeout_(20),s.sendIdx["timeout:"]=1,r=t._async_(function(){return e.withContext(function(s){return t._timeout_(40),n(t._async_(function(){return e.withContext(function(){return t._finished()},function(e){e.fillBlock({},s,2)})}))._valueWithTimeout_(20)},function(e){e.fillBlock({},s,1)})}),s.sendIdx["async:"]=1,n(r)._valueWithTimeout_(10),s.sendIdx["valueWithTimeout:"]=1,t},function(n){n.fill(t,"fakeMultipleTimeoutPassing",{},e.SUnitAsyncTest)})},args:[],source:"fakeMultipleTimeoutPassing\n	self timeout: 20.\n	(self async: [\n		self timeout: 40.\n		(self async: [ self finished ]) valueWithTimeout: 20\n	]) valueWithTimeout: 10",messageSends:["timeout:","valueWithTimeout:","async:","finished"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"fakeTimeout",category:"helpers",fn:function(){var t=this;return e.withContext(function(s){return t._timeout_(10),n(t._async_(function(){return e.withContext(function(){return t._finished()},function(e){e.fillBlock({},s,1)})}))._valueWithTimeout_(20),t},function(n){n.fill(t,"fakeTimeout",{},e.SUnitAsyncTest)})},args:[],source:"fakeTimeout\n	self timeout: 10.\n	(self async: [ self finished ]) valueWithTimeout: 20",messageSends:["timeout:","valueWithTimeout:","async:","finished"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"selectorSetOf:",category:"private",fn:function(t){var s=this;return e.withContext(function(s){var r;return r=n(n(t)._collect_(function(t){return e.withContext(function(){return n(t)._selector()},function(e){e.fillBlock({each:t},s,1)})}))._asSet()},function(n){n.fill(s,"selectorSetOf:",{aCollection:t},e.SUnitAsyncTest)})},args:["aCollection"],source:"selectorSetOf: aCollection\n	^ (aCollection collect: [ :each | each selector ]) asSet",messageSends:["asSet","collect:","selector"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"setUp",category:"running",fn:function(){var t=this;return e.withContext(function(){return t["@flag"]="ok",t},function(n){n.fill(t,"setUp",{},e.SUnitAsyncTest)})},args:[],source:"setUp\n	flag := 'ok'",messageSends:[],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"tearDown",category:"running",fn:function(){var t=this;return e.withContext(function(){return t._assert_equals_("ok",t["@flag"]),t},function(n){n.fill(t,"tearDown",{},e.SUnitAsyncTest)})},args:[],source:"tearDown\n	self assert: 'ok' equals: flag",messageSends:["assert:equals:"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testAsyncErrorsAndFailures",category:"tests",fn:function(){function s(){return e.TestSuiteRunner||("undefined"==typeof TestSuiteRunner?t:TestSuiteRunner)}function r(){return e.ResultAnnouncement||("undefined"==typeof ResultAnnouncement?t:ResultAnnouncement)}var a,o,i,l,c=this;return e.withContext(function(t){var u,d,f,h;return a=["fakeError","fakeErrorFailingInTearDown","fakeFailure","testPass"]._collect_(function(s){return e.withContext(function(){return n(c._class())._selector_(s)},function(e){e.fillBlock({each:s},t,1)})}),o=n(s())._on_(a),c._timeout_(200),i=n(o)._result(),t.sendIdx.result=1,l=c._async_(function(){return e.withContext(function(e){return u=c._selectorSetOf_(n(i)._errors()),e.sendIdx["selectorSetOf:"]=1,d=["fakeError"]._asSet(),e.sendIdx.asSet=1,c._assert_equals_(u,d),e.sendIdx["assert:equals:"]=1,c._assert_equals_(c._selectorSetOf_(n(i)._failures()),["fakeErrorFailingInTearDown","fakeFailure"]._asSet()),c._finished()},function(e){e.fillBlock({},t,2)})}),n(n(o)._announcer())._on_do_(r(),function(s){return e.withContext(function(){return f=n(n(s)._result()).__eq_eq(i),e.assert(f)?(h=n(n(i)._runs()).__eq(n(i)._total()),n(h)._ifTrue_(l)):void 0},function(e){e.fillBlock({ann:s},t,3)})}),n(o)._run(),c},function(t){t.fill(c,"testAsyncErrorsAndFailures",{suite:a,runner:o,result:i,assertBlock:l},e.SUnitAsyncTest)})},args:[],source:"testAsyncErrorsAndFailures\n	| suite runner result assertBlock |\n	suite := #('fakeError' 'fakeErrorFailingInTearDown' 'fakeFailure' 'testPass') collect: [ :each | self class selector: each ].\n	runner := TestSuiteRunner on: suite.\n	self timeout: 200.\n	result := runner result.\n	assertBlock := self async: [\n		self assert: (self selectorSetOf: result errors) equals: #('fakeError') asSet.\n		self assert: (self selectorSetOf: result failures) equals: #('fakeErrorFailingInTearDown' 'fakeFailure') asSet.\n		self finished\n	].\n	runner announcer on: ResultAnnouncement do: [ :ann |\n		ann result == result ifTrue: [ result runs = result total ifTrue: assertBlock ] ].\n	runner run",messageSends:["collect:","selector:","class","on:","timeout:","result","async:","assert:equals:","selectorSetOf:","errors","asSet","failures","finished","on:do:","announcer","ifTrue:","==","=","runs","total","run"],referencedClasses:["TestSuiteRunner","ResultAnnouncement"]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testAsyncNeedsTimeout",category:"tests",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(t){return s._async_(function(){return e.withContext(function(){},function(e){e.fillBlock({},t,2)})})},function(e){e.fillBlock({},t,1)})},n()),s._timeout_(0),s._shouldnt_raise_(function(){return e.withContext(function(t){return s._async_(function(){return e.withContext(function(){},function(e){e.fillBlock({},t,4)})})},function(e){e.fillBlock({},t,3)})},n()),s._finished(),s},function(t){t.fill(s,"testAsyncNeedsTimeout",{},e.SUnitAsyncTest)})},args:[],source:"testAsyncNeedsTimeout\n	self should: [ self async: [ ] ] raise: Error.\n	self timeout: 0.\n	self shouldnt: [ self async: [ ] ] raise: Error.\n	self finished",messageSends:["should:raise:","async:","timeout:","shouldnt:raise:","finished"],referencedClasses:["Error"]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testFinishedNeedsTimeout",category:"tests",fn:function(){function n(){return e.Error||("undefined"==typeof Error?t:Error)}var s=this;return e.withContext(function(t){return s._should_raise_(function(){return e.withContext(function(e){return s._finished()},function(e){e.fillBlock({},t,1)})},n()),s._timeout_(0),s._shouldnt_raise_(function(){return e.withContext(function(){return s._finished()},function(e){e.fillBlock({},t,2)})},n()),s},function(t){t.fill(s,"testFinishedNeedsTimeout",{},e.SUnitAsyncTest)})},args:[],source:"testFinishedNeedsTimeout\n	self should: [ self finished ] raise: Error.\n	self timeout: 0.\n	self shouldnt: [ self finished ] raise: Error.",messageSends:["should:raise:","finished","timeout:","shouldnt:raise:"],referencedClasses:["Error"]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testIsAsyncReturnsCorrectValues",category:"tests",fn:function(){var t=this;return e.withContext(function(e){var n,s;return n=t._isAsync(),e.sendIdx.isAsync=1,t._deny_(n),e.sendIdx["deny:"]=1,t._timeout_(0),s=t._isAsync(),e.sendIdx.isAsync=2,t._assert_(s),t._finished(),t._deny_(t._isAsync()),t},function(n){n.fill(t,"testIsAsyncReturnsCorrectValues",{},e.SUnitAsyncTest)})},args:[],source:"testIsAsyncReturnsCorrectValues\n	self deny: self isAsync.\n	self timeout: 0.\n	self assert: self isAsync.\n	self finished.\n	self deny: self isAsync",messageSends:["deny:","isAsync","timeout:","assert:","finished"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testPass",category:"tests",fn:function(){var t=this;return e.withContext(function(s){return t["@flag"]="bad",t._timeout_(10),t["@flag"]=n(t._async_(function(){return e.withContext(function(){return t._assert_(!0),t._finished(),t["@flag"]="ok",t["@flag"]},function(e){e.fillBlock({},s,1)})}))._valueWithTimeout_(5),t},function(n){n.fill(t,"testPass",{},e.SUnitAsyncTest)})},args:[],source:"testPass\n	flag := 'bad'.\n	self timeout: 10.\n	flag := (self async: [ self assert: true. self finished. flag := 'ok' ]) valueWithTimeout: 5",messageSends:["timeout:","valueWithTimeout:","async:","assert:","finished"],referencedClasses:[]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testTimeouts",category:"tests",fn:function(){function s(){return e.TestSuiteRunner||("undefined"==typeof TestSuiteRunner?t:TestSuiteRunner)}function r(){return e.Set||("undefined"==typeof Set?t:Set)}function a(){return e.ResultAnnouncement||("undefined"==typeof ResultAnnouncement?t:ResultAnnouncement)}var o,i,l,c,u=this;return e.withContext(function(t){var d,f,h;return o=["fakeTimeout","fakeMultipleTimeoutFailing","fakeMultipleTimeoutPassing","testPass"]._collect_(function(s){return e.withContext(function(){return n(u._class())._selector_(s)},function(e){e.fillBlock({each:s},t,1)})}),i=n(s())._on_(o),u._timeout_(200),l=n(i)._result(),t.sendIdx.result=1,c=u._async_(function(){return e.withContext(function(e){return d=u._selectorSetOf_(n(l)._errors()),e.sendIdx["selectorSetOf:"]=1,u._assert_equals_(d,n(r())._new()),e.sendIdx["assert:equals:"]=1,u._assert_equals_(u._selectorSetOf_(n(l)._failures()),["fakeMultipleTimeoutFailing","fakeTimeout"]._asSet()),u._finished()},function(e){e.fillBlock({},t,2)})}),n(n(i)._announcer())._on_do_(a(),function(s){return e.withContext(function(){return f=n(n(s)._result()).__eq_eq(l),e.assert(f)?(h=n(n(l)._runs()).__eq(n(l)._total()),n(h)._ifTrue_(c)):void 0},function(e){e.fillBlock({ann:s},t,3)})}),n(i)._run(),u},function(t){t.fill(u,"testTimeouts",{suite:o,runner:i,result:l,assertBlock:c},e.SUnitAsyncTest)})},args:[],source:"testTimeouts\n	| suite runner result assertBlock |\n	suite := #('fakeTimeout' 'fakeMultipleTimeoutFailing' 'fakeMultipleTimeoutPassing' 'testPass') collect: [ :each | self class selector: each ].\n	runner := TestSuiteRunner on: suite.\n	self timeout: 200.\n	result := runner result.\n	assertBlock := self async: [\n		self assert: (self selectorSetOf: result errors) equals: Set new.\n		self assert: (self selectorSetOf: result failures) equals: #('fakeMultipleTimeoutFailing' 'fakeTimeout') asSet.\n		self finished\n	].\n	runner announcer on: ResultAnnouncement do: [ :ann |\n		ann result == result ifTrue: [ result runs = result total ifTrue: assertBlock ] ].\n	runner run",messageSends:["collect:","selector:","class","on:","timeout:","result","async:","assert:equals:","selectorSetOf:","errors","new","failures","asSet","finished","on:do:","announcer","ifTrue:","==","=","runs","total","run"],referencedClasses:["TestSuiteRunner","Set","ResultAnnouncement"]}),e.SUnitAsyncTest),e.addMethod(e.method({selector:"testTwoAsyncPassesWithFinishedOnlyOneIsRun",category:"tests",fn:function(){var t,s=this;return e.withContext(function(r){var a;return s["@flag"]="bad",s._timeout_(10),t=0,a=s._async_(function(){return e.withContext(function(e){return s._finished(),e.sendIdx.finished=1,s["@flag"]="ok",s["@flag"],t=n(t).__plus(1),e.sendIdx["+"]=1,s._assert_equals_(t,1)},function(e){e.fillBlock({},r,1)})}),r.sendIdx["async:"]=1,s["@flag"]=n(a)._valueWithTimeout_(0),r.sendIdx["valueWithTimeout:"]=1,s["@flag"]=n(s._async_(function(){return e.withContext(function(){return s._finished(),s["@flag"]="ok",s["@flag"],t=n(t).__plus(1),s._assert_equals_(t,1)},function(e){e.fillBlock({},r,2)})}))._valueWithTimeout_(0),s},function(n){n.fill(s,"testTwoAsyncPassesWithFinishedOnlyOneIsRun",{x:t},e.SUnitAsyncTest)})},args:[],source:"testTwoAsyncPassesWithFinishedOnlyOneIsRun\n	| x |\n	flag := 'bad'.\n	self timeout: 10.\n	x := 0.\n	flag := (self async: [ self finished. flag := 'ok'. x := x+1. self assert: x equals: 1 ]) valueWithTimeout: 0.\n	flag := (self async: [ self finished. flag := 'ok'. x := x+1. self assert: x equals: 1 ]) valueWithTimeout: 0.",messageSends:["timeout:","valueWithTimeout:","async:","finished","+","assert:equals:"],referencedClasses:[]}),e.SUnitAsyncTest)}),define("amber/devel",["amber_vm/smalltalk","./helpers","jquery","jquery-ui","amber_lib/jquery-tabby/jquery.textarea","amber_lib/codemirror/lib/codemirror","amber_inc/CodeMirror/smalltalk","amber_lib/codemirror/addon/hint/show-hint","css!amber_lib/codemirror/theme/ambiance","css!amber_lib/codemirror/lib/codemirror","css!amber_lib/codemirror/addon/hint/show-hint","css!amber_inc/CodeMirror/amber","css!amber_css/amber","amber_core/Kernel-Objects","amber_core/Kernel-Classes","amber_core/Kernel-Methods","amber_core/Kernel-Collections","amber_core/Kernel-Infrastructure","amber_core/Kernel-Exceptions","amber_core/Kernel-Transcript","amber_core/Kernel-Announcements","amber_core/Canvas","amber_core/SUnit","amber_core/Importer-Exporter","amber_core/Compiler-Exceptions","amber_core/Compiler-Core","amber_core/Compiler-AST","amber_core/Compiler-Semantic","amber_core/Compiler-IR","amber_core/Compiler-Inlining","amber_core/Compiler-Interpreter","amber_core/Compiler-Tests","amber_vm/parser","amber_core/IDE","amber_core/Examples","amber_core/Benchfib","amber_core/Kernel-Tests","amber_core/SUnit-Tests"],function(e){return e}),require(["amber/devel"],function(e){e.initialize(),e.Browser._open()}),define("amber_devel",function(){}),requirejs.s.contexts._.nextTick=function(e){e()},require(["css"],function(e){e.setBuffer('/* ambiance theme for codemirror */\n\n/* Color scheme */\n\n.cm-s-ambiance .cm-keyword { color: #cda869; }\n.cm-s-ambiance .cm-atom { color: #CF7EA9; }\n.cm-s-ambiance .cm-number { color: #78CF8A; }\n.cm-s-ambiance .cm-def { color: #aac6e3; }\n.cm-s-ambiance .cm-variable { color: #ffb795; }\n.cm-s-ambiance .cm-variable-2 { color: #eed1b3; }\n.cm-s-ambiance .cm-variable-3 { color: #faded3; }\n.cm-s-ambiance .cm-property { color: #eed1b3; }\n.cm-s-ambiance .cm-operator {color: #fa8d6a;}\n.cm-s-ambiance .cm-comment { color: #555; font-style:italic; }\n.cm-s-ambiance .cm-string { color: #8f9d6a; }\n.cm-s-ambiance .cm-string-2 { color: #9d937c; }\n.cm-s-ambiance .cm-meta { color: #D2A8A1; }\n.cm-s-ambiance .cm-error { color: #AF2018; }\n.cm-s-ambiance .cm-qualifier { color: yellow; }\n.cm-s-ambiance .cm-builtin { color: #9999cc; }\n.cm-s-ambiance .cm-bracket { color: #24C2C7; }\n.cm-s-ambiance .cm-tag { color: #fee4ff }\n.cm-s-ambiance .cm-attribute {  color: #9B859D; }\n.cm-s-ambiance .cm-header {color: blue;}\n.cm-s-ambiance .cm-quote { color: #24C2C7; }\n.cm-s-ambiance .cm-hr { color: pink; }\n.cm-s-ambiance .cm-link { color: #F4C20B; }\n.cm-s-ambiance .cm-special { color: #FF9D00; }\n\n.cm-s-ambiance .CodeMirror-matchingbracket { color: #0f0; }\n.cm-s-ambiance .CodeMirror-nonmatchingbracket { color: #f22; }\n\n.cm-s-ambiance .CodeMirror-selected {\n  background: rgba(255, 255, 255, 0.15);\n}\n.cm-s-ambiance .CodeMirror-focused .CodeMirror-selected {\n  background: rgba(255, 255, 255, 0.10);\n}\n\n/* Editor styling */\n\n.cm-s-ambiance.CodeMirror {\n  line-height: 1.40em;\n  font-family: Monaco, Menlo,"Andale Mono","lucida console","Courier New",monospace !important;\n  color: #E6E1DC;\n  background-color: #202020;\n  -webkit-box-shadow: inset 0 0 10px black;\n  -moz-box-shadow: inset 0 0 10px black;\n  box-shadow: inset 0 0 10px black;\n}\n\n.cm-s-ambiance .CodeMirror-gutters {\n  background: #3D3D3D;\n  border-right: 1px solid #4D4D4D;\n  box-shadow: 0 10px 20px black;\n}\n\n.cm-s-ambiance .CodeMirror-linenumber {\n  text-shadow: 0px 1px 1px #4d4d4d;\n  color: #222;\n  padding: 0 5px;\n}\n\n.cm-s-ambiance .CodeMirror-lines .CodeMirror-cursor {\n  border-left: 1px solid #7991E8;\n}\n\n.cm-s-ambiance .activeline {\n  background: none repeat scroll 0% 0% rgba(255, 255, 255, 0.031);\n}\n\n.cm-s-ambiance.CodeMirror,\n.cm-s-ambiance .CodeMirror-gutters {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAQAAAAHUWYVAABFFUlEQVQYGbzBCeDVU/74/6fj9HIcx/FRHx9JCFmzMyGRURhLZIkUsoeRfUjS2FNDtr6WkMhO9sm+S8maJfu+Jcsg+/o/c+Z4z/t97/vezy3z+z8ekGlnYICG/o7gdk+wmSHZ1z4pJItqapjoKXWahm8NmV6eOTbWUOp6/6a/XIg6GQqmenJ2lDHyvCFZ2cBDbmtHA043VFhHwXxClWmeYAdLhV00Bd85go8VmaFCkbVkzlQENzfBDZ5gtN7HwF0KDrTwJ0dypSOzpaKCMwQHKTIreYIxlmhXTzTWkVm+LTynZhiSBT3RZQ7aGfjGEd3qyXQ1FDymqbKxpspERQN2MiRjNZlFFQXfCNFm9nM1zpAsoYjmtRTc5ajwuaXc5xrWskT97RaKzAGe5ARHhVUsDbjKklziiX5WROcJwSNCNI+9w1Jwv4Zb2r7lCMZ4oq5C0EdTx+2GzNuKpJ+iFf38JEWkHJn9DNF7mmBDITrWEg0VWL3pHU20tSZnuqWu+R3BtYa8XxV1HO7GyD32UkOpL/yDloINFTmvtId+nmAjxRw40VMwVKiwrKLE4bK5UOVntYwhOcSSXKrJHKPJedocpGjVz/ZMIbnYUPB10/eKCrs5apqpgVmWzBYWpmtKHecJPjaUuEgRDDaU0oZghCJ6zNMQ5ZhDYx05r5v2muQdM0EILtXUsaKiQX9WMEUotagQzFbUNN6NUPC2nm5pxEWGCjMc3GdJHjSU2kORLK/JGSrkfGEIjncU/CYUnOipoYemwj8tST9NsJmB7TUVXtbUtXATJVZXBMvYeTXJfobgJUPmGMP/yFaWonaa6BcFO3nqcIqCozSZoZoSr1g4zJOzuyGnxTEX3lUEJ7WcZgme8ddaWvWJo2AJR9DZU3CUIbhCSG6ybSwN6qtJVnCU2svDTP2ZInOw2cBTrqtQahtNZn9NcJ4l2NaSmSkkP1noZWnVwkLmdUPOwLZEwy2Z3S3R+4rIG9hcbpPXHFVWcQdZkn2FOta3cKWQnNRC5g1LsJah4GCzSVsKnCOY5OAFRTBekyyryeyilhFKva75r4Mc0aWanGEaThcy31s439KKxTzJYY5WTHPU1FtIHjQU3Oip4xlNzj/lBw23dYZVliQa7WAXf4shetcQfatI+jWRDBPmyNeW6A1P5kdDgyYJlba0BIM8BZu1JfrFwItyjcAMR3K0BWOIrtMEXyhyrlVEx3ui5dUBjmB/Q3CXW85R4mBD0s7B+4q5tKUjOlb9qqmhi5AZ6GFIC5HXtOobdYGlVdMVbNJ8toNTFcHxnoL+muBagcctjWnbNMuR00uI7nQESwg5q2qqrKWIfrNUmeQocY6HuyxJV02wj36w00yhpmUFenv4p6fUkZYqLyuinx2RGOjhCXYyJF84oiU00YMOOhhquNdfbOB7gU88pY4xJO8LVdp6/q2voeB4R04vIdhSE40xZObx1HGGJ/ja0LBthFInKaLPPFzuCaYaoj8JjPME8yoyxo6zlBqkiUZYgq00OYMswbWO5NGmq+xhipxHLRW29ARjNKXO0wRnear8XSg4XFPLKEPUS1GqvyLwiuBUoa7zpZ0l5xxFwWmWZC1H5h5FwU8eQ7K+g8UcVY6TMQreVQT/8uQ8Z+ALIXnSEa2pYZQneE9RZbSBNYXfWYJzW/h/4j4Dp1tYVcFIC5019Vyi4ThPqSFCzjGWaHQTBU8q6vrVwgxP9Lkm840imWKpcLCjYTtrKuwvsKSnrvHCXGkSMk9p6lhckfRpIeis+N2PiszT+mFLspyGleUhDwcLrZqmyeylxwjBcKHEapqkmyangyLZRVOijwOtCY5SsG5zL0OwlCJ4y5KznF3EUNDDrinwiyLZRzOXtlBbK5ITHFGLp8Q0R6ab6mS7enI2cFrxOyHvOCFaT1HThS1krjCwqWeurCkk+willhCC+RSZnRXBiZaC5RXRIZYKp2lyfrHwiKPKR0JDzrdU2EFgpidawlFDR6FgXUMNa+g1FY3bUQh2cLCwosRdnuQTS/S+JVrGLeWIvtQUvONJxlqSQYYKpwoN2kaocLjdVsis4Mk80ESF2YpSkzwldjHkjFCUutI/r+EHDU8oCs6yzL3PhWiEooZdFMkymlas4AcI3KmoMMNSQ3tHzjGWCrcJJdYyZC7QFGwjRL9p+MrRkAGWzIaWCn9W0F3TsK01c2ZvQw0byvxuQU0r1lM0qJO7wW0kRIMdDTtXEdzi4VIh+EoIHm0mWtAtpCixlabgn83fKTI7anJe9ST7WIK1DMGpQmYeA58ImV6ezOGOzK2Kgq01pd60cKWiUi9Lievb/0vIDPHQ05Kzt4ddPckQBQtoaurjyHnek/nKzpQLrVgKPjIkh2v4uyezpv+Xoo7fPFXaGFp1vaLKxQ4uUpQQS5VuQs7BCq4xRJv7fwpVvvFEB3j+620haOuocqMhWd6TTPAEx+mdFNGHdranFe95WrWmIvlY4F1Dle2ECgc6cto7SryuqGGGha0tFQ5V53migUKmg6XKAo4qS3mik+0OZpAhOLeZKicacgaYcyx5hypYQE02ZA4xi/pNhOQxR4klNKyqacj+mpxnLTnnGSo85++3ZCZq6lrZkXlGEX3o+C9FieccJbZWVFjC0Yo1FZnJhoYMFoI1hEZ9r6hwg75HwzBNhbZCdJEfJwTPGzJvaKImw1yYX1HDAmpXR+ZJQ/SmgqMNVQb5vgamGwLtt7VwvP7Qk1xpiM5x5Cyv93E06MZmgs0Nya2azIKOYKCGBQQW97RmhKNKF02JZqHEJ4o58qp7X5EcZmc56trXEqzjCBZ1MFGR87Ql2tSTs6CGxS05PTzRQorkbw7aKoKXFDXsYW42VJih/q+FP2BdTzDTwVqOYB13liM50vG7wy28qagyuIXMeQI/Oqq8bcn5wJI50xH00CRntyfpL1T4hydYpoXgNiFzoIUTDZnLNRzh4TBHwbYGDvZkxmlyJloyr6tRihpeUG94GnKtIznREF0tzJG/OOr73JBcrSh1k6WuTprgLU+mnSGnv6Zge0NNz+kTDdH8nuAuTdJDCNb21LCiIuqlYbqGzT3RAoZofQfjFazkqeNWdYaGvYTM001EW2oKPvVk1ldUGSgUtHFwjKM1h9jnFcmy5lChoLNaQMGGDsYbKixlaMBmmsx1QjCfflwTfO/gckW0ruZ3jugKR3R5W9hGUWqCgxuFgsuaCHorotGKzGaeZB9DMsaTnKCpMtwTvOzhYk0rdrArKCqcaWmVk1+F372ur1YkKxgatI8Qfe1gIX9wE9FgS8ESmuABIXnRUbCapcKe+nO7slClSZFzpV/LkLncEb1qiO42fS3R855Su2mCLh62t1SYZZYVmKwIHjREF2uihTzB20JOkz7dkxzYQnK0UOU494wh+VWRc6Un2kpTaVgLDFEkJ/uhzRcI0YKGgpGWOlocBU/a4fKoJ/pEaNV6jip3+Es9VXY078rGnmAdf7t9ylPXS34RBSuYPs1UecZTU78WanhBCHpZ5sAoTz0LGZKjPf9TRypqWEiTvOFglL1fCEY3wY/++rbk7C8bWebA6p6om6PgOL2kp44TFJlVNBXae2rqqdZztOJpT87GQsE9jqCPIe9VReZuQ/CIgacsyZdCpIScSYqcZk8r+nsyCzhyfhOqHGOIvrLknC8wTpFcaYiGC/RU1NRbUeUpocQOnkRpGOrIOcNRx+1uA0UrzhSSt+VyS3SJpnFWkzNDqOFGIWcfR86DnmARTQ1HKIL33ExPiemeOhYSSjzlSUZZuE4TveoJLnBUOFof6KiysCbnAEcZgcUNTDOwkqWu3RWtmGpZwlHhJENdZ3miGz0lJlsKnjbwqSHQjpxnFDlTLLwqJPMZMjd7KrzkSG7VsxXBZE+F8YZkb01Oe00yyRK9psh5SYh29ySPKBo2ylNht7ZkZnsKenjKNJu9PNEyZpaCHv4Kt6RQsLvAVp7M9kIimmCUwGeWqLMmGuIotYMmWNpSahkhZw9FqZsVnKJhsjAHvtHMsTM9fCI06Dx/u3vfUXCqfsKRc4oFY2jMsoo/7DJDwZ1CsIKnJu+J9ldkpmiCxQx1rWjI+T9FwcWWzOuaYH0Hj7klNRVWEQpmaqosakiGNTFHdjS/qnUdmf0NJW5xsL0HhimCCZZSRzmSPTXJQ4aaztAwtZnoabebJ+htCaZ7Cm535ByoqXKbX1WRc4Eh2MkRXWzImVc96Cj4VdOKVxR84VdQsIUM8Psoou2byVHyZFuq7O8otbSQ2UAoeEWTudATLGSpZzVLlXVkPU2Jc+27lsw2jmg5T5VhbeE3BT083K9WsTTkFU/Osi0rC5lRlpwRHUiesNS0sOvmqGML1aRbPAxTJD9ZKtxuob+hhl8cwYGWpJ8nub7t5p6coYbMovZ1BTdaKn1jYD6h4GFDNFyT/Kqe1XCXphXHOKLZmuRSRdBPEfVUXQzJm5YGPGGJdvAEr7hHNdGZnuBvrpciGmopOLf5N0uVMy0FfYToJk90uUCbJupaVpO53UJXR2bVpoU00V2KOo4zMFrBd0Jtz2pa0clT5Q5L8IpQ177mWQejPMEJhuQjS10ref6HHjdEhy1P1EYR7GtO0uSsKJQYLiTnG1rVScj5lyazpqWGl5uBbRWl7m6ixGOOnEsMJR7z8J0n6KMnCdxhiNYQCoZ6CmYLnO8omC3MkW3bktlPmEt/VQQHejL3+dOE5FlPdK/Mq8hZxxJtLyRrepLThYKbLZxkSb5W52vYxNOaOxUF0yxMUPwBTYqCzy01XayYK0sJyWBLqX0MwU5CzoymRzV0EjjeUeLgDpTo6ij42ZAzvD01dHUUTPLU96MdLbBME8nFBn7zJCMtJcZokn8YoqU0FS5WFKyniHobguMcmW8N0XkWZjkyN3hqOMtS08r+/xTBwpZSZ3qiVRX8SzMHHjfUNFjgHEPmY9PL3ykEzxkSre/1ZD6z/NuznuB0RcE1TWTm9zRgfUWVJiG6yrzgmWPXC8EAR4Wxhlad0ZbgQyEz3pG5RVEwwDJH2mgKpjcTiCOzn1lfUWANFbZ2BA8balnEweJC9J0iuaeZoI+ippFCztEKVvckR2iice1JvhVytrQwUAZpgsubCPaU7xUe9vWnaOpaSBEspalykhC9bUlOMpT42ZHca6hyrqKmw/wMR8H5ZmdFoBVJb03O4UL0tSNnvIeRmkrLWqrs78gcrEn2tpcboh0UPOW3UUR9PMk4T4nnNKWmCjlrefhCwxRNztfmIQVdDElvS4m1/WuOujoZCs5XVOjtKPGokJzsYCtFYoWonSPT21DheU/wWhM19FcElwqNGOsp9Q8N/cwXaiND1MmeL1Q5XROtYYgGeFq1aTMsoMmcrKjQrOFQTQ1fmBYhmW6o8Jkjc7iDJRTBIo5kgJD5yMEYA3srCg7VFKwiVJkmRCc5ohGOKhsYMn/XBLdo5taZjlb9YAlGWRimqbCsoY7HFAXLa5I1HPRxMMsQDHFkWtRNniqT9UEeNjcE7RUlrCJ4R2CSJuqlKHWvJXjAUNcITYkenuBRB84TbeepcqTj3zZyFJzgYQdHnqfgI0ddUwS6GqWpsKWhjq9cV0vBAEMN2znq+EBfIWT+pClYw5xsTlJU6GeIBsjGmmANTzJZiIYpgrM0Oa8ZMjd7NP87jxhqGOhJlnQtjuQpB+8aEE00wZFznSJPyHxgH3HkPOsJFvYk8zqCHzTs1BYOa4J3PFU+UVRZxlHDM4YavlNUuMoRveiZA2d7grMNc2g+RbSCEKzmgYsUmWmazFJyoiOZ4KnyhKOGRzWJa0+moyV4TVHDzn51Awtqaphfk/lRQ08FX1iiqxTB/kLwd0VynKfEvI6cd4XMV5bMhZ7gZUWVzYQ6Nm2BYzxJbw3bGthEUUMfgbGeorae6DxHtJoZ6alhZ0+ytiVoK1R4z5PTrOECT/SugseEOlb1MMNR4VRNcJy+V1Hg9ONClSZFZjdHlc6W6FBLdJja2MC5hhpu0DBYEY1TFGwiFAxRRCsYkiM9JRb0JNMVkW6CZYT/2EiTGWmo8k+h4FhDNE7BvppoTSFnmCV5xZKzvcCdDo7VVPnIU+I+Rc68juApC90MwcFCsJ5hDqxgScYKreruyQwTqrzoqDCmhWi4IbhB0Yrt3RGa6GfDv52rKXWhh28dyZaWUvcZeMTBaZoSGyiCtRU5J8iviioHaErs7Jkj61syVzTTgOcUOQ8buFBTYWdL5g3T4qlpe0+wvD63heAXRfCCIed9RbCsp2CiI7raUOYOTU13N8PNHvpaGvayo4a3LLT1lDrVEPT2zLUlheB1R+ZTRfKWJ+dcocLJfi11vyJ51lLqJ0WD7tRwryezjiV5W28uJO9qykzX8JDe2lHl/9oyBwa2UMfOngpXCixvKdXTk3wrsKmiVYdZIqsoWEERjbcUNDuiaQomGoIbFdEHmsyWnuR+IeriKDVLnlawlyNHKwKlSU631PKep8J4Q+ayjkSLKYLhalNHlYvttb6fHm0p6OApsZ4l2VfdqZkjuysy6ysKLlckf1KUutCTs39bmCgEyyoasIWlVaMF7mgmWtBT8Kol5xpH9IGllo8cJdopcvZ2sImlDmMIbtDk3KIpeNiS08lQw11NFPTwVFlPP6pJ2gvRfI7gQUfmNAtf6Gs0wQxDsKGlVBdF8rCa3jzdwMaGHOsItrZk7hAyOzpK9VS06j5F49b0VNGOOfKs3lDToMsMBe9ZWtHFEgxTJLs7qrygKZjUnmCYoeAqeU6jqWuLJup4WghOdvCYJnrSkSzoyRkm5M2StQwVltPkfCAk58tET/CSg+8MUecmotMEnhBKfWBIZsg2ihruMJQaoIm+tkTLKEqspMh00w95gvFCQRtDwTT1gVDDSEVdlwqZfxoQRbK0g+tbiBZxzKlpnpypejdDwTaeOvorMk/IJE10h9CqRe28hhLbe0pMsdSwv4ZbhKivo2BjDWfL8UKJgeavwlwb5KlwhyE4u4XkGE2ytZCznKLCDZZq42VzT8HLCrpruFbIfOIINmh/qCdZ1ZBc65kLHR1Bkyf5zn6pN3SvGKIlFNGplhrO9QSXanLOMQTLCa0YJCRrCZm/CZmrLTm7WzCK4GJDiWUdFeYx1LCFg3NMd0XmCuF3Y5rITLDUsYS9zoHVzwnJoYpSTQoObyEzr4cFBNqYTopoaU/wkyLZ2lPhX/5Y95ulxGTV7KjhWrOZgl8MyUUafjYraNjNU1N3IWcjT5WzWqjwtoarHSUObGYO3GCJZpsBlnJGPd6ZYLyl1GdCA2625IwwJDP8GUKymbzuyPlZlvTUsaUh5zFDhRWFzPKKZLAlWdcQbObgF9tOqOsmB1dqcqYJmWstFbZRRI9poolmqiLnU0POvxScpah2iSL5UJNzgScY5+AuIbpO0YD3NCW+dLMszFSdFCWGqG6eVq2uYVNDdICGD6W7EPRWZEY5gpsE9rUkS3mijzzJnm6UpUFXG1hCUeVoS5WfNcFpblELL2qqrCvMvRfd45oalvKU2tiQ6ePJOVMRXase9iTtLJztPxJKLWpo2CRDcJwn2sWSLKIO1WQWNTCvpVUvOZhgSC40JD0dOctaSqzkCRbXsKlb11Oip6PCJ0IwSJM31j3akRxlP7Rwn6aGaUL0qiLnJkvB3xWZ2+Q1TfCwpQH3G0o92UzmX4o/oJNQMMSQc547wVHhdk+VCw01DFYEnTxzZKAm74QmeNNR1w6WzEhNK15VJzuCdxQ53dRUDws5KvwgBMOEgpcVNe0hZI6RXT1Jd0cyj5nsaEAHgVmGaJIlWdsc5Ui2ElrRR6jrRAttNMEAIWrTDFubkZaok7/AkzfIwfuWVq0jHzuCK4QabtLUMVPB3kJ0oyHTSVFlqMALilJf2Rf8k5aaHtMfayocLBS8L89oKoxpJvnAkDPa0qp5DAUTHKWmCcnthlou8iCKaFFLHWcINd1nyIwXqrSxMNmSs6KmoL2QrKuWtlQ5V0120xQ5vRyZS1rgFkWwhiOwiuQbR0OOVhQM9iS3tiXp4RawRPMp5tDletOOBL95MpM01dZTBM9pkn5qF010rIeHFcFZhmSGpYpTsI6nwhqe5C9ynhlpp5ophuRb6WcJFldkVnVEwwxVfrVkvnWUuNLCg5bgboFHPDlDPDmnK7hUrWiIbjadDclujlZcaokOFup4Ri1kacV6jmrrK1hN9bGwpKEBQ4Q6DvIUXOmo6U5LqQM6EPyiKNjVkPnJkDPNEaxhiFay5ExW1NXVUGqcpYYdPcGiCq7z/TSlbhL4pplWXKd7NZO5QQFrefhRQW/NHOsqcIglc4UhWklR8K0QzbAw08CBDnpbgqXdeD/QUsM4RZXDFBW6WJKe/mFPdH0LtBgiq57wFLzlyQzz82qYx5D5WJP5yVJDW01BfyHnS6HKO/reZqId1WGa4Hkh2kWodJ8i6KoIPlAj2hPt76CzXsVR6koPRzWTfKqIentatYpQw2me4AA3y1Kind3SwoOKZDcFXTwl9tWU6mfgRk9d71sKtlNwrjnYw5tC5n5LdKiGry3JKNlHEd3oaMCFHrazBPMp/uNJ+V7IudcSbeOIdjUEdwl0VHCOZo5t6YluEuaC9mQeMgSfOyKnYGFHcIeQ84yQWbuJYJpZw5CzglDH7gKnWqqM9ZTaXcN0TeYhR84eQtJT76JJ1lREe7WnnvsMmRc9FQ7SBBM9mV3lCUdmHk/S2RAMt0QjFNFqQpWjDPQ01DXWUdDBkXziKPjGEP3VP+zIWU2t7im41FOloyWzn/L6dkUy3VLDaZ6appgDLHPjJEsyvJngWEPUyVBiAaHCTEXwrLvSEbV1e1gKJniicWorC1MUrVjB3uDhJE/wgSOzk1DXpk0k73qCM8xw2UvD5kJmDUfOomqMpWCkJRlvKXGmoeBm18USjVIk04SClxTB6YrgLAPLWYK9HLUt5cmc0vYES8GnTeRc6skZbQkWdxRsIcyBRzx1DbTk9FbU0caTPOgJHhJKnOGIVhQqvKmo0llRw9sabrZkDtdg3PqaKi9oatjY8B+G371paMg6+mZFNNtQ04mWBq3rYLOmtWWQp8KJnpy9DdFensyjdqZ+yY40VJlH8wcdLzC8PZnvHMFUTZUrDTkLyQaGus5X5LzpYAf3i+e/ZlhqGqWhh6Ou6xTR9Z6oi5AZZtp7Mj2EEm8oSpxiYZCHU/1fbGdNNNRRoZMhmilEb2gqHOEJDtXkHK/JnG6IrvbPCwV3NhONVdS1thBMs1T4QOBcTWa2IzhMk2nW5Kyn9tXUtpv9RsG2msxk+ZsQzRQacJncpgke0+T8y5Fzj8BiGo7XlJjaTIlpQs7KFjpqGnKuoyEPeIKnFMkZHvopgh81ySxNFWvJWcKRs70j2FOT012IllEEO1n4pD1513Yg2ssQPOThOkvyrqHUdEXOSEsihmBbTbKX1kLBPWqWkLOqJbjB3GBIZmoa8qWl4CG/iZ7oiA72ZL7TJNeZUY7kFQftDcHHluBzRbCegzMtrRjVQpX2lgoPKKLJAkcbMl01XK2p7yhL8pCBbQ3BN2avJgKvttcrWDK3CiUOVxQ8ZP+pqXKyIxnmBymCg5vJjNfkPK4+c8cIfK8ocVt7kmfd/I5SR1hKvCzUtb+lhgc00ZaO6CyhIQP1Uv4yIZjload72PXX0OIJvnFU+0Zf6MhsJwTfW0r0UwQfW4LNLZl5HK261JCZ4qnBaAreVAS3WrjV0LBnNDUNNDToCEeFfwgcb4gOEqLRhirWkexrCEYKVV711DLYEE1XBEsp5tpTGjorkomKYF9FDXv7fR3BGwbettSxnyL53MBPjsxDZjMh+VUW9NRxq1DhVk+FSxQcaGjV9Pawv6eGByw5qzoy7xk4RsOShqjJwWKe/1pEEfzkobeD/dQJmpqedcyBTy2sr4nGNRH0c0SPWTLrqAc0OQcb/gemKgqucQT7ySWKCn2EUotoCvpZct7RO2sy/QW0IWcXd7pQRQyZVwT2USRO87uhjioTLKV2brpMUcMQRbKH/N2T+UlTpaMls6cmc6CCNy3JdYYSUzzJQ4oSD3oKLncULOiJvjBEC2oqnCJkJluCYy2ZQ5so9YYlZ1VLlQU1mXEW1jZERwj/MUSRc24TdexlqLKfQBtDTScJUV8FszXBEY5ktpD5Ur9hYB4Nb1iikw3JoYpkKX+RodRKFt53MMuRnKSpY31PwYaGaILh3wxJGz9TkTPEETxoCWZrgvOlmyMzxFEwVJE5xZKzvyJ4WxEc16Gd4Xe3Weq4XH2jKRikqOkGQ87hQnC7wBmGYLAnesX3M+S87eFATauuN+Qcrh7xIxXJbUIdMw3JGE3ylCWzrieaqCn4zhGM19TQ3z1oH1AX+pWEqIc7wNGAkULBo/ZxRaV9NNyh4Br3rCHZzbzmSfawBL0dNRwpW1kK9mxPXR9povcdrGSZK9c2k0xwFGzjuniCtRSZCZ6ccZ7gaktmgAOtKbG/JnOkJrjcQTdFMsxRQ2cLY3WTIrlCw1eWKn8R6pvt4GFDso3QoL4a3nLk3G6JrtME3dSenpx7PNFTmga0EaJTLQ061sEeQoWXhSo9LTXsaSjoJQRXeZLtDclbCrYzfzHHeaKjHCVOUkQHO3JeEepr56mhiyaYYKjjNU+Fed1wS5VlhWSqI/hYUdDOkaxiKehoyOnrCV5yBHtbWFqTHCCwtpDcYolesVR5yUzTZBb3RNMd0d6WP+SvhuBmRcGxnuQzT95IC285cr41cLGQ6aJJhmi4TMGempxeimBRQw1tFKV+8jd6KuzoSTqqDxzRtpZkurvKEHxlqXKRIjjfUNNXQsNOsRScoWFLT+YeRZVD3GRN0MdQcKqQjHDMrdGGVu3iYJpQx3WGUvfbmxwFfR20WBq0oYY7LMFhhgYtr8jpaEnaOzjawWWaTP8mMr0t/EPDPoqcnxTBI5o58L7uoWnMrpoqPwgVrlAUWE+V+TQl9rawoyP6QGAlQw2TPRX+YSkxyBC8Z6jhHkXBgQL7WII3DVFnRfCrBfxewv9D6xsyjys4VkhWb9pUU627JllV0YDNHMku/ldNMMXDEo4aFnAkk4U6frNEU4XgZUPmEKHUl44KrzmYamjAbh0JFvGnaTLPu1s9jPCwjFpYiN7z1DTOk/nc07CfDFzmCf7i+bfNHXhDtLeBXzTBT5rkMvWOIxpl4EMh2LGJBu2syDnAEx2naEhHDWMMzPZEhygyS1mS5RTJr5ZkoKbEUoYqr2kqdDUE8ztK7OaIntJkFrIECwv8LJTaVx5XJE86go8dFeZ3FN3rjabCAYpoYEeC9zzJVULBbmZhDyd7ko09ydpNZ3nm2Kee4FPPXHnYEF1nqOFEC08LUVcDvYXkJHW8gTaKCk9YGOeIJhqiE4ToPEepdp7IWFjdwnWaufGMwJJCMtUTTBBK9BGCOy2tGGrJTHIwyEOzp6aPzNMOtlZkDvcEWpP5SVNhfkvDxhmSazTJXYrM9U1E0xwFVwqZQwzJxw6+kGGGUj2FglGGmnb1/G51udRSMNlTw6GGnCcUwVcOpmsqTHa06o72sw1RL02p9z0VbnMLOaIX3QKaYKSCFQzBKEUNHTSc48k53RH9wxGMtpQa5KjjW0W0n6XCCCG4yxNNdhQ4R4l1Ff+2sSd6UFHiIEOyqqFgT01mEUMD+joy75jPhOA+oVVLm309FR4yVOlp4RhLiScNmSmaYF5Pw0STrOIoWMSR2UkRXOMp+M4SHW8o8Zoi6OZgjKOaFar8zZDzkWzvKOjkKBjmCXby8JahhjXULY4KlzgKLvAwxVGhvyd4zxB1d9T0piazmKLCVZY5sKiD0y2ZSYrkUEPUbIk+dlQ4SJHTR50k1DPaUWIdTZW9NJwnJMOECgd7ou/MnppMJ02O1VT4Wsh85MnZzcFTngpXGKo84qmwgKbCL/orR/SzJ2crA+t6Mp94KvxJUeIbT3CQu1uIdlQEOzlKfS3UMcrTiFmOuroocrZrT2AcmamOKg8YomeEKm/rlT2sociMaybaUlFhuqHCM2qIJ+rg4EcDFymiDSxzaHdPcpE62pD5kyM5SBMoA1PaUtfIthS85ig1VPiPPYXgYEMNk4Qq7TXBgo7oT57gPUdwgCHzhIVFPFU6OYJzHAX9m5oNrVjeE61miDrqQ4VSa1oiURTsKHC0IfjNwU2WzK6eqK8jWln4g15TVBnqmDteCJ501PGAocJhhqjZdtBEB6lnhLreFJKxmlKbeGrqLiSThVIbCdGzloasa6lpMQXHCME2boLpJgT7yWaemu6wBONbqGNVRS0PKIL7LckbjmQtR7K8I5qtqel+T/ChJTNIKLjdUMNIRyvOEko9YYl2cwQveBikCNawJKcLBbc7+JM92mysNvd/Fqp8a0k6CNEe7cnZrxlW0wQXaXjaktnRwNOGZKYiONwS7a1JVheq3WgJHlQUGKHKmp4KAxXR/ULURcNgoa4zhKSLpZR3kxRRb0NmD0OFn+UCS7CzI1nbP6+o4x47QZE5xRCt3ZagnYcvmpYQktXdk5YKXTzBC57kKEe0VVuiSYqapssMS3C9p2CKkHOg8B8Pa8p5atrIw3qezIWanMGa5HRDNF6RM9wcacl0N+Q8Z8hsIkSnaIIdHRUOEebAPy1zbCkhM062FCJtif7PU+UtoVXzWKqM1PxXO8cfdruhFQ/a6x3JKYagvVDhQEtNiyiiSQ7OsuRsZUku0CRNDs4Sog6KKjsZgk2bYJqijgsEenoKeniinRXBn/U3lgpPdyDZynQx8IiioMnCep5Ky8mjGs6Wty0l1hUQTcNWswS3WRp2kCNZwJG8omG8JphPUaFbC8lEfabwP7VtM9yoaNCAjpR41VNhrD9LkbN722v0CoZMByFzhaW+MyzRYEWFDQwN2M4/JiT76PuljT3VU/A36eaIThb+R9oZGOAJ9tewkgGvqOMNRWYjT/Cwu99Q8LqDE4TgbLWxJ1jaDDAERsFOFrobgjUsBScaguXU8kKm2RL19tRypSHnHNlHiIZqgufs4opgQdVdwxBNNFBR6kVFqb8ogimOzB6a6HTzrlDHEpYaxjiiA4TMQobkDg2vejjfwJGWmnbVFAw3H3hq2NyQfG7hz4aC+w3BbwbesG0swYayvpAs6++Ri1Vfzx93mFChvyN5xVHTS+0p9aqCAxyZ6ZacZyw5+7uuQkFPR9DDk9NOiE7X1PCYJVjVUqq7JlrHwWALF5nfHNGjApdpqgzx5OwilDhCiDYTgnc9waGW4BdLNNUQvOtpzDOWHDH8D7TR/A/85KljEQu3NREc4Pl/6B1Hhc8Umb5CsKMmGC9EPcxoT2amwHNCmeOEnOPbklnMkbOgIvO5UMOpQrS9UGVdt6iH/fURjhI/WOpaW9OKLYRod6HCUEdOX000wpDZQ6hwg6LgZfOqo1RfT/CrJzjekXOGhpc1VW71ZLbXyyp+93ILbC1kPtIEYx0FIx1VDrLoVzXRKRYWk809yYlC9ImcrinxtabKnzRJk3lAU1OLEN1j2zrYzr2myHRXJFf4h4QKT1qSTzTB5+ZNTzTRkAxX8FcLV2uS8eoQQ2aAkFzvCM72sJIcJET3WPjRk5wi32uSS9rfZajpWEvj9hW42F4o5NytSXYy8IKHay10VYdrcl4SkqscrXpMwyGOgtkajheSxdQqmpxP1L3t4R5PqasFnrQEjytq6qgp9Y09Qx9o4S1FzhUCn1kyHSzBWLemoSGvOqLNhZyBjmCaAUYpMgt4Ck7wBBMMwWKWgjsUwTaGVsxWC1mYoKiyqqeGKYqonSIRQ3KIkHO0pmAxTdBHkbOvfllfr+AA+7gnc50huVKYK393FOyg7rbPO/izI7hE4CnHHHnJ0ogNPRUGeUpsrZZTBJcrovUcJe51BPsr6GkJdhCCsZ6aTtMEb2pqWkqeVtDXE/QVggsU/Nl86d9RMF3DxvZTA58agu810RWawCiSzzXBeU3MMW9oyJUedvNEvQyNu1f10BSMddR1vaLCYpYa/mGocLSiYDcLbQz8aMn5iyF4xBNMs1P0QEOV7o5gaWGuzSeLue4tt3ro7y4Tgm4G/mopdZgl6q0o6KzJWE3mMksNr3r+a6CbT8g5wZNzT9O7fi/zpaOmnz3BRoqos+tv9zMbdpxsqDBOEewtJLt7cg5wtKKbvldpSzRRCD43VFheCI7yZLppggMVBS/KMAdHODJvOwq2NQSbKKKPLdFWQs7Fqo+mpl01JXYRgq8dnGLhTiFzqmWsUMdpllZdbKlyvSdYxhI9YghOtxR8LgSLWHK62mGGVoxzBE8LNWzqH9CUesQzFy5RQzTc56mhi6fgXEWwpKfE5Z7M05ZgZUPmo6auiv8YKzDYwWBLMErIbKHJvOwIrvEdhOBcQ9JdU1NHQ7CXn2XIDFBKU2WAgcX9UAUzDXWd5alwuyJ41Z9rjKLCL4aCp4WarhPm2rH+SaHUYE001JDZ2ZAzXPjdMpZWvC9wmqIB2lLhQ01D5jO06hghWMndbM7yRJMsoCj1vYbnFQVrW9jak3OlEJ3s/96+p33dEPRV5GxiqaGjIthUU6FFEZyqCa5qJrpBdzSw95IUnOPIrCUUjRZQFrbw5PR0R1qiYx3cb6nrWUMrBmmiBQxVHtTew5ICP/ip6g4hed/Akob/32wvBHsIOX83cI8hGeNeNPCIkPmXe8fPKx84OMSRM1MTdXSwjCZ4S30jVGhvqTRak/OVhgGazHuOCud5onEO1lJr6ecVyaOK6H7zqlBlIaHE0oroCgfvGJIdPcmfLNGLjpz7hZwZQpUbFME0A1cIJa7VNORkgfsMBatbKgwwJM9bSvQXeNOvbIjelg6WWvo5kvbKaJJNHexkKNHL9xRyFlH8Ti2riB5wVPhUk7nGkJnoCe428LR/wRGdYIlmWebCyxou1rCk4g/ShugBDX0V0ZQWkh0dOVsagkM0yV6OoLd5ye+pRlsCr0n+KiQrGuq5yJDzrTAXHtLUMduTDBVKrSm3eHL+6ijxhFDX9Z5gVU/wliHYTMiMFpKLNMEywu80wd3meoFmt6VbRMPenhrOc6DVe4pgXU8DnnHakLOIIrlF4FZPIw6R+zxBP0dyq6OOZ4Q5sLKCcz084ok+VsMMyQhNZmmBgX5xIXOEJTmi7VsGTvMTNdHHhpzdbE8Du2oKxgvBqQKdDDnTFOylCFaxR1syz2iqrOI/FEpNc3C6f11/7+ASS6l2inq2ciTrCCzgyemrCL5SVPjQkdPZUmGy2c9Sw9FtR1sS30RmsKPCS4rkIC/2U0MduwucYolGaPjKEyhzmiPYXagyWbYz8LWBDdzRimAXzxx4z8K9hpzlhLq+NiQ97HuKorMUfK/OVvC2JfiHUPCQI/q7J2gjK+tTDNxkCc4TMssqCs4TGtLVwQihyoAWgj9bosU80XGW6Ac9TJGziaUh5+hnFcHOnlaM1iRn29NaqGENTTTSUHCH2tWTeV0osUhH6psuVLjRUmGWhm6OZEshGeNowABHcJ2Bpy2ZszRcKkRXd2QuKVEeXnbfaEq825FguqfgfE2whlChSRMdron+LATTPQ2Z369t4B9C5gs/ylzv+CMmepIDPclFQl13W0rspPd1JOcbghGOEutqCv5qacURQl3dDKyvyJlqKXGPgcM9FfawJAMVmdcspcYKOZc4GjDYkFlK05olNMHyHn4zFNykyOxt99RkHlfwmiHo60l2EKI+mhreEKp080Tbug08BVPcgoqC5zWt+NLDTZ7oNSF51N1qie7Va3uCCwyZbkINf/NED6jzOsBdZjFN8oqG3wxVunqCSYYKf3EdhJyf9YWGf7tRU2oH3VHgPr1fe5J9hOgHd7xQ0y7qBwXr23aGErP0cm64JVjZwsOGqL+mhNgZmhJLW2oY4UhedsyBgzrCKrq7BmcpNVhR6jBPq64Vgi+kn6XE68pp8J5/+0wRHGOpsKenQn9DZntPzjRLZpDAdD2fnSgkG9tmIXnUwQ6WVighs7Yi2MxQ0N3CqYaCXkJ0oyOztMDJjmSSpcpvlrk0RMMOjmArQ04PRV1DO1FwhCVaUVPpKUM03JK5SxPsIWRu8/CGHi8UHChiqGFDTbSRJWeYUDDcH6vJWUxR4k1FXbMUwV6e4AJFXS8oMqsZKqzvYQ9DDQdZckY4aGsIhtlubbd2r3j4QBMoTamdPZk7O/Bf62lacZwneNjQoGcdVU7zJOd7ghsUHOkosagic6cnWc8+4gg285R6zZP5s1/LUbCKIznTwK36PkdwlOrl4U1LwfdCCa+IrvFkmgw1PCAUXKWo0sURXWcI2muKJlgyFzhynCY4RBOsqCjoI1R5zREco0n2Vt09BQtYSizgKNHfUmUrQ5UOCh51BFcLmY7umhYqXKQomOop8bUnWNNQcIiBcYaC6xzMNOS8JQQfeqKBmmglB+97ok/lfk3ygaHSyZaCRTzRxQo6GzLfa2jWBPepw+UmT7SQEJyiyRkhBLMVOfcoMjcK0eZChfUNzFAUzCsEN5vP/X1uP/n/aoMX+K+nw/Hjr/9xOo7j7Pju61tLcgvJpTWXNbfN5jLpi6VfCOviTktKlFusQixdEKWmEBUKNaIpjZRSSOXSgzaaKLdabrm1/9nZ+/f+vd/vz/v9+Xy+zZ7PRorYoZqyLrCwQdEAixxVOEXNNnjX2nUSRlkqGmWowk8lxR50JPy9Bo6qJXaXwNvREBvnThPEPrewryLhcAnj5WE15Fqi8W7R1sAuEu86S4ENikItFN4xkv9Af4nXSnUVcLiA9xzesFpivRRVeFKtsMRaKBhuSbjOELnAUtlSQUpXgdfB4Z1oSbnFEetbQ0IrAe+Y+pqnDcEJFj6S8LDZzZHwY4e3XONNlARraomNEt2bkvGsosA3ioyHm+6jCMbI59wqt4eeara28IzEmyPgoRaUOEDhTVdEJhmCoTWfC0p8aNkCp0oYqih2iqGi4yXeMkOsn4LdLLnmKfh/YogjNsPebeFGR4m9BJHLzB61XQ3BtpISfS2FugsK9FAtLWX1dCRcrCnUp44CNzuCowUZmxSRgYaE6Za0W2u/E7CVXCiI/UOR8aAm1+OSyE3mOUcwyc1zBBeoX1kiKy0Zfxck1Gsyulti11i83QTBF5Kg3pDQThFMVHiPSlK+0cSedng/VaS8bOZbtsBcTcZAR8JP5KeqQ1OYKAi20njdNNRpgnsU//K+JnaXJaGTomr7aYIphoRn9aeShJWKEq9LcozSF7QleEfDI5LYm5bgVkFkRwVDBCVu0DDIkGupo8TZBq+/pMQURYErJQmPKGKjNDkWOLx7Jd5QizdUweIaKrlP7SwJDhZvONjLkOsBBX9UpGxnydhXkfBLQ8IxgojQbLFnJf81JytSljclYYyEFyx0kVBvKWOFJmONpshGAcsduQY5giVNCV51eOdJYo/pLhbvM0uDHSevNKRcrKZIqnCtJeEsO95RoqcgGK4ocZcho1tTYtcZvH41pNQ7vA0WrhIfOSraIIntIAi+NXWCErdbkvrWwjRLrt0NKUdL6KSOscTOdMSOUtBHwL6OLA0vNSdynaWQEnCpIvKaIrJJEbvHkmuNhn6OjM8VkSGSqn1uYJCGHnq9I3aLhNME3t6GjIkO7xrNFumpyTNX/NrwX7CrIRiqqWijI9JO4d1iieykyfiposQIQ8YjjsjlBh6oHWbwRjgYJQn2NgSnNycmJAk3NiXhx44Sxykihxm8ybUwT1OVKySc7vi3OXVkdBJ4AyXBeksDXG0IhgtYY0lY5ahCD0ehborIk5aUWRJviMA7Xt5kyRjonrXENkm8yYqgs8VzgrJmClK20uMM3jRJ0FiQICQF9hdETlLQWRIb5ki6WDfWRPobvO6a4GP5mcOrNzDFELtTkONLh9dXE8xypEg7z8A9jkhrQ6Fhjlg/QVktJXxt4WXzT/03Q8IaQWSqIuEvloQ2mqC9Jfi7wRul4RX3pSPlzpoVlmCtI2jvKHCFhjcM3sN6lqF6HxnKelLjXWbwrpR4xzuCrTUZx2qq9oAh8p6ixCUGr78g8oyjRAtB5CZFwi80VerVpI0h+IeBxa6Zg6kWvpDHaioYYuEsRbDC3eOmC2JvGYLeioxGknL2UATNJN6hmtj1DlpLvDVmocYbrGCVJKOrg4X6DgddLA203BKMFngdJJFtFd7vJLm6KEpc5yjQrkk7M80SGe34X24nSex1Ra5Omgb71JKyg8SrU3i/kARKwWpH0kOGhKkObyfd0ZGjvyXlAkVZ4xRbYJ2irFMkFY1SwyWxr2oo4zlNiV+7zmaweFpT4kR3kaDAFW6xpSqzJay05FtYR4HmZhc9UxKbbfF2V8RG1MBmSaE+kmC6JnaRXK9gsiXhJHl/U0qM0WTcbyhwkYIvFGwjSbjfwhiJt8ZSQU+Bd5+marPMOkVkD0muxYLIfEuhh60x/J92itguihJSEMySVPQnTewnEm+620rTQEMsOfo4/kP/0ARvWjitlpSX7GxBgcMEsd3EEeYWvdytd+Saawi6aCIj1CkGb6Aj9rwhx16Cf3vAwFy5pyLhVonXzy51FDpdEblbkdJbUcEPDEFzQ8qNmhzzLTmmKWKbFCXeEuRabp6rxbvAtLF442QjQ+wEA9eL1xSR7Q0JXzlSHjJ4exq89yR0laScJ/FW6z4a73pFMEfDiRZvuvijIt86RaSFOl01riV2mD1UEvxGk/Geg5aWwGki1zgKPG9J2U8PEg8qYvMsZeytiTRXBMslCU8JSlxi8EabjwUldlDNLfzTUmCgxWsjqWCOHavYAqsknKFIO0yQ61VL5AVFxk6WhEaCAkdJgt9aSkzXlKNX2jEa79waYuc7gq0N3GDJGCBhoiTXUEPsdknCUE1CK0fwsiaylSF2uiDyO4XX3pFhNd7R4itFGc0k/ElBZwWvq+GC6szVeEoS/MZ+qylwpKNKv9Z469UOjqCjwlusicyTxG6VpNxcQ8IncoR4RhLbR+NdpGGmJWOcIzJGUuKPGpQg8rrG21dOMqQssJQ4RxH5jaUqnZuQ0F4Q+cjxLwPtpZbIAk3QTJHQWBE5S1BokoVtDd6lhqr9UpHSUxMcIYl9pojsb8h4SBOsMQcqvOWC2E8EVehqiJ1hrrAEbQxeK0NGZ0Gkq+guSRgniM23bIHVkqwx4hiHd7smaOyglyIyQuM978j4VS08J/A2G1KeMBRo4fBaSNhKUEZfQewVQ/C1I+MgfbEleEzCUw7mKXI0M3hd1EESVji8x5uQ41nxs1q4RMJCCXs7Iq9acpxn22oSDnQ/sJTxsCbHIYZiLyhY05TY0ZLIOQrGaSJDDN4t8pVaIrsqqFdEegtizc1iTew5Q4ayBDMUsQMkXocaYkc0hZua412siZ1rSXlR460zRJ5SlHGe5j801RLMlJTxtaOM3Q1pvxJ45zUlWFD7rsAbpfEm1JHxG0eh8w2R7QQVzBUw28FhFp5QZzq8t2rx2joqulYTWSuJdTYfWwqMFMcovFmSyJPNyLhE4E10pHzYjOC3huArRa571ZsGajQpQx38SBP5pyZB6lMU3khDnp0MBV51BE9o2E+TY5Ml2E8S7C0o6w1xvCZjf0HkVEHCzFoyNmqC+9wdcqN+Tp7jSDheE9ws8Y5V0NJCn2bk2tqSY4okdrEhx1iDN8cSudwepWmAGXKcJXK65H9to8jYQRH7SBF01ESUJdd0TayVInaWhLkOjlXE5irKGOnI6GSWGCJa482zBI9rCr0jyTVcEuzriC1vcr6mwFGSiqy5zMwxBH/TJHwjSPhL8+01kaaSUuMFKTcLEvaUePcrSmwn8DZrgikWb7CGPxkSjhQwrRk57tctmxLsb9sZvL9LSlyuSLlWkqOjwduo8b6Uv1DkmudIeFF2dHCgxVtk8dpIvHpBxhEOdhKk7OLIUSdJ+cSRY57B+0DgGUUlNfpthTfGkauzxrvTsUUaCVhlKeteTXCoJDCa2NOKhOmC4G1H8JBd4OBZReSRGkqcb/CO1PyLJTLB4j1q8JYaIutEjSLX8YKM+a6phdMsdLFUoV5RTm9JSkuDN8WcIon0NZMNZWh1q8C7SJEwV5HxrmnnTrf3KoJBlmCYI2ilSLlfEvlE4011NNgjgthzEua0oKK7JLE7HZHlEl60BLMVFewg4EWNt0ThrVNEVkkiTwpKXSWJzdRENgvKGq4IhjsiezgSFtsfCUq8qki5S1LRQeYQQ4nemmCkImWMw3tFUoUBZk4NOeZYEp4XRKTGa6wJjrWNHBVJR4m3FCnbuD6aak2WsMTh3SZImGCIPKNgsDpVwnsa70K31lCFJZYcwwSMFcQulGTsZuEaSdBXkPGZhu0FsdUO73RHjq8MPGGIfaGIbVTk6iuI3GFgucHrIQkmWSJdBd7BBu+uOryWAhY7+Lki9rK5wtEQzWwvtbqGhIMFwWRJsElsY4m9IIg9L6lCX0VklaPAYkfkZEGDnOWowlBJjtMUkcGK4Lg6EtoZInMUBVYLgn0UsdmCyCz7gIGHFfk+k1QwTh5We7A9x+IdJ6CvIkEagms0hR50eH9UnTQJ+2oiKyVlLFUE+8gBGu8MQ3CppUHesnjTHN4QB/UGPhCTHLFPHMFrCqa73gqObUJGa03wgbhHkrCfpEpzNLE7JDS25FMKhlhKKWKfCgqstLCPu1zBXy0J2ztwjtixBu8UTRn9LVtkmCN2iyFhtME70JHRQ1KVZXqKI/KNIKYMCYs1GUMEKbM1bKOI9LDXC7zbHS+bt+1MTWS9odA9DtrYtpbImQJ2VHh/lisEwaHqUk1kjKTAKknkBEXkbkdMGwq0dnhzLJF3NJH3JVwrqOB4Sca2hti75nmJN0WzxS6UxDYoEpxpa4htVlRjkYE7DZGzJVU72uC9IyhQL4i8YfGWSYLLNcHXloyz7QhNifmKSE9JgfGmuyLhc403Xm9vqcp6gXe3xuuv8F6VJNxkyTHEkHG2g0aKXL0MsXc1bGfgas2//dCONXiNLCX+5mB7eZIl1kHh7ajwpikyzlUUWOVOsjSQlsS+M0R+pPje/dzBXRZGO0rMtgQrLLG9VSu9n6CMXS3BhwYmSoIBhsjNBmZbgusE9BCPCP5triU4VhNbJfE+swSP27aayE8tuTpYYjtrYjMVGZdp2NpS1s6aBnKSHDsbKuplKbHM4a0wMFd/5/DmGyKrJSUaW4IBrqUhx0vyfzTBBLPIUcnZdrAkNsKR0sWRspumSns6Ch0v/qqIbBYUWKvPU/CFoyrDJGwSNFhbA/MlzKqjrO80hRbpKx0Jewsi/STftwGSlKc1JZyAzx05dhLEdnfQvhZOqiHWWEAHC7+30FuRcZUgaO5gpaIK+xsiHRUsqaPElTV40xQZQ107Q9BZE1nryDVGU9ZSQ47bmhBpLcYpUt7S+xuK/FiT8qKjwXYw5ypS2iuCv7q1gtgjhuBuB8LCFY5cUuCNtsQOFcT+4Ih9JX+k8Ea6v0iCIRZOtCT0Et00JW5UeC85Cg0ScK0k411HcG1zKtre3SeITBRk7WfwDhEvaYLTHP9le0m8By0JDwn4TlLW/aJOvGHxdjYUes+ScZigCkYQdNdEOhkiezgShqkx8ueKjI8lDfK2oNiOFvrZH1hS+tk7NV7nOmLHicGWEgubkXKdwdtZknCLJXaCpkrjZBtLZFsDP9CdxWsSr05Sxl6CMmoFbCOgryX40uDtamB7SVmXW4Ihlgpmq+00tBKUUa83WbjLUNkzDmY7cow1JDygyPGlhgGKYKz4vcV7QBNbJIgM11TUqZaMdwTeSguH6rOaw1JRKzaaGyxVm2EJ/uCIrVWUcZUkcp2grMsEjK+DMwS59jQk3Kd6SEq1d0S6uVmO4Bc1lDXTUcHjluCXEq+1OlBDj1pi9zgiXxnKuE0SqTXwhqbETW6RggMEnGl/q49UT2iCzgJvRwVXS2K/d6+ZkyUl7jawSVLit46EwxVljDZwoSQ20sDBihztHfk2yA8NVZghiXwrYHQdfKAOtzsayjhY9bY0yE2CWEeJ9xfzO423xhL5syS2TFJofO2pboHob0nY4GiAgRrvGQEDa/FWSsoaaYl0syRsEt3kWoH3B01shCXhTUWe9w3Bt44SC9QCh3eShQctwbaK2ApLroGCMlZrYqvlY3qYhM0aXpFkPOuoqJ3Dm6fxXrGwVF9gCWZagjPqznfkuMKQ8DPTQRO8ZqG1hPGKEm9IgpGW4DZDgTNriTxvFiq+Lz+0cKfp4wj6OCK9JSnzNSn9LFU7UhKZZMnYwcJ8s8yRsECScK4j5UOB95HFO0CzhY4xJxuCix0lDlEUeMdS6EZBkTsUkZ4K74dugyTXS7aNgL8aqjDfkCE0ZbwkCXpaWCKhl8P7VD5jxykivSyxyZrYERbe168LYu9ZYh86IkscgVLE7tWPKmJv11CgoyJltMEbrohtVAQfO4ImltiHEroYEs7RxAarVpY8AwXMcMReFOTYWe5iiLRQxJ5Q8DtJ8LQhWOhIeFESPGsILhbNDRljNbHzNRlTFbk2S3L0NOS6V1KFJYKUbSTcIIhM0wQ/s2TM0SRMNcQmSap3jCH4yhJZKSkwyRHpYYgsFeQ4U7xoCB7VVOExhXepo9ABBsYbvGWKXPME3lyH95YioZ0gssQRWWbI+FaSMkXijZXwgiTlYdPdkNLaETxlyDVIwqeaEus0aTcYcg0RVOkpR3CSJqIddK+90JCxzsDVloyrFd5ZAr4TBKfaWa6boEA7C7s6EpYaeFPjveooY72mjIccLHJ9HUwVlDhKkmutJDJBwnp1rvulJZggKDRfbXAkvC/4l3ozQOG9a8lxjx0i7nV4jSXc7vhe3OwIxjgSHjdEhhsif9YkPGlus3iLFDnWOFhtCZbJg0UbQcIaR67JjthoCyMEZRwhiXWyxO5QxI6w5NhT4U1WsJvDO60J34fW9hwzwlKij6ZAW9ne4L0s8C6XeBMEkd/LQy1VucBRot6QMlbivaBhoBgjqGiCJNhsqVp/S2SsG6DIONCR0dXhvWbJ+MRRZJkkuEjgDXJjFQW6SSL7GXK8Z2CZg7cVsbWGoKmEpzQ5elpiy8Ryg7dMkLLUEauzeO86CuwlSOlgYLojZWeJ9xM3S1PWfEfKl5ISLQ0MEKR8YOB2QfCxJBjrKPCN4f9MkaSsqoVXJBmP7EpFZ9UQfOoOFwSzBN4MQ8LsGrymlipcJQhmy0GaQjPqCHaXRwuCZwRbqK2Fg9wlClZqYicrIgMdZfxTQ0c7TBIbrChxmuzoKG8XRaSrIhhiyNFJkrC7oIAWMEOQa5aBekPCRknCo4IKPrYkvCDI8aYmY7WFtprgekcJZ3oLIqssCSMtFbQTJKwXYy3BY5oCh2iKPCpJOE+zRdpYgi6O2KmOAgvVCYaU4ySRek1sgyFhJ403QFHiVEmJHwtybO1gs8Hr5+BETQX3War0qZngYGgtVZtoqd6vFSk/UwdZElYqyjrF4HXUeFspIi9IGKf4j92pKGAdCYMVsbcV3kRF0N+R8LUd5PCsIGWoxDtBkCI0nKofdJQxT+LtZflvuc8Q3CjwWkq8KwUpHzkK/NmSsclCL0nseQdj5FRH5CNHSgtLiW80Of5HU9Hhlsga9bnBq3fEVltKfO5IaSTmGjjc4J0otcP7QsJUSQM8pEj5/wCuUuC2DWz8AAAAAElFTkSuQmCC");\n}\n/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n}\n.CodeMirror-scroll {\n  /* Set scrolling behaviour here */\n  overflow: auto;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n}\n\n/* CURSOR */\n\n.CodeMirror div.CodeMirror-cursor {\n  border-left: 1px solid black;\n  z-index: 3;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.CodeMirror.cm-keymap-fat-cursor div.CodeMirror-cursor {\n  width: auto;\n  border: 0;\n  background: #7e7;\n  z-index: 1;\n}\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror div.CodeMirror-cursor.CodeMirror-overwrite {}\n\n.cm-tab { display: inline-block; }\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable {color: black;}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3 {color: #085;}\n.cm-s-default .cm-property {color: black;}\n.cm-s-default .cm-operator {color: black;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-error {color: #f00;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n\n.cm-invalidchar {color: #f00;}\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0f0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #f22;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn\'t touch them. */\n\n.CodeMirror {\n  line-height: 1;\n  position: relative;\n  overflow: hidden;\n  background: white;\n  color: black;\n}\n\n.CodeMirror-scroll {\n  /* 30px is the magic margin used to hide the element\'s real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px; padding-right: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actuall scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  padding-bottom: 30px;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  padding-bottom: 30px;\n  margin-bottom: -32px;\n  display: inline-block;\n  /* Hack to make IE7 behave */\n  *zoom:1;\n  *display:inline;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n\n.CodeMirror-lines {\n  cursor: text;\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  overflow: auto;\n}\n\n.CodeMirror-widget {\n  display: inline-block;\n}\n\n.CodeMirror-wrap .CodeMirror-scroll {\n  overflow-x: hidden;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%; height: 0px;\n  overflow: hidden;\n  visibility: hidden;\n}\n.CodeMirror-measure pre { position: static; }\n\n.CodeMirror div.CodeMirror-cursor {\n  position: absolute;\n  visibility: hidden;\n  border-right: none;\n  width: 0;\n}\n.CodeMirror-focused div.CodeMirror-cursor {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n\n.cm-searching {\n  background: #ffa;\n  background: rgba(255, 255, 0, .4);\n}\n\n/* IE7 hack to prevent it from returning funny offsetTops on the spans */\n.CodeMirror span { *vertical-align: text-bottom; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursor {\n    visibility: hidden;\n  }\n}\n.CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n\n  margin: 0;\n  padding: 2px;\n\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n\n  max-height: 20em;\n  overflow-y: auto;\n}\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  max-width: 19em;\n  overflow: hidden;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\n\n.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n.cm-s-amber span.cm-keyword {color: #7F0000; font-weight: bold;}\n.cm-s-amber span.cm-className {font-weight: bold;}\n.cm-s-amber span.cm-assignment {font-weight: bold;}\n.cm-s-amber span.cm-return {font-weight: bold;}\n.cm-s-amber span.cm-atom {color: #219;}\n.cm-s-amber span.cm-number {color: #7F0000;}\n.cm-s-amber span.cm-def {color: #00f;}\n.cm-s-amber span.cm-variable {color: grey;}\n.cm-s-amber span.cm-variable-2 {color: #05a;}\n.cm-s-amber span.cm-variable-3 {color: #0a5;}\n.cm-s-amber span.cm-property {color: black;}\n.cm-s-amber span.cm-operator {color: #00007F;}\n.cm-s-amber span.cm-comment {color: #007F00;}\n.cm-s-amber span.cm-string {color: #7F007F;}\n.cm-s-amber span.cm-meta {color: #555;}\n.cm-s-amber span.cm-error {color: #f00;}\n.cm-s-amber span.cm-qualifier {color: #555;}\n.cm-s-amber span.cm-builtin {color: #30a;}\n.cm-s-amber span.cm-bracket {color: #cc7;}\n.cm-s-amber span.cm-tag {color: #170;}\n.cm-s-amber span.cm-attribute {color: #00c;}\nbody.amberBody {\n    margin-bottom: 350px;\n}\n\n#amberTabs, #amber .amber_tabs {\n    margin: 0;\n    padding: 0;\n    background: url("images/sprite.amber.png") #DBD9C9 0 -27px;\n    height: 22px;\n    width: 100%;\n    list-style: none;\n    font-weight: bold;\n}\n\n#amberTabs li, #amber .amber_tabs li {\n    padding: 0 1px;\n    cursor: pointer;\n    color: #565656;\n	max-width: 200px;\n	float:left;\n}\n#amber li {\n	line-height: 14px;\n\n}\n#amber .ltab, #amber .rtab, #amber .mtab {\n    height: 22px;\n    float: left;\n}\n\n#amber .ltab, #amber .rtab {\n    width: 8px;\n}\n\n#amber .rtab {\n    margin-right: 1px;\n}\n\n#amber .mtab {\n    line-height: 20px;\n}\n\n#amberTabs li:hover .ltab,\n#amber .amber_tabs li:hover .ltab {\n    background: url("images/sprite.amber.png") -16px -96px;\n}\n\n#amberTabs li:hover .mtab,\n#amber .amber_tabs li:hover .mtab {\n    background: url("images/sprite.amber.png") 0 -73px;\n}\n\n#amberTabs li:hover .rtab,\n#amber .amber_tabs li:hover .rtab {\n    background: url("images/sprite.amber.png") -24px -96px;\n}\n\n#amberTabs li.selected,\n#amber .amber_tabs li.selected {\n    color: #111;\n}\n\n#amberTabs li.selected .ltab,\n#amber .amber_tabs li.selected .ltab {\n    background: url("images/sprite.amber.png") 0px -96px;\n}\n\n#amberTabs li.selected .mtab,\n#amber .amber_tabs li.selected .mtab {\n    background: url("images/sprite.amber.png") 0 -50px;\n}\n\n#amberTabs li.selected .rtab,\n#amber .amber_tabs li.selected .rtab {\n    background: url("images/sprite.amber.png") -8px -96px;\n}\n\n#amberTabs li .close {\n    margin-right: 5px;\n    color: #aaa;\n}\n\n#amber {\n       position: fixed;\n       bottom: 0;\n       left: 0;\n       right: 0;\n       height: 350px;\n       z-index: 1000;\n}\n\n#amber, #amber button, #amber input, #amber select {\n       font-family: Lucida Grande, Tahoma, sans-serif;\n       font-size: 11px;\n}\n\n#amber #logo {\n    position: absolute;\n    top: 3px;\n    left: 8px;\n    width: 22px;\n    height: 20px;\n    background: url("images/tinylogo.amber.png") top left no-repeat;\n}\n\n#amber #amber_toolbar {\n    height: 27px;\n    background: url("images/sprite.amber.png") 0 0;\n}\n\n#amber #amber_toolbar input {\n    margin-left: 50px;\n    width: 250px;\n    margin-top: 5px;\n}\n\n#amber #amber_toolbar #amber_close {\n    position: absolute;\n    right: 4px;\n    top: 6px;\n    width: 16px;\n    height: 16px;\n    background: url(\'images/off.amber.png\');\n    cursor: pointer;\n}\n\n#amber #amber_toolbar #amber_close:hover {\n    background: url(\'images/offHover.amber.png\');\n}\n\n\n#amber .ui-resizable-handle {\n    background-color: transparent;\n    top: 0;\n    cursor: row-resize;\n    height: 5px;\n    left: 0;\n    position: absolute;\n    right: 0;\n    width: auto !important;\n}\n\n.amberTool {\n    width: 100%;\n    color: #333;\n    line-height: 1.3em;\n    padding: 0;\n    margin: 0;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    top: 49px;\n    z-index: 1000;\n    background: white;\n}\n\n.amberTool .amber_box {\n    width: 100%;\n    margin: 0;\n    position: absolute;\n    top: 0;\n    bottom: 27px;\n}\n\n.amberTool .amber_buttons {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 27px;\n    line-height: 27px;\n    background: url("images/sprite.amber.png") 0 0 repeat;\n}\n\n.amberTool .amber_buttons .right {\n    float: right;\n}\n\n.amberTool .important {\n    font-weight: bold;\n}\n\n\n.amberTool button {\n    border: 1px solid transparent;\n    background: transparent;\n    padding: 2px 4px;\n    margin-left: 4px;\n    cursor: pointer;\n}\n\n.amberTool button:hover {\n    border-top: 1px solid #fff;\n    border-left: 1px solid #fff;\n    border-right: 1px solid #bbb;\n    border-bottom: 1px solid #bbb;\n}\n\n.amberTool  button:active {\n    border-top: 1px solid #bbb;\n    border-left: 1px solid #bbb;\n    border-right: 1px solid #fff;\n    border-bottom: 1px solid #fff;\n    background: #ddd;\n}\n\n.amberTool select, #amber input {\n    border-top: 1px solid #bbb;\n    border-left: 1px solid #bbb;\n    border-right: 1px solid #fff;\n    border-bottom: 1px solid #fff;\n    background: #fff;\n    display: inline;\n    margin-top: 0;\n    margin-bottom: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n    height: 14px;\n    line-height: normal;\n    box-shadow: none;\n    outline: none;\n    vertical-align:baseline;\n}\n.amberTool select {\n    height:18px;\n    width: auto;\n}\n\n\n\n\n.amberTool li {\n    margin: 0;\n    padding: 0;\n}\n    \n.amberTool .source {\n    height: 100%;\n}\n\n.amberTool textarea,\n.amberTool input {\n    border: 0 none;\n    font-family:  "DejaVu Sans", Helvetica, sans;\n    line-height: 1.3em;\n    font-size: 11px;\n    position: relative;\n    padding: 0;\n}\n\n.amberTool .CodeMirror {\n    border: 0 none;\n    font-family:  "DejaVu Sans", Helvetica, sans;\n    font-size: 11px;\n    line-height: 1.3em;\n    height: 100%;\n    background: white;\n}\n\n.amberTool .CodeMirror-scroll {\n    height: 100%;\n}\n\n.amberTool .CodeMirror-scroll pre {\n    font-family: "DejaVu Sans", Helvetica, sans;\n}\n\n.amberTool .amber_clear {\n    clear: both;\n}\n\n.amberTool .amber_transcript,\n.amberTool .amber_workspace {\n    width: 100%;\n    height: 100%;\n}\n\n.amberTool .amber_packagesButtons {\n    position: absolute;\n    top: 149px;\n    left: 0;\n    z-index: 1;\n}\n\n.amberTool .amber_column {\n    width: 25%;\n    padding: 0;\n    margin: 0;\n    float: left;\n    outline: 1px solid #aaa;\n    border: 0 none;\n    height: 150px;\n    overflow-y: auto;\n    background: #fff;\n    color: #111;\n    position: absolute;\n    top: 0;\n}\n\n.amberTool .amber_column.classes {\n    left: 25%\n}\n\n.amberTool .amber_column.classes ul {\n    margin-left: 0;\n}\n\n.amberTool .amber_column.classes ul li {\n    padding-left: 10px;\n    margin-left: 0;\n}\n\n.amberTool .amber_column.protocols {\n    left: 50%\n}\n\n.amberTool .amber_column.methods {\n    left: 75%\n}\n\n.amberTool .amber_column li {\n    list-style-type: none;\n    padding-left: 5px;\n    cursor: pointer;\n    color: #111;\n    font-weight: bold;\n}\n\n.amberTool .amber_column li.selected {\n	background: #c5c5c5;\n	color: #222;\n}\n\n.amberTool .amber_column li:hover {\n    background: #08c;\n    color: white;\n}\n\n#amber .amberTool .amber_tabs {\n    top: 150px;\n    position: absolute;\n}\n\n#amber .amberTool .amber_tabs.amber_browser {\n    padding-left: 25%;\n}\n\n.amberTool .amber_sourceCode {\n    position: absolute;\n    top: 172px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n\n.amberTool .amber_sourceCode textarea.source {\n    width: 100%;\n    height: 100%;\n}\n\n/* Debugger & inspector */\n\n.amberTool .amber_box .label {\n	width: 100%;\n	font-weight: bold;\n	text-align: center;\n	position: absolute;\n	line-height: 1.5em;\n	font-size: 16px;\n	color: red;\n	background: url("images/sprite.amber.png") top left repeat;\n	height: 27px;\n}\n\n.amberTool .amber_box .amber_column.debugger {\n    top: 178px;\n}\n\n.amberTool .amber_box .amber_column.debugger.contexts {\n    top: 27px;\n    width: 100%;\n}\n\n.amberTool .amber_sourceCode.debugger {\n    width: 60%;\n    top: 178px;\n}\n\n.amberTool .amber_box .amber_column.debugger.variables {\n    width: 10%;\n    left: 60%;\n    bottom: 0;\n    position: absolute;\n    height: auto;\n}\n\n.amberTool .amber_box .amber_column.debugger.inspector {\n    width: 30%;\n    left: 70%;\n    bottom: 0;\n    position: absolute;\n    height: auto;\n}\n\n.amberTool .amber_button.debugger.inspect {\n    position: absolute;\n    left: 60%;\n}\n\n.amberTool .amber_column.value {\n    left: 25%;\n    width: 75%;\n}\n\n.amberTool .amber_buttons.inspector {\n    position: absolute;\n    top: 150px;\n}\n\n\n/* ReferencesBrowser */\n\n.amberTool .amber_box .implementors {\n	width: 100%\n}\n\n.amberTool .amber_box .amber_column.implementors,\n.amberTool .amber_box .amber_column.senders,\n.amberTool .amber_box .amber_column.referenced_classes,\n.amberTool .amber_box .amber_column.matches {\n	top: 20px;\n	height: auto;\n	bottom: 0;\n	width: 25%;\n}\n\n.amberTool .amber_box .amber_column.senders {\n	left: 25%\n}\n\n.amberTool .amber_box .amber_column.referenced_classes {\n        left: 50%\n}\n\n.amberTool .amber_box .amber_column.matches {\n        left: 75%\n}\n\n.amberTool .amber_box .amber_column.implementors .column_label, \n.amberTool .amber_box .amber_column.senders .column_label,\n.amberTool .amber_box .amber_column.referenced_classes .column_label,\n.amberTool .amber_box .amber_column.matches .column_label {\n	background: #dbdbdb\n}\n\n.amberTool .amber_box .amber_column.implementors .column_label:hover,\n.amberTool .amber_box .amber_column.senders .column_label:hover,\n.amberTool .amber_box .amber_column.referenced_classes .column_label:hover,\n.amberTool .amber_box .amber_column.matches .column_label:hover {\n	font-weight: bold;\n	color: #000;\n	cursor: default\n}\n\n\n.amberTool .classes .commented {\n		color: #33337F;\n}\n\n\n/* SUnit TestRunner  */\n\n.amberTool .amber_column.sunit.packages,\n.amberTool .amber_column.sunit.classes {\n	height: 100%\n}\n\n.amberTool .amber_column.sunit.classes li.all,\n.amberTool .amber_column.sunit.categories li.all {\n	background: #e3e3e3;\n	font-weight: bold\n}\n\n.amberTool .amber_column.sunit.classes li.all:hover ,\n.amberTool .amber_column.sunit.categories li.all:hover {\n	background: #0088CC;\n	font-weight: bold\n}\n\n.amberTool .sunit.status {\n	position: absolute;\n	left: 50%;\n	width: 50%;\n	outline: 1px solid #aaa;\n	background: white;\n	height: 40px\n}\n\n\n.amberTool .sunit.status.success {\n	background: #43d443;\n}\n\n\n.amberTool .sunit.status.failure {\n	background: #ecd443;\n}\n\n\n.amberTool .sunit.status.error {\n	background: #e56f3b;\n}\n\n.amberTool .progress_bar {\n	position: absolute;\n	left: 50%;\n	width: 50%;\n	top: 40px;\n	background: white;\n	outline: 1px solid #aaa;\n	min-height: 20px\n}\n\n.amberTool .progress_bar div {\n	background: #0088CC;\n	min-height: 20px;\n}\n\n.amberTool .amber_column.results.sunit {\n	left: 50%;\n	height: auto;\n        width: 50%;\n        top: 62px;\n        bottom: 0;\n}\n\n.amberTool .amber_column.sunit.results .errors {\n    color: red;\n}\n\n/*.amberTool .amber_column.sunit.results ul {padding: 0; margin: 0}*/\n\n/* Code mirror overrides */\n.CodeMirror pre {\n	line-height: 14px;\n}\n')
}),requirejs.s.contexts._.nextTick=requirejs.nextTick;